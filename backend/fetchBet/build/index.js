"use strict";
var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// node_modules/aws-sdk/lib/json/builder.js
var require_builder = __commonJS({
  "node_modules/aws-sdk/lib/json/builder.js"(exports2, module2) {
    var util = require_util();
    function JsonBuilder() {
    }
    JsonBuilder.prototype.build = function(value, shape) {
      return JSON.stringify(translate(value, shape));
    };
    function translate(value, shape) {
      if (!shape || value === void 0 || value === null)
        return void 0;
      switch (shape.type) {
        case "structure":
          return translateStructure(value, shape);
        case "map":
          return translateMap(value, shape);
        case "list":
          return translateList(value, shape);
        default:
          return translateScalar(value, shape);
      }
    }
    function translateStructure(structure, shape) {
      if (shape.isDocument) {
        return structure;
      }
      var struct = {};
      util.each(structure, function(name, value) {
        var memberShape = shape.members[name];
        if (memberShape) {
          if (memberShape.location !== "body")
            return;
          var locationName = memberShape.isLocationName ? memberShape.name : name;
          var result = translate(value, memberShape);
          if (result !== void 0)
            struct[locationName] = result;
        }
      });
      return struct;
    }
    function translateList(list, shape) {
      var out = [];
      util.arrayEach(list, function(value) {
        var result = translate(value, shape.member);
        if (result !== void 0)
          out.push(result);
      });
      return out;
    }
    function translateMap(map, shape) {
      var out = {};
      util.each(map, function(key, value) {
        var result = translate(value, shape.value);
        if (result !== void 0)
          out[key] = result;
      });
      return out;
    }
    function translateScalar(value, shape) {
      return shape.toWireFormat(value);
    }
    module2.exports = JsonBuilder;
  }
});

// node_modules/aws-sdk/lib/json/parser.js
var require_parser = __commonJS({
  "node_modules/aws-sdk/lib/json/parser.js"(exports2, module2) {
    var util = require_util();
    function JsonParser() {
    }
    JsonParser.prototype.parse = function(value, shape) {
      return translate(JSON.parse(value), shape);
    };
    function translate(value, shape) {
      if (!shape || value === void 0)
        return void 0;
      switch (shape.type) {
        case "structure":
          return translateStructure(value, shape);
        case "map":
          return translateMap(value, shape);
        case "list":
          return translateList(value, shape);
        default:
          return translateScalar(value, shape);
      }
    }
    function translateStructure(structure, shape) {
      if (structure == null)
        return void 0;
      if (shape.isDocument)
        return structure;
      var struct = {};
      var shapeMembers = shape.members;
      util.each(shapeMembers, function(name, memberShape) {
        var locationName = memberShape.isLocationName ? memberShape.name : name;
        if (Object.prototype.hasOwnProperty.call(structure, locationName)) {
          var value = structure[locationName];
          var result = translate(value, memberShape);
          if (result !== void 0)
            struct[name] = result;
        }
      });
      return struct;
    }
    function translateList(list, shape) {
      if (list == null)
        return void 0;
      var out = [];
      util.arrayEach(list, function(value) {
        var result = translate(value, shape.member);
        if (result === void 0)
          out.push(null);
        else
          out.push(result);
      });
      return out;
    }
    function translateMap(map, shape) {
      if (map == null)
        return void 0;
      var out = {};
      util.each(map, function(key, value) {
        var result = translate(value, shape.value);
        if (result === void 0)
          out[key] = null;
        else
          out[key] = result;
      });
      return out;
    }
    function translateScalar(value, shape) {
      return shape.toType(value);
    }
    module2.exports = JsonParser;
  }
});

// node_modules/aws-sdk/lib/protocol/helpers.js
var require_helpers = __commonJS({
  "node_modules/aws-sdk/lib/protocol/helpers.js"(exports2, module2) {
    var util = require_util();
    var AWS2 = require_core();
    function populateHostPrefix(request) {
      var enabled = request.service.config.hostPrefixEnabled;
      if (!enabled)
        return request;
      var operationModel = request.service.api.operations[request.operation];
      if (hasEndpointDiscover(request))
        return request;
      if (operationModel.endpoint && operationModel.endpoint.hostPrefix) {
        var hostPrefixNotation = operationModel.endpoint.hostPrefix;
        var hostPrefix = expandHostPrefix(hostPrefixNotation, request.params, operationModel.input);
        prependEndpointPrefix(request.httpRequest.endpoint, hostPrefix);
        validateHostname(request.httpRequest.endpoint.hostname);
      }
      return request;
    }
    function hasEndpointDiscover(request) {
      var api = request.service.api;
      var operationModel = api.operations[request.operation];
      var isEndpointOperation = api.endpointOperation && api.endpointOperation === util.string.lowerFirst(operationModel.name);
      return operationModel.endpointDiscoveryRequired !== "NULL" || isEndpointOperation === true;
    }
    function expandHostPrefix(hostPrefixNotation, params, shape) {
      util.each(shape.members, function(name, member) {
        if (member.hostLabel === true) {
          if (typeof params[name] !== "string" || params[name] === "") {
            throw util.error(new Error(), {
              message: "Parameter " + name + " should be a non-empty string.",
              code: "InvalidParameter"
            });
          }
          var regex = new RegExp("\\{" + name + "\\}", "g");
          hostPrefixNotation = hostPrefixNotation.replace(regex, params[name]);
        }
      });
      return hostPrefixNotation;
    }
    function prependEndpointPrefix(endpoint, prefix) {
      if (endpoint.host) {
        endpoint.host = prefix + endpoint.host;
      }
      if (endpoint.hostname) {
        endpoint.hostname = prefix + endpoint.hostname;
      }
    }
    function validateHostname(hostname) {
      var labels = hostname.split(".");
      var hostPattern = /^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\-]*[a-zA-Z0-9]$/;
      util.arrayEach(labels, function(label) {
        if (!label.length || label.length < 1 || label.length > 63) {
          throw util.error(new Error(), {
            code: "ValidationError",
            message: "Hostname label length should be between 1 to 63 characters, inclusive."
          });
        }
        if (!hostPattern.test(label)) {
          throw AWS2.util.error(
            new Error(),
            { code: "ValidationError", message: label + " is not hostname compatible." }
          );
        }
      });
    }
    module2.exports = {
      populateHostPrefix
    };
  }
});

// node_modules/aws-sdk/lib/protocol/json.js
var require_json = __commonJS({
  "node_modules/aws-sdk/lib/protocol/json.js"(exports2, module2) {
    var util = require_util();
    var JsonBuilder = require_builder();
    var JsonParser = require_parser();
    var populateHostPrefix = require_helpers().populateHostPrefix;
    function buildRequest(req) {
      var httpRequest = req.httpRequest;
      var api = req.service.api;
      var target = api.targetPrefix + "." + api.operations[req.operation].name;
      var version = api.jsonVersion || "1.0";
      var input = api.operations[req.operation].input;
      var builder = new JsonBuilder();
      if (version === 1)
        version = "1.0";
      httpRequest.body = builder.build(req.params || {}, input);
      httpRequest.headers["Content-Type"] = "application/x-amz-json-" + version;
      httpRequest.headers["X-Amz-Target"] = target;
      populateHostPrefix(req);
    }
    function extractError(resp) {
      var error = {};
      var httpResponse = resp.httpResponse;
      error.code = httpResponse.headers["x-amzn-errortype"] || "UnknownError";
      if (typeof error.code === "string") {
        error.code = error.code.split(":")[0];
      }
      if (httpResponse.body.length > 0) {
        try {
          var e = JSON.parse(httpResponse.body.toString());
          var code = e.__type || e.code || e.Code;
          if (code) {
            error.code = code.split("#").pop();
          }
          if (error.code === "RequestEntityTooLarge") {
            error.message = "Request body must be less than 1 MB";
          } else {
            error.message = e.message || e.Message || null;
          }
        } catch (e2) {
          error.statusCode = httpResponse.statusCode;
          error.message = httpResponse.statusMessage;
        }
      } else {
        error.statusCode = httpResponse.statusCode;
        error.message = httpResponse.statusCode.toString();
      }
      resp.error = util.error(new Error(), error);
    }
    function extractData(resp) {
      var body = resp.httpResponse.body.toString() || "{}";
      if (resp.request.service.config.convertResponseTypes === false) {
        resp.data = JSON.parse(body);
      } else {
        var operation = resp.request.service.api.operations[resp.request.operation];
        var shape = operation.output || {};
        var parser = new JsonParser();
        resp.data = parser.parse(body, shape);
      }
    }
    module2.exports = {
      buildRequest,
      extractError,
      extractData
    };
  }
});

// node_modules/aws-sdk/lib/query/query_param_serializer.js
var require_query_param_serializer = __commonJS({
  "node_modules/aws-sdk/lib/query/query_param_serializer.js"(exports2, module2) {
    var util = require_util();
    function QueryParamSerializer() {
    }
    QueryParamSerializer.prototype.serialize = function(params, shape, fn) {
      serializeStructure("", params, shape, fn);
    };
    function ucfirst(shape) {
      if (shape.isQueryName || shape.api.protocol !== "ec2") {
        return shape.name;
      } else {
        return shape.name[0].toUpperCase() + shape.name.substr(1);
      }
    }
    function serializeStructure(prefix, struct, rules, fn) {
      util.each(rules.members, function(name, member) {
        var value = struct[name];
        if (value === null || value === void 0)
          return;
        var memberName = ucfirst(member);
        memberName = prefix ? prefix + "." + memberName : memberName;
        serializeMember(memberName, value, member, fn);
      });
    }
    function serializeMap(name, map, rules, fn) {
      var i = 1;
      util.each(map, function(key, value) {
        var prefix = rules.flattened ? "." : ".entry.";
        var position = prefix + i++ + ".";
        var keyName = position + (rules.key.name || "key");
        var valueName = position + (rules.value.name || "value");
        serializeMember(name + keyName, key, rules.key, fn);
        serializeMember(name + valueName, value, rules.value, fn);
      });
    }
    function serializeList(name, list, rules, fn) {
      var memberRules = rules.member || {};
      if (list.length === 0) {
        fn.call(this, name, null);
        return;
      }
      util.arrayEach(list, function(v, n) {
        var suffix = "." + (n + 1);
        if (rules.api.protocol === "ec2") {
          suffix = suffix + "";
        } else if (rules.flattened) {
          if (memberRules.name) {
            var parts = name.split(".");
            parts.pop();
            parts.push(ucfirst(memberRules));
            name = parts.join(".");
          }
        } else {
          suffix = "." + (memberRules.name ? memberRules.name : "member") + suffix;
        }
        serializeMember(name + suffix, v, memberRules, fn);
      });
    }
    function serializeMember(name, value, rules, fn) {
      if (value === null || value === void 0)
        return;
      if (rules.type === "structure") {
        serializeStructure(name, value, rules, fn);
      } else if (rules.type === "list") {
        serializeList(name, value, rules, fn);
      } else if (rules.type === "map") {
        serializeMap(name, value, rules, fn);
      } else {
        fn(name, rules.toWireFormat(value).toString());
      }
    }
    module2.exports = QueryParamSerializer;
  }
});

// node_modules/aws-sdk/lib/model/collection.js
var require_collection = __commonJS({
  "node_modules/aws-sdk/lib/model/collection.js"(exports2, module2) {
    var memoizedProperty = require_util().memoizedProperty;
    function memoize(name, value, factory, nameTr) {
      memoizedProperty(this, nameTr(name), function() {
        return factory(name, value);
      });
    }
    function Collection(iterable, options, factory, nameTr, callback) {
      nameTr = nameTr || String;
      var self = this;
      for (var id in iterable) {
        if (Object.prototype.hasOwnProperty.call(iterable, id)) {
          memoize.call(self, id, iterable[id], factory, nameTr);
          if (callback)
            callback(id, iterable[id]);
        }
      }
    }
    module2.exports = Collection;
  }
});

// node_modules/aws-sdk/lib/model/shape.js
var require_shape = __commonJS({
  "node_modules/aws-sdk/lib/model/shape.js"(exports2, module2) {
    var Collection = require_collection();
    var util = require_util();
    function property(obj, name, value) {
      if (value !== null && value !== void 0) {
        util.property.apply(this, arguments);
      }
    }
    function memoizedProperty(obj, name) {
      if (!obj.constructor.prototype[name]) {
        util.memoizedProperty.apply(this, arguments);
      }
    }
    function Shape(shape, options, memberName) {
      options = options || {};
      property(this, "shape", shape.shape);
      property(this, "api", options.api, false);
      property(this, "type", shape.type);
      property(this, "enum", shape.enum);
      property(this, "min", shape.min);
      property(this, "max", shape.max);
      property(this, "pattern", shape.pattern);
      property(this, "location", shape.location || this.location || "body");
      property(this, "name", this.name || shape.xmlName || shape.queryName || shape.locationName || memberName);
      property(this, "isStreaming", shape.streaming || this.isStreaming || false);
      property(this, "requiresLength", shape.requiresLength, false);
      property(this, "isComposite", shape.isComposite || false);
      property(this, "isShape", true, false);
      property(this, "isQueryName", Boolean(shape.queryName), false);
      property(this, "isLocationName", Boolean(shape.locationName), false);
      property(this, "isIdempotent", shape.idempotencyToken === true);
      property(this, "isJsonValue", shape.jsonvalue === true);
      property(this, "isSensitive", shape.sensitive === true || shape.prototype && shape.prototype.sensitive === true);
      property(this, "isEventStream", Boolean(shape.eventstream), false);
      property(this, "isEvent", Boolean(shape.event), false);
      property(this, "isEventPayload", Boolean(shape.eventpayload), false);
      property(this, "isEventHeader", Boolean(shape.eventheader), false);
      property(this, "isTimestampFormatSet", Boolean(shape.timestampFormat) || shape.prototype && shape.prototype.isTimestampFormatSet === true, false);
      property(this, "endpointDiscoveryId", Boolean(shape.endpointdiscoveryid), false);
      property(this, "hostLabel", Boolean(shape.hostLabel), false);
      if (options.documentation) {
        property(this, "documentation", shape.documentation);
        property(this, "documentationUrl", shape.documentationUrl);
      }
      if (shape.xmlAttribute) {
        property(this, "isXmlAttribute", shape.xmlAttribute || false);
      }
      property(this, "defaultValue", null);
      this.toWireFormat = function(value) {
        if (value === null || value === void 0)
          return "";
        return value;
      };
      this.toType = function(value) {
        return value;
      };
    }
    Shape.normalizedTypes = {
      character: "string",
      double: "float",
      long: "integer",
      short: "integer",
      biginteger: "integer",
      bigdecimal: "float",
      blob: "binary"
    };
    Shape.types = {
      "structure": StructureShape,
      "list": ListShape,
      "map": MapShape,
      "boolean": BooleanShape,
      "timestamp": TimestampShape,
      "float": FloatShape,
      "integer": IntegerShape,
      "string": StringShape,
      "base64": Base64Shape,
      "binary": BinaryShape
    };
    Shape.resolve = function resolve(shape, options) {
      if (shape.shape) {
        var refShape = options.api.shapes[shape.shape];
        if (!refShape) {
          throw new Error("Cannot find shape reference: " + shape.shape);
        }
        return refShape;
      } else {
        return null;
      }
    };
    Shape.create = function create(shape, options, memberName) {
      if (shape.isShape)
        return shape;
      var refShape = Shape.resolve(shape, options);
      if (refShape) {
        var filteredKeys = Object.keys(shape);
        if (!options.documentation) {
          filteredKeys = filteredKeys.filter(function(name) {
            return !name.match(/documentation/);
          });
        }
        var InlineShape = function() {
          refShape.constructor.call(this, shape, options, memberName);
        };
        InlineShape.prototype = refShape;
        return new InlineShape();
      } else {
        if (!shape.type) {
          if (shape.members)
            shape.type = "structure";
          else if (shape.member)
            shape.type = "list";
          else if (shape.key)
            shape.type = "map";
          else
            shape.type = "string";
        }
        var origType = shape.type;
        if (Shape.normalizedTypes[shape.type]) {
          shape.type = Shape.normalizedTypes[shape.type];
        }
        if (Shape.types[shape.type]) {
          return new Shape.types[shape.type](shape, options, memberName);
        } else {
          throw new Error("Unrecognized shape type: " + origType);
        }
      }
    };
    function CompositeShape(shape) {
      Shape.apply(this, arguments);
      property(this, "isComposite", true);
      if (shape.flattened) {
        property(this, "flattened", shape.flattened || false);
      }
    }
    function StructureShape(shape, options) {
      var self = this;
      var requiredMap = null, firstInit = !this.isShape;
      CompositeShape.apply(this, arguments);
      if (firstInit) {
        property(this, "defaultValue", function() {
          return {};
        });
        property(this, "members", {});
        property(this, "memberNames", []);
        property(this, "required", []);
        property(this, "isRequired", function() {
          return false;
        });
        property(this, "isDocument", Boolean(shape.document));
      }
      if (shape.members) {
        property(this, "members", new Collection(shape.members, options, function(name, member) {
          return Shape.create(member, options, name);
        }));
        memoizedProperty(this, "memberNames", function() {
          return shape.xmlOrder || Object.keys(shape.members);
        });
        if (shape.event) {
          memoizedProperty(this, "eventPayloadMemberName", function() {
            var members = self.members;
            var memberNames = self.memberNames;
            for (var i = 0, iLen = memberNames.length; i < iLen; i++) {
              if (members[memberNames[i]].isEventPayload) {
                return memberNames[i];
              }
            }
          });
          memoizedProperty(this, "eventHeaderMemberNames", function() {
            var members = self.members;
            var memberNames = self.memberNames;
            var eventHeaderMemberNames = [];
            for (var i = 0, iLen = memberNames.length; i < iLen; i++) {
              if (members[memberNames[i]].isEventHeader) {
                eventHeaderMemberNames.push(memberNames[i]);
              }
            }
            return eventHeaderMemberNames;
          });
        }
      }
      if (shape.required) {
        property(this, "required", shape.required);
        property(this, "isRequired", function(name) {
          if (!requiredMap) {
            requiredMap = {};
            for (var i = 0; i < shape.required.length; i++) {
              requiredMap[shape.required[i]] = true;
            }
          }
          return requiredMap[name];
        }, false, true);
      }
      property(this, "resultWrapper", shape.resultWrapper || null);
      if (shape.payload) {
        property(this, "payload", shape.payload);
      }
      if (typeof shape.xmlNamespace === "string") {
        property(this, "xmlNamespaceUri", shape.xmlNamespace);
      } else if (typeof shape.xmlNamespace === "object") {
        property(this, "xmlNamespacePrefix", shape.xmlNamespace.prefix);
        property(this, "xmlNamespaceUri", shape.xmlNamespace.uri);
      }
    }
    function ListShape(shape, options) {
      var self = this, firstInit = !this.isShape;
      CompositeShape.apply(this, arguments);
      if (firstInit) {
        property(this, "defaultValue", function() {
          return [];
        });
      }
      if (shape.member) {
        memoizedProperty(this, "member", function() {
          return Shape.create(shape.member, options);
        });
      }
      if (this.flattened) {
        var oldName = this.name;
        memoizedProperty(this, "name", function() {
          return self.member.name || oldName;
        });
      }
    }
    function MapShape(shape, options) {
      var firstInit = !this.isShape;
      CompositeShape.apply(this, arguments);
      if (firstInit) {
        property(this, "defaultValue", function() {
          return {};
        });
        property(this, "key", Shape.create({ type: "string" }, options));
        property(this, "value", Shape.create({ type: "string" }, options));
      }
      if (shape.key) {
        memoizedProperty(this, "key", function() {
          return Shape.create(shape.key, options);
        });
      }
      if (shape.value) {
        memoizedProperty(this, "value", function() {
          return Shape.create(shape.value, options);
        });
      }
    }
    function TimestampShape(shape) {
      var self = this;
      Shape.apply(this, arguments);
      if (shape.timestampFormat) {
        property(this, "timestampFormat", shape.timestampFormat);
      } else if (self.isTimestampFormatSet && this.timestampFormat) {
        property(this, "timestampFormat", this.timestampFormat);
      } else if (this.location === "header") {
        property(this, "timestampFormat", "rfc822");
      } else if (this.location === "querystring") {
        property(this, "timestampFormat", "iso8601");
      } else if (this.api) {
        switch (this.api.protocol) {
          case "json":
          case "rest-json":
            property(this, "timestampFormat", "unixTimestamp");
            break;
          case "rest-xml":
          case "query":
          case "ec2":
            property(this, "timestampFormat", "iso8601");
            break;
        }
      }
      this.toType = function(value) {
        if (value === null || value === void 0)
          return null;
        if (typeof value.toUTCString === "function")
          return value;
        return typeof value === "string" || typeof value === "number" ? util.date.parseTimestamp(value) : null;
      };
      this.toWireFormat = function(value) {
        return util.date.format(value, self.timestampFormat);
      };
    }
    function StringShape() {
      Shape.apply(this, arguments);
      var nullLessProtocols = ["rest-xml", "query", "ec2"];
      this.toType = function(value) {
        value = this.api && nullLessProtocols.indexOf(this.api.protocol) > -1 ? value || "" : value;
        if (this.isJsonValue) {
          return JSON.parse(value);
        }
        return value && typeof value.toString === "function" ? value.toString() : value;
      };
      this.toWireFormat = function(value) {
        return this.isJsonValue ? JSON.stringify(value) : value;
      };
    }
    function FloatShape() {
      Shape.apply(this, arguments);
      this.toType = function(value) {
        if (value === null || value === void 0)
          return null;
        return parseFloat(value);
      };
      this.toWireFormat = this.toType;
    }
    function IntegerShape() {
      Shape.apply(this, arguments);
      this.toType = function(value) {
        if (value === null || value === void 0)
          return null;
        return parseInt(value, 10);
      };
      this.toWireFormat = this.toType;
    }
    function BinaryShape() {
      Shape.apply(this, arguments);
      this.toType = function(value) {
        var buf = util.base64.decode(value);
        if (this.isSensitive && util.isNode() && typeof util.Buffer.alloc === "function") {
          var secureBuf = util.Buffer.alloc(buf.length, buf);
          buf.fill(0);
          buf = secureBuf;
        }
        return buf;
      };
      this.toWireFormat = util.base64.encode;
    }
    function Base64Shape() {
      BinaryShape.apply(this, arguments);
    }
    function BooleanShape() {
      Shape.apply(this, arguments);
      this.toType = function(value) {
        if (typeof value === "boolean")
          return value;
        if (value === null || value === void 0)
          return null;
        return value === "true";
      };
    }
    Shape.shapes = {
      StructureShape,
      ListShape,
      MapShape,
      StringShape,
      BooleanShape,
      Base64Shape
    };
    module2.exports = Shape;
  }
});

// node_modules/aws-sdk/lib/protocol/query.js
var require_query = __commonJS({
  "node_modules/aws-sdk/lib/protocol/query.js"(exports2, module2) {
    var AWS2 = require_core();
    var util = require_util();
    var QueryParamSerializer = require_query_param_serializer();
    var Shape = require_shape();
    var populateHostPrefix = require_helpers().populateHostPrefix;
    function buildRequest(req) {
      var operation = req.service.api.operations[req.operation];
      var httpRequest = req.httpRequest;
      httpRequest.headers["Content-Type"] = "application/x-www-form-urlencoded; charset=utf-8";
      httpRequest.params = {
        Version: req.service.api.apiVersion,
        Action: operation.name
      };
      var builder = new QueryParamSerializer();
      builder.serialize(req.params, operation.input, function(name, value) {
        httpRequest.params[name] = value;
      });
      httpRequest.body = util.queryParamsToString(httpRequest.params);
      populateHostPrefix(req);
    }
    function extractError(resp) {
      var data, body = resp.httpResponse.body.toString();
      if (body.match("<UnknownOperationException")) {
        data = {
          Code: "UnknownOperation",
          Message: "Unknown operation " + resp.request.operation
        };
      } else {
        try {
          data = new AWS2.XML.Parser().parse(body);
        } catch (e) {
          data = {
            Code: resp.httpResponse.statusCode,
            Message: resp.httpResponse.statusMessage
          };
        }
      }
      if (data.requestId && !resp.requestId)
        resp.requestId = data.requestId;
      if (data.Errors)
        data = data.Errors;
      if (data.Error)
        data = data.Error;
      if (data.Code) {
        resp.error = util.error(new Error(), {
          code: data.Code,
          message: data.Message
        });
      } else {
        resp.error = util.error(new Error(), {
          code: resp.httpResponse.statusCode,
          message: null
        });
      }
    }
    function extractData(resp) {
      var req = resp.request;
      var operation = req.service.api.operations[req.operation];
      var shape = operation.output || {};
      var origRules = shape;
      if (origRules.resultWrapper) {
        var tmp = Shape.create({ type: "structure" });
        tmp.members[origRules.resultWrapper] = shape;
        tmp.memberNames = [origRules.resultWrapper];
        util.property(shape, "name", shape.resultWrapper);
        shape = tmp;
      }
      var parser = new AWS2.XML.Parser();
      if (shape && shape.members && !shape.members._XAMZRequestId) {
        var requestIdShape = Shape.create(
          { type: "string" },
          { api: { protocol: "query" } },
          "requestId"
        );
        shape.members._XAMZRequestId = requestIdShape;
      }
      var data = parser.parse(resp.httpResponse.body.toString(), shape);
      resp.requestId = data._XAMZRequestId || data.requestId;
      if (data._XAMZRequestId)
        delete data._XAMZRequestId;
      if (origRules.resultWrapper) {
        if (data[origRules.resultWrapper]) {
          util.update(data, data[origRules.resultWrapper]);
          delete data[origRules.resultWrapper];
        }
      }
      resp.data = data;
    }
    module2.exports = {
      buildRequest,
      extractError,
      extractData
    };
  }
});

// node_modules/aws-sdk/lib/protocol/rest.js
var require_rest = __commonJS({
  "node_modules/aws-sdk/lib/protocol/rest.js"(exports2, module2) {
    var util = require_util();
    var populateHostPrefix = require_helpers().populateHostPrefix;
    function populateMethod(req) {
      req.httpRequest.method = req.service.api.operations[req.operation].httpMethod;
    }
    function generateURI(endpointPath, operationPath, input, params) {
      var uri = [endpointPath, operationPath].join("/");
      uri = uri.replace(/\/+/g, "/");
      var queryString = {}, queryStringSet = false;
      util.each(input.members, function(name, member) {
        var paramValue = params[name];
        if (paramValue === null || paramValue === void 0)
          return;
        if (member.location === "uri") {
          var regex = new RegExp("\\{" + member.name + "(\\+)?\\}");
          uri = uri.replace(regex, function(_, plus) {
            var fn = plus ? util.uriEscapePath : util.uriEscape;
            return fn(String(paramValue));
          });
        } else if (member.location === "querystring") {
          queryStringSet = true;
          if (member.type === "list") {
            queryString[member.name] = paramValue.map(function(val) {
              return util.uriEscape(member.member.toWireFormat(val).toString());
            });
          } else if (member.type === "map") {
            util.each(paramValue, function(key, value) {
              if (Array.isArray(value)) {
                queryString[key] = value.map(function(val) {
                  return util.uriEscape(String(val));
                });
              } else {
                queryString[key] = util.uriEscape(String(value));
              }
            });
          } else {
            queryString[member.name] = util.uriEscape(member.toWireFormat(paramValue).toString());
          }
        }
      });
      if (queryStringSet) {
        uri += uri.indexOf("?") >= 0 ? "&" : "?";
        var parts = [];
        util.arrayEach(Object.keys(queryString).sort(), function(key) {
          if (!Array.isArray(queryString[key])) {
            queryString[key] = [queryString[key]];
          }
          for (var i = 0; i < queryString[key].length; i++) {
            parts.push(util.uriEscape(String(key)) + "=" + queryString[key][i]);
          }
        });
        uri += parts.join("&");
      }
      return uri;
    }
    function populateURI(req) {
      var operation = req.service.api.operations[req.operation];
      var input = operation.input;
      var uri = generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);
      req.httpRequest.path = uri;
    }
    function populateHeaders(req) {
      var operation = req.service.api.operations[req.operation];
      util.each(operation.input.members, function(name, member) {
        var value = req.params[name];
        if (value === null || value === void 0)
          return;
        if (member.location === "headers" && member.type === "map") {
          util.each(value, function(key, memberValue) {
            req.httpRequest.headers[member.name + key] = memberValue;
          });
        } else if (member.location === "header") {
          value = member.toWireFormat(value).toString();
          if (member.isJsonValue) {
            value = util.base64.encode(value);
          }
          req.httpRequest.headers[member.name] = value;
        }
      });
    }
    function buildRequest(req) {
      populateMethod(req);
      populateURI(req);
      populateHeaders(req);
      populateHostPrefix(req);
    }
    function extractError() {
    }
    function extractData(resp) {
      var req = resp.request;
      var data = {};
      var r = resp.httpResponse;
      var operation = req.service.api.operations[req.operation];
      var output = operation.output;
      var headers = {};
      util.each(r.headers, function(k, v) {
        headers[k.toLowerCase()] = v;
      });
      util.each(output.members, function(name, member) {
        var header = (member.name || name).toLowerCase();
        if (member.location === "headers" && member.type === "map") {
          data[name] = {};
          var location = member.isLocationName ? member.name : "";
          var pattern = new RegExp("^" + location + "(.+)", "i");
          util.each(r.headers, function(k, v) {
            var result = k.match(pattern);
            if (result !== null) {
              data[name][result[1]] = v;
            }
          });
        } else if (member.location === "header") {
          if (headers[header] !== void 0) {
            var value = member.isJsonValue ? util.base64.decode(headers[header]) : headers[header];
            data[name] = member.toType(value);
          }
        } else if (member.location === "statusCode") {
          data[name] = parseInt(r.statusCode, 10);
        }
      });
      resp.data = data;
    }
    module2.exports = {
      buildRequest,
      extractError,
      extractData,
      generateURI
    };
  }
});

// node_modules/aws-sdk/lib/protocol/rest_json.js
var require_rest_json = __commonJS({
  "node_modules/aws-sdk/lib/protocol/rest_json.js"(exports2, module2) {
    var util = require_util();
    var Rest = require_rest();
    var Json = require_json();
    var JsonBuilder = require_builder();
    var JsonParser = require_parser();
    function populateBody(req) {
      var builder = new JsonBuilder();
      var input = req.service.api.operations[req.operation].input;
      if (input.payload) {
        var params = {};
        var payloadShape = input.members[input.payload];
        params = req.params[input.payload];
        if (payloadShape.type === "structure") {
          req.httpRequest.body = builder.build(params || {}, payloadShape);
          applyContentTypeHeader(req);
        } else if (params !== void 0) {
          req.httpRequest.body = params;
          if (payloadShape.type === "binary" || payloadShape.isStreaming) {
            applyContentTypeHeader(req, true);
          }
        }
      } else {
        req.httpRequest.body = builder.build(req.params, input);
        applyContentTypeHeader(req);
      }
    }
    function applyContentTypeHeader(req, isBinary) {
      if (!req.httpRequest.headers["Content-Type"]) {
        var type = isBinary ? "binary/octet-stream" : "application/json";
        req.httpRequest.headers["Content-Type"] = type;
      }
    }
    function buildRequest(req) {
      Rest.buildRequest(req);
      if (["GET", "HEAD", "DELETE"].indexOf(req.httpRequest.method) < 0) {
        populateBody(req);
      }
    }
    function extractError(resp) {
      Json.extractError(resp);
    }
    function extractData(resp) {
      Rest.extractData(resp);
      var req = resp.request;
      var operation = req.service.api.operations[req.operation];
      var rules = req.service.api.operations[req.operation].output || {};
      var parser;
      var hasEventOutput = operation.hasEventOutput;
      if (rules.payload) {
        var payloadMember = rules.members[rules.payload];
        var body = resp.httpResponse.body;
        if (payloadMember.isEventStream) {
          parser = new JsonParser();
          resp.data[payload] = util.createEventStream(
            AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : body,
            parser,
            payloadMember
          );
        } else if (payloadMember.type === "structure" || payloadMember.type === "list") {
          var parser = new JsonParser();
          resp.data[rules.payload] = parser.parse(body, payloadMember);
        } else if (payloadMember.type === "binary" || payloadMember.isStreaming) {
          resp.data[rules.payload] = body;
        } else {
          resp.data[rules.payload] = payloadMember.toType(body);
        }
      } else {
        var data = resp.data;
        Json.extractData(resp);
        resp.data = util.merge(data, resp.data);
      }
    }
    module2.exports = {
      buildRequest,
      extractError,
      extractData
    };
  }
});

// node_modules/aws-sdk/lib/protocol/rest_xml.js
var require_rest_xml = __commonJS({
  "node_modules/aws-sdk/lib/protocol/rest_xml.js"(exports2, module2) {
    var AWS2 = require_core();
    var util = require_util();
    var Rest = require_rest();
    function populateBody(req) {
      var input = req.service.api.operations[req.operation].input;
      var builder = new AWS2.XML.Builder();
      var params = req.params;
      var payload2 = input.payload;
      if (payload2) {
        var payloadMember = input.members[payload2];
        params = params[payload2];
        if (params === void 0)
          return;
        if (payloadMember.type === "structure") {
          var rootElement = payloadMember.name;
          req.httpRequest.body = builder.toXML(params, payloadMember, rootElement, true);
        } else {
          req.httpRequest.body = params;
        }
      } else {
        req.httpRequest.body = builder.toXML(params, input, input.name || input.shape || util.string.upperFirst(req.operation) + "Request");
      }
    }
    function buildRequest(req) {
      Rest.buildRequest(req);
      if (["GET", "HEAD"].indexOf(req.httpRequest.method) < 0) {
        populateBody(req);
      }
    }
    function extractError(resp) {
      Rest.extractError(resp);
      var data;
      try {
        data = new AWS2.XML.Parser().parse(resp.httpResponse.body.toString());
      } catch (e) {
        data = {
          Code: resp.httpResponse.statusCode,
          Message: resp.httpResponse.statusMessage
        };
      }
      if (data.Errors)
        data = data.Errors;
      if (data.Error)
        data = data.Error;
      if (data.Code) {
        resp.error = util.error(new Error(), {
          code: data.Code,
          message: data.Message
        });
      } else {
        resp.error = util.error(new Error(), {
          code: resp.httpResponse.statusCode,
          message: null
        });
      }
    }
    function extractData(resp) {
      Rest.extractData(resp);
      var parser;
      var req = resp.request;
      var body = resp.httpResponse.body;
      var operation = req.service.api.operations[req.operation];
      var output = operation.output;
      var hasEventOutput = operation.hasEventOutput;
      var payload2 = output.payload;
      if (payload2) {
        var payloadMember = output.members[payload2];
        if (payloadMember.isEventStream) {
          parser = new AWS2.XML.Parser();
          resp.data[payload2] = util.createEventStream(
            AWS2.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : resp.httpResponse.body,
            parser,
            payloadMember
          );
        } else if (payloadMember.type === "structure") {
          parser = new AWS2.XML.Parser();
          resp.data[payload2] = parser.parse(body.toString(), payloadMember);
        } else if (payloadMember.type === "binary" || payloadMember.isStreaming) {
          resp.data[payload2] = body;
        } else {
          resp.data[payload2] = payloadMember.toType(body);
        }
      } else if (body.length > 0) {
        parser = new AWS2.XML.Parser();
        var data = parser.parse(body.toString(), output);
        util.update(resp.data, data);
      }
    }
    module2.exports = {
      buildRequest,
      extractError,
      extractData
    };
  }
});

// node_modules/aws-sdk/lib/xml/escape-attribute.js
var require_escape_attribute = __commonJS({
  "node_modules/aws-sdk/lib/xml/escape-attribute.js"(exports2, module2) {
    function escapeAttribute(value) {
      return value.replace(/&/g, "&amp;").replace(/'/g, "&apos;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;");
    }
    module2.exports = {
      escapeAttribute
    };
  }
});

// node_modules/aws-sdk/lib/xml/xml-node.js
var require_xml_node = __commonJS({
  "node_modules/aws-sdk/lib/xml/xml-node.js"(exports2, module2) {
    var escapeAttribute = require_escape_attribute().escapeAttribute;
    function XmlNode(name, children) {
      if (children === void 0) {
        children = [];
      }
      this.name = name;
      this.children = children;
      this.attributes = {};
    }
    XmlNode.prototype.addAttribute = function(name, value) {
      this.attributes[name] = value;
      return this;
    };
    XmlNode.prototype.addChildNode = function(child) {
      this.children.push(child);
      return this;
    };
    XmlNode.prototype.removeAttribute = function(name) {
      delete this.attributes[name];
      return this;
    };
    XmlNode.prototype.toString = function() {
      var hasChildren = Boolean(this.children.length);
      var xmlText = "<" + this.name;
      var attributes = this.attributes;
      for (var i = 0, attributeNames = Object.keys(attributes); i < attributeNames.length; i++) {
        var attributeName = attributeNames[i];
        var attribute = attributes[attributeName];
        if (typeof attribute !== "undefined" && attribute !== null) {
          xmlText += " " + attributeName + '="' + escapeAttribute("" + attribute) + '"';
        }
      }
      return xmlText += !hasChildren ? "/>" : ">" + this.children.map(function(c) {
        return c.toString();
      }).join("") + "</" + this.name + ">";
    };
    module2.exports = {
      XmlNode
    };
  }
});

// node_modules/aws-sdk/lib/xml/escape-element.js
var require_escape_element = __commonJS({
  "node_modules/aws-sdk/lib/xml/escape-element.js"(exports2, module2) {
    function escapeElement(value) {
      return value.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r/g, "&#x0D;").replace(/\n/g, "&#x0A;").replace(/\u0085/g, "&#x85;").replace(/\u2028/, "&#x2028;");
    }
    module2.exports = {
      escapeElement
    };
  }
});

// node_modules/aws-sdk/lib/xml/xml-text.js
var require_xml_text = __commonJS({
  "node_modules/aws-sdk/lib/xml/xml-text.js"(exports2, module2) {
    var escapeElement = require_escape_element().escapeElement;
    function XmlText(value) {
      this.value = value;
    }
    XmlText.prototype.toString = function() {
      return escapeElement("" + this.value);
    };
    module2.exports = {
      XmlText
    };
  }
});

// node_modules/aws-sdk/lib/xml/builder.js
var require_builder2 = __commonJS({
  "node_modules/aws-sdk/lib/xml/builder.js"(exports2, module2) {
    var util = require_util();
    var XmlNode = require_xml_node().XmlNode;
    var XmlText = require_xml_text().XmlText;
    function XmlBuilder() {
    }
    XmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {
      var xml = new XmlNode(rootElement);
      applyNamespaces(xml, shape, true);
      serialize(xml, params, shape);
      return xml.children.length > 0 || noEmpty ? xml.toString() : "";
    };
    function serialize(xml, value, shape) {
      switch (shape.type) {
        case "structure":
          return serializeStructure(xml, value, shape);
        case "map":
          return serializeMap(xml, value, shape);
        case "list":
          return serializeList(xml, value, shape);
        default:
          return serializeScalar(xml, value, shape);
      }
    }
    function serializeStructure(xml, params, shape) {
      util.arrayEach(shape.memberNames, function(memberName) {
        var memberShape = shape.members[memberName];
        if (memberShape.location !== "body")
          return;
        var value = params[memberName];
        var name = memberShape.name;
        if (value !== void 0 && value !== null) {
          if (memberShape.isXmlAttribute) {
            xml.addAttribute(name, value);
          } else if (memberShape.flattened) {
            serialize(xml, value, memberShape);
          } else {
            var element = new XmlNode(name);
            xml.addChildNode(element);
            applyNamespaces(element, memberShape);
            serialize(element, value, memberShape);
          }
        }
      });
    }
    function serializeMap(xml, map, shape) {
      var xmlKey = shape.key.name || "key";
      var xmlValue = shape.value.name || "value";
      util.each(map, function(key, value) {
        var entry = new XmlNode(shape.flattened ? shape.name : "entry");
        xml.addChildNode(entry);
        var entryKey = new XmlNode(xmlKey);
        var entryValue = new XmlNode(xmlValue);
        entry.addChildNode(entryKey);
        entry.addChildNode(entryValue);
        serialize(entryKey, key, shape.key);
        serialize(entryValue, value, shape.value);
      });
    }
    function serializeList(xml, list, shape) {
      if (shape.flattened) {
        util.arrayEach(list, function(value) {
          var name = shape.member.name || shape.name;
          var element = new XmlNode(name);
          xml.addChildNode(element);
          serialize(element, value, shape.member);
        });
      } else {
        util.arrayEach(list, function(value) {
          var name = shape.member.name || "member";
          var element = new XmlNode(name);
          xml.addChildNode(element);
          serialize(element, value, shape.member);
        });
      }
    }
    function serializeScalar(xml, value, shape) {
      xml.addChildNode(
        new XmlText(shape.toWireFormat(value))
      );
    }
    function applyNamespaces(xml, shape, isRoot) {
      var uri, prefix = "xmlns";
      if (shape.xmlNamespaceUri) {
        uri = shape.xmlNamespaceUri;
        if (shape.xmlNamespacePrefix)
          prefix += ":" + shape.xmlNamespacePrefix;
      } else if (isRoot && shape.api.xmlNamespaceUri) {
        uri = shape.api.xmlNamespaceUri;
      }
      if (uri)
        xml.addAttribute(prefix, uri);
    }
    module2.exports = XmlBuilder;
  }
});

// node_modules/aws-sdk/lib/model/operation.js
var require_operation = __commonJS({
  "node_modules/aws-sdk/lib/model/operation.js"(exports2, module2) {
    var Shape = require_shape();
    var util = require_util();
    var property = util.property;
    var memoizedProperty = util.memoizedProperty;
    function Operation(name, operation, options) {
      var self = this;
      options = options || {};
      property(this, "name", operation.name || name);
      property(this, "api", options.api, false);
      operation.http = operation.http || {};
      property(this, "endpoint", operation.endpoint);
      property(this, "httpMethod", operation.http.method || "POST");
      property(this, "httpPath", operation.http.requestUri || "/");
      property(this, "authtype", operation.authtype || "");
      property(
        this,
        "endpointDiscoveryRequired",
        operation.endpointdiscovery ? operation.endpointdiscovery.required ? "REQUIRED" : "OPTIONAL" : "NULL"
      );
      var httpChecksumRequired = operation.httpChecksumRequired || operation.httpChecksum && operation.httpChecksum.requestChecksumRequired;
      property(this, "httpChecksumRequired", httpChecksumRequired, false);
      memoizedProperty(this, "input", function() {
        if (!operation.input) {
          return new Shape.create({ type: "structure" }, options);
        }
        return Shape.create(operation.input, options);
      });
      memoizedProperty(this, "output", function() {
        if (!operation.output) {
          return new Shape.create({ type: "structure" }, options);
        }
        return Shape.create(operation.output, options);
      });
      memoizedProperty(this, "errors", function() {
        var list = [];
        if (!operation.errors)
          return null;
        for (var i = 0; i < operation.errors.length; i++) {
          list.push(Shape.create(operation.errors[i], options));
        }
        return list;
      });
      memoizedProperty(this, "paginator", function() {
        return options.api.paginators[name];
      });
      if (options.documentation) {
        property(this, "documentation", operation.documentation);
        property(this, "documentationUrl", operation.documentationUrl);
      }
      memoizedProperty(this, "idempotentMembers", function() {
        var idempotentMembers = [];
        var input = self.input;
        var members = input.members;
        if (!input.members) {
          return idempotentMembers;
        }
        for (var name2 in members) {
          if (!members.hasOwnProperty(name2)) {
            continue;
          }
          if (members[name2].isIdempotent === true) {
            idempotentMembers.push(name2);
          }
        }
        return idempotentMembers;
      });
      memoizedProperty(this, "hasEventOutput", function() {
        var output = self.output;
        return hasEventStream(output);
      });
    }
    function hasEventStream(topLevelShape) {
      var members = topLevelShape.members;
      var payload2 = topLevelShape.payload;
      if (!topLevelShape.members) {
        return false;
      }
      if (payload2) {
        var payloadMember = members[payload2];
        return payloadMember.isEventStream;
      }
      for (var name in members) {
        if (!members.hasOwnProperty(name)) {
          if (members[name].isEventStream === true) {
            return true;
          }
        }
      }
      return false;
    }
    module2.exports = Operation;
  }
});

// node_modules/aws-sdk/lib/model/paginator.js
var require_paginator = __commonJS({
  "node_modules/aws-sdk/lib/model/paginator.js"(exports2, module2) {
    var property = require_util().property;
    function Paginator(name, paginator) {
      property(this, "inputToken", paginator.input_token);
      property(this, "limitKey", paginator.limit_key);
      property(this, "moreResults", paginator.more_results);
      property(this, "outputToken", paginator.output_token);
      property(this, "resultKey", paginator.result_key);
    }
    module2.exports = Paginator;
  }
});

// node_modules/aws-sdk/lib/model/resource_waiter.js
var require_resource_waiter = __commonJS({
  "node_modules/aws-sdk/lib/model/resource_waiter.js"(exports2, module2) {
    var util = require_util();
    var property = util.property;
    function ResourceWaiter(name, waiter, options) {
      options = options || {};
      property(this, "name", name);
      property(this, "api", options.api, false);
      if (waiter.operation) {
        property(this, "operation", util.string.lowerFirst(waiter.operation));
      }
      var self = this;
      var keys = [
        "type",
        "description",
        "delay",
        "maxAttempts",
        "acceptors"
      ];
      keys.forEach(function(key) {
        var value = waiter[key];
        if (value) {
          property(self, key, value);
        }
      });
    }
    module2.exports = ResourceWaiter;
  }
});

// node_modules/aws-sdk/apis/metadata.json
var require_metadata = __commonJS({
  "node_modules/aws-sdk/apis/metadata.json"(exports2, module2) {
    module2.exports = {
      acm: {
        name: "ACM",
        cors: true
      },
      apigateway: {
        name: "APIGateway",
        cors: true
      },
      applicationautoscaling: {
        prefix: "application-autoscaling",
        name: "ApplicationAutoScaling",
        cors: true
      },
      appstream: {
        name: "AppStream"
      },
      autoscaling: {
        name: "AutoScaling",
        cors: true
      },
      batch: {
        name: "Batch"
      },
      budgets: {
        name: "Budgets"
      },
      clouddirectory: {
        name: "CloudDirectory",
        versions: [
          "2016-05-10*"
        ]
      },
      cloudformation: {
        name: "CloudFormation",
        cors: true
      },
      cloudfront: {
        name: "CloudFront",
        versions: [
          "2013-05-12*",
          "2013-11-11*",
          "2014-05-31*",
          "2014-10-21*",
          "2014-11-06*",
          "2015-04-17*",
          "2015-07-27*",
          "2015-09-17*",
          "2016-01-13*",
          "2016-01-28*",
          "2016-08-01*",
          "2016-08-20*",
          "2016-09-07*",
          "2016-09-29*",
          "2016-11-25*",
          "2017-03-25*",
          "2017-10-30*",
          "2018-06-18*",
          "2018-11-05*",
          "2019-03-26*"
        ],
        cors: true
      },
      cloudhsm: {
        name: "CloudHSM",
        cors: true
      },
      cloudsearch: {
        name: "CloudSearch"
      },
      cloudsearchdomain: {
        name: "CloudSearchDomain"
      },
      cloudtrail: {
        name: "CloudTrail",
        cors: true
      },
      cloudwatch: {
        prefix: "monitoring",
        name: "CloudWatch",
        cors: true
      },
      cloudwatchevents: {
        prefix: "events",
        name: "CloudWatchEvents",
        versions: [
          "2014-02-03*"
        ],
        cors: true
      },
      cloudwatchlogs: {
        prefix: "logs",
        name: "CloudWatchLogs",
        cors: true
      },
      codebuild: {
        name: "CodeBuild",
        cors: true
      },
      codecommit: {
        name: "CodeCommit",
        cors: true
      },
      codedeploy: {
        name: "CodeDeploy",
        cors: true
      },
      codepipeline: {
        name: "CodePipeline",
        cors: true
      },
      cognitoidentity: {
        prefix: "cognito-identity",
        name: "CognitoIdentity",
        cors: true
      },
      cognitoidentityserviceprovider: {
        prefix: "cognito-idp",
        name: "CognitoIdentityServiceProvider",
        cors: true
      },
      cognitosync: {
        prefix: "cognito-sync",
        name: "CognitoSync",
        cors: true
      },
      configservice: {
        prefix: "config",
        name: "ConfigService",
        cors: true
      },
      cur: {
        name: "CUR",
        cors: true
      },
      datapipeline: {
        name: "DataPipeline"
      },
      devicefarm: {
        name: "DeviceFarm",
        cors: true
      },
      directconnect: {
        name: "DirectConnect",
        cors: true
      },
      directoryservice: {
        prefix: "ds",
        name: "DirectoryService"
      },
      discovery: {
        name: "Discovery"
      },
      dms: {
        name: "DMS"
      },
      dynamodb: {
        name: "DynamoDB",
        cors: true
      },
      dynamodbstreams: {
        prefix: "streams.dynamodb",
        name: "DynamoDBStreams",
        cors: true
      },
      ec2: {
        name: "EC2",
        versions: [
          "2013-06-15*",
          "2013-10-15*",
          "2014-02-01*",
          "2014-05-01*",
          "2014-06-15*",
          "2014-09-01*",
          "2014-10-01*",
          "2015-03-01*",
          "2015-04-15*",
          "2015-10-01*",
          "2016-04-01*",
          "2016-09-15*"
        ],
        cors: true
      },
      ecr: {
        name: "ECR",
        cors: true
      },
      ecs: {
        name: "ECS",
        cors: true
      },
      efs: {
        prefix: "elasticfilesystem",
        name: "EFS",
        cors: true
      },
      elasticache: {
        name: "ElastiCache",
        versions: [
          "2012-11-15*",
          "2014-03-24*",
          "2014-07-15*",
          "2014-09-30*"
        ],
        cors: true
      },
      elasticbeanstalk: {
        name: "ElasticBeanstalk",
        cors: true
      },
      elb: {
        prefix: "elasticloadbalancing",
        name: "ELB",
        cors: true
      },
      elbv2: {
        prefix: "elasticloadbalancingv2",
        name: "ELBv2",
        cors: true
      },
      emr: {
        prefix: "elasticmapreduce",
        name: "EMR",
        cors: true
      },
      es: {
        name: "ES"
      },
      elastictranscoder: {
        name: "ElasticTranscoder",
        cors: true
      },
      firehose: {
        name: "Firehose",
        cors: true
      },
      gamelift: {
        name: "GameLift",
        cors: true
      },
      glacier: {
        name: "Glacier"
      },
      health: {
        name: "Health"
      },
      iam: {
        name: "IAM",
        cors: true
      },
      importexport: {
        name: "ImportExport"
      },
      inspector: {
        name: "Inspector",
        versions: [
          "2015-08-18*"
        ],
        cors: true
      },
      iot: {
        name: "Iot",
        cors: true
      },
      iotdata: {
        prefix: "iot-data",
        name: "IotData",
        cors: true
      },
      kinesis: {
        name: "Kinesis",
        cors: true
      },
      kinesisanalytics: {
        name: "KinesisAnalytics"
      },
      kms: {
        name: "KMS",
        cors: true
      },
      lambda: {
        name: "Lambda",
        cors: true
      },
      lexruntime: {
        prefix: "runtime.lex",
        name: "LexRuntime",
        cors: true
      },
      lightsail: {
        name: "Lightsail"
      },
      machinelearning: {
        name: "MachineLearning",
        cors: true
      },
      marketplacecommerceanalytics: {
        name: "MarketplaceCommerceAnalytics",
        cors: true
      },
      marketplacemetering: {
        prefix: "meteringmarketplace",
        name: "MarketplaceMetering"
      },
      mturk: {
        prefix: "mturk-requester",
        name: "MTurk",
        cors: true
      },
      mobileanalytics: {
        name: "MobileAnalytics",
        cors: true
      },
      opsworks: {
        name: "OpsWorks",
        cors: true
      },
      opsworkscm: {
        name: "OpsWorksCM"
      },
      organizations: {
        name: "Organizations"
      },
      pinpoint: {
        name: "Pinpoint"
      },
      polly: {
        name: "Polly",
        cors: true
      },
      rds: {
        name: "RDS",
        versions: [
          "2014-09-01*"
        ],
        cors: true
      },
      redshift: {
        name: "Redshift",
        cors: true
      },
      rekognition: {
        name: "Rekognition",
        cors: true
      },
      resourcegroupstaggingapi: {
        name: "ResourceGroupsTaggingAPI"
      },
      route53: {
        name: "Route53",
        cors: true
      },
      route53domains: {
        name: "Route53Domains",
        cors: true
      },
      s3: {
        name: "S3",
        dualstackAvailable: true,
        cors: true
      },
      s3control: {
        name: "S3Control",
        dualstackAvailable: true,
        xmlNoDefaultLists: true
      },
      servicecatalog: {
        name: "ServiceCatalog",
        cors: true
      },
      ses: {
        prefix: "email",
        name: "SES",
        cors: true
      },
      shield: {
        name: "Shield"
      },
      simpledb: {
        prefix: "sdb",
        name: "SimpleDB"
      },
      sms: {
        name: "SMS"
      },
      snowball: {
        name: "Snowball"
      },
      sns: {
        name: "SNS",
        cors: true
      },
      sqs: {
        name: "SQS",
        cors: true
      },
      ssm: {
        name: "SSM",
        cors: true
      },
      storagegateway: {
        name: "StorageGateway",
        cors: true
      },
      stepfunctions: {
        prefix: "states",
        name: "StepFunctions"
      },
      sts: {
        name: "STS",
        cors: true
      },
      support: {
        name: "Support"
      },
      swf: {
        name: "SWF"
      },
      xray: {
        name: "XRay",
        cors: true
      },
      waf: {
        name: "WAF",
        cors: true
      },
      wafregional: {
        prefix: "waf-regional",
        name: "WAFRegional"
      },
      workdocs: {
        name: "WorkDocs",
        cors: true
      },
      workspaces: {
        name: "WorkSpaces"
      },
      codestar: {
        name: "CodeStar"
      },
      lexmodelbuildingservice: {
        prefix: "lex-models",
        name: "LexModelBuildingService",
        cors: true
      },
      marketplaceentitlementservice: {
        prefix: "entitlement.marketplace",
        name: "MarketplaceEntitlementService"
      },
      athena: {
        name: "Athena",
        cors: true
      },
      greengrass: {
        name: "Greengrass"
      },
      dax: {
        name: "DAX"
      },
      migrationhub: {
        prefix: "AWSMigrationHub",
        name: "MigrationHub"
      },
      cloudhsmv2: {
        name: "CloudHSMV2",
        cors: true
      },
      glue: {
        name: "Glue"
      },
      mobile: {
        name: "Mobile"
      },
      pricing: {
        name: "Pricing",
        cors: true
      },
      costexplorer: {
        prefix: "ce",
        name: "CostExplorer",
        cors: true
      },
      mediaconvert: {
        name: "MediaConvert"
      },
      medialive: {
        name: "MediaLive"
      },
      mediapackage: {
        name: "MediaPackage"
      },
      mediastore: {
        name: "MediaStore"
      },
      mediastoredata: {
        prefix: "mediastore-data",
        name: "MediaStoreData",
        cors: true
      },
      appsync: {
        name: "AppSync"
      },
      guardduty: {
        name: "GuardDuty"
      },
      mq: {
        name: "MQ"
      },
      comprehend: {
        name: "Comprehend",
        cors: true
      },
      iotjobsdataplane: {
        prefix: "iot-jobs-data",
        name: "IoTJobsDataPlane"
      },
      kinesisvideoarchivedmedia: {
        prefix: "kinesis-video-archived-media",
        name: "KinesisVideoArchivedMedia",
        cors: true
      },
      kinesisvideomedia: {
        prefix: "kinesis-video-media",
        name: "KinesisVideoMedia",
        cors: true
      },
      kinesisvideo: {
        name: "KinesisVideo",
        cors: true
      },
      sagemakerruntime: {
        prefix: "runtime.sagemaker",
        name: "SageMakerRuntime"
      },
      sagemaker: {
        name: "SageMaker"
      },
      translate: {
        name: "Translate",
        cors: true
      },
      resourcegroups: {
        prefix: "resource-groups",
        name: "ResourceGroups",
        cors: true
      },
      alexaforbusiness: {
        name: "AlexaForBusiness"
      },
      cloud9: {
        name: "Cloud9"
      },
      serverlessapplicationrepository: {
        prefix: "serverlessrepo",
        name: "ServerlessApplicationRepository"
      },
      servicediscovery: {
        name: "ServiceDiscovery"
      },
      workmail: {
        name: "WorkMail"
      },
      autoscalingplans: {
        prefix: "autoscaling-plans",
        name: "AutoScalingPlans"
      },
      transcribeservice: {
        prefix: "transcribe",
        name: "TranscribeService"
      },
      connect: {
        name: "Connect",
        cors: true
      },
      acmpca: {
        prefix: "acm-pca",
        name: "ACMPCA"
      },
      fms: {
        name: "FMS"
      },
      secretsmanager: {
        name: "SecretsManager",
        cors: true
      },
      iotanalytics: {
        name: "IoTAnalytics",
        cors: true
      },
      iot1clickdevicesservice: {
        prefix: "iot1click-devices",
        name: "IoT1ClickDevicesService"
      },
      iot1clickprojects: {
        prefix: "iot1click-projects",
        name: "IoT1ClickProjects"
      },
      pi: {
        name: "PI"
      },
      neptune: {
        name: "Neptune"
      },
      mediatailor: {
        name: "MediaTailor"
      },
      eks: {
        name: "EKS"
      },
      macie: {
        name: "Macie"
      },
      dlm: {
        name: "DLM"
      },
      signer: {
        name: "Signer"
      },
      chime: {
        name: "Chime"
      },
      pinpointemail: {
        prefix: "pinpoint-email",
        name: "PinpointEmail"
      },
      ram: {
        name: "RAM"
      },
      route53resolver: {
        name: "Route53Resolver"
      },
      pinpointsmsvoice: {
        prefix: "sms-voice",
        name: "PinpointSMSVoice"
      },
      quicksight: {
        name: "QuickSight"
      },
      rdsdataservice: {
        prefix: "rds-data",
        name: "RDSDataService"
      },
      amplify: {
        name: "Amplify"
      },
      datasync: {
        name: "DataSync"
      },
      robomaker: {
        name: "RoboMaker"
      },
      transfer: {
        name: "Transfer"
      },
      globalaccelerator: {
        name: "GlobalAccelerator"
      },
      comprehendmedical: {
        name: "ComprehendMedical",
        cors: true
      },
      kinesisanalyticsv2: {
        name: "KinesisAnalyticsV2"
      },
      mediaconnect: {
        name: "MediaConnect"
      },
      fsx: {
        name: "FSx"
      },
      securityhub: {
        name: "SecurityHub"
      },
      appmesh: {
        name: "AppMesh",
        versions: [
          "2018-10-01*"
        ]
      },
      licensemanager: {
        prefix: "license-manager",
        name: "LicenseManager"
      },
      kafka: {
        name: "Kafka"
      },
      apigatewaymanagementapi: {
        name: "ApiGatewayManagementApi"
      },
      apigatewayv2: {
        name: "ApiGatewayV2"
      },
      docdb: {
        name: "DocDB"
      },
      backup: {
        name: "Backup"
      },
      worklink: {
        name: "WorkLink"
      },
      textract: {
        name: "Textract"
      },
      managedblockchain: {
        name: "ManagedBlockchain"
      },
      mediapackagevod: {
        prefix: "mediapackage-vod",
        name: "MediaPackageVod"
      },
      groundstation: {
        name: "GroundStation"
      },
      iotthingsgraph: {
        name: "IoTThingsGraph"
      },
      iotevents: {
        name: "IoTEvents"
      },
      ioteventsdata: {
        prefix: "iotevents-data",
        name: "IoTEventsData"
      },
      personalize: {
        name: "Personalize",
        cors: true
      },
      personalizeevents: {
        prefix: "personalize-events",
        name: "PersonalizeEvents",
        cors: true
      },
      personalizeruntime: {
        prefix: "personalize-runtime",
        name: "PersonalizeRuntime",
        cors: true
      },
      applicationinsights: {
        prefix: "application-insights",
        name: "ApplicationInsights"
      },
      servicequotas: {
        prefix: "service-quotas",
        name: "ServiceQuotas"
      },
      ec2instanceconnect: {
        prefix: "ec2-instance-connect",
        name: "EC2InstanceConnect"
      },
      eventbridge: {
        name: "EventBridge"
      },
      lakeformation: {
        name: "LakeFormation"
      },
      forecastservice: {
        prefix: "forecast",
        name: "ForecastService",
        cors: true
      },
      forecastqueryservice: {
        prefix: "forecastquery",
        name: "ForecastQueryService",
        cors: true
      },
      qldb: {
        name: "QLDB"
      },
      qldbsession: {
        prefix: "qldb-session",
        name: "QLDBSession"
      },
      workmailmessageflow: {
        name: "WorkMailMessageFlow"
      },
      codestarnotifications: {
        prefix: "codestar-notifications",
        name: "CodeStarNotifications"
      },
      savingsplans: {
        name: "SavingsPlans"
      },
      sso: {
        name: "SSO"
      },
      ssooidc: {
        prefix: "sso-oidc",
        name: "SSOOIDC"
      },
      marketplacecatalog: {
        prefix: "marketplace-catalog",
        name: "MarketplaceCatalog"
      },
      dataexchange: {
        name: "DataExchange"
      },
      sesv2: {
        name: "SESV2"
      },
      migrationhubconfig: {
        prefix: "migrationhub-config",
        name: "MigrationHubConfig"
      },
      connectparticipant: {
        name: "ConnectParticipant"
      },
      appconfig: {
        name: "AppConfig"
      },
      iotsecuretunneling: {
        name: "IoTSecureTunneling"
      },
      wafv2: {
        name: "WAFV2"
      },
      elasticinference: {
        prefix: "elastic-inference",
        name: "ElasticInference"
      },
      imagebuilder: {
        name: "Imagebuilder"
      },
      schemas: {
        name: "Schemas"
      },
      accessanalyzer: {
        name: "AccessAnalyzer"
      },
      codegurureviewer: {
        prefix: "codeguru-reviewer",
        name: "CodeGuruReviewer"
      },
      codeguruprofiler: {
        name: "CodeGuruProfiler"
      },
      computeoptimizer: {
        prefix: "compute-optimizer",
        name: "ComputeOptimizer"
      },
      frauddetector: {
        name: "FraudDetector"
      },
      kendra: {
        name: "Kendra"
      },
      networkmanager: {
        name: "NetworkManager"
      },
      outposts: {
        name: "Outposts"
      },
      augmentedairuntime: {
        prefix: "sagemaker-a2i-runtime",
        name: "AugmentedAIRuntime"
      },
      ebs: {
        name: "EBS"
      },
      kinesisvideosignalingchannels: {
        prefix: "kinesis-video-signaling",
        name: "KinesisVideoSignalingChannels",
        cors: true
      },
      detective: {
        name: "Detective"
      },
      codestarconnections: {
        prefix: "codestar-connections",
        name: "CodeStarconnections"
      },
      synthetics: {
        name: "Synthetics"
      },
      iotsitewise: {
        name: "IoTSiteWise"
      },
      macie2: {
        name: "Macie2"
      },
      codeartifact: {
        name: "CodeArtifact"
      },
      honeycode: {
        name: "Honeycode"
      },
      ivs: {
        name: "IVS"
      },
      braket: {
        name: "Braket"
      },
      identitystore: {
        name: "IdentityStore"
      },
      appflow: {
        name: "Appflow"
      },
      redshiftdata: {
        prefix: "redshift-data",
        name: "RedshiftData"
      },
      ssoadmin: {
        prefix: "sso-admin",
        name: "SSOAdmin"
      },
      timestreamquery: {
        prefix: "timestream-query",
        name: "TimestreamQuery"
      },
      timestreamwrite: {
        prefix: "timestream-write",
        name: "TimestreamWrite"
      },
      s3outposts: {
        name: "S3Outposts"
      },
      databrew: {
        name: "DataBrew"
      },
      servicecatalogappregistry: {
        prefix: "servicecatalog-appregistry",
        name: "ServiceCatalogAppRegistry"
      },
      networkfirewall: {
        prefix: "network-firewall",
        name: "NetworkFirewall"
      },
      mwaa: {
        name: "MWAA"
      },
      amplifybackend: {
        name: "AmplifyBackend"
      },
      appintegrations: {
        name: "AppIntegrations"
      },
      connectcontactlens: {
        prefix: "connect-contact-lens",
        name: "ConnectContactLens"
      },
      devopsguru: {
        prefix: "devops-guru",
        name: "DevOpsGuru"
      },
      ecrpublic: {
        prefix: "ecr-public",
        name: "ECRPUBLIC"
      },
      lookoutvision: {
        name: "LookoutVision"
      },
      sagemakerfeaturestoreruntime: {
        prefix: "sagemaker-featurestore-runtime",
        name: "SageMakerFeatureStoreRuntime"
      },
      customerprofiles: {
        prefix: "customer-profiles",
        name: "CustomerProfiles"
      },
      auditmanager: {
        name: "AuditManager"
      },
      emrcontainers: {
        prefix: "emr-containers",
        name: "EMRcontainers"
      },
      healthlake: {
        name: "HealthLake"
      },
      sagemakeredge: {
        prefix: "sagemaker-edge",
        name: "SagemakerEdge"
      },
      amp: {
        name: "Amp"
      },
      greengrassv2: {
        name: "GreengrassV2"
      },
      iotdeviceadvisor: {
        name: "IotDeviceAdvisor"
      },
      iotfleethub: {
        name: "IoTFleetHub"
      },
      iotwireless: {
        name: "IoTWireless"
      },
      location: {
        name: "Location",
        cors: true
      },
      wellarchitected: {
        name: "WellArchitected"
      },
      lexmodelsv2: {
        prefix: "models.lex.v2",
        name: "LexModelsV2"
      },
      lexruntimev2: {
        prefix: "runtime.lex.v2",
        name: "LexRuntimeV2",
        cors: true
      },
      fis: {
        name: "Fis"
      },
      lookoutmetrics: {
        name: "LookoutMetrics"
      },
      mgn: {
        name: "Mgn"
      },
      lookoutequipment: {
        name: "LookoutEquipment"
      },
      nimble: {
        name: "Nimble"
      },
      finspace: {
        name: "Finspace"
      },
      finspacedata: {
        prefix: "finspace-data",
        name: "Finspacedata"
      },
      ssmcontacts: {
        prefix: "ssm-contacts",
        name: "SSMContacts"
      },
      ssmincidents: {
        prefix: "ssm-incidents",
        name: "SSMIncidents"
      },
      applicationcostprofiler: {
        name: "ApplicationCostProfiler"
      },
      apprunner: {
        name: "AppRunner"
      },
      proton: {
        name: "Proton"
      },
      route53recoverycluster: {
        prefix: "route53-recovery-cluster",
        name: "Route53RecoveryCluster"
      },
      route53recoverycontrolconfig: {
        prefix: "route53-recovery-control-config",
        name: "Route53RecoveryControlConfig"
      },
      route53recoveryreadiness: {
        prefix: "route53-recovery-readiness",
        name: "Route53RecoveryReadiness"
      },
      chimesdkidentity: {
        prefix: "chime-sdk-identity",
        name: "ChimeSDKIdentity"
      },
      chimesdkmessaging: {
        prefix: "chime-sdk-messaging",
        name: "ChimeSDKMessaging"
      },
      snowdevicemanagement: {
        prefix: "snow-device-management",
        name: "SnowDeviceManagement"
      },
      memorydb: {
        name: "MemoryDB"
      },
      opensearch: {
        name: "OpenSearch"
      },
      kafkaconnect: {
        name: "KafkaConnect"
      },
      voiceid: {
        prefix: "voice-id",
        name: "VoiceID"
      },
      wisdom: {
        name: "Wisdom"
      },
      account: {
        name: "Account"
      },
      cloudcontrol: {
        name: "CloudControl"
      },
      grafana: {
        name: "Grafana"
      },
      panorama: {
        name: "Panorama"
      },
      chimesdkmeetings: {
        prefix: "chime-sdk-meetings",
        name: "ChimeSDKMeetings"
      },
      resiliencehub: {
        name: "Resiliencehub"
      },
      migrationhubstrategy: {
        name: "MigrationHubStrategy"
      },
      appconfigdata: {
        name: "AppConfigData"
      },
      drs: {
        name: "Drs"
      },
      migrationhubrefactorspaces: {
        prefix: "migration-hub-refactor-spaces",
        name: "MigrationHubRefactorSpaces"
      },
      evidently: {
        name: "Evidently"
      },
      inspector2: {
        name: "Inspector2"
      },
      rbin: {
        name: "Rbin"
      },
      rum: {
        name: "RUM"
      },
      backupgateway: {
        prefix: "backup-gateway",
        name: "BackupGateway"
      },
      iottwinmaker: {
        name: "IoTTwinMaker"
      },
      workspacesweb: {
        prefix: "workspaces-web",
        name: "WorkSpacesWeb"
      },
      amplifyuibuilder: {
        name: "AmplifyUIBuilder"
      },
      keyspaces: {
        name: "Keyspaces"
      },
      billingconductor: {
        name: "Billingconductor"
      },
      gamesparks: {
        name: "GameSparks"
      },
      pinpointsmsvoicev2: {
        prefix: "pinpoint-sms-voice-v2",
        name: "PinpointSMSVoiceV2"
      },
      ivschat: {
        name: "Ivschat"
      },
      chimesdkmediapipelines: {
        prefix: "chime-sdk-media-pipelines",
        name: "ChimeSDKMediaPipelines"
      },
      emrserverless: {
        prefix: "emr-serverless",
        name: "EMRServerless"
      },
      m2: {
        name: "M2"
      },
      connectcampaigns: {
        name: "ConnectCampaigns"
      },
      redshiftserverless: {
        prefix: "redshift-serverless",
        name: "RedshiftServerless"
      },
      rolesanywhere: {
        name: "RolesAnywhere"
      },
      licensemanagerusersubscriptions: {
        prefix: "license-manager-user-subscriptions",
        name: "LicenseManagerUserSubscriptions"
      },
      backupstorage: {
        name: "BackupStorage"
      },
      privatenetworks: {
        name: "PrivateNetworks"
      },
      supportapp: {
        prefix: "support-app",
        name: "SupportApp"
      },
      controltower: {
        name: "ControlTower"
      }
    };
  }
});

// node_modules/aws-sdk/lib/model/api.js
var require_api = __commonJS({
  "node_modules/aws-sdk/lib/model/api.js"(exports2, module2) {
    var Collection = require_collection();
    var Operation = require_operation();
    var Shape = require_shape();
    var Paginator = require_paginator();
    var ResourceWaiter = require_resource_waiter();
    var metadata = require_metadata();
    var util = require_util();
    var property = util.property;
    var memoizedProperty = util.memoizedProperty;
    function Api(api, options) {
      var self = this;
      api = api || {};
      options = options || {};
      options.api = this;
      api.metadata = api.metadata || {};
      var serviceIdentifier = options.serviceIdentifier;
      delete options.serviceIdentifier;
      property(this, "isApi", true, false);
      property(this, "apiVersion", api.metadata.apiVersion);
      property(this, "endpointPrefix", api.metadata.endpointPrefix);
      property(this, "signingName", api.metadata.signingName);
      property(this, "globalEndpoint", api.metadata.globalEndpoint);
      property(this, "signatureVersion", api.metadata.signatureVersion);
      property(this, "jsonVersion", api.metadata.jsonVersion);
      property(this, "targetPrefix", api.metadata.targetPrefix);
      property(this, "protocol", api.metadata.protocol);
      property(this, "timestampFormat", api.metadata.timestampFormat);
      property(this, "xmlNamespaceUri", api.metadata.xmlNamespace);
      property(this, "abbreviation", api.metadata.serviceAbbreviation);
      property(this, "fullName", api.metadata.serviceFullName);
      property(this, "serviceId", api.metadata.serviceId);
      if (serviceIdentifier && metadata[serviceIdentifier]) {
        property(this, "xmlNoDefaultLists", metadata[serviceIdentifier].xmlNoDefaultLists, false);
      }
      memoizedProperty(this, "className", function() {
        var name = api.metadata.serviceAbbreviation || api.metadata.serviceFullName;
        if (!name)
          return null;
        name = name.replace(/^Amazon|AWS\s*|\(.*|\s+|\W+/g, "");
        if (name === "ElasticLoadBalancing")
          name = "ELB";
        return name;
      });
      function addEndpointOperation(name, operation) {
        if (operation.endpointoperation === true) {
          property(self, "endpointOperation", util.string.lowerFirst(name));
        }
        if (operation.endpointdiscovery && !self.hasRequiredEndpointDiscovery) {
          property(
            self,
            "hasRequiredEndpointDiscovery",
            operation.endpointdiscovery.required === true
          );
        }
      }
      property(this, "operations", new Collection(api.operations, options, function(name, operation) {
        return new Operation(name, operation, options);
      }, util.string.lowerFirst, addEndpointOperation));
      property(this, "shapes", new Collection(api.shapes, options, function(name, shape) {
        return Shape.create(shape, options);
      }));
      property(this, "paginators", new Collection(api.paginators, options, function(name, paginator) {
        return new Paginator(name, paginator, options);
      }));
      property(this, "waiters", new Collection(api.waiters, options, function(name, waiter) {
        return new ResourceWaiter(name, waiter, options);
      }, util.string.lowerFirst));
      if (options.documentation) {
        property(this, "documentation", api.documentation);
        property(this, "documentationUrl", api.documentationUrl);
      }
      property(this, "errorCodeMapping", api.awsQueryCompatible);
    }
    module2.exports = Api;
  }
});

// node_modules/aws-sdk/lib/api_loader.js
var require_api_loader = __commonJS({
  "node_modules/aws-sdk/lib/api_loader.js"(exports2, module2) {
    function apiLoader(svc, version) {
      if (!apiLoader.services.hasOwnProperty(svc)) {
        throw new Error("InvalidService: Failed to load api for " + svc);
      }
      return apiLoader.services[svc][version];
    }
    apiLoader.services = {};
    module2.exports = apiLoader;
  }
});

// node_modules/aws-sdk/vendor/endpoint-cache/utils/LRU.js
var require_LRU = __commonJS({
  "node_modules/aws-sdk/vendor/endpoint-cache/utils/LRU.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var LinkedListNode = function() {
      function LinkedListNode2(key, value) {
        this.key = key;
        this.value = value;
      }
      return LinkedListNode2;
    }();
    var LRUCache = function() {
      function LRUCache2(size) {
        this.nodeMap = {};
        this.size = 0;
        if (typeof size !== "number" || size < 1) {
          throw new Error("Cache size can only be positive number");
        }
        this.sizeLimit = size;
      }
      Object.defineProperty(LRUCache2.prototype, "length", {
        get: function() {
          return this.size;
        },
        enumerable: true,
        configurable: true
      });
      LRUCache2.prototype.prependToList = function(node) {
        if (!this.headerNode) {
          this.tailNode = node;
        } else {
          this.headerNode.prev = node;
          node.next = this.headerNode;
        }
        this.headerNode = node;
        this.size++;
      };
      LRUCache2.prototype.removeFromTail = function() {
        if (!this.tailNode) {
          return void 0;
        }
        var node = this.tailNode;
        var prevNode = node.prev;
        if (prevNode) {
          prevNode.next = void 0;
        }
        node.prev = void 0;
        this.tailNode = prevNode;
        this.size--;
        return node;
      };
      LRUCache2.prototype.detachFromList = function(node) {
        if (this.headerNode === node) {
          this.headerNode = node.next;
        }
        if (this.tailNode === node) {
          this.tailNode = node.prev;
        }
        if (node.prev) {
          node.prev.next = node.next;
        }
        if (node.next) {
          node.next.prev = node.prev;
        }
        node.next = void 0;
        node.prev = void 0;
        this.size--;
      };
      LRUCache2.prototype.get = function(key) {
        if (this.nodeMap[key]) {
          var node = this.nodeMap[key];
          this.detachFromList(node);
          this.prependToList(node);
          return node.value;
        }
      };
      LRUCache2.prototype.remove = function(key) {
        if (this.nodeMap[key]) {
          var node = this.nodeMap[key];
          this.detachFromList(node);
          delete this.nodeMap[key];
        }
      };
      LRUCache2.prototype.put = function(key, value) {
        if (this.nodeMap[key]) {
          this.remove(key);
        } else if (this.size === this.sizeLimit) {
          var tailNode = this.removeFromTail();
          var key_1 = tailNode.key;
          delete this.nodeMap[key_1];
        }
        var newNode = new LinkedListNode(key, value);
        this.nodeMap[key] = newNode;
        this.prependToList(newNode);
      };
      LRUCache2.prototype.empty = function() {
        var keys = Object.keys(this.nodeMap);
        for (var i = 0; i < keys.length; i++) {
          var key = keys[i];
          var node = this.nodeMap[key];
          this.detachFromList(node);
          delete this.nodeMap[key];
        }
      };
      return LRUCache2;
    }();
    exports2.LRUCache = LRUCache;
  }
});

// node_modules/aws-sdk/vendor/endpoint-cache/index.js
var require_endpoint_cache = __commonJS({
  "node_modules/aws-sdk/vendor/endpoint-cache/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", { value: true });
    var LRU_1 = require_LRU();
    var CACHE_SIZE = 1e3;
    var EndpointCache = function() {
      function EndpointCache2(maxSize) {
        if (maxSize === void 0) {
          maxSize = CACHE_SIZE;
        }
        this.maxSize = maxSize;
        this.cache = new LRU_1.LRUCache(maxSize);
      }
      ;
      Object.defineProperty(EndpointCache2.prototype, "size", {
        get: function() {
          return this.cache.length;
        },
        enumerable: true,
        configurable: true
      });
      EndpointCache2.prototype.put = function(key, value) {
        var keyString = typeof key !== "string" ? EndpointCache2.getKeyString(key) : key;
        var endpointRecord = this.populateValue(value);
        this.cache.put(keyString, endpointRecord);
      };
      EndpointCache2.prototype.get = function(key) {
        var keyString = typeof key !== "string" ? EndpointCache2.getKeyString(key) : key;
        var now = Date.now();
        var records = this.cache.get(keyString);
        if (records) {
          for (var i = records.length - 1; i >= 0; i--) {
            var record = records[i];
            if (record.Expire < now) {
              records.splice(i, 1);
            }
          }
          if (records.length === 0) {
            this.cache.remove(keyString);
            return void 0;
          }
        }
        return records;
      };
      EndpointCache2.getKeyString = function(key) {
        var identifiers = [];
        var identifierNames = Object.keys(key).sort();
        for (var i = 0; i < identifierNames.length; i++) {
          var identifierName = identifierNames[i];
          if (key[identifierName] === void 0)
            continue;
          identifiers.push(key[identifierName]);
        }
        return identifiers.join(" ");
      };
      EndpointCache2.prototype.populateValue = function(endpoints) {
        var now = Date.now();
        return endpoints.map(function(endpoint) {
          return {
            Address: endpoint.Address || "",
            Expire: now + (endpoint.CachePeriodInMinutes || 1) * 60 * 1e3
          };
        });
      };
      EndpointCache2.prototype.empty = function() {
        this.cache.empty();
      };
      EndpointCache2.prototype.remove = function(key) {
        var keyString = typeof key !== "string" ? EndpointCache2.getKeyString(key) : key;
        this.cache.remove(keyString);
      };
      return EndpointCache2;
    }();
    exports2.EndpointCache = EndpointCache;
  }
});

// node_modules/aws-sdk/lib/sequential_executor.js
var require_sequential_executor = __commonJS({
  "node_modules/aws-sdk/lib/sequential_executor.js"(exports2, module2) {
    var AWS2 = require_core();
    AWS2.SequentialExecutor = AWS2.util.inherit({
      constructor: function SequentialExecutor() {
        this._events = {};
      },
      listeners: function listeners(eventName) {
        return this._events[eventName] ? this._events[eventName].slice(0) : [];
      },
      on: function on(eventName, listener, toHead) {
        if (this._events[eventName]) {
          toHead ? this._events[eventName].unshift(listener) : this._events[eventName].push(listener);
        } else {
          this._events[eventName] = [listener];
        }
        return this;
      },
      onAsync: function onAsync(eventName, listener, toHead) {
        listener._isAsync = true;
        return this.on(eventName, listener, toHead);
      },
      removeListener: function removeListener(eventName, listener) {
        var listeners = this._events[eventName];
        if (listeners) {
          var length = listeners.length;
          var position = -1;
          for (var i = 0; i < length; ++i) {
            if (listeners[i] === listener) {
              position = i;
            }
          }
          if (position > -1) {
            listeners.splice(position, 1);
          }
        }
        return this;
      },
      removeAllListeners: function removeAllListeners(eventName) {
        if (eventName) {
          delete this._events[eventName];
        } else {
          this._events = {};
        }
        return this;
      },
      emit: function emit(eventName, eventArgs, doneCallback) {
        if (!doneCallback)
          doneCallback = function() {
          };
        var listeners = this.listeners(eventName);
        var count = listeners.length;
        this.callListeners(listeners, eventArgs, doneCallback);
        return count > 0;
      },
      callListeners: function callListeners(listeners, args, doneCallback, prevError) {
        var self = this;
        var error = prevError || null;
        function callNextListener(err) {
          if (err) {
            error = AWS2.util.error(error || new Error(), err);
            if (self._haltHandlersOnError) {
              return doneCallback.call(self, error);
            }
          }
          self.callListeners(listeners, args, doneCallback, error);
        }
        while (listeners.length > 0) {
          var listener = listeners.shift();
          if (listener._isAsync) {
            listener.apply(self, args.concat([callNextListener]));
            return;
          } else {
            try {
              listener.apply(self, args);
            } catch (err) {
              error = AWS2.util.error(error || new Error(), err);
            }
            if (error && self._haltHandlersOnError) {
              doneCallback.call(self, error);
              return;
            }
          }
        }
        doneCallback.call(self, error);
      },
      addListeners: function addListeners(listeners) {
        var self = this;
        if (listeners._events)
          listeners = listeners._events;
        AWS2.util.each(listeners, function(event, callbacks) {
          if (typeof callbacks === "function")
            callbacks = [callbacks];
          AWS2.util.arrayEach(callbacks, function(callback) {
            self.on(event, callback);
          });
        });
        return self;
      },
      addNamedListener: function addNamedListener(name, eventName, callback, toHead) {
        this[name] = callback;
        this.addListener(eventName, callback, toHead);
        return this;
      },
      addNamedAsyncListener: function addNamedAsyncListener(name, eventName, callback, toHead) {
        callback._isAsync = true;
        return this.addNamedListener(name, eventName, callback, toHead);
      },
      addNamedListeners: function addNamedListeners(callback) {
        var self = this;
        callback(
          function() {
            self.addNamedListener.apply(self, arguments);
          },
          function() {
            self.addNamedAsyncListener.apply(self, arguments);
          }
        );
        return this;
      }
    });
    AWS2.SequentialExecutor.prototype.addListener = AWS2.SequentialExecutor.prototype.on;
    module2.exports = AWS2.SequentialExecutor;
  }
});

// node_modules/aws-sdk/lib/region_config_data.json
var require_region_config_data = __commonJS({
  "node_modules/aws-sdk/lib/region_config_data.json"(exports2, module2) {
    module2.exports = {
      rules: {
        "*/*": {
          endpoint: "{service}.{region}.amazonaws.com"
        },
        "cn-*/*": {
          endpoint: "{service}.{region}.amazonaws.com.cn"
        },
        "us-iso-*/*": "usIso",
        "us-isob-*/*": "usIsob",
        "*/budgets": "globalSSL",
        "*/cloudfront": "globalSSL",
        "*/sts": "globalSSL",
        "*/importexport": {
          endpoint: "{service}.amazonaws.com",
          signatureVersion: "v2",
          globalEndpoint: true
        },
        "*/route53": "globalSSL",
        "cn-*/route53": {
          endpoint: "{service}.amazonaws.com.cn",
          globalEndpoint: true,
          signingRegion: "cn-northwest-1"
        },
        "us-gov-*/route53": "globalGovCloud",
        "us-iso-*/route53": {
          endpoint: "{service}.c2s.ic.gov",
          globalEndpoint: true,
          signingRegion: "us-iso-east-1"
        },
        "us-isob-*/route53": {
          endpoint: "{service}.sc2s.sgov.gov",
          globalEndpoint: true,
          signingRegion: "us-isob-east-1"
        },
        "*/waf": "globalSSL",
        "*/iam": "globalSSL",
        "cn-*/iam": {
          endpoint: "{service}.cn-north-1.amazonaws.com.cn",
          globalEndpoint: true,
          signingRegion: "cn-north-1"
        },
        "us-gov-*/iam": "globalGovCloud",
        "us-gov-*/sts": {
          endpoint: "{service}.{region}.amazonaws.com"
        },
        "us-gov-west-1/s3": "s3signature",
        "us-west-1/s3": "s3signature",
        "us-west-2/s3": "s3signature",
        "eu-west-1/s3": "s3signature",
        "ap-southeast-1/s3": "s3signature",
        "ap-southeast-2/s3": "s3signature",
        "ap-northeast-1/s3": "s3signature",
        "sa-east-1/s3": "s3signature",
        "us-east-1/s3": {
          endpoint: "{service}.amazonaws.com",
          signatureVersion: "s3"
        },
        "us-east-1/sdb": {
          endpoint: "{service}.amazonaws.com",
          signatureVersion: "v2"
        },
        "*/sdb": {
          endpoint: "{service}.{region}.amazonaws.com",
          signatureVersion: "v2"
        }
      },
      fipsRules: {
        "*/*": "fipsStandard",
        "us-gov-*/*": "fipsStandard",
        "us-iso-*/*": {
          endpoint: "{service}-fips.{region}.c2s.ic.gov"
        },
        "us-iso-*/dms": "usIso",
        "us-isob-*/*": {
          endpoint: "{service}-fips.{region}.sc2s.sgov.gov"
        },
        "us-isob-*/dms": "usIsob",
        "cn-*/*": {
          endpoint: "{service}-fips.{region}.amazonaws.com.cn"
        },
        "*/api.ecr": "fips.api.ecr",
        "*/api.sagemaker": "fips.api.sagemaker",
        "*/batch": "fipsDotPrefix",
        "*/eks": "fipsDotPrefix",
        "*/models.lex": "fips.models.lex",
        "*/runtime.lex": "fips.runtime.lex",
        "*/runtime.sagemaker": {
          endpoint: "runtime-fips.sagemaker.{region}.amazonaws.com"
        },
        "*/iam": "fipsWithoutRegion",
        "*/route53": "fipsWithoutRegion",
        "*/transcribe": "fipsDotPrefix",
        "*/waf": "fipsWithoutRegion",
        "us-gov-*/transcribe": "fipsDotPrefix",
        "us-gov-*/api.ecr": "fips.api.ecr",
        "us-gov-*/api.sagemaker": "fips.api.sagemaker",
        "us-gov-*/models.lex": "fips.models.lex",
        "us-gov-*/runtime.lex": "fips.runtime.lex",
        "us-gov-*/acm-pca": "fipsWithServiceOnly",
        "us-gov-*/batch": "fipsWithServiceOnly",
        "us-gov-*/config": "fipsWithServiceOnly",
        "us-gov-*/eks": "fipsWithServiceOnly",
        "us-gov-*/elasticmapreduce": "fipsWithServiceOnly",
        "us-gov-*/identitystore": "fipsWithServiceOnly",
        "us-gov-*/dynamodb": "fipsWithServiceOnly",
        "us-gov-*/elasticloadbalancing": "fipsWithServiceOnly",
        "us-gov-*/guardduty": "fipsWithServiceOnly",
        "us-gov-*/monitoring": "fipsWithServiceOnly",
        "us-gov-*/resource-groups": "fipsWithServiceOnly",
        "us-gov-*/runtime.sagemaker": "fipsWithServiceOnly",
        "us-gov-*/servicecatalog-appregistry": "fipsWithServiceOnly",
        "us-gov-*/servicequotas": "fipsWithServiceOnly",
        "us-gov-*/ssm": "fipsWithServiceOnly",
        "us-gov-*/sts": "fipsWithServiceOnly",
        "us-gov-*/support": "fipsWithServiceOnly",
        "us-gov-west-1/states": "fipsWithServiceOnly",
        "us-iso-east-1/elasticfilesystem": {
          endpoint: "elasticfilesystem-fips.{region}.c2s.ic.gov"
        },
        "us-gov-west-1/organizations": "fipsWithServiceOnly",
        "us-gov-west-1/route53": {
          endpoint: "route53.us-gov.amazonaws.com"
        }
      },
      dualstackRules: {
        "*/*": {
          endpoint: "{service}.{region}.api.aws"
        },
        "cn-*/*": {
          endpoint: "{service}.{region}.api.amazonwebservices.com.cn"
        },
        "*/s3": "dualstackLegacy",
        "cn-*/s3": "dualstackLegacyCn",
        "*/s3-control": "dualstackLegacy",
        "cn-*/s3-control": "dualstackLegacyCn",
        "ap-south-1/ec2": "dualstackLegacyEc2",
        "eu-west-1/ec2": "dualstackLegacyEc2",
        "sa-east-1/ec2": "dualstackLegacyEc2",
        "us-east-1/ec2": "dualstackLegacyEc2",
        "us-east-2/ec2": "dualstackLegacyEc2",
        "us-west-2/ec2": "dualstackLegacyEc2"
      },
      dualstackFipsRules: {
        "*/*": {
          endpoint: "{service}-fips.{region}.api.aws"
        },
        "cn-*/*": {
          endpoint: "{service}-fips.{region}.api.amazonwebservices.com.cn"
        },
        "*/s3": "dualstackFipsLegacy",
        "cn-*/s3": "dualstackFipsLegacyCn",
        "*/s3-control": "dualstackFipsLegacy",
        "cn-*/s3-control": "dualstackFipsLegacyCn"
      },
      patterns: {
        globalSSL: {
          endpoint: "https://{service}.amazonaws.com",
          globalEndpoint: true,
          signingRegion: "us-east-1"
        },
        globalGovCloud: {
          endpoint: "{service}.us-gov.amazonaws.com",
          globalEndpoint: true,
          signingRegion: "us-gov-west-1"
        },
        s3signature: {
          endpoint: "{service}.{region}.amazonaws.com",
          signatureVersion: "s3"
        },
        usIso: {
          endpoint: "{service}.{region}.c2s.ic.gov"
        },
        usIsob: {
          endpoint: "{service}.{region}.sc2s.sgov.gov"
        },
        fipsStandard: {
          endpoint: "{service}-fips.{region}.amazonaws.com"
        },
        fipsDotPrefix: {
          endpoint: "fips.{service}.{region}.amazonaws.com"
        },
        fipsWithoutRegion: {
          endpoint: "{service}-fips.amazonaws.com"
        },
        "fips.api.ecr": {
          endpoint: "ecr-fips.{region}.amazonaws.com"
        },
        "fips.api.sagemaker": {
          endpoint: "api-fips.sagemaker.{region}.amazonaws.com"
        },
        "fips.models.lex": {
          endpoint: "models-fips.lex.{region}.amazonaws.com"
        },
        "fips.runtime.lex": {
          endpoint: "runtime-fips.lex.{region}.amazonaws.com"
        },
        fipsWithServiceOnly: {
          endpoint: "{service}.{region}.amazonaws.com"
        },
        dualstackLegacy: {
          endpoint: "{service}.dualstack.{region}.amazonaws.com"
        },
        dualstackLegacyCn: {
          endpoint: "{service}.dualstack.{region}.amazonaws.com.cn"
        },
        dualstackFipsLegacy: {
          endpoint: "{service}-fips.dualstack.{region}.amazonaws.com"
        },
        dualstackFipsLegacyCn: {
          endpoint: "{service}-fips.dualstack.{region}.amazonaws.com.cn"
        },
        dualstackLegacyEc2: {
          endpoint: "api.ec2.{region}.aws"
        }
      }
    };
  }
});

// node_modules/aws-sdk/lib/region_config.js
var require_region_config = __commonJS({
  "node_modules/aws-sdk/lib/region_config.js"(exports2, module2) {
    var util = require_util();
    var regionConfig = require_region_config_data();
    function generateRegionPrefix(region) {
      if (!region)
        return null;
      var parts = region.split("-");
      if (parts.length < 3)
        return null;
      return parts.slice(0, parts.length - 2).join("-") + "-*";
    }
    function derivedKeys(service) {
      var region = service.config.region;
      var regionPrefix = generateRegionPrefix(region);
      var endpointPrefix = service.api.endpointPrefix;
      return [
        [region, endpointPrefix],
        [regionPrefix, endpointPrefix],
        [region, "*"],
        [regionPrefix, "*"],
        ["*", endpointPrefix],
        ["*", "*"]
      ].map(function(item) {
        return item[0] && item[1] ? item.join("/") : null;
      });
    }
    function applyConfig(service, config) {
      util.each(config, function(key, value) {
        if (key === "globalEndpoint")
          return;
        if (service.config[key] === void 0 || service.config[key] === null) {
          service.config[key] = value;
        }
      });
    }
    function configureEndpoint(service) {
      var keys = derivedKeys(service);
      var useFipsEndpoint = service.config.useFipsEndpoint;
      var useDualstackEndpoint = service.config.useDualstackEndpoint;
      for (var i = 0; i < keys.length; i++) {
        var key = keys[i];
        if (!key)
          continue;
        var rules = useFipsEndpoint ? useDualstackEndpoint ? regionConfig.dualstackFipsRules : regionConfig.fipsRules : useDualstackEndpoint ? regionConfig.dualstackRules : regionConfig.rules;
        if (Object.prototype.hasOwnProperty.call(rules, key)) {
          var config = rules[key];
          if (typeof config === "string") {
            config = regionConfig.patterns[config];
          }
          service.isGlobalEndpoint = !!config.globalEndpoint;
          if (config.signingRegion) {
            service.signingRegion = config.signingRegion;
          }
          if (!config.signatureVersion)
            config.signatureVersion = "v4";
          applyConfig(service, config);
          return;
        }
      }
    }
    function getEndpointSuffix(region) {
      var regionRegexes = {
        "^(us|eu|ap|sa|ca|me)\\-\\w+\\-\\d+$": "amazonaws.com",
        "^cn\\-\\w+\\-\\d+$": "amazonaws.com.cn",
        "^us\\-gov\\-\\w+\\-\\d+$": "amazonaws.com",
        "^us\\-iso\\-\\w+\\-\\d+$": "c2s.ic.gov",
        "^us\\-isob\\-\\w+\\-\\d+$": "sc2s.sgov.gov"
      };
      var defaultSuffix = "amazonaws.com";
      var regexes = Object.keys(regionRegexes);
      for (var i = 0; i < regexes.length; i++) {
        var regionPattern = RegExp(regexes[i]);
        var dnsSuffix = regionRegexes[regexes[i]];
        if (regionPattern.test(region))
          return dnsSuffix;
      }
      return defaultSuffix;
    }
    module2.exports = {
      configureEndpoint,
      getEndpointSuffix
    };
  }
});

// node_modules/aws-sdk/lib/region/utils.js
var require_utils = __commonJS({
  "node_modules/aws-sdk/lib/region/utils.js"(exports2, module2) {
    function isFipsRegion(region) {
      return typeof region === "string" && (region.startsWith("fips-") || region.endsWith("-fips"));
    }
    function isGlobalRegion(region) {
      return typeof region === "string" && ["aws-global", "aws-us-gov-global"].includes(region);
    }
    function getRealRegion(region) {
      return ["fips-aws-global", "aws-fips", "aws-global"].includes(region) ? "us-east-1" : ["fips-aws-us-gov-global", "aws-us-gov-global"].includes(region) ? "us-gov-west-1" : region.replace(/fips-(dkr-|prod-)?|-fips/, "");
    }
    module2.exports = {
      isFipsRegion,
      isGlobalRegion,
      getRealRegion
    };
  }
});

// node_modules/aws-sdk/lib/service.js
var require_service = __commonJS({
  "node_modules/aws-sdk/lib/service.js"(exports2, module2) {
    var AWS2 = require_core();
    var Api = require_api();
    var regionConfig = require_region_config();
    var inherit = AWS2.util.inherit;
    var clientCount = 0;
    var region_utils = require_utils();
    AWS2.Service = inherit({
      constructor: function Service(config) {
        if (!this.loadServiceClass) {
          throw AWS2.util.error(
            new Error(),
            "Service must be constructed with `new' operator"
          );
        }
        if (config) {
          if (config.region) {
            var region = config.region;
            if (region_utils.isFipsRegion(region)) {
              config.region = region_utils.getRealRegion(region);
              config.useFipsEndpoint = true;
            }
            if (region_utils.isGlobalRegion(region)) {
              config.region = region_utils.getRealRegion(region);
            }
          }
          if (typeof config.useDualstack === "boolean" && typeof config.useDualstackEndpoint !== "boolean") {
            config.useDualstackEndpoint = config.useDualstack;
          }
        }
        var ServiceClass = this.loadServiceClass(config || {});
        if (ServiceClass) {
          var originalConfig = AWS2.util.copy(config);
          var svc = new ServiceClass(config);
          Object.defineProperty(svc, "_originalConfig", {
            get: function() {
              return originalConfig;
            },
            enumerable: false,
            configurable: true
          });
          svc._clientId = ++clientCount;
          return svc;
        }
        this.initialize(config);
      },
      initialize: function initialize(config) {
        var svcConfig = AWS2.config[this.serviceIdentifier];
        this.config = new AWS2.Config(AWS2.config);
        if (svcConfig)
          this.config.update(svcConfig, true);
        if (config)
          this.config.update(config, true);
        this.validateService();
        if (!this.config.endpoint)
          regionConfig.configureEndpoint(this);
        this.config.endpoint = this.endpointFromTemplate(this.config.endpoint);
        this.setEndpoint(this.config.endpoint);
        AWS2.SequentialExecutor.call(this);
        AWS2.Service.addDefaultMonitoringListeners(this);
        if ((this.config.clientSideMonitoring || AWS2.Service._clientSideMonitoring) && this.publisher) {
          var publisher = this.publisher;
          this.addNamedListener("PUBLISH_API_CALL", "apiCall", function PUBLISH_API_CALL(event) {
            process.nextTick(function() {
              publisher.eventHandler(event);
            });
          });
          this.addNamedListener("PUBLISH_API_ATTEMPT", "apiCallAttempt", function PUBLISH_API_ATTEMPT(event) {
            process.nextTick(function() {
              publisher.eventHandler(event);
            });
          });
        }
      },
      validateService: function validateService() {
      },
      loadServiceClass: function loadServiceClass(serviceConfig) {
        var config = serviceConfig;
        if (!AWS2.util.isEmpty(this.api)) {
          return null;
        } else if (config.apiConfig) {
          return AWS2.Service.defineServiceApi(this.constructor, config.apiConfig);
        } else if (!this.constructor.services) {
          return null;
        } else {
          config = new AWS2.Config(AWS2.config);
          config.update(serviceConfig, true);
          var version = config.apiVersions[this.constructor.serviceIdentifier];
          version = version || config.apiVersion;
          return this.getLatestServiceClass(version);
        }
      },
      getLatestServiceClass: function getLatestServiceClass(version) {
        version = this.getLatestServiceVersion(version);
        if (this.constructor.services[version] === null) {
          AWS2.Service.defineServiceApi(this.constructor, version);
        }
        return this.constructor.services[version];
      },
      getLatestServiceVersion: function getLatestServiceVersion(version) {
        if (!this.constructor.services || this.constructor.services.length === 0) {
          throw new Error("No services defined on " + this.constructor.serviceIdentifier);
        }
        if (!version) {
          version = "latest";
        } else if (AWS2.util.isType(version, Date)) {
          version = AWS2.util.date.iso8601(version).split("T")[0];
        }
        if (Object.hasOwnProperty(this.constructor.services, version)) {
          return version;
        }
        var keys = Object.keys(this.constructor.services).sort();
        var selectedVersion = null;
        for (var i = keys.length - 1; i >= 0; i--) {
          if (keys[i][keys[i].length - 1] !== "*") {
            selectedVersion = keys[i];
          }
          if (keys[i].substr(0, 10) <= version) {
            return selectedVersion;
          }
        }
        throw new Error("Could not find " + this.constructor.serviceIdentifier + " API to satisfy version constraint `" + version + "'");
      },
      api: {},
      defaultRetryCount: 3,
      customizeRequests: function customizeRequests(callback) {
        if (!callback) {
          this.customRequestHandler = null;
        } else if (typeof callback === "function") {
          this.customRequestHandler = callback;
        } else {
          throw new Error("Invalid callback type '" + typeof callback + "' provided in customizeRequests");
        }
      },
      makeRequest: function makeRequest(operation, params, callback) {
        if (typeof params === "function") {
          callback = params;
          params = null;
        }
        params = params || {};
        if (this.config.params) {
          var rules = this.api.operations[operation];
          if (rules) {
            params = AWS2.util.copy(params);
            AWS2.util.each(this.config.params, function(key, value) {
              if (rules.input.members[key]) {
                if (params[key] === void 0 || params[key] === null) {
                  params[key] = value;
                }
              }
            });
          }
        }
        var request = new AWS2.Request(this, operation, params);
        this.addAllRequestListeners(request);
        this.attachMonitoringEmitter(request);
        if (callback)
          request.send(callback);
        return request;
      },
      makeUnauthenticatedRequest: function makeUnauthenticatedRequest(operation, params, callback) {
        if (typeof params === "function") {
          callback = params;
          params = {};
        }
        var request = this.makeRequest(operation, params).toUnauthenticated();
        return callback ? request.send(callback) : request;
      },
      waitFor: function waitFor(state, params, callback) {
        var waiter = new AWS2.ResourceWaiter(this, state);
        return waiter.wait(params, callback);
      },
      addAllRequestListeners: function addAllRequestListeners(request) {
        var list = [
          AWS2.events,
          AWS2.EventListeners.Core,
          this.serviceInterface(),
          AWS2.EventListeners.CorePost
        ];
        for (var i = 0; i < list.length; i++) {
          if (list[i])
            request.addListeners(list[i]);
        }
        if (!this.config.paramValidation) {
          request.removeListener(
            "validate",
            AWS2.EventListeners.Core.VALIDATE_PARAMETERS
          );
        }
        if (this.config.logger) {
          request.addListeners(AWS2.EventListeners.Logger);
        }
        this.setupRequestListeners(request);
        if (typeof this.constructor.prototype.customRequestHandler === "function") {
          this.constructor.prototype.customRequestHandler(request);
        }
        if (Object.prototype.hasOwnProperty.call(this, "customRequestHandler") && typeof this.customRequestHandler === "function") {
          this.customRequestHandler(request);
        }
      },
      apiCallEvent: function apiCallEvent(request) {
        var api = request.service.api.operations[request.operation];
        var monitoringEvent = {
          Type: "ApiCall",
          Api: api ? api.name : request.operation,
          Version: 1,
          Service: request.service.api.serviceId || request.service.api.endpointPrefix,
          Region: request.httpRequest.region,
          MaxRetriesExceeded: 0,
          UserAgent: request.httpRequest.getUserAgent()
        };
        var response = request.response;
        if (response.httpResponse.statusCode) {
          monitoringEvent.FinalHttpStatusCode = response.httpResponse.statusCode;
        }
        if (response.error) {
          var error = response.error;
          var statusCode = response.httpResponse.statusCode;
          if (statusCode > 299) {
            if (error.code)
              monitoringEvent.FinalAwsException = error.code;
            if (error.message)
              monitoringEvent.FinalAwsExceptionMessage = error.message;
          } else {
            if (error.code || error.name)
              monitoringEvent.FinalSdkException = error.code || error.name;
            if (error.message)
              monitoringEvent.FinalSdkExceptionMessage = error.message;
          }
        }
        return monitoringEvent;
      },
      apiAttemptEvent: function apiAttemptEvent(request) {
        var api = request.service.api.operations[request.operation];
        var monitoringEvent = {
          Type: "ApiCallAttempt",
          Api: api ? api.name : request.operation,
          Version: 1,
          Service: request.service.api.serviceId || request.service.api.endpointPrefix,
          Fqdn: request.httpRequest.endpoint.hostname,
          UserAgent: request.httpRequest.getUserAgent()
        };
        var response = request.response;
        if (response.httpResponse.statusCode) {
          monitoringEvent.HttpStatusCode = response.httpResponse.statusCode;
        }
        if (!request._unAuthenticated && request.service.config.credentials && request.service.config.credentials.accessKeyId) {
          monitoringEvent.AccessKey = request.service.config.credentials.accessKeyId;
        }
        if (!response.httpResponse.headers)
          return monitoringEvent;
        if (request.httpRequest.headers["x-amz-security-token"]) {
          monitoringEvent.SessionToken = request.httpRequest.headers["x-amz-security-token"];
        }
        if (response.httpResponse.headers["x-amzn-requestid"]) {
          monitoringEvent.XAmznRequestId = response.httpResponse.headers["x-amzn-requestid"];
        }
        if (response.httpResponse.headers["x-amz-request-id"]) {
          monitoringEvent.XAmzRequestId = response.httpResponse.headers["x-amz-request-id"];
        }
        if (response.httpResponse.headers["x-amz-id-2"]) {
          monitoringEvent.XAmzId2 = response.httpResponse.headers["x-amz-id-2"];
        }
        return monitoringEvent;
      },
      attemptFailEvent: function attemptFailEvent(request) {
        var monitoringEvent = this.apiAttemptEvent(request);
        var response = request.response;
        var error = response.error;
        if (response.httpResponse.statusCode > 299) {
          if (error.code)
            monitoringEvent.AwsException = error.code;
          if (error.message)
            monitoringEvent.AwsExceptionMessage = error.message;
        } else {
          if (error.code || error.name)
            monitoringEvent.SdkException = error.code || error.name;
          if (error.message)
            monitoringEvent.SdkExceptionMessage = error.message;
        }
        return monitoringEvent;
      },
      attachMonitoringEmitter: function attachMonitoringEmitter(request) {
        var attemptTimestamp;
        var attemptStartRealTime;
        var attemptLatency;
        var callStartRealTime;
        var attemptCount = 0;
        var region;
        var callTimestamp;
        var self = this;
        var addToHead = true;
        request.on("validate", function() {
          callStartRealTime = AWS2.util.realClock.now();
          callTimestamp = Date.now();
        }, addToHead);
        request.on("sign", function() {
          attemptStartRealTime = AWS2.util.realClock.now();
          attemptTimestamp = Date.now();
          region = request.httpRequest.region;
          attemptCount++;
        }, addToHead);
        request.on("validateResponse", function() {
          attemptLatency = Math.round(AWS2.util.realClock.now() - attemptStartRealTime);
        });
        request.addNamedListener("API_CALL_ATTEMPT", "success", function API_CALL_ATTEMPT() {
          var apiAttemptEvent = self.apiAttemptEvent(request);
          apiAttemptEvent.Timestamp = attemptTimestamp;
          apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;
          apiAttemptEvent.Region = region;
          self.emit("apiCallAttempt", [apiAttemptEvent]);
        });
        request.addNamedListener("API_CALL_ATTEMPT_RETRY", "retry", function API_CALL_ATTEMPT_RETRY() {
          var apiAttemptEvent = self.attemptFailEvent(request);
          apiAttemptEvent.Timestamp = attemptTimestamp;
          attemptLatency = attemptLatency || Math.round(AWS2.util.realClock.now() - attemptStartRealTime);
          apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;
          apiAttemptEvent.Region = region;
          self.emit("apiCallAttempt", [apiAttemptEvent]);
        });
        request.addNamedListener("API_CALL", "complete", function API_CALL() {
          var apiCallEvent = self.apiCallEvent(request);
          apiCallEvent.AttemptCount = attemptCount;
          if (apiCallEvent.AttemptCount <= 0)
            return;
          apiCallEvent.Timestamp = callTimestamp;
          var latency = Math.round(AWS2.util.realClock.now() - callStartRealTime);
          apiCallEvent.Latency = latency >= 0 ? latency : 0;
          var response = request.response;
          if (response.error && response.error.retryable && typeof response.retryCount === "number" && typeof response.maxRetries === "number" && response.retryCount >= response.maxRetries) {
            apiCallEvent.MaxRetriesExceeded = 1;
          }
          self.emit("apiCall", [apiCallEvent]);
        });
      },
      setupRequestListeners: function setupRequestListeners(request) {
      },
      getSigningName: function getSigningName() {
        return this.api.signingName || this.api.endpointPrefix;
      },
      getSignerClass: function getSignerClass(request) {
        var version;
        var operation = null;
        var authtype = "";
        if (request) {
          var operations = request.service.api.operations || {};
          operation = operations[request.operation] || null;
          authtype = operation ? operation.authtype : "";
        }
        if (this.config.signatureVersion) {
          version = this.config.signatureVersion;
        } else if (authtype === "v4" || authtype === "v4-unsigned-body") {
          version = "v4";
        } else if (authtype === "bearer") {
          version = "bearer";
        } else {
          version = this.api.signatureVersion;
        }
        return AWS2.Signers.RequestSigner.getVersion(version);
      },
      serviceInterface: function serviceInterface() {
        switch (this.api.protocol) {
          case "ec2":
            return AWS2.EventListeners.Query;
          case "query":
            return AWS2.EventListeners.Query;
          case "json":
            return AWS2.EventListeners.Json;
          case "rest-json":
            return AWS2.EventListeners.RestJson;
          case "rest-xml":
            return AWS2.EventListeners.RestXml;
        }
        if (this.api.protocol) {
          throw new Error("Invalid service `protocol' " + this.api.protocol + " in API config");
        }
      },
      successfulResponse: function successfulResponse(resp) {
        return resp.httpResponse.statusCode < 300;
      },
      numRetries: function numRetries() {
        if (this.config.maxRetries !== void 0) {
          return this.config.maxRetries;
        } else {
          return this.defaultRetryCount;
        }
      },
      retryDelays: function retryDelays(retryCount, err) {
        return AWS2.util.calculateRetryDelay(retryCount, this.config.retryDelayOptions, err);
      },
      retryableError: function retryableError(error) {
        if (this.timeoutError(error))
          return true;
        if (this.networkingError(error))
          return true;
        if (this.expiredCredentialsError(error))
          return true;
        if (this.throttledError(error))
          return true;
        if (error.statusCode >= 500)
          return true;
        return false;
      },
      networkingError: function networkingError(error) {
        return error.code === "NetworkingError";
      },
      timeoutError: function timeoutError(error) {
        return error.code === "TimeoutError";
      },
      expiredCredentialsError: function expiredCredentialsError(error) {
        return error.code === "ExpiredTokenException";
      },
      clockSkewError: function clockSkewError(error) {
        switch (error.code) {
          case "RequestTimeTooSkewed":
          case "RequestExpired":
          case "InvalidSignatureException":
          case "SignatureDoesNotMatch":
          case "AuthFailure":
          case "RequestInTheFuture":
            return true;
          default:
            return false;
        }
      },
      getSkewCorrectedDate: function getSkewCorrectedDate() {
        return new Date(Date.now() + this.config.systemClockOffset);
      },
      applyClockOffset: function applyClockOffset(newServerTime) {
        if (newServerTime) {
          this.config.systemClockOffset = newServerTime - Date.now();
        }
      },
      isClockSkewed: function isClockSkewed(newServerTime) {
        if (newServerTime) {
          return Math.abs(this.getSkewCorrectedDate().getTime() - newServerTime) >= 3e5;
        }
      },
      throttledError: function throttledError(error) {
        if (error.statusCode === 429)
          return true;
        switch (error.code) {
          case "ProvisionedThroughputExceededException":
          case "Throttling":
          case "ThrottlingException":
          case "RequestLimitExceeded":
          case "RequestThrottled":
          case "RequestThrottledException":
          case "TooManyRequestsException":
          case "TransactionInProgressException":
          case "EC2ThrottledException":
            return true;
          default:
            return false;
        }
      },
      endpointFromTemplate: function endpointFromTemplate(endpoint) {
        if (typeof endpoint !== "string")
          return endpoint;
        var e = endpoint;
        e = e.replace(/\{service\}/g, this.api.endpointPrefix);
        e = e.replace(/\{region\}/g, this.config.region);
        e = e.replace(/\{scheme\}/g, this.config.sslEnabled ? "https" : "http");
        return e;
      },
      setEndpoint: function setEndpoint(endpoint) {
        this.endpoint = new AWS2.Endpoint(endpoint, this.config);
      },
      paginationConfig: function paginationConfig(operation, throwException) {
        var paginator = this.api.operations[operation].paginator;
        if (!paginator) {
          if (throwException) {
            var e = new Error();
            throw AWS2.util.error(e, "No pagination configuration for " + operation);
          }
          return null;
        }
        return paginator;
      }
    });
    AWS2.util.update(AWS2.Service, {
      defineMethods: function defineMethods(svc) {
        AWS2.util.each(svc.prototype.api.operations, function iterator(method) {
          if (svc.prototype[method])
            return;
          var operation = svc.prototype.api.operations[method];
          if (operation.authtype === "none") {
            svc.prototype[method] = function(params, callback) {
              return this.makeUnauthenticatedRequest(method, params, callback);
            };
          } else {
            svc.prototype[method] = function(params, callback) {
              return this.makeRequest(method, params, callback);
            };
          }
        });
      },
      defineService: function defineService(serviceIdentifier, versions, features) {
        AWS2.Service._serviceMap[serviceIdentifier] = true;
        if (!Array.isArray(versions)) {
          features = versions;
          versions = [];
        }
        var svc = inherit(AWS2.Service, features || {});
        if (typeof serviceIdentifier === "string") {
          AWS2.Service.addVersions(svc, versions);
          var identifier = svc.serviceIdentifier || serviceIdentifier;
          svc.serviceIdentifier = identifier;
        } else {
          svc.prototype.api = serviceIdentifier;
          AWS2.Service.defineMethods(svc);
        }
        AWS2.SequentialExecutor.call(this.prototype);
        if (!this.prototype.publisher && AWS2.util.clientSideMonitoring) {
          var Publisher = AWS2.util.clientSideMonitoring.Publisher;
          var configProvider = AWS2.util.clientSideMonitoring.configProvider;
          var publisherConfig = configProvider();
          this.prototype.publisher = new Publisher(publisherConfig);
          if (publisherConfig.enabled) {
            AWS2.Service._clientSideMonitoring = true;
          }
        }
        AWS2.SequentialExecutor.call(svc.prototype);
        AWS2.Service.addDefaultMonitoringListeners(svc.prototype);
        return svc;
      },
      addVersions: function addVersions(svc, versions) {
        if (!Array.isArray(versions))
          versions = [versions];
        svc.services = svc.services || {};
        for (var i = 0; i < versions.length; i++) {
          if (svc.services[versions[i]] === void 0) {
            svc.services[versions[i]] = null;
          }
        }
        svc.apiVersions = Object.keys(svc.services).sort();
      },
      defineServiceApi: function defineServiceApi(superclass, version, apiConfig) {
        var svc = inherit(superclass, {
          serviceIdentifier: superclass.serviceIdentifier
        });
        function setApi(api) {
          if (api.isApi) {
            svc.prototype.api = api;
          } else {
            svc.prototype.api = new Api(api, {
              serviceIdentifier: superclass.serviceIdentifier
            });
          }
        }
        if (typeof version === "string") {
          if (apiConfig) {
            setApi(apiConfig);
          } else {
            try {
              setApi(AWS2.apiLoader(superclass.serviceIdentifier, version));
            } catch (err) {
              throw AWS2.util.error(err, {
                message: "Could not find API configuration " + superclass.serviceIdentifier + "-" + version
              });
            }
          }
          if (!Object.prototype.hasOwnProperty.call(superclass.services, version)) {
            superclass.apiVersions = superclass.apiVersions.concat(version).sort();
          }
          superclass.services[version] = svc;
        } else {
          setApi(version);
        }
        AWS2.Service.defineMethods(svc);
        return svc;
      },
      hasService: function(identifier) {
        return Object.prototype.hasOwnProperty.call(AWS2.Service._serviceMap, identifier);
      },
      addDefaultMonitoringListeners: function addDefaultMonitoringListeners(attachOn) {
        attachOn.addNamedListener("MONITOR_EVENTS_BUBBLE", "apiCallAttempt", function EVENTS_BUBBLE(event) {
          var baseClass = Object.getPrototypeOf(attachOn);
          if (baseClass._events)
            baseClass.emit("apiCallAttempt", [event]);
        });
        attachOn.addNamedListener("CALL_EVENTS_BUBBLE", "apiCall", function CALL_EVENTS_BUBBLE(event) {
          var baseClass = Object.getPrototypeOf(attachOn);
          if (baseClass._events)
            baseClass.emit("apiCall", [event]);
        });
      },
      _serviceMap: {}
    });
    AWS2.util.mixin(AWS2.Service, AWS2.SequentialExecutor);
    module2.exports = AWS2.Service;
  }
});

// node_modules/aws-sdk/lib/credentials.js
var require_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials.js"() {
    var AWS2 = require_core();
    AWS2.Credentials = AWS2.util.inherit({
      constructor: function Credentials() {
        AWS2.util.hideProperties(this, ["secretAccessKey"]);
        this.expired = false;
        this.expireTime = null;
        this.refreshCallbacks = [];
        if (arguments.length === 1 && typeof arguments[0] === "object") {
          var creds = arguments[0].credentials || arguments[0];
          this.accessKeyId = creds.accessKeyId;
          this.secretAccessKey = creds.secretAccessKey;
          this.sessionToken = creds.sessionToken;
        } else {
          this.accessKeyId = arguments[0];
          this.secretAccessKey = arguments[1];
          this.sessionToken = arguments[2];
        }
      },
      expiryWindow: 15,
      needsRefresh: function needsRefresh() {
        var currentTime = AWS2.util.date.getDate().getTime();
        var adjustedTime = new Date(currentTime + this.expiryWindow * 1e3);
        if (this.expireTime && adjustedTime > this.expireTime) {
          return true;
        } else {
          return this.expired || !this.accessKeyId || !this.secretAccessKey;
        }
      },
      get: function get(callback) {
        var self = this;
        if (this.needsRefresh()) {
          this.refresh(function(err) {
            if (!err)
              self.expired = false;
            if (callback)
              callback(err);
          });
        } else if (callback) {
          callback();
        }
      },
      refresh: function refresh(callback) {
        this.expired = false;
        callback();
      },
      coalesceRefresh: function coalesceRefresh(callback, sync) {
        var self = this;
        if (self.refreshCallbacks.push(callback) === 1) {
          self.load(function onLoad(err) {
            AWS2.util.arrayEach(self.refreshCallbacks, function(callback2) {
              if (sync) {
                callback2(err);
              } else {
                AWS2.util.defer(function() {
                  callback2(err);
                });
              }
            });
            self.refreshCallbacks.length = 0;
          });
        }
      },
      load: function load(callback) {
        callback();
      }
    });
    AWS2.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {
      this.prototype.getPromise = AWS2.util.promisifyMethod("get", PromiseDependency);
      this.prototype.refreshPromise = AWS2.util.promisifyMethod("refresh", PromiseDependency);
    };
    AWS2.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {
      delete this.prototype.getPromise;
      delete this.prototype.refreshPromise;
    };
    AWS2.util.addPromises(AWS2.Credentials);
  }
});

// node_modules/aws-sdk/lib/credentials/credential_provider_chain.js
var require_credential_provider_chain = __commonJS({
  "node_modules/aws-sdk/lib/credentials/credential_provider_chain.js"() {
    var AWS2 = require_core();
    AWS2.CredentialProviderChain = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function CredentialProviderChain(providers) {
        if (providers) {
          this.providers = providers;
        } else {
          this.providers = AWS2.CredentialProviderChain.defaultProviders.slice(0);
        }
        this.resolveCallbacks = [];
      },
      resolve: function resolve(callback) {
        var self = this;
        if (self.providers.length === 0) {
          callback(new Error("No providers"));
          return self;
        }
        if (self.resolveCallbacks.push(callback) === 1) {
          let resolveNext2 = function(err, creds) {
            if (!err && creds || index === providers.length) {
              AWS2.util.arrayEach(self.resolveCallbacks, function(callback2) {
                callback2(err, creds);
              });
              self.resolveCallbacks.length = 0;
              return;
            }
            var provider = providers[index++];
            if (typeof provider === "function") {
              creds = provider.call();
            } else {
              creds = provider;
            }
            if (creds.get) {
              creds.get(function(getErr) {
                resolveNext2(getErr, getErr ? null : creds);
              });
            } else {
              resolveNext2(null, creds);
            }
          };
          var resolveNext = resolveNext2;
          var index = 0;
          var providers = self.providers.slice(0);
          resolveNext2();
        }
        return self;
      }
    });
    AWS2.CredentialProviderChain.defaultProviders = [];
    AWS2.CredentialProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {
      this.prototype.resolvePromise = AWS2.util.promisifyMethod("resolve", PromiseDependency);
    };
    AWS2.CredentialProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {
      delete this.prototype.resolvePromise;
    };
    AWS2.util.addPromises(AWS2.CredentialProviderChain);
  }
});

// node_modules/aws-sdk/lib/config.js
var require_config = __commonJS({
  "node_modules/aws-sdk/lib/config.js"() {
    var AWS2 = require_core();
    require_credentials();
    require_credential_provider_chain();
    var PromisesDependency;
    AWS2.Config = AWS2.util.inherit({
      constructor: function Config(options) {
        if (options === void 0)
          options = {};
        options = this.extractCredentials(options);
        AWS2.util.each.call(this, this.keys, function(key, value) {
          this.set(key, options[key], value);
        });
      },
      getCredentials: function getCredentials(callback) {
        var self = this;
        function finish(err) {
          callback(err, err ? null : self.credentials);
        }
        function credError(msg, err) {
          return new AWS2.util.error(err || new Error(), {
            code: "CredentialsError",
            message: msg,
            name: "CredentialsError"
          });
        }
        function getAsyncCredentials() {
          self.credentials.get(function(err) {
            if (err) {
              var msg = "Could not load credentials from " + self.credentials.constructor.name;
              err = credError(msg, err);
            }
            finish(err);
          });
        }
        function getStaticCredentials() {
          var err = null;
          if (!self.credentials.accessKeyId || !self.credentials.secretAccessKey) {
            err = credError("Missing credentials");
          }
          finish(err);
        }
        if (self.credentials) {
          if (typeof self.credentials.get === "function") {
            getAsyncCredentials();
          } else {
            getStaticCredentials();
          }
        } else if (self.credentialProvider) {
          self.credentialProvider.resolve(function(err, creds) {
            if (err) {
              err = credError("Could not load credentials from any providers", err);
            }
            self.credentials = creds;
            finish(err);
          });
        } else {
          finish(credError("No credentials to load"));
        }
      },
      getToken: function getToken(callback) {
        var self = this;
        function finish(err) {
          callback(err, err ? null : self.token);
        }
        function tokenError(msg, err) {
          return new AWS2.util.error(err || new Error(), {
            code: "TokenError",
            message: msg,
            name: "TokenError"
          });
        }
        function getAsyncToken() {
          self.token.get(function(err) {
            if (err) {
              var msg = "Could not load token from " + self.token.constructor.name;
              err = tokenError(msg, err);
            }
            finish(err);
          });
        }
        function getStaticToken() {
          var err = null;
          if (!self.token.token) {
            err = tokenError("Missing token");
          }
          finish(err);
        }
        if (self.token) {
          if (typeof self.token.get === "function") {
            getAsyncToken();
          } else {
            getStaticToken();
          }
        } else if (self.tokenProvider) {
          self.tokenProvider.resolve(function(err, token) {
            if (err) {
              err = tokenError("Could not load token from any providers", err);
            }
            self.token = token;
            finish(err);
          });
        } else {
          finish(tokenError("No token to load"));
        }
      },
      update: function update(options, allowUnknownKeys) {
        allowUnknownKeys = allowUnknownKeys || false;
        options = this.extractCredentials(options);
        AWS2.util.each.call(this, options, function(key, value) {
          if (allowUnknownKeys || Object.prototype.hasOwnProperty.call(this.keys, key) || AWS2.Service.hasService(key)) {
            this.set(key, value);
          }
        });
      },
      loadFromPath: function loadFromPath(path) {
        this.clear();
        var options = JSON.parse(AWS2.util.readFileSync(path));
        var fileSystemCreds = new AWS2.FileSystemCredentials(path);
        var chain = new AWS2.CredentialProviderChain();
        chain.providers.unshift(fileSystemCreds);
        chain.resolve(function(err, creds) {
          if (err)
            throw err;
          else
            options.credentials = creds;
        });
        this.constructor(options);
        return this;
      },
      clear: function clear() {
        AWS2.util.each.call(this, this.keys, function(key) {
          delete this[key];
        });
        this.set("credentials", void 0);
        this.set("credentialProvider", void 0);
      },
      set: function set(property, value, defaultValue) {
        if (value === void 0) {
          if (defaultValue === void 0) {
            defaultValue = this.keys[property];
          }
          if (typeof defaultValue === "function") {
            this[property] = defaultValue.call(this);
          } else {
            this[property] = defaultValue;
          }
        } else if (property === "httpOptions" && this[property]) {
          this[property] = AWS2.util.merge(this[property], value);
        } else {
          this[property] = value;
        }
      },
      keys: {
        credentials: null,
        credentialProvider: null,
        region: null,
        logger: null,
        apiVersions: {},
        apiVersion: null,
        endpoint: void 0,
        httpOptions: {
          timeout: 12e4
        },
        maxRetries: void 0,
        maxRedirects: 10,
        paramValidation: true,
        sslEnabled: true,
        s3ForcePathStyle: false,
        s3BucketEndpoint: false,
        s3DisableBodySigning: true,
        s3UsEast1RegionalEndpoint: "legacy",
        s3UseArnRegion: void 0,
        computeChecksums: true,
        convertResponseTypes: true,
        correctClockSkew: false,
        customUserAgent: null,
        dynamoDbCrc32: true,
        systemClockOffset: 0,
        signatureVersion: null,
        signatureCache: true,
        retryDelayOptions: {},
        useAccelerateEndpoint: false,
        clientSideMonitoring: false,
        endpointDiscoveryEnabled: void 0,
        endpointCacheSize: 1e3,
        hostPrefixEnabled: true,
        stsRegionalEndpoints: "legacy",
        useFipsEndpoint: false,
        useDualstackEndpoint: false,
        token: null
      },
      extractCredentials: function extractCredentials(options) {
        if (options.accessKeyId && options.secretAccessKey) {
          options = AWS2.util.copy(options);
          options.credentials = new AWS2.Credentials(options);
        }
        return options;
      },
      setPromisesDependency: function setPromisesDependency(dep) {
        PromisesDependency = dep;
        if (dep === null && typeof Promise === "function") {
          PromisesDependency = Promise;
        }
        var constructors = [AWS2.Request, AWS2.Credentials, AWS2.CredentialProviderChain];
        if (AWS2.S3) {
          constructors.push(AWS2.S3);
          if (AWS2.S3.ManagedUpload) {
            constructors.push(AWS2.S3.ManagedUpload);
          }
        }
        AWS2.util.addPromises(constructors, PromisesDependency);
      },
      getPromisesDependency: function getPromisesDependency() {
        return PromisesDependency;
      }
    });
    AWS2.config = new AWS2.Config();
  }
});

// node_modules/aws-sdk/lib/http.js
var require_http = __commonJS({
  "node_modules/aws-sdk/lib/http.js"() {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    AWS2.Endpoint = inherit({
      constructor: function Endpoint(endpoint, config) {
        AWS2.util.hideProperties(this, ["slashes", "auth", "hash", "search", "query"]);
        if (typeof endpoint === "undefined" || endpoint === null) {
          throw new Error("Invalid endpoint: " + endpoint);
        } else if (typeof endpoint !== "string") {
          return AWS2.util.copy(endpoint);
        }
        if (!endpoint.match(/^http/)) {
          var useSSL = config && config.sslEnabled !== void 0 ? config.sslEnabled : AWS2.config.sslEnabled;
          endpoint = (useSSL ? "https" : "http") + "://" + endpoint;
        }
        AWS2.util.update(this, AWS2.util.urlParse(endpoint));
        if (this.port) {
          this.port = parseInt(this.port, 10);
        } else {
          this.port = this.protocol === "https:" ? 443 : 80;
        }
      }
    });
    AWS2.HttpRequest = inherit({
      constructor: function HttpRequest(endpoint, region) {
        endpoint = new AWS2.Endpoint(endpoint);
        this.method = "POST";
        this.path = endpoint.path || "/";
        this.headers = {};
        this.body = "";
        this.endpoint = endpoint;
        this.region = region;
        this._userAgent = "";
        this.setUserAgent();
      },
      setUserAgent: function setUserAgent() {
        this._userAgent = this.headers[this.getUserAgentHeaderName()] = AWS2.util.userAgent();
      },
      getUserAgentHeaderName: function getUserAgentHeaderName() {
        var prefix = AWS2.util.isBrowser() ? "X-Amz-" : "";
        return prefix + "User-Agent";
      },
      appendToUserAgent: function appendToUserAgent(agentPartial) {
        if (typeof agentPartial === "string" && agentPartial) {
          this._userAgent += " " + agentPartial;
        }
        this.headers[this.getUserAgentHeaderName()] = this._userAgent;
      },
      getUserAgent: function getUserAgent() {
        return this._userAgent;
      },
      pathname: function pathname() {
        return this.path.split("?", 1)[0];
      },
      search: function search() {
        var query = this.path.split("?", 2)[1];
        if (query) {
          query = AWS2.util.queryStringParse(query);
          return AWS2.util.queryParamsToString(query);
        }
        return "";
      },
      updateEndpoint: function updateEndpoint(endpointStr) {
        var newEndpoint = new AWS2.Endpoint(endpointStr);
        this.endpoint = newEndpoint;
        this.path = newEndpoint.path || "/";
        if (this.headers["Host"]) {
          this.headers["Host"] = newEndpoint.host;
        }
      }
    });
    AWS2.HttpResponse = inherit({
      constructor: function HttpResponse() {
        this.statusCode = void 0;
        this.headers = {};
        this.body = void 0;
        this.streaming = false;
        this.stream = null;
      },
      createUnbufferedStream: function createUnbufferedStream() {
        this.streaming = true;
        return this.stream;
      }
    });
    AWS2.HttpClient = inherit({});
    AWS2.HttpClient.getInstance = function getInstance() {
      if (this.singleton === void 0) {
        this.singleton = new this();
      }
      return this.singleton;
    };
  }
});

// node_modules/aws-sdk/lib/discover_endpoint.js
var require_discover_endpoint = __commonJS({
  "node_modules/aws-sdk/lib/discover_endpoint.js"(exports2, module2) {
    var AWS2 = require_core();
    var util = require_util();
    var endpointDiscoveryEnabledEnvs = ["AWS_ENABLE_ENDPOINT_DISCOVERY", "AWS_ENDPOINT_DISCOVERY_ENABLED"];
    function getCacheKey(request) {
      var service = request.service;
      var api = service.api || {};
      var operations = api.operations;
      var identifiers = {};
      if (service.config.region) {
        identifiers.region = service.config.region;
      }
      if (api.serviceId) {
        identifiers.serviceId = api.serviceId;
      }
      if (service.config.credentials.accessKeyId) {
        identifiers.accessKeyId = service.config.credentials.accessKeyId;
      }
      return identifiers;
    }
    function marshallCustomIdentifiersHelper(result, params, shape) {
      if (!shape || params === void 0 || params === null)
        return;
      if (shape.type === "structure" && shape.required && shape.required.length > 0) {
        util.arrayEach(shape.required, function(name) {
          var memberShape = shape.members[name];
          if (memberShape.endpointDiscoveryId === true) {
            var locationName = memberShape.isLocationName ? memberShape.name : name;
            result[locationName] = String(params[name]);
          } else {
            marshallCustomIdentifiersHelper(result, params[name], memberShape);
          }
        });
      }
    }
    function marshallCustomIdentifiers(request, shape) {
      var identifiers = {};
      marshallCustomIdentifiersHelper(identifiers, request.params, shape);
      return identifiers;
    }
    function optionalDiscoverEndpoint(request) {
      var service = request.service;
      var api = service.api;
      var operationModel = api.operations ? api.operations[request.operation] : void 0;
      var inputShape = operationModel ? operationModel.input : void 0;
      var identifiers = marshallCustomIdentifiers(request, inputShape);
      var cacheKey = getCacheKey(request);
      if (Object.keys(identifiers).length > 0) {
        cacheKey = util.update(cacheKey, identifiers);
        if (operationModel)
          cacheKey.operation = operationModel.name;
      }
      var endpoints = AWS2.endpointCache.get(cacheKey);
      if (endpoints && endpoints.length === 1 && endpoints[0].Address === "") {
        return;
      } else if (endpoints && endpoints.length > 0) {
        request.httpRequest.updateEndpoint(endpoints[0].Address);
      } else {
        var endpointRequest = service.makeRequest(api.endpointOperation, {
          Operation: operationModel.name,
          Identifiers: identifiers
        });
        addApiVersionHeader(endpointRequest);
        endpointRequest.removeListener("validate", AWS2.EventListeners.Core.VALIDATE_PARAMETERS);
        endpointRequest.removeListener("retry", AWS2.EventListeners.Core.RETRY_CHECK);
        AWS2.endpointCache.put(cacheKey, [{
          Address: "",
          CachePeriodInMinutes: 1
        }]);
        endpointRequest.send(function(err, data) {
          if (data && data.Endpoints) {
            AWS2.endpointCache.put(cacheKey, data.Endpoints);
          } else if (err) {
            AWS2.endpointCache.put(cacheKey, [{
              Address: "",
              CachePeriodInMinutes: 1
            }]);
          }
        });
      }
    }
    var requestQueue = {};
    function requiredDiscoverEndpoint(request, done) {
      var service = request.service;
      var api = service.api;
      var operationModel = api.operations ? api.operations[request.operation] : void 0;
      var inputShape = operationModel ? operationModel.input : void 0;
      var identifiers = marshallCustomIdentifiers(request, inputShape);
      var cacheKey = getCacheKey(request);
      if (Object.keys(identifiers).length > 0) {
        cacheKey = util.update(cacheKey, identifiers);
        if (operationModel)
          cacheKey.operation = operationModel.name;
      }
      var cacheKeyStr = AWS2.EndpointCache.getKeyString(cacheKey);
      var endpoints = AWS2.endpointCache.get(cacheKeyStr);
      if (endpoints && endpoints.length === 1 && endpoints[0].Address === "") {
        if (!requestQueue[cacheKeyStr])
          requestQueue[cacheKeyStr] = [];
        requestQueue[cacheKeyStr].push({ request, callback: done });
        return;
      } else if (endpoints && endpoints.length > 0) {
        request.httpRequest.updateEndpoint(endpoints[0].Address);
        done();
      } else {
        var endpointRequest = service.makeRequest(api.endpointOperation, {
          Operation: operationModel.name,
          Identifiers: identifiers
        });
        endpointRequest.removeListener("validate", AWS2.EventListeners.Core.VALIDATE_PARAMETERS);
        addApiVersionHeader(endpointRequest);
        AWS2.endpointCache.put(cacheKeyStr, [{
          Address: "",
          CachePeriodInMinutes: 60
        }]);
        endpointRequest.send(function(err, data) {
          if (err) {
            request.response.error = util.error(err, { retryable: false });
            AWS2.endpointCache.remove(cacheKey);
            if (requestQueue[cacheKeyStr]) {
              var pendingRequests = requestQueue[cacheKeyStr];
              util.arrayEach(pendingRequests, function(requestContext) {
                requestContext.request.response.error = util.error(err, { retryable: false });
                requestContext.callback();
              });
              delete requestQueue[cacheKeyStr];
            }
          } else if (data) {
            AWS2.endpointCache.put(cacheKeyStr, data.Endpoints);
            request.httpRequest.updateEndpoint(data.Endpoints[0].Address);
            if (requestQueue[cacheKeyStr]) {
              var pendingRequests = requestQueue[cacheKeyStr];
              util.arrayEach(pendingRequests, function(requestContext) {
                requestContext.request.httpRequest.updateEndpoint(data.Endpoints[0].Address);
                requestContext.callback();
              });
              delete requestQueue[cacheKeyStr];
            }
          }
          done();
        });
      }
    }
    function addApiVersionHeader(endpointRequest) {
      var api = endpointRequest.service.api;
      var apiVersion = api.apiVersion;
      if (apiVersion && !endpointRequest.httpRequest.headers["x-amz-api-version"]) {
        endpointRequest.httpRequest.headers["x-amz-api-version"] = apiVersion;
      }
    }
    function invalidateCachedEndpoints(response) {
      var error = response.error;
      var httpResponse = response.httpResponse;
      if (error && (error.code === "InvalidEndpointException" || httpResponse.statusCode === 421)) {
        var request = response.request;
        var operations = request.service.api.operations || {};
        var inputShape = operations[request.operation] ? operations[request.operation].input : void 0;
        var identifiers = marshallCustomIdentifiers(request, inputShape);
        var cacheKey = getCacheKey(request);
        if (Object.keys(identifiers).length > 0) {
          cacheKey = util.update(cacheKey, identifiers);
          if (operations[request.operation])
            cacheKey.operation = operations[request.operation].name;
        }
        AWS2.endpointCache.remove(cacheKey);
      }
    }
    function hasCustomEndpoint(client) {
      if (client._originalConfig && client._originalConfig.endpoint && client._originalConfig.endpointDiscoveryEnabled === true) {
        throw util.error(new Error(), {
          code: "ConfigurationException",
          message: "Custom endpoint is supplied; endpointDiscoveryEnabled must not be true."
        });
      }
      ;
      var svcConfig = AWS2.config[client.serviceIdentifier] || {};
      return Boolean(AWS2.config.endpoint || svcConfig.endpoint || client._originalConfig && client._originalConfig.endpoint);
    }
    function isFalsy(value) {
      return ["false", "0"].indexOf(value) >= 0;
    }
    function resolveEndpointDiscoveryConfig(request) {
      var service = request.service || {};
      if (service.config.endpointDiscoveryEnabled !== void 0) {
        return service.config.endpointDiscoveryEnabled;
      }
      if (util.isBrowser())
        return void 0;
      for (var i = 0; i < endpointDiscoveryEnabledEnvs.length; i++) {
        var env = endpointDiscoveryEnabledEnvs[i];
        if (Object.prototype.hasOwnProperty.call(process.env, env)) {
          if (process.env[env] === "" || process.env[env] === void 0) {
            throw util.error(new Error(), {
              code: "ConfigurationException",
              message: "environmental variable " + env + " cannot be set to nothing"
            });
          }
          return !isFalsy(process.env[env]);
        }
      }
      var configFile = {};
      try {
        configFile = AWS2.util.iniLoader ? AWS2.util.iniLoader.loadFrom({
          isConfig: true,
          filename: process.env[AWS2.util.sharedConfigFileEnv]
        }) : {};
      } catch (e) {
      }
      var sharedFileConfig = configFile[process.env.AWS_PROFILE || AWS2.util.defaultProfile] || {};
      if (Object.prototype.hasOwnProperty.call(sharedFileConfig, "endpoint_discovery_enabled")) {
        if (sharedFileConfig.endpoint_discovery_enabled === void 0) {
          throw util.error(new Error(), {
            code: "ConfigurationException",
            message: "config file entry 'endpoint_discovery_enabled' cannot be set to nothing"
          });
        }
        return !isFalsy(sharedFileConfig.endpoint_discovery_enabled);
      }
      return void 0;
    }
    function discoverEndpoint(request, done) {
      var service = request.service || {};
      if (hasCustomEndpoint(service) || request.isPresigned())
        return done();
      var operations = service.api.operations || {};
      var operationModel = operations[request.operation];
      var isEndpointDiscoveryRequired = operationModel ? operationModel.endpointDiscoveryRequired : "NULL";
      var isEnabled = resolveEndpointDiscoveryConfig(request);
      var hasRequiredEndpointDiscovery = service.api.hasRequiredEndpointDiscovery;
      if (isEnabled || hasRequiredEndpointDiscovery) {
        request.httpRequest.appendToUserAgent("endpoint-discovery");
      }
      switch (isEndpointDiscoveryRequired) {
        case "OPTIONAL":
          if (isEnabled || hasRequiredEndpointDiscovery) {
            optionalDiscoverEndpoint(request);
            request.addNamedListener("INVALIDATE_CACHED_ENDPOINTS", "extractError", invalidateCachedEndpoints);
          }
          done();
          break;
        case "REQUIRED":
          if (isEnabled === false) {
            request.response.error = util.error(new Error(), {
              code: "ConfigurationException",
              message: "Endpoint Discovery is disabled but " + service.api.className + "." + request.operation + "() requires it. Please check your configurations."
            });
            done();
            break;
          }
          request.addNamedListener("INVALIDATE_CACHED_ENDPOINTS", "extractError", invalidateCachedEndpoints);
          requiredDiscoverEndpoint(request, done);
          break;
        case "NULL":
        default:
          done();
          break;
      }
    }
    module2.exports = {
      discoverEndpoint,
      requiredDiscoverEndpoint,
      optionalDiscoverEndpoint,
      marshallCustomIdentifiers,
      getCacheKey,
      invalidateCachedEndpoint: invalidateCachedEndpoints
    };
  }
});

// node_modules/aws-sdk/lib/event_listeners.js
var require_event_listeners = __commonJS({
  "node_modules/aws-sdk/lib/event_listeners.js"() {
    var AWS2 = require_core();
    var SequentialExecutor = require_sequential_executor();
    var DISCOVER_ENDPOINT = require_discover_endpoint().discoverEndpoint;
    AWS2.EventListeners = {
      Core: {}
    };
    function getOperationAuthtype(req) {
      if (!req.service.api.operations) {
        return "";
      }
      var operation = req.service.api.operations[req.operation];
      return operation ? operation.authtype : "";
    }
    AWS2.EventListeners = {
      Core: new SequentialExecutor().addNamedListeners(function(add, addAsync) {
        addAsync(
          "VALIDATE_CREDENTIALS",
          "validate",
          function VALIDATE_CREDENTIALS(req, done) {
            if (!req.service.api.signatureVersion && !req.service.config.signatureVersion)
              return done();
            req.service.config.getCredentials(function(err) {
              if (err) {
                req.response.error = AWS2.util.error(
                  err,
                  { code: "CredentialsError", message: "Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1" }
                );
              }
              done();
            });
          }
        );
        add("VALIDATE_REGION", "validate", function VALIDATE_REGION(req) {
          if (!req.service.isGlobalEndpoint) {
            var dnsHostRegex = new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/);
            if (!req.service.config.region) {
              req.response.error = AWS2.util.error(
                new Error(),
                { code: "ConfigError", message: "Missing region in config" }
              );
            } else if (!dnsHostRegex.test(req.service.config.region)) {
              req.response.error = AWS2.util.error(
                new Error(),
                { code: "ConfigError", message: "Invalid region in config" }
              );
            }
          }
        });
        add("BUILD_IDEMPOTENCY_TOKENS", "validate", function BUILD_IDEMPOTENCY_TOKENS(req) {
          if (!req.service.api.operations) {
            return;
          }
          var operation = req.service.api.operations[req.operation];
          if (!operation) {
            return;
          }
          var idempotentMembers = operation.idempotentMembers;
          if (!idempotentMembers.length) {
            return;
          }
          var params = AWS2.util.copy(req.params);
          for (var i = 0, iLen = idempotentMembers.length; i < iLen; i++) {
            if (!params[idempotentMembers[i]]) {
              params[idempotentMembers[i]] = AWS2.util.uuid.v4();
            }
          }
          req.params = params;
        });
        add("VALIDATE_PARAMETERS", "validate", function VALIDATE_PARAMETERS(req) {
          if (!req.service.api.operations) {
            return;
          }
          var rules = req.service.api.operations[req.operation].input;
          var validation = req.service.config.paramValidation;
          new AWS2.ParamValidator(validation).validate(rules, req.params);
        });
        add("COMPUTE_CHECKSUM", "afterBuild", function COMPUTE_CHECKSUM(req) {
          if (!req.service.api.operations) {
            return;
          }
          var operation = req.service.api.operations[req.operation];
          if (!operation) {
            return;
          }
          var body = req.httpRequest.body;
          var isNonStreamingPayload = body && (AWS2.util.Buffer.isBuffer(body) || typeof body === "string");
          var headers = req.httpRequest.headers;
          if (operation.httpChecksumRequired && req.service.config.computeChecksums && isNonStreamingPayload && !headers["Content-MD5"]) {
            var md5 = AWS2.util.crypto.md5(body, "base64");
            headers["Content-MD5"] = md5;
          }
        });
        addAsync("COMPUTE_SHA256", "afterBuild", function COMPUTE_SHA256(req, done) {
          req.haltHandlersOnError();
          if (!req.service.api.operations) {
            return;
          }
          var operation = req.service.api.operations[req.operation];
          var authtype = operation ? operation.authtype : "";
          if (!req.service.api.signatureVersion && !authtype && !req.service.config.signatureVersion)
            return done();
          if (req.service.getSignerClass(req) === AWS2.Signers.V4) {
            var body = req.httpRequest.body || "";
            if (authtype.indexOf("unsigned-body") >= 0) {
              req.httpRequest.headers["X-Amz-Content-Sha256"] = "UNSIGNED-PAYLOAD";
              return done();
            }
            AWS2.util.computeSha256(body, function(err, sha) {
              if (err) {
                done(err);
              } else {
                req.httpRequest.headers["X-Amz-Content-Sha256"] = sha;
                done();
              }
            });
          } else {
            done();
          }
        });
        add("SET_CONTENT_LENGTH", "afterBuild", function SET_CONTENT_LENGTH(req) {
          var authtype = getOperationAuthtype(req);
          var payloadMember = AWS2.util.getRequestPayloadShape(req);
          if (req.httpRequest.headers["Content-Length"] === void 0) {
            try {
              var length = AWS2.util.string.byteLength(req.httpRequest.body);
              req.httpRequest.headers["Content-Length"] = length;
            } catch (err) {
              if (payloadMember && payloadMember.isStreaming) {
                if (payloadMember.requiresLength) {
                  throw err;
                } else if (authtype.indexOf("unsigned-body") >= 0) {
                  req.httpRequest.headers["Transfer-Encoding"] = "chunked";
                  return;
                } else {
                  throw err;
                }
              }
              throw err;
            }
          }
        });
        add("SET_HTTP_HOST", "afterBuild", function SET_HTTP_HOST(req) {
          req.httpRequest.headers["Host"] = req.httpRequest.endpoint.host;
        });
        add("SET_TRACE_ID", "afterBuild", function SET_TRACE_ID(req) {
          var traceIdHeaderName = "X-Amzn-Trace-Id";
          if (AWS2.util.isNode() && !Object.hasOwnProperty.call(req.httpRequest.headers, traceIdHeaderName)) {
            var ENV_LAMBDA_FUNCTION_NAME = "AWS_LAMBDA_FUNCTION_NAME";
            var ENV_TRACE_ID = "_X_AMZN_TRACE_ID";
            var functionName = process.env[ENV_LAMBDA_FUNCTION_NAME];
            var traceId = process.env[ENV_TRACE_ID];
            if (typeof functionName === "string" && functionName.length > 0 && typeof traceId === "string" && traceId.length > 0) {
              req.httpRequest.headers[traceIdHeaderName] = traceId;
            }
          }
        });
        add("RESTART", "restart", function RESTART() {
          var err = this.response.error;
          if (!err || !err.retryable)
            return;
          this.httpRequest = new AWS2.HttpRequest(
            this.service.endpoint,
            this.service.region
          );
          if (this.response.retryCount < this.service.config.maxRetries) {
            this.response.retryCount++;
          } else {
            this.response.error = null;
          }
        });
        var addToHead = true;
        addAsync("DISCOVER_ENDPOINT", "sign", DISCOVER_ENDPOINT, addToHead);
        addAsync("SIGN", "sign", function SIGN(req, done) {
          var service = req.service;
          var operations = req.service.api.operations || {};
          var operation = operations[req.operation];
          var authtype = operation ? operation.authtype : "";
          if (!service.api.signatureVersion && !authtype && !service.config.signatureVersion)
            return done();
          if (authtype === "bearer" || service.config.signatureVersion === "bearer") {
            service.config.getToken(function(err, token) {
              if (err) {
                req.response.error = err;
                return done();
              }
              try {
                var SignerClass = service.getSignerClass(req);
                var signer = new SignerClass(req.httpRequest);
                signer.addAuthorization(token);
              } catch (e) {
                req.response.error = e;
              }
              done();
            });
          } else {
            service.config.getCredentials(function(err, credentials) {
              if (err) {
                req.response.error = err;
                return done();
              }
              try {
                var date = service.getSkewCorrectedDate();
                var SignerClass = service.getSignerClass(req);
                var signer = new SignerClass(
                  req.httpRequest,
                  service.getSigningName(req),
                  {
                    signatureCache: service.config.signatureCache,
                    operation,
                    signatureVersion: service.api.signatureVersion
                  }
                );
                signer.setServiceClientId(service._clientId);
                delete req.httpRequest.headers["Authorization"];
                delete req.httpRequest.headers["Date"];
                delete req.httpRequest.headers["X-Amz-Date"];
                signer.addAuthorization(credentials, date);
                req.signedAt = date;
              } catch (e) {
                req.response.error = e;
              }
              done();
            });
          }
        });
        add("VALIDATE_RESPONSE", "validateResponse", function VALIDATE_RESPONSE(resp) {
          if (this.service.successfulResponse(resp, this)) {
            resp.data = {};
            resp.error = null;
          } else {
            resp.data = null;
            resp.error = AWS2.util.error(
              new Error(),
              { code: "UnknownError", message: "An unknown error occurred." }
            );
          }
        });
        add("ERROR", "error", function ERROR(err, resp) {
          var errorCodeMapping = resp.request.service.api.errorCodeMapping;
          if (errorCodeMapping && err && err.code) {
            var mapping = errorCodeMapping[err.code];
            if (mapping) {
              resp.error.code = mapping.code;
            }
          }
        }, true);
        addAsync("SEND", "send", function SEND(resp, done) {
          resp.httpResponse._abortCallback = done;
          resp.error = null;
          resp.data = null;
          function callback(httpResp) {
            resp.httpResponse.stream = httpResp;
            var stream = resp.request.httpRequest.stream;
            var service = resp.request.service;
            var api = service.api;
            var operationName = resp.request.operation;
            var operation = api.operations[operationName] || {};
            httpResp.on("headers", function onHeaders(statusCode, headers, statusMessage) {
              resp.request.emit(
                "httpHeaders",
                [statusCode, headers, resp, statusMessage]
              );
              if (!resp.httpResponse.streaming) {
                if (AWS2.HttpClient.streamsApiVersion === 2) {
                  if (operation.hasEventOutput && service.successfulResponse(resp)) {
                    resp.request.emit("httpDone");
                    done();
                    return;
                  }
                  httpResp.on("readable", function onReadable() {
                    var data = httpResp.read();
                    if (data !== null) {
                      resp.request.emit("httpData", [data, resp]);
                    }
                  });
                } else {
                  httpResp.on("data", function onData(data) {
                    resp.request.emit("httpData", [data, resp]);
                  });
                }
              }
            });
            httpResp.on("end", function onEnd() {
              if (!stream || !stream.didCallback) {
                if (AWS2.HttpClient.streamsApiVersion === 2 && (operation.hasEventOutput && service.successfulResponse(resp))) {
                  return;
                }
                resp.request.emit("httpDone");
                done();
              }
            });
          }
          function progress(httpResp) {
            httpResp.on("sendProgress", function onSendProgress(value) {
              resp.request.emit("httpUploadProgress", [value, resp]);
            });
            httpResp.on("receiveProgress", function onReceiveProgress(value) {
              resp.request.emit("httpDownloadProgress", [value, resp]);
            });
          }
          function error(err) {
            if (err.code !== "RequestAbortedError") {
              var errCode = err.code === "TimeoutError" ? err.code : "NetworkingError";
              err = AWS2.util.error(err, {
                code: errCode,
                region: resp.request.httpRequest.region,
                hostname: resp.request.httpRequest.endpoint.hostname,
                retryable: true
              });
            }
            resp.error = err;
            resp.request.emit("httpError", [resp.error, resp], function() {
              done();
            });
          }
          function executeSend() {
            var http = AWS2.HttpClient.getInstance();
            var httpOptions = resp.request.service.config.httpOptions || {};
            try {
              var stream = http.handleRequest(
                resp.request.httpRequest,
                httpOptions,
                callback,
                error
              );
              progress(stream);
            } catch (err) {
              error(err);
            }
          }
          var timeDiff = (resp.request.service.getSkewCorrectedDate() - this.signedAt) / 1e3;
          if (timeDiff >= 60 * 10) {
            this.emit("sign", [this], function(err) {
              if (err)
                done(err);
              else
                executeSend();
            });
          } else {
            executeSend();
          }
        });
        add(
          "HTTP_HEADERS",
          "httpHeaders",
          function HTTP_HEADERS(statusCode, headers, resp, statusMessage) {
            resp.httpResponse.statusCode = statusCode;
            resp.httpResponse.statusMessage = statusMessage;
            resp.httpResponse.headers = headers;
            resp.httpResponse.body = AWS2.util.buffer.toBuffer("");
            resp.httpResponse.buffers = [];
            resp.httpResponse.numBytes = 0;
            var dateHeader = headers.date || headers.Date;
            var service = resp.request.service;
            if (dateHeader) {
              var serverTime = Date.parse(dateHeader);
              if (service.config.correctClockSkew && service.isClockSkewed(serverTime)) {
                service.applyClockOffset(serverTime);
              }
            }
          }
        );
        add("HTTP_DATA", "httpData", function HTTP_DATA(chunk, resp) {
          if (chunk) {
            if (AWS2.util.isNode()) {
              resp.httpResponse.numBytes += chunk.length;
              var total = resp.httpResponse.headers["content-length"];
              var progress = { loaded: resp.httpResponse.numBytes, total };
              resp.request.emit("httpDownloadProgress", [progress, resp]);
            }
            resp.httpResponse.buffers.push(AWS2.util.buffer.toBuffer(chunk));
          }
        });
        add("HTTP_DONE", "httpDone", function HTTP_DONE(resp) {
          if (resp.httpResponse.buffers && resp.httpResponse.buffers.length > 0) {
            var body = AWS2.util.buffer.concat(resp.httpResponse.buffers);
            resp.httpResponse.body = body;
          }
          delete resp.httpResponse.numBytes;
          delete resp.httpResponse.buffers;
        });
        add("FINALIZE_ERROR", "retry", function FINALIZE_ERROR(resp) {
          if (resp.httpResponse.statusCode) {
            resp.error.statusCode = resp.httpResponse.statusCode;
            if (resp.error.retryable === void 0) {
              resp.error.retryable = this.service.retryableError(resp.error, this);
            }
          }
        });
        add("INVALIDATE_CREDENTIALS", "retry", function INVALIDATE_CREDENTIALS(resp) {
          if (!resp.error)
            return;
          switch (resp.error.code) {
            case "RequestExpired":
            case "ExpiredTokenException":
            case "ExpiredToken":
              resp.error.retryable = true;
              resp.request.service.config.credentials.expired = true;
          }
        });
        add("EXPIRED_SIGNATURE", "retry", function EXPIRED_SIGNATURE(resp) {
          var err = resp.error;
          if (!err)
            return;
          if (typeof err.code === "string" && typeof err.message === "string") {
            if (err.code.match(/Signature/) && err.message.match(/expired/)) {
              resp.error.retryable = true;
            }
          }
        });
        add("CLOCK_SKEWED", "retry", function CLOCK_SKEWED(resp) {
          if (!resp.error)
            return;
          if (this.service.clockSkewError(resp.error) && this.service.config.correctClockSkew) {
            resp.error.retryable = true;
          }
        });
        add("REDIRECT", "retry", function REDIRECT(resp) {
          if (resp.error && resp.error.statusCode >= 300 && resp.error.statusCode < 400 && resp.httpResponse.headers["location"]) {
            this.httpRequest.endpoint = new AWS2.Endpoint(resp.httpResponse.headers["location"]);
            this.httpRequest.headers["Host"] = this.httpRequest.endpoint.host;
            resp.error.redirect = true;
            resp.error.retryable = true;
          }
        });
        add("RETRY_CHECK", "retry", function RETRY_CHECK(resp) {
          if (resp.error) {
            if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {
              resp.error.retryDelay = 0;
            } else if (resp.retryCount < resp.maxRetries) {
              resp.error.retryDelay = this.service.retryDelays(resp.retryCount, resp.error) || 0;
            }
          }
        });
        addAsync("RESET_RETRY_STATE", "afterRetry", function RESET_RETRY_STATE(resp, done) {
          var delay, willRetry = false;
          if (resp.error) {
            delay = resp.error.retryDelay || 0;
            if (resp.error.retryable && resp.retryCount < resp.maxRetries) {
              resp.retryCount++;
              willRetry = true;
            } else if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {
              resp.redirectCount++;
              willRetry = true;
            }
          }
          if (willRetry && delay >= 0) {
            resp.error = null;
            setTimeout(done, delay);
          } else {
            done();
          }
        });
      }),
      CorePost: new SequentialExecutor().addNamedListeners(function(add) {
        add("EXTRACT_REQUEST_ID", "extractData", AWS2.util.extractRequestId);
        add("EXTRACT_REQUEST_ID", "extractError", AWS2.util.extractRequestId);
        add("ENOTFOUND_ERROR", "httpError", function ENOTFOUND_ERROR(err) {
          function isDNSError(err2) {
            return err2.errno === "ENOTFOUND" || typeof err2.errno === "number" && typeof AWS2.util.getSystemErrorName === "function" && ["EAI_NONAME", "EAI_NODATA"].indexOf(AWS2.util.getSystemErrorName(err2.errno) >= 0);
          }
          if (err.code === "NetworkingError" && isDNSError(err)) {
            var message = "Inaccessible host: `" + err.hostname + "' at port `" + err.port + "'. This service may not be available in the `" + err.region + "' region.";
            this.response.error = AWS2.util.error(new Error(message), {
              code: "UnknownEndpoint",
              region: err.region,
              hostname: err.hostname,
              retryable: true,
              originalError: err
            });
          }
        });
      }),
      Logger: new SequentialExecutor().addNamedListeners(function(add) {
        add("LOG_REQUEST", "complete", function LOG_REQUEST(resp) {
          var req = resp.request;
          var logger = req.service.config.logger;
          if (!logger)
            return;
          function filterSensitiveLog(inputShape, shape) {
            if (!shape) {
              return shape;
            }
            if (inputShape.isSensitive) {
              return "***SensitiveInformation***";
            }
            switch (inputShape.type) {
              case "structure":
                var struct = {};
                AWS2.util.each(shape, function(subShapeName, subShape) {
                  if (Object.prototype.hasOwnProperty.call(inputShape.members, subShapeName)) {
                    struct[subShapeName] = filterSensitiveLog(inputShape.members[subShapeName], subShape);
                  } else {
                    struct[subShapeName] = subShape;
                  }
                });
                return struct;
              case "list":
                var list = [];
                AWS2.util.arrayEach(shape, function(subShape, index) {
                  list.push(filterSensitiveLog(inputShape.member, subShape));
                });
                return list;
              case "map":
                var map = {};
                AWS2.util.each(shape, function(key, value) {
                  map[key] = filterSensitiveLog(inputShape.value, value);
                });
                return map;
              default:
                return shape;
            }
          }
          function buildMessage() {
            var time = resp.request.service.getSkewCorrectedDate().getTime();
            var delta = (time - req.startTime.getTime()) / 1e3;
            var ansi = logger.isTTY ? true : false;
            var status = resp.httpResponse.statusCode;
            var censoredParams = req.params;
            if (req.service.api.operations && req.service.api.operations[req.operation] && req.service.api.operations[req.operation].input) {
              var inputShape = req.service.api.operations[req.operation].input;
              censoredParams = filterSensitiveLog(inputShape, req.params);
            }
            var params = require("util").inspect(censoredParams, true, null);
            var message = "";
            if (ansi)
              message += "\x1B[33m";
            message += "[AWS " + req.service.serviceIdentifier + " " + status;
            message += " " + delta.toString() + "s " + resp.retryCount + " retries]";
            if (ansi)
              message += "\x1B[0;1m";
            message += " " + AWS2.util.string.lowerFirst(req.operation);
            message += "(" + params + ")";
            if (ansi)
              message += "\x1B[0m";
            return message;
          }
          var line = buildMessage();
          if (typeof logger.log === "function") {
            logger.log(line);
          } else if (typeof logger.write === "function") {
            logger.write(line + "\n");
          }
        });
      }),
      Json: new SequentialExecutor().addNamedListeners(function(add) {
        var svc = require_json();
        add("BUILD", "build", svc.buildRequest);
        add("EXTRACT_DATA", "extractData", svc.extractData);
        add("EXTRACT_ERROR", "extractError", svc.extractError);
      }),
      Rest: new SequentialExecutor().addNamedListeners(function(add) {
        var svc = require_rest();
        add("BUILD", "build", svc.buildRequest);
        add("EXTRACT_DATA", "extractData", svc.extractData);
        add("EXTRACT_ERROR", "extractError", svc.extractError);
      }),
      RestJson: new SequentialExecutor().addNamedListeners(function(add) {
        var svc = require_rest_json();
        add("BUILD", "build", svc.buildRequest);
        add("EXTRACT_DATA", "extractData", svc.extractData);
        add("EXTRACT_ERROR", "extractError", svc.extractError);
      }),
      RestXml: new SequentialExecutor().addNamedListeners(function(add) {
        var svc = require_rest_xml();
        add("BUILD", "build", svc.buildRequest);
        add("EXTRACT_DATA", "extractData", svc.extractData);
        add("EXTRACT_ERROR", "extractError", svc.extractError);
      }),
      Query: new SequentialExecutor().addNamedListeners(function(add) {
        var svc = require_query();
        add("BUILD", "build", svc.buildRequest);
        add("EXTRACT_DATA", "extractData", svc.extractData);
        add("EXTRACT_ERROR", "extractError", svc.extractError);
      })
    };
  }
});

// node_modules/aws-sdk/lib/state_machine.js
var require_state_machine = __commonJS({
  "node_modules/aws-sdk/lib/state_machine.js"(exports2, module2) {
    function AcceptorStateMachine(states, state) {
      this.currentState = state || null;
      this.states = states || {};
    }
    AcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {
      if (typeof finalState === "function") {
        inputError = bindObject;
        bindObject = done;
        done = finalState;
        finalState = null;
      }
      var self = this;
      var state = self.states[self.currentState];
      state.fn.call(bindObject || self, inputError, function(err) {
        if (err) {
          if (state.fail)
            self.currentState = state.fail;
          else
            return done ? done.call(bindObject, err) : null;
        } else {
          if (state.accept)
            self.currentState = state.accept;
          else
            return done ? done.call(bindObject) : null;
        }
        if (self.currentState === finalState) {
          return done ? done.call(bindObject, err) : null;
        }
        self.runTo(finalState, done, bindObject, err);
      });
    };
    AcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {
      if (typeof acceptState === "function") {
        fn = acceptState;
        acceptState = null;
        failState = null;
      } else if (typeof failState === "function") {
        fn = failState;
        failState = null;
      }
      if (!this.currentState)
        this.currentState = name;
      this.states[name] = { accept: acceptState, fail: failState, fn };
      return this;
    };
    module2.exports = AcceptorStateMachine;
  }
});

// node_modules/jmespath/jmespath.js
var require_jmespath = __commonJS({
  "node_modules/jmespath/jmespath.js"(exports2) {
    (function(exports3) {
      "use strict";
      function isArray(obj) {
        if (obj !== null) {
          return Object.prototype.toString.call(obj) === "[object Array]";
        } else {
          return false;
        }
      }
      function isObject(obj) {
        if (obj !== null) {
          return Object.prototype.toString.call(obj) === "[object Object]";
        } else {
          return false;
        }
      }
      function strictDeepEqual(first, second) {
        if (first === second) {
          return true;
        }
        var firstType = Object.prototype.toString.call(first);
        if (firstType !== Object.prototype.toString.call(second)) {
          return false;
        }
        if (isArray(first) === true) {
          if (first.length !== second.length) {
            return false;
          }
          for (var i = 0; i < first.length; i++) {
            if (strictDeepEqual(first[i], second[i]) === false) {
              return false;
            }
          }
          return true;
        }
        if (isObject(first) === true) {
          var keysSeen = {};
          for (var key in first) {
            if (hasOwnProperty.call(first, key)) {
              if (strictDeepEqual(first[key], second[key]) === false) {
                return false;
              }
              keysSeen[key] = true;
            }
          }
          for (var key2 in second) {
            if (hasOwnProperty.call(second, key2)) {
              if (keysSeen[key2] !== true) {
                return false;
              }
            }
          }
          return true;
        }
        return false;
      }
      function isFalse(obj) {
        if (obj === "" || obj === false || obj === null) {
          return true;
        } else if (isArray(obj) && obj.length === 0) {
          return true;
        } else if (isObject(obj)) {
          for (var key in obj) {
            if (obj.hasOwnProperty(key)) {
              return false;
            }
          }
          return true;
        } else {
          return false;
        }
      }
      function objValues(obj) {
        var keys = Object.keys(obj);
        var values = [];
        for (var i = 0; i < keys.length; i++) {
          values.push(obj[keys[i]]);
        }
        return values;
      }
      function merge(a, b) {
        var merged = {};
        for (var key in a) {
          merged[key] = a[key];
        }
        for (var key2 in b) {
          merged[key2] = b[key2];
        }
        return merged;
      }
      var trimLeft;
      if (typeof String.prototype.trimLeft === "function") {
        trimLeft = function(str) {
          return str.trimLeft();
        };
      } else {
        trimLeft = function(str) {
          return str.match(/^\s*(.*)/)[1];
        };
      }
      var TYPE_NUMBER = 0;
      var TYPE_ANY = 1;
      var TYPE_STRING = 2;
      var TYPE_ARRAY = 3;
      var TYPE_OBJECT = 4;
      var TYPE_BOOLEAN = 5;
      var TYPE_EXPREF = 6;
      var TYPE_NULL = 7;
      var TYPE_ARRAY_NUMBER = 8;
      var TYPE_ARRAY_STRING = 9;
      var TYPE_NAME_TABLE = {
        0: "number",
        1: "any",
        2: "string",
        3: "array",
        4: "object",
        5: "boolean",
        6: "expression",
        7: "null",
        8: "Array<number>",
        9: "Array<string>"
      };
      var TOK_EOF = "EOF";
      var TOK_UNQUOTEDIDENTIFIER = "UnquotedIdentifier";
      var TOK_QUOTEDIDENTIFIER = "QuotedIdentifier";
      var TOK_RBRACKET = "Rbracket";
      var TOK_RPAREN = "Rparen";
      var TOK_COMMA = "Comma";
      var TOK_COLON = "Colon";
      var TOK_RBRACE = "Rbrace";
      var TOK_NUMBER = "Number";
      var TOK_CURRENT = "Current";
      var TOK_EXPREF = "Expref";
      var TOK_PIPE = "Pipe";
      var TOK_OR = "Or";
      var TOK_AND = "And";
      var TOK_EQ = "EQ";
      var TOK_GT = "GT";
      var TOK_LT = "LT";
      var TOK_GTE = "GTE";
      var TOK_LTE = "LTE";
      var TOK_NE = "NE";
      var TOK_FLATTEN = "Flatten";
      var TOK_STAR = "Star";
      var TOK_FILTER = "Filter";
      var TOK_DOT = "Dot";
      var TOK_NOT = "Not";
      var TOK_LBRACE = "Lbrace";
      var TOK_LBRACKET = "Lbracket";
      var TOK_LPAREN = "Lparen";
      var TOK_LITERAL = "Literal";
      var basicTokens = {
        ".": TOK_DOT,
        "*": TOK_STAR,
        ",": TOK_COMMA,
        ":": TOK_COLON,
        "{": TOK_LBRACE,
        "}": TOK_RBRACE,
        "]": TOK_RBRACKET,
        "(": TOK_LPAREN,
        ")": TOK_RPAREN,
        "@": TOK_CURRENT
      };
      var operatorStartToken = {
        "<": true,
        ">": true,
        "=": true,
        "!": true
      };
      var skipChars = {
        " ": true,
        "	": true,
        "\n": true
      };
      function isAlpha(ch) {
        return ch >= "a" && ch <= "z" || ch >= "A" && ch <= "Z" || ch === "_";
      }
      function isNum(ch) {
        return ch >= "0" && ch <= "9" || ch === "-";
      }
      function isAlphaNum(ch) {
        return ch >= "a" && ch <= "z" || ch >= "A" && ch <= "Z" || ch >= "0" && ch <= "9" || ch === "_";
      }
      function Lexer() {
      }
      Lexer.prototype = {
        tokenize: function(stream) {
          var tokens = [];
          this._current = 0;
          var start;
          var identifier;
          var token;
          while (this._current < stream.length) {
            if (isAlpha(stream[this._current])) {
              start = this._current;
              identifier = this._consumeUnquotedIdentifier(stream);
              tokens.push({
                type: TOK_UNQUOTEDIDENTIFIER,
                value: identifier,
                start
              });
            } else if (basicTokens[stream[this._current]] !== void 0) {
              tokens.push({
                type: basicTokens[stream[this._current]],
                value: stream[this._current],
                start: this._current
              });
              this._current++;
            } else if (isNum(stream[this._current])) {
              token = this._consumeNumber(stream);
              tokens.push(token);
            } else if (stream[this._current] === "[") {
              token = this._consumeLBracket(stream);
              tokens.push(token);
            } else if (stream[this._current] === '"') {
              start = this._current;
              identifier = this._consumeQuotedIdentifier(stream);
              tokens.push({
                type: TOK_QUOTEDIDENTIFIER,
                value: identifier,
                start
              });
            } else if (stream[this._current] === "'") {
              start = this._current;
              identifier = this._consumeRawStringLiteral(stream);
              tokens.push({
                type: TOK_LITERAL,
                value: identifier,
                start
              });
            } else if (stream[this._current] === "`") {
              start = this._current;
              var literal = this._consumeLiteral(stream);
              tokens.push({
                type: TOK_LITERAL,
                value: literal,
                start
              });
            } else if (operatorStartToken[stream[this._current]] !== void 0) {
              tokens.push(this._consumeOperator(stream));
            } else if (skipChars[stream[this._current]] !== void 0) {
              this._current++;
            } else if (stream[this._current] === "&") {
              start = this._current;
              this._current++;
              if (stream[this._current] === "&") {
                this._current++;
                tokens.push({ type: TOK_AND, value: "&&", start });
              } else {
                tokens.push({ type: TOK_EXPREF, value: "&", start });
              }
            } else if (stream[this._current] === "|") {
              start = this._current;
              this._current++;
              if (stream[this._current] === "|") {
                this._current++;
                tokens.push({ type: TOK_OR, value: "||", start });
              } else {
                tokens.push({ type: TOK_PIPE, value: "|", start });
              }
            } else {
              var error = new Error("Unknown character:" + stream[this._current]);
              error.name = "LexerError";
              throw error;
            }
          }
          return tokens;
        },
        _consumeUnquotedIdentifier: function(stream) {
          var start = this._current;
          this._current++;
          while (this._current < stream.length && isAlphaNum(stream[this._current])) {
            this._current++;
          }
          return stream.slice(start, this._current);
        },
        _consumeQuotedIdentifier: function(stream) {
          var start = this._current;
          this._current++;
          var maxLength = stream.length;
          while (stream[this._current] !== '"' && this._current < maxLength) {
            var current = this._current;
            if (stream[current] === "\\" && (stream[current + 1] === "\\" || stream[current + 1] === '"')) {
              current += 2;
            } else {
              current++;
            }
            this._current = current;
          }
          this._current++;
          return JSON.parse(stream.slice(start, this._current));
        },
        _consumeRawStringLiteral: function(stream) {
          var start = this._current;
          this._current++;
          var maxLength = stream.length;
          while (stream[this._current] !== "'" && this._current < maxLength) {
            var current = this._current;
            if (stream[current] === "\\" && (stream[current + 1] === "\\" || stream[current + 1] === "'")) {
              current += 2;
            } else {
              current++;
            }
            this._current = current;
          }
          this._current++;
          var literal = stream.slice(start + 1, this._current - 1);
          return literal.replace("\\'", "'");
        },
        _consumeNumber: function(stream) {
          var start = this._current;
          this._current++;
          var maxLength = stream.length;
          while (isNum(stream[this._current]) && this._current < maxLength) {
            this._current++;
          }
          var value = parseInt(stream.slice(start, this._current));
          return { type: TOK_NUMBER, value, start };
        },
        _consumeLBracket: function(stream) {
          var start = this._current;
          this._current++;
          if (stream[this._current] === "?") {
            this._current++;
            return { type: TOK_FILTER, value: "[?", start };
          } else if (stream[this._current] === "]") {
            this._current++;
            return { type: TOK_FLATTEN, value: "[]", start };
          } else {
            return { type: TOK_LBRACKET, value: "[", start };
          }
        },
        _consumeOperator: function(stream) {
          var start = this._current;
          var startingChar = stream[start];
          this._current++;
          if (startingChar === "!") {
            if (stream[this._current] === "=") {
              this._current++;
              return { type: TOK_NE, value: "!=", start };
            } else {
              return { type: TOK_NOT, value: "!", start };
            }
          } else if (startingChar === "<") {
            if (stream[this._current] === "=") {
              this._current++;
              return { type: TOK_LTE, value: "<=", start };
            } else {
              return { type: TOK_LT, value: "<", start };
            }
          } else if (startingChar === ">") {
            if (stream[this._current] === "=") {
              this._current++;
              return { type: TOK_GTE, value: ">=", start };
            } else {
              return { type: TOK_GT, value: ">", start };
            }
          } else if (startingChar === "=") {
            if (stream[this._current] === "=") {
              this._current++;
              return { type: TOK_EQ, value: "==", start };
            }
          }
        },
        _consumeLiteral: function(stream) {
          this._current++;
          var start = this._current;
          var maxLength = stream.length;
          var literal;
          while (stream[this._current] !== "`" && this._current < maxLength) {
            var current = this._current;
            if (stream[current] === "\\" && (stream[current + 1] === "\\" || stream[current + 1] === "`")) {
              current += 2;
            } else {
              current++;
            }
            this._current = current;
          }
          var literalString = trimLeft(stream.slice(start, this._current));
          literalString = literalString.replace("\\`", "`");
          if (this._looksLikeJSON(literalString)) {
            literal = JSON.parse(literalString);
          } else {
            literal = JSON.parse('"' + literalString + '"');
          }
          this._current++;
          return literal;
        },
        _looksLikeJSON: function(literalString) {
          var startingChars = '[{"';
          var jsonLiterals = ["true", "false", "null"];
          var numberLooking = "-0123456789";
          if (literalString === "") {
            return false;
          } else if (startingChars.indexOf(literalString[0]) >= 0) {
            return true;
          } else if (jsonLiterals.indexOf(literalString) >= 0) {
            return true;
          } else if (numberLooking.indexOf(literalString[0]) >= 0) {
            try {
              JSON.parse(literalString);
              return true;
            } catch (ex) {
              return false;
            }
          } else {
            return false;
          }
        }
      };
      var bindingPower = {};
      bindingPower[TOK_EOF] = 0;
      bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;
      bindingPower[TOK_QUOTEDIDENTIFIER] = 0;
      bindingPower[TOK_RBRACKET] = 0;
      bindingPower[TOK_RPAREN] = 0;
      bindingPower[TOK_COMMA] = 0;
      bindingPower[TOK_RBRACE] = 0;
      bindingPower[TOK_NUMBER] = 0;
      bindingPower[TOK_CURRENT] = 0;
      bindingPower[TOK_EXPREF] = 0;
      bindingPower[TOK_PIPE] = 1;
      bindingPower[TOK_OR] = 2;
      bindingPower[TOK_AND] = 3;
      bindingPower[TOK_EQ] = 5;
      bindingPower[TOK_GT] = 5;
      bindingPower[TOK_LT] = 5;
      bindingPower[TOK_GTE] = 5;
      bindingPower[TOK_LTE] = 5;
      bindingPower[TOK_NE] = 5;
      bindingPower[TOK_FLATTEN] = 9;
      bindingPower[TOK_STAR] = 20;
      bindingPower[TOK_FILTER] = 21;
      bindingPower[TOK_DOT] = 40;
      bindingPower[TOK_NOT] = 45;
      bindingPower[TOK_LBRACE] = 50;
      bindingPower[TOK_LBRACKET] = 55;
      bindingPower[TOK_LPAREN] = 60;
      function Parser() {
      }
      Parser.prototype = {
        parse: function(expression) {
          this._loadTokens(expression);
          this.index = 0;
          var ast = this.expression(0);
          if (this._lookahead(0) !== TOK_EOF) {
            var t = this._lookaheadToken(0);
            var error = new Error(
              "Unexpected token type: " + t.type + ", value: " + t.value
            );
            error.name = "ParserError";
            throw error;
          }
          return ast;
        },
        _loadTokens: function(expression) {
          var lexer = new Lexer();
          var tokens = lexer.tokenize(expression);
          tokens.push({ type: TOK_EOF, value: "", start: expression.length });
          this.tokens = tokens;
        },
        expression: function(rbp) {
          var leftToken = this._lookaheadToken(0);
          this._advance();
          var left = this.nud(leftToken);
          var currentToken = this._lookahead(0);
          while (rbp < bindingPower[currentToken]) {
            this._advance();
            left = this.led(currentToken, left);
            currentToken = this._lookahead(0);
          }
          return left;
        },
        _lookahead: function(number) {
          return this.tokens[this.index + number].type;
        },
        _lookaheadToken: function(number) {
          return this.tokens[this.index + number];
        },
        _advance: function() {
          this.index++;
        },
        nud: function(token) {
          var left;
          var right;
          var expression;
          switch (token.type) {
            case TOK_LITERAL:
              return { type: "Literal", value: token.value };
            case TOK_UNQUOTEDIDENTIFIER:
              return { type: "Field", name: token.value };
            case TOK_QUOTEDIDENTIFIER:
              var node = { type: "Field", name: token.value };
              if (this._lookahead(0) === TOK_LPAREN) {
                throw new Error("Quoted identifier not allowed for function names.");
              }
              return node;
            case TOK_NOT:
              right = this.expression(bindingPower.Not);
              return { type: "NotExpression", children: [right] };
            case TOK_STAR:
              left = { type: "Identity" };
              right = null;
              if (this._lookahead(0) === TOK_RBRACKET) {
                right = { type: "Identity" };
              } else {
                right = this._parseProjectionRHS(bindingPower.Star);
              }
              return { type: "ValueProjection", children: [left, right] };
            case TOK_FILTER:
              return this.led(token.type, { type: "Identity" });
            case TOK_LBRACE:
              return this._parseMultiselectHash();
            case TOK_FLATTEN:
              left = { type: TOK_FLATTEN, children: [{ type: "Identity" }] };
              right = this._parseProjectionRHS(bindingPower.Flatten);
              return { type: "Projection", children: [left, right] };
            case TOK_LBRACKET:
              if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {
                right = this._parseIndexExpression();
                return this._projectIfSlice({ type: "Identity" }, right);
              } else if (this._lookahead(0) === TOK_STAR && this._lookahead(1) === TOK_RBRACKET) {
                this._advance();
                this._advance();
                right = this._parseProjectionRHS(bindingPower.Star);
                return {
                  type: "Projection",
                  children: [{ type: "Identity" }, right]
                };
              }
              return this._parseMultiselectList();
            case TOK_CURRENT:
              return { type: TOK_CURRENT };
            case TOK_EXPREF:
              expression = this.expression(bindingPower.Expref);
              return { type: "ExpressionReference", children: [expression] };
            case TOK_LPAREN:
              var args = [];
              while (this._lookahead(0) !== TOK_RPAREN) {
                if (this._lookahead(0) === TOK_CURRENT) {
                  expression = { type: TOK_CURRENT };
                  this._advance();
                } else {
                  expression = this.expression(0);
                }
                args.push(expression);
              }
              this._match(TOK_RPAREN);
              return args[0];
            default:
              this._errorToken(token);
          }
        },
        led: function(tokenName, left) {
          var right;
          switch (tokenName) {
            case TOK_DOT:
              var rbp = bindingPower.Dot;
              if (this._lookahead(0) !== TOK_STAR) {
                right = this._parseDotRHS(rbp);
                return { type: "Subexpression", children: [left, right] };
              }
              this._advance();
              right = this._parseProjectionRHS(rbp);
              return { type: "ValueProjection", children: [left, right] };
            case TOK_PIPE:
              right = this.expression(bindingPower.Pipe);
              return { type: TOK_PIPE, children: [left, right] };
            case TOK_OR:
              right = this.expression(bindingPower.Or);
              return { type: "OrExpression", children: [left, right] };
            case TOK_AND:
              right = this.expression(bindingPower.And);
              return { type: "AndExpression", children: [left, right] };
            case TOK_LPAREN:
              var name = left.name;
              var args = [];
              var expression, node;
              while (this._lookahead(0) !== TOK_RPAREN) {
                if (this._lookahead(0) === TOK_CURRENT) {
                  expression = { type: TOK_CURRENT };
                  this._advance();
                } else {
                  expression = this.expression(0);
                }
                if (this._lookahead(0) === TOK_COMMA) {
                  this._match(TOK_COMMA);
                }
                args.push(expression);
              }
              this._match(TOK_RPAREN);
              node = { type: "Function", name, children: args };
              return node;
            case TOK_FILTER:
              var condition = this.expression(0);
              this._match(TOK_RBRACKET);
              if (this._lookahead(0) === TOK_FLATTEN) {
                right = { type: "Identity" };
              } else {
                right = this._parseProjectionRHS(bindingPower.Filter);
              }
              return { type: "FilterProjection", children: [left, right, condition] };
            case TOK_FLATTEN:
              var leftNode = { type: TOK_FLATTEN, children: [left] };
              var rightNode = this._parseProjectionRHS(bindingPower.Flatten);
              return { type: "Projection", children: [leftNode, rightNode] };
            case TOK_EQ:
            case TOK_NE:
            case TOK_GT:
            case TOK_GTE:
            case TOK_LT:
            case TOK_LTE:
              return this._parseComparator(left, tokenName);
            case TOK_LBRACKET:
              var token = this._lookaheadToken(0);
              if (token.type === TOK_NUMBER || token.type === TOK_COLON) {
                right = this._parseIndexExpression();
                return this._projectIfSlice(left, right);
              }
              this._match(TOK_STAR);
              this._match(TOK_RBRACKET);
              right = this._parseProjectionRHS(bindingPower.Star);
              return { type: "Projection", children: [left, right] };
            default:
              this._errorToken(this._lookaheadToken(0));
          }
        },
        _match: function(tokenType) {
          if (this._lookahead(0) === tokenType) {
            this._advance();
          } else {
            var t = this._lookaheadToken(0);
            var error = new Error("Expected " + tokenType + ", got: " + t.type);
            error.name = "ParserError";
            throw error;
          }
        },
        _errorToken: function(token) {
          var error = new Error("Invalid token (" + token.type + '): "' + token.value + '"');
          error.name = "ParserError";
          throw error;
        },
        _parseIndexExpression: function() {
          if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {
            return this._parseSliceExpression();
          } else {
            var node = {
              type: "Index",
              value: this._lookaheadToken(0).value
            };
            this._advance();
            this._match(TOK_RBRACKET);
            return node;
          }
        },
        _projectIfSlice: function(left, right) {
          var indexExpr = { type: "IndexExpression", children: [left, right] };
          if (right.type === "Slice") {
            return {
              type: "Projection",
              children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]
            };
          } else {
            return indexExpr;
          }
        },
        _parseSliceExpression: function() {
          var parts = [null, null, null];
          var index = 0;
          var currentToken = this._lookahead(0);
          while (currentToken !== TOK_RBRACKET && index < 3) {
            if (currentToken === TOK_COLON) {
              index++;
              this._advance();
            } else if (currentToken === TOK_NUMBER) {
              parts[index] = this._lookaheadToken(0).value;
              this._advance();
            } else {
              var t = this._lookahead(0);
              var error = new Error("Syntax error, unexpected token: " + t.value + "(" + t.type + ")");
              error.name = "Parsererror";
              throw error;
            }
            currentToken = this._lookahead(0);
          }
          this._match(TOK_RBRACKET);
          return {
            type: "Slice",
            children: parts
          };
        },
        _parseComparator: function(left, comparator) {
          var right = this.expression(bindingPower[comparator]);
          return { type: "Comparator", name: comparator, children: [left, right] };
        },
        _parseDotRHS: function(rbp) {
          var lookahead = this._lookahead(0);
          var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];
          if (exprTokens.indexOf(lookahead) >= 0) {
            return this.expression(rbp);
          } else if (lookahead === TOK_LBRACKET) {
            this._match(TOK_LBRACKET);
            return this._parseMultiselectList();
          } else if (lookahead === TOK_LBRACE) {
            this._match(TOK_LBRACE);
            return this._parseMultiselectHash();
          }
        },
        _parseProjectionRHS: function(rbp) {
          var right;
          if (bindingPower[this._lookahead(0)] < 10) {
            right = { type: "Identity" };
          } else if (this._lookahead(0) === TOK_LBRACKET) {
            right = this.expression(rbp);
          } else if (this._lookahead(0) === TOK_FILTER) {
            right = this.expression(rbp);
          } else if (this._lookahead(0) === TOK_DOT) {
            this._match(TOK_DOT);
            right = this._parseDotRHS(rbp);
          } else {
            var t = this._lookaheadToken(0);
            var error = new Error("Sytanx error, unexpected token: " + t.value + "(" + t.type + ")");
            error.name = "ParserError";
            throw error;
          }
          return right;
        },
        _parseMultiselectList: function() {
          var expressions = [];
          while (this._lookahead(0) !== TOK_RBRACKET) {
            var expression = this.expression(0);
            expressions.push(expression);
            if (this._lookahead(0) === TOK_COMMA) {
              this._match(TOK_COMMA);
              if (this._lookahead(0) === TOK_RBRACKET) {
                throw new Error("Unexpected token Rbracket");
              }
            }
          }
          this._match(TOK_RBRACKET);
          return { type: "MultiSelectList", children: expressions };
        },
        _parseMultiselectHash: function() {
          var pairs = [];
          var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];
          var keyToken, keyName, value, node;
          for (; ; ) {
            keyToken = this._lookaheadToken(0);
            if (identifierTypes.indexOf(keyToken.type) < 0) {
              throw new Error("Expecting an identifier token, got: " + keyToken.type);
            }
            keyName = keyToken.value;
            this._advance();
            this._match(TOK_COLON);
            value = this.expression(0);
            node = { type: "KeyValuePair", name: keyName, value };
            pairs.push(node);
            if (this._lookahead(0) === TOK_COMMA) {
              this._match(TOK_COMMA);
            } else if (this._lookahead(0) === TOK_RBRACE) {
              this._match(TOK_RBRACE);
              break;
            }
          }
          return { type: "MultiSelectHash", children: pairs };
        }
      };
      function TreeInterpreter(runtime) {
        this.runtime = runtime;
      }
      TreeInterpreter.prototype = {
        search: function(node, value) {
          return this.visit(node, value);
        },
        visit: function(node, value) {
          var matched, current, result, first, second, field, left, right, collected, i;
          switch (node.type) {
            case "Field":
              if (value !== null && isObject(value)) {
                field = value[node.name];
                if (field === void 0) {
                  return null;
                } else {
                  return field;
                }
              }
              return null;
            case "Subexpression":
              result = this.visit(node.children[0], value);
              for (i = 1; i < node.children.length; i++) {
                result = this.visit(node.children[1], result);
                if (result === null) {
                  return null;
                }
              }
              return result;
            case "IndexExpression":
              left = this.visit(node.children[0], value);
              right = this.visit(node.children[1], left);
              return right;
            case "Index":
              if (!isArray(value)) {
                return null;
              }
              var index = node.value;
              if (index < 0) {
                index = value.length + index;
              }
              result = value[index];
              if (result === void 0) {
                result = null;
              }
              return result;
            case "Slice":
              if (!isArray(value)) {
                return null;
              }
              var sliceParams = node.children.slice(0);
              var computed = this.computeSliceParams(value.length, sliceParams);
              var start = computed[0];
              var stop = computed[1];
              var step = computed[2];
              result = [];
              if (step > 0) {
                for (i = start; i < stop; i += step) {
                  result.push(value[i]);
                }
              } else {
                for (i = start; i > stop; i += step) {
                  result.push(value[i]);
                }
              }
              return result;
            case "Projection":
              var base = this.visit(node.children[0], value);
              if (!isArray(base)) {
                return null;
              }
              collected = [];
              for (i = 0; i < base.length; i++) {
                current = this.visit(node.children[1], base[i]);
                if (current !== null) {
                  collected.push(current);
                }
              }
              return collected;
            case "ValueProjection":
              base = this.visit(node.children[0], value);
              if (!isObject(base)) {
                return null;
              }
              collected = [];
              var values = objValues(base);
              for (i = 0; i < values.length; i++) {
                current = this.visit(node.children[1], values[i]);
                if (current !== null) {
                  collected.push(current);
                }
              }
              return collected;
            case "FilterProjection":
              base = this.visit(node.children[0], value);
              if (!isArray(base)) {
                return null;
              }
              var filtered = [];
              var finalResults = [];
              for (i = 0; i < base.length; i++) {
                matched = this.visit(node.children[2], base[i]);
                if (!isFalse(matched)) {
                  filtered.push(base[i]);
                }
              }
              for (var j = 0; j < filtered.length; j++) {
                current = this.visit(node.children[1], filtered[j]);
                if (current !== null) {
                  finalResults.push(current);
                }
              }
              return finalResults;
            case "Comparator":
              first = this.visit(node.children[0], value);
              second = this.visit(node.children[1], value);
              switch (node.name) {
                case TOK_EQ:
                  result = strictDeepEqual(first, second);
                  break;
                case TOK_NE:
                  result = !strictDeepEqual(first, second);
                  break;
                case TOK_GT:
                  result = first > second;
                  break;
                case TOK_GTE:
                  result = first >= second;
                  break;
                case TOK_LT:
                  result = first < second;
                  break;
                case TOK_LTE:
                  result = first <= second;
                  break;
                default:
                  throw new Error("Unknown comparator: " + node.name);
              }
              return result;
            case TOK_FLATTEN:
              var original = this.visit(node.children[0], value);
              if (!isArray(original)) {
                return null;
              }
              var merged = [];
              for (i = 0; i < original.length; i++) {
                current = original[i];
                if (isArray(current)) {
                  merged.push.apply(merged, current);
                } else {
                  merged.push(current);
                }
              }
              return merged;
            case "Identity":
              return value;
            case "MultiSelectList":
              if (value === null) {
                return null;
              }
              collected = [];
              for (i = 0; i < node.children.length; i++) {
                collected.push(this.visit(node.children[i], value));
              }
              return collected;
            case "MultiSelectHash":
              if (value === null) {
                return null;
              }
              collected = {};
              var child;
              for (i = 0; i < node.children.length; i++) {
                child = node.children[i];
                collected[child.name] = this.visit(child.value, value);
              }
              return collected;
            case "OrExpression":
              matched = this.visit(node.children[0], value);
              if (isFalse(matched)) {
                matched = this.visit(node.children[1], value);
              }
              return matched;
            case "AndExpression":
              first = this.visit(node.children[0], value);
              if (isFalse(first) === true) {
                return first;
              }
              return this.visit(node.children[1], value);
            case "NotExpression":
              first = this.visit(node.children[0], value);
              return isFalse(first);
            case "Literal":
              return node.value;
            case TOK_PIPE:
              left = this.visit(node.children[0], value);
              return this.visit(node.children[1], left);
            case TOK_CURRENT:
              return value;
            case "Function":
              var resolvedArgs = [];
              for (i = 0; i < node.children.length; i++) {
                resolvedArgs.push(this.visit(node.children[i], value));
              }
              return this.runtime.callFunction(node.name, resolvedArgs);
            case "ExpressionReference":
              var refNode = node.children[0];
              refNode.jmespathType = TOK_EXPREF;
              return refNode;
            default:
              throw new Error("Unknown node type: " + node.type);
          }
        },
        computeSliceParams: function(arrayLength, sliceParams) {
          var start = sliceParams[0];
          var stop = sliceParams[1];
          var step = sliceParams[2];
          var computed = [null, null, null];
          if (step === null) {
            step = 1;
          } else if (step === 0) {
            var error = new Error("Invalid slice, step cannot be 0");
            error.name = "RuntimeError";
            throw error;
          }
          var stepValueNegative = step < 0 ? true : false;
          if (start === null) {
            start = stepValueNegative ? arrayLength - 1 : 0;
          } else {
            start = this.capSliceRange(arrayLength, start, step);
          }
          if (stop === null) {
            stop = stepValueNegative ? -1 : arrayLength;
          } else {
            stop = this.capSliceRange(arrayLength, stop, step);
          }
          computed[0] = start;
          computed[1] = stop;
          computed[2] = step;
          return computed;
        },
        capSliceRange: function(arrayLength, actualValue, step) {
          if (actualValue < 0) {
            actualValue += arrayLength;
            if (actualValue < 0) {
              actualValue = step < 0 ? -1 : 0;
            }
          } else if (actualValue >= arrayLength) {
            actualValue = step < 0 ? arrayLength - 1 : arrayLength;
          }
          return actualValue;
        }
      };
      function Runtime(interpreter) {
        this._interpreter = interpreter;
        this.functionTable = {
          abs: { _func: this._functionAbs, _signature: [{ types: [TYPE_NUMBER] }] },
          avg: { _func: this._functionAvg, _signature: [{ types: [TYPE_ARRAY_NUMBER] }] },
          ceil: { _func: this._functionCeil, _signature: [{ types: [TYPE_NUMBER] }] },
          contains: {
            _func: this._functionContains,
            _signature: [
              { types: [TYPE_STRING, TYPE_ARRAY] },
              { types: [TYPE_ANY] }
            ]
          },
          "ends_with": {
            _func: this._functionEndsWith,
            _signature: [{ types: [TYPE_STRING] }, { types: [TYPE_STRING] }]
          },
          floor: { _func: this._functionFloor, _signature: [{ types: [TYPE_NUMBER] }] },
          length: {
            _func: this._functionLength,
            _signature: [{ types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT] }]
          },
          map: {
            _func: this._functionMap,
            _signature: [{ types: [TYPE_EXPREF] }, { types: [TYPE_ARRAY] }]
          },
          max: {
            _func: this._functionMax,
            _signature: [{ types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING] }]
          },
          "merge": {
            _func: this._functionMerge,
            _signature: [{ types: [TYPE_OBJECT], variadic: true }]
          },
          "max_by": {
            _func: this._functionMaxBy,
            _signature: [{ types: [TYPE_ARRAY] }, { types: [TYPE_EXPREF] }]
          },
          sum: { _func: this._functionSum, _signature: [{ types: [TYPE_ARRAY_NUMBER] }] },
          "starts_with": {
            _func: this._functionStartsWith,
            _signature: [{ types: [TYPE_STRING] }, { types: [TYPE_STRING] }]
          },
          min: {
            _func: this._functionMin,
            _signature: [{ types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING] }]
          },
          "min_by": {
            _func: this._functionMinBy,
            _signature: [{ types: [TYPE_ARRAY] }, { types: [TYPE_EXPREF] }]
          },
          type: { _func: this._functionType, _signature: [{ types: [TYPE_ANY] }] },
          keys: { _func: this._functionKeys, _signature: [{ types: [TYPE_OBJECT] }] },
          values: { _func: this._functionValues, _signature: [{ types: [TYPE_OBJECT] }] },
          sort: { _func: this._functionSort, _signature: [{ types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER] }] },
          "sort_by": {
            _func: this._functionSortBy,
            _signature: [{ types: [TYPE_ARRAY] }, { types: [TYPE_EXPREF] }]
          },
          join: {
            _func: this._functionJoin,
            _signature: [
              { types: [TYPE_STRING] },
              { types: [TYPE_ARRAY_STRING] }
            ]
          },
          reverse: {
            _func: this._functionReverse,
            _signature: [{ types: [TYPE_STRING, TYPE_ARRAY] }]
          },
          "to_array": { _func: this._functionToArray, _signature: [{ types: [TYPE_ANY] }] },
          "to_string": { _func: this._functionToString, _signature: [{ types: [TYPE_ANY] }] },
          "to_number": { _func: this._functionToNumber, _signature: [{ types: [TYPE_ANY] }] },
          "not_null": {
            _func: this._functionNotNull,
            _signature: [{ types: [TYPE_ANY], variadic: true }]
          }
        };
      }
      Runtime.prototype = {
        callFunction: function(name, resolvedArgs) {
          var functionEntry = this.functionTable[name];
          if (functionEntry === void 0) {
            throw new Error("Unknown function: " + name + "()");
          }
          this._validateArgs(name, resolvedArgs, functionEntry._signature);
          return functionEntry._func.call(this, resolvedArgs);
        },
        _validateArgs: function(name, args, signature) {
          var pluralized;
          if (signature[signature.length - 1].variadic) {
            if (args.length < signature.length) {
              pluralized = signature.length === 1 ? " argument" : " arguments";
              throw new Error("ArgumentError: " + name + "() takes at least" + signature.length + pluralized + " but received " + args.length);
            }
          } else if (args.length !== signature.length) {
            pluralized = signature.length === 1 ? " argument" : " arguments";
            throw new Error("ArgumentError: " + name + "() takes " + signature.length + pluralized + " but received " + args.length);
          }
          var currentSpec;
          var actualType;
          var typeMatched;
          for (var i = 0; i < signature.length; i++) {
            typeMatched = false;
            currentSpec = signature[i].types;
            actualType = this._getTypeName(args[i]);
            for (var j = 0; j < currentSpec.length; j++) {
              if (this._typeMatches(actualType, currentSpec[j], args[i])) {
                typeMatched = true;
                break;
              }
            }
            if (!typeMatched) {
              var expected = currentSpec.map(function(typeIdentifier) {
                return TYPE_NAME_TABLE[typeIdentifier];
              }).join(",");
              throw new Error("TypeError: " + name + "() expected argument " + (i + 1) + " to be type " + expected + " but received type " + TYPE_NAME_TABLE[actualType] + " instead.");
            }
          }
        },
        _typeMatches: function(actual, expected, argValue) {
          if (expected === TYPE_ANY) {
            return true;
          }
          if (expected === TYPE_ARRAY_STRING || expected === TYPE_ARRAY_NUMBER || expected === TYPE_ARRAY) {
            if (expected === TYPE_ARRAY) {
              return actual === TYPE_ARRAY;
            } else if (actual === TYPE_ARRAY) {
              var subtype;
              if (expected === TYPE_ARRAY_NUMBER) {
                subtype = TYPE_NUMBER;
              } else if (expected === TYPE_ARRAY_STRING) {
                subtype = TYPE_STRING;
              }
              for (var i = 0; i < argValue.length; i++) {
                if (!this._typeMatches(
                  this._getTypeName(argValue[i]),
                  subtype,
                  argValue[i]
                )) {
                  return false;
                }
              }
              return true;
            }
          } else {
            return actual === expected;
          }
        },
        _getTypeName: function(obj) {
          switch (Object.prototype.toString.call(obj)) {
            case "[object String]":
              return TYPE_STRING;
            case "[object Number]":
              return TYPE_NUMBER;
            case "[object Array]":
              return TYPE_ARRAY;
            case "[object Boolean]":
              return TYPE_BOOLEAN;
            case "[object Null]":
              return TYPE_NULL;
            case "[object Object]":
              if (obj.jmespathType === TOK_EXPREF) {
                return TYPE_EXPREF;
              } else {
                return TYPE_OBJECT;
              }
          }
        },
        _functionStartsWith: function(resolvedArgs) {
          return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;
        },
        _functionEndsWith: function(resolvedArgs) {
          var searchStr = resolvedArgs[0];
          var suffix = resolvedArgs[1];
          return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;
        },
        _functionReverse: function(resolvedArgs) {
          var typeName = this._getTypeName(resolvedArgs[0]);
          if (typeName === TYPE_STRING) {
            var originalStr = resolvedArgs[0];
            var reversedStr = "";
            for (var i = originalStr.length - 1; i >= 0; i--) {
              reversedStr += originalStr[i];
            }
            return reversedStr;
          } else {
            var reversedArray = resolvedArgs[0].slice(0);
            reversedArray.reverse();
            return reversedArray;
          }
        },
        _functionAbs: function(resolvedArgs) {
          return Math.abs(resolvedArgs[0]);
        },
        _functionCeil: function(resolvedArgs) {
          return Math.ceil(resolvedArgs[0]);
        },
        _functionAvg: function(resolvedArgs) {
          var sum = 0;
          var inputArray = resolvedArgs[0];
          for (var i = 0; i < inputArray.length; i++) {
            sum += inputArray[i];
          }
          return sum / inputArray.length;
        },
        _functionContains: function(resolvedArgs) {
          return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;
        },
        _functionFloor: function(resolvedArgs) {
          return Math.floor(resolvedArgs[0]);
        },
        _functionLength: function(resolvedArgs) {
          if (!isObject(resolvedArgs[0])) {
            return resolvedArgs[0].length;
          } else {
            return Object.keys(resolvedArgs[0]).length;
          }
        },
        _functionMap: function(resolvedArgs) {
          var mapped = [];
          var interpreter = this._interpreter;
          var exprefNode = resolvedArgs[0];
          var elements = resolvedArgs[1];
          for (var i = 0; i < elements.length; i++) {
            mapped.push(interpreter.visit(exprefNode, elements[i]));
          }
          return mapped;
        },
        _functionMerge: function(resolvedArgs) {
          var merged = {};
          for (var i = 0; i < resolvedArgs.length; i++) {
            var current = resolvedArgs[i];
            for (var key in current) {
              merged[key] = current[key];
            }
          }
          return merged;
        },
        _functionMax: function(resolvedArgs) {
          if (resolvedArgs[0].length > 0) {
            var typeName = this._getTypeName(resolvedArgs[0][0]);
            if (typeName === TYPE_NUMBER) {
              return Math.max.apply(Math, resolvedArgs[0]);
            } else {
              var elements = resolvedArgs[0];
              var maxElement = elements[0];
              for (var i = 1; i < elements.length; i++) {
                if (maxElement.localeCompare(elements[i]) < 0) {
                  maxElement = elements[i];
                }
              }
              return maxElement;
            }
          } else {
            return null;
          }
        },
        _functionMin: function(resolvedArgs) {
          if (resolvedArgs[0].length > 0) {
            var typeName = this._getTypeName(resolvedArgs[0][0]);
            if (typeName === TYPE_NUMBER) {
              return Math.min.apply(Math, resolvedArgs[0]);
            } else {
              var elements = resolvedArgs[0];
              var minElement = elements[0];
              for (var i = 1; i < elements.length; i++) {
                if (elements[i].localeCompare(minElement) < 0) {
                  minElement = elements[i];
                }
              }
              return minElement;
            }
          } else {
            return null;
          }
        },
        _functionSum: function(resolvedArgs) {
          var sum = 0;
          var listToSum = resolvedArgs[0];
          for (var i = 0; i < listToSum.length; i++) {
            sum += listToSum[i];
          }
          return sum;
        },
        _functionType: function(resolvedArgs) {
          switch (this._getTypeName(resolvedArgs[0])) {
            case TYPE_NUMBER:
              return "number";
            case TYPE_STRING:
              return "string";
            case TYPE_ARRAY:
              return "array";
            case TYPE_OBJECT:
              return "object";
            case TYPE_BOOLEAN:
              return "boolean";
            case TYPE_EXPREF:
              return "expref";
            case TYPE_NULL:
              return "null";
          }
        },
        _functionKeys: function(resolvedArgs) {
          return Object.keys(resolvedArgs[0]);
        },
        _functionValues: function(resolvedArgs) {
          var obj = resolvedArgs[0];
          var keys = Object.keys(obj);
          var values = [];
          for (var i = 0; i < keys.length; i++) {
            values.push(obj[keys[i]]);
          }
          return values;
        },
        _functionJoin: function(resolvedArgs) {
          var joinChar = resolvedArgs[0];
          var listJoin = resolvedArgs[1];
          return listJoin.join(joinChar);
        },
        _functionToArray: function(resolvedArgs) {
          if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {
            return resolvedArgs[0];
          } else {
            return [resolvedArgs[0]];
          }
        },
        _functionToString: function(resolvedArgs) {
          if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {
            return resolvedArgs[0];
          } else {
            return JSON.stringify(resolvedArgs[0]);
          }
        },
        _functionToNumber: function(resolvedArgs) {
          var typeName = this._getTypeName(resolvedArgs[0]);
          var convertedValue;
          if (typeName === TYPE_NUMBER) {
            return resolvedArgs[0];
          } else if (typeName === TYPE_STRING) {
            convertedValue = +resolvedArgs[0];
            if (!isNaN(convertedValue)) {
              return convertedValue;
            }
          }
          return null;
        },
        _functionNotNull: function(resolvedArgs) {
          for (var i = 0; i < resolvedArgs.length; i++) {
            if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {
              return resolvedArgs[i];
            }
          }
          return null;
        },
        _functionSort: function(resolvedArgs) {
          var sortedArray = resolvedArgs[0].slice(0);
          sortedArray.sort();
          return sortedArray;
        },
        _functionSortBy: function(resolvedArgs) {
          var sortedArray = resolvedArgs[0].slice(0);
          if (sortedArray.length === 0) {
            return sortedArray;
          }
          var interpreter = this._interpreter;
          var exprefNode = resolvedArgs[1];
          var requiredType = this._getTypeName(
            interpreter.visit(exprefNode, sortedArray[0])
          );
          if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {
            throw new Error("TypeError");
          }
          var that = this;
          var decorated = [];
          for (var i = 0; i < sortedArray.length; i++) {
            decorated.push([i, sortedArray[i]]);
          }
          decorated.sort(function(a, b) {
            var exprA = interpreter.visit(exprefNode, a[1]);
            var exprB = interpreter.visit(exprefNode, b[1]);
            if (that._getTypeName(exprA) !== requiredType) {
              throw new Error(
                "TypeError: expected " + requiredType + ", received " + that._getTypeName(exprA)
              );
            } else if (that._getTypeName(exprB) !== requiredType) {
              throw new Error(
                "TypeError: expected " + requiredType + ", received " + that._getTypeName(exprB)
              );
            }
            if (exprA > exprB) {
              return 1;
            } else if (exprA < exprB) {
              return -1;
            } else {
              return a[0] - b[0];
            }
          });
          for (var j = 0; j < decorated.length; j++) {
            sortedArray[j] = decorated[j][1];
          }
          return sortedArray;
        },
        _functionMaxBy: function(resolvedArgs) {
          var exprefNode = resolvedArgs[1];
          var resolvedArray = resolvedArgs[0];
          var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);
          var maxNumber = -Infinity;
          var maxRecord;
          var current;
          for (var i = 0; i < resolvedArray.length; i++) {
            current = keyFunction(resolvedArray[i]);
            if (current > maxNumber) {
              maxNumber = current;
              maxRecord = resolvedArray[i];
            }
          }
          return maxRecord;
        },
        _functionMinBy: function(resolvedArgs) {
          var exprefNode = resolvedArgs[1];
          var resolvedArray = resolvedArgs[0];
          var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);
          var minNumber = Infinity;
          var minRecord;
          var current;
          for (var i = 0; i < resolvedArray.length; i++) {
            current = keyFunction(resolvedArray[i]);
            if (current < minNumber) {
              minNumber = current;
              minRecord = resolvedArray[i];
            }
          }
          return minRecord;
        },
        createKeyFunction: function(exprefNode, allowedTypes) {
          var that = this;
          var interpreter = this._interpreter;
          var keyFunc = function(x) {
            var current = interpreter.visit(exprefNode, x);
            if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {
              var msg = "TypeError: expected one of " + allowedTypes + ", received " + that._getTypeName(current);
              throw new Error(msg);
            }
            return current;
          };
          return keyFunc;
        }
      };
      function compile(stream) {
        var parser = new Parser();
        var ast = parser.parse(stream);
        return ast;
      }
      function tokenize(stream) {
        var lexer = new Lexer();
        return lexer.tokenize(stream);
      }
      function search(data, expression) {
        var parser = new Parser();
        var runtime = new Runtime();
        var interpreter = new TreeInterpreter(runtime);
        runtime._interpreter = interpreter;
        var node = parser.parse(expression);
        return interpreter.search(node, data);
      }
      exports3.tokenize = tokenize;
      exports3.compile = compile;
      exports3.search = search;
      exports3.strictDeepEqual = strictDeepEqual;
    })(typeof exports2 === "undefined" ? exports2.jmespath = {} : exports2);
  }
});

// node_modules/aws-sdk/lib/request.js
var require_request = __commonJS({
  "node_modules/aws-sdk/lib/request.js"() {
    var AWS2 = require_core();
    var AcceptorStateMachine = require_state_machine();
    var inherit = AWS2.util.inherit;
    var domain = AWS2.util.domain;
    var jmespath = require_jmespath();
    var hardErrorStates = { success: 1, error: 1, complete: 1 };
    function isTerminalState(machine) {
      return Object.prototype.hasOwnProperty.call(hardErrorStates, machine._asm.currentState);
    }
    var fsm = new AcceptorStateMachine();
    fsm.setupStates = function() {
      var transition = function(_, done) {
        var self = this;
        self._haltHandlersOnError = false;
        self.emit(self._asm.currentState, function(err) {
          if (err) {
            if (isTerminalState(self)) {
              if (domain && self.domain instanceof domain.Domain) {
                err.domainEmitter = self;
                err.domain = self.domain;
                err.domainThrown = false;
                self.domain.emit("error", err);
              } else {
                throw err;
              }
            } else {
              self.response.error = err;
              done(err);
            }
          } else {
            done(self.response.error);
          }
        });
      };
      this.addState("validate", "build", "error", transition);
      this.addState("build", "afterBuild", "restart", transition);
      this.addState("afterBuild", "sign", "restart", transition);
      this.addState("sign", "send", "retry", transition);
      this.addState("retry", "afterRetry", "afterRetry", transition);
      this.addState("afterRetry", "sign", "error", transition);
      this.addState("send", "validateResponse", "retry", transition);
      this.addState("validateResponse", "extractData", "extractError", transition);
      this.addState("extractError", "extractData", "retry", transition);
      this.addState("extractData", "success", "retry", transition);
      this.addState("restart", "build", "error", transition);
      this.addState("success", "complete", "complete", transition);
      this.addState("error", "complete", "complete", transition);
      this.addState("complete", null, null, transition);
    };
    fsm.setupStates();
    AWS2.Request = inherit({
      constructor: function Request(service, operation, params) {
        var endpoint = service.endpoint;
        var region = service.config.region;
        var customUserAgent = service.config.customUserAgent;
        if (service.signingRegion) {
          region = service.signingRegion;
        } else if (service.isGlobalEndpoint) {
          region = "us-east-1";
        }
        this.domain = domain && domain.active;
        this.service = service;
        this.operation = operation;
        this.params = params || {};
        this.httpRequest = new AWS2.HttpRequest(endpoint, region);
        this.httpRequest.appendToUserAgent(customUserAgent);
        this.startTime = service.getSkewCorrectedDate();
        this.response = new AWS2.Response(this);
        this._asm = new AcceptorStateMachine(fsm.states, "validate");
        this._haltHandlersOnError = false;
        AWS2.SequentialExecutor.call(this);
        this.emit = this.emitEvent;
      },
      send: function send(callback) {
        if (callback) {
          this.httpRequest.appendToUserAgent("callback");
          this.on("complete", function(resp) {
            callback.call(resp, resp.error, resp.data);
          });
        }
        this.runTo();
        return this.response;
      },
      build: function build(callback) {
        return this.runTo("send", callback);
      },
      runTo: function runTo(state, done) {
        this._asm.runTo(state, done, this);
        return this;
      },
      abort: function abort() {
        this.removeAllListeners("validateResponse");
        this.removeAllListeners("extractError");
        this.on("validateResponse", function addAbortedError(resp) {
          resp.error = AWS2.util.error(new Error("Request aborted by user"), {
            code: "RequestAbortedError",
            retryable: false
          });
        });
        if (this.httpRequest.stream && !this.httpRequest.stream.didCallback) {
          this.httpRequest.stream.abort();
          if (this.httpRequest._abortCallback) {
            this.httpRequest._abortCallback();
          } else {
            this.removeAllListeners("send");
          }
        }
        return this;
      },
      eachPage: function eachPage(callback) {
        callback = AWS2.util.fn.makeAsync(callback, 3);
        function wrappedCallback(response) {
          callback.call(response, response.error, response.data, function(result) {
            if (result === false)
              return;
            if (response.hasNextPage()) {
              response.nextPage().on("complete", wrappedCallback).send();
            } else {
              callback.call(response, null, null, AWS2.util.fn.noop);
            }
          });
        }
        this.on("complete", wrappedCallback).send();
      },
      eachItem: function eachItem(callback) {
        var self = this;
        function wrappedCallback(err, data) {
          if (err)
            return callback(err, null);
          if (data === null)
            return callback(null, null);
          var config = self.service.paginationConfig(self.operation);
          var resultKey = config.resultKey;
          if (Array.isArray(resultKey))
            resultKey = resultKey[0];
          var items = jmespath.search(data, resultKey);
          var continueIteration = true;
          AWS2.util.arrayEach(items, function(item) {
            continueIteration = callback(null, item);
            if (continueIteration === false) {
              return AWS2.util.abort;
            }
          });
          return continueIteration;
        }
        this.eachPage(wrappedCallback);
      },
      isPageable: function isPageable() {
        return this.service.paginationConfig(this.operation) ? true : false;
      },
      createReadStream: function createReadStream() {
        var streams = AWS2.util.stream;
        var req = this;
        var stream = null;
        if (AWS2.HttpClient.streamsApiVersion === 2) {
          stream = new streams.PassThrough();
          process.nextTick(function() {
            req.send();
          });
        } else {
          stream = new streams.Stream();
          stream.readable = true;
          stream.sent = false;
          stream.on("newListener", function(event) {
            if (!stream.sent && event === "data") {
              stream.sent = true;
              process.nextTick(function() {
                req.send();
              });
            }
          });
        }
        this.on("error", function(err) {
          stream.emit("error", err);
        });
        this.on("httpHeaders", function streamHeaders(statusCode, headers, resp) {
          if (statusCode < 300) {
            req.removeListener("httpData", AWS2.EventListeners.Core.HTTP_DATA);
            req.removeListener("httpError", AWS2.EventListeners.Core.HTTP_ERROR);
            req.on("httpError", function streamHttpError(error) {
              resp.error = error;
              resp.error.retryable = false;
            });
            var shouldCheckContentLength = false;
            var expectedLen;
            if (req.httpRequest.method !== "HEAD") {
              expectedLen = parseInt(headers["content-length"], 10);
            }
            if (expectedLen !== void 0 && !isNaN(expectedLen) && expectedLen >= 0) {
              shouldCheckContentLength = true;
              var receivedLen = 0;
            }
            var checkContentLengthAndEmit = function checkContentLengthAndEmit2() {
              if (shouldCheckContentLength && receivedLen !== expectedLen) {
                stream.emit("error", AWS2.util.error(
                  new Error("Stream content length mismatch. Received " + receivedLen + " of " + expectedLen + " bytes."),
                  { code: "StreamContentLengthMismatch" }
                ));
              } else if (AWS2.HttpClient.streamsApiVersion === 2) {
                stream.end();
              } else {
                stream.emit("end");
              }
            };
            var httpStream = resp.httpResponse.createUnbufferedStream();
            if (AWS2.HttpClient.streamsApiVersion === 2) {
              if (shouldCheckContentLength) {
                var lengthAccumulator = new streams.PassThrough();
                lengthAccumulator._write = function(chunk) {
                  if (chunk && chunk.length) {
                    receivedLen += chunk.length;
                  }
                  return streams.PassThrough.prototype._write.apply(this, arguments);
                };
                lengthAccumulator.on("end", checkContentLengthAndEmit);
                stream.on("error", function(err) {
                  shouldCheckContentLength = false;
                  httpStream.unpipe(lengthAccumulator);
                  lengthAccumulator.emit("end");
                  lengthAccumulator.end();
                });
                httpStream.pipe(lengthAccumulator).pipe(stream, { end: false });
              } else {
                httpStream.pipe(stream);
              }
            } else {
              if (shouldCheckContentLength) {
                httpStream.on("data", function(arg) {
                  if (arg && arg.length) {
                    receivedLen += arg.length;
                  }
                });
              }
              httpStream.on("data", function(arg) {
                stream.emit("data", arg);
              });
              httpStream.on("end", checkContentLengthAndEmit);
            }
            httpStream.on("error", function(err) {
              shouldCheckContentLength = false;
              stream.emit("error", err);
            });
          }
        });
        return stream;
      },
      emitEvent: function emit(eventName, args, done) {
        if (typeof args === "function") {
          done = args;
          args = null;
        }
        if (!done)
          done = function() {
          };
        if (!args)
          args = this.eventParameters(eventName, this.response);
        var origEmit = AWS2.SequentialExecutor.prototype.emit;
        origEmit.call(this, eventName, args, function(err) {
          if (err)
            this.response.error = err;
          done.call(this, err);
        });
      },
      eventParameters: function eventParameters(eventName) {
        switch (eventName) {
          case "restart":
          case "validate":
          case "sign":
          case "build":
          case "afterValidate":
          case "afterBuild":
            return [this];
          case "error":
            return [this.response.error, this.response];
          default:
            return [this.response];
        }
      },
      presign: function presign(expires, callback) {
        if (!callback && typeof expires === "function") {
          callback = expires;
          expires = null;
        }
        return new AWS2.Signers.Presign().sign(this.toGet(), expires, callback);
      },
      isPresigned: function isPresigned() {
        return Object.prototype.hasOwnProperty.call(this.httpRequest.headers, "presigned-expires");
      },
      toUnauthenticated: function toUnauthenticated() {
        this._unAuthenticated = true;
        this.removeListener("validate", AWS2.EventListeners.Core.VALIDATE_CREDENTIALS);
        this.removeListener("sign", AWS2.EventListeners.Core.SIGN);
        return this;
      },
      toGet: function toGet() {
        if (this.service.api.protocol === "query" || this.service.api.protocol === "ec2") {
          this.removeListener("build", this.buildAsGet);
          this.addListener("build", this.buildAsGet);
        }
        return this;
      },
      buildAsGet: function buildAsGet(request) {
        request.httpRequest.method = "GET";
        request.httpRequest.path = request.service.endpoint.path + "?" + request.httpRequest.body;
        request.httpRequest.body = "";
        delete request.httpRequest.headers["Content-Length"];
        delete request.httpRequest.headers["Content-Type"];
      },
      haltHandlersOnError: function haltHandlersOnError() {
        this._haltHandlersOnError = true;
      }
    });
    AWS2.Request.addPromisesToClass = function addPromisesToClass(PromiseDependency) {
      this.prototype.promise = function promise() {
        var self = this;
        this.httpRequest.appendToUserAgent("promise");
        return new PromiseDependency(function(resolve, reject) {
          self.on("complete", function(resp) {
            if (resp.error) {
              reject(resp.error);
            } else {
              resolve(Object.defineProperty(
                resp.data || {},
                "$response",
                { value: resp }
              ));
            }
          });
          self.runTo();
        });
      };
    };
    AWS2.Request.deletePromisesFromClass = function deletePromisesFromClass() {
      delete this.prototype.promise;
    };
    AWS2.util.addPromises(AWS2.Request);
    AWS2.util.mixin(AWS2.Request, AWS2.SequentialExecutor);
  }
});

// node_modules/aws-sdk/lib/response.js
var require_response = __commonJS({
  "node_modules/aws-sdk/lib/response.js"() {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    var jmespath = require_jmespath();
    AWS2.Response = inherit({
      constructor: function Response(request) {
        this.request = request;
        this.data = null;
        this.error = null;
        this.retryCount = 0;
        this.redirectCount = 0;
        this.httpResponse = new AWS2.HttpResponse();
        if (request) {
          this.maxRetries = request.service.numRetries();
          this.maxRedirects = request.service.config.maxRedirects;
        }
      },
      nextPage: function nextPage(callback) {
        var config;
        var service = this.request.service;
        var operation = this.request.operation;
        try {
          config = service.paginationConfig(operation, true);
        } catch (e) {
          this.error = e;
        }
        if (!this.hasNextPage()) {
          if (callback)
            callback(this.error, null);
          else if (this.error)
            throw this.error;
          return null;
        }
        var params = AWS2.util.copy(this.request.params);
        if (!this.nextPageTokens) {
          return callback ? callback(null, null) : null;
        } else {
          var inputTokens = config.inputToken;
          if (typeof inputTokens === "string")
            inputTokens = [inputTokens];
          for (var i = 0; i < inputTokens.length; i++) {
            params[inputTokens[i]] = this.nextPageTokens[i];
          }
          return service.makeRequest(this.request.operation, params, callback);
        }
      },
      hasNextPage: function hasNextPage() {
        this.cacheNextPageTokens();
        if (this.nextPageTokens)
          return true;
        if (this.nextPageTokens === void 0)
          return void 0;
        else
          return false;
      },
      cacheNextPageTokens: function cacheNextPageTokens() {
        if (Object.prototype.hasOwnProperty.call(this, "nextPageTokens"))
          return this.nextPageTokens;
        this.nextPageTokens = void 0;
        var config = this.request.service.paginationConfig(this.request.operation);
        if (!config)
          return this.nextPageTokens;
        this.nextPageTokens = null;
        if (config.moreResults) {
          if (!jmespath.search(this.data, config.moreResults)) {
            return this.nextPageTokens;
          }
        }
        var exprs = config.outputToken;
        if (typeof exprs === "string")
          exprs = [exprs];
        AWS2.util.arrayEach.call(this, exprs, function(expr) {
          var output = jmespath.search(this.data, expr);
          if (output) {
            this.nextPageTokens = this.nextPageTokens || [];
            this.nextPageTokens.push(output);
          }
        });
        return this.nextPageTokens;
      }
    });
  }
});

// node_modules/aws-sdk/lib/resource_waiter.js
var require_resource_waiter2 = __commonJS({
  "node_modules/aws-sdk/lib/resource_waiter.js"() {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    var jmespath = require_jmespath();
    function CHECK_ACCEPTORS(resp) {
      var waiter = resp.request._waiter;
      var acceptors = waiter.config.acceptors;
      var acceptorMatched = false;
      var state = "retry";
      acceptors.forEach(function(acceptor) {
        if (!acceptorMatched) {
          var matcher = waiter.matchers[acceptor.matcher];
          if (matcher && matcher(resp, acceptor.expected, acceptor.argument)) {
            acceptorMatched = true;
            state = acceptor.state;
          }
        }
      });
      if (!acceptorMatched && resp.error)
        state = "failure";
      if (state === "success") {
        waiter.setSuccess(resp);
      } else {
        waiter.setError(resp, state === "retry");
      }
    }
    AWS2.ResourceWaiter = inherit({
      constructor: function constructor(service, state) {
        this.service = service;
        this.state = state;
        this.loadWaiterConfig(this.state);
      },
      service: null,
      state: null,
      config: null,
      matchers: {
        path: function(resp, expected, argument) {
          try {
            var result = jmespath.search(resp.data, argument);
          } catch (err) {
            return false;
          }
          return jmespath.strictDeepEqual(result, expected);
        },
        pathAll: function(resp, expected, argument) {
          try {
            var results = jmespath.search(resp.data, argument);
          } catch (err) {
            return false;
          }
          if (!Array.isArray(results))
            results = [results];
          var numResults = results.length;
          if (!numResults)
            return false;
          for (var ind = 0; ind < numResults; ind++) {
            if (!jmespath.strictDeepEqual(results[ind], expected)) {
              return false;
            }
          }
          return true;
        },
        pathAny: function(resp, expected, argument) {
          try {
            var results = jmespath.search(resp.data, argument);
          } catch (err) {
            return false;
          }
          if (!Array.isArray(results))
            results = [results];
          var numResults = results.length;
          for (var ind = 0; ind < numResults; ind++) {
            if (jmespath.strictDeepEqual(results[ind], expected)) {
              return true;
            }
          }
          return false;
        },
        status: function(resp, expected) {
          var statusCode = resp.httpResponse.statusCode;
          return typeof statusCode === "number" && statusCode === expected;
        },
        error: function(resp, expected) {
          if (typeof expected === "string" && resp.error) {
            return expected === resp.error.code;
          }
          return expected === !!resp.error;
        }
      },
      listeners: new AWS2.SequentialExecutor().addNamedListeners(function(add) {
        add("RETRY_CHECK", "retry", function(resp) {
          var waiter = resp.request._waiter;
          if (resp.error && resp.error.code === "ResourceNotReady") {
            resp.error.retryDelay = (waiter.config.delay || 0) * 1e3;
          }
        });
        add("CHECK_OUTPUT", "extractData", CHECK_ACCEPTORS);
        add("CHECK_ERROR", "extractError", CHECK_ACCEPTORS);
      }),
      wait: function wait(params, callback) {
        if (typeof params === "function") {
          callback = params;
          params = void 0;
        }
        if (params && params.$waiter) {
          params = AWS2.util.copy(params);
          if (typeof params.$waiter.delay === "number") {
            this.config.delay = params.$waiter.delay;
          }
          if (typeof params.$waiter.maxAttempts === "number") {
            this.config.maxAttempts = params.$waiter.maxAttempts;
          }
          delete params.$waiter;
        }
        var request = this.service.makeRequest(this.config.operation, params);
        request._waiter = this;
        request.response.maxRetries = this.config.maxAttempts;
        request.addListeners(this.listeners);
        if (callback)
          request.send(callback);
        return request;
      },
      setSuccess: function setSuccess(resp) {
        resp.error = null;
        resp.data = resp.data || {};
        resp.request.removeAllListeners("extractData");
      },
      setError: function setError(resp, retryable) {
        resp.data = null;
        resp.error = AWS2.util.error(resp.error || new Error(), {
          code: "ResourceNotReady",
          message: "Resource is not in the state " + this.state,
          retryable
        });
      },
      loadWaiterConfig: function loadWaiterConfig(state) {
        if (!this.service.api.waiters[state]) {
          throw new AWS2.util.error(new Error(), {
            code: "StateNotFoundError",
            message: "State " + state + " not found."
          });
        }
        this.config = AWS2.util.copy(this.service.api.waiters[state]);
      }
    });
  }
});

// node_modules/aws-sdk/lib/signers/v2.js
var require_v2 = __commonJS({
  "node_modules/aws-sdk/lib/signers/v2.js"(exports2, module2) {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    AWS2.Signers.V2 = inherit(AWS2.Signers.RequestSigner, {
      addAuthorization: function addAuthorization(credentials, date) {
        if (!date)
          date = AWS2.util.date.getDate();
        var r = this.request;
        r.params.Timestamp = AWS2.util.date.iso8601(date);
        r.params.SignatureVersion = "2";
        r.params.SignatureMethod = "HmacSHA256";
        r.params.AWSAccessKeyId = credentials.accessKeyId;
        if (credentials.sessionToken) {
          r.params.SecurityToken = credentials.sessionToken;
        }
        delete r.params.Signature;
        r.params.Signature = this.signature(credentials);
        r.body = AWS2.util.queryParamsToString(r.params);
        r.headers["Content-Length"] = r.body.length;
      },
      signature: function signature(credentials) {
        return AWS2.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), "base64");
      },
      stringToSign: function stringToSign() {
        var parts = [];
        parts.push(this.request.method);
        parts.push(this.request.endpoint.host.toLowerCase());
        parts.push(this.request.pathname());
        parts.push(AWS2.util.queryParamsToString(this.request.params));
        return parts.join("\n");
      }
    });
    module2.exports = AWS2.Signers.V2;
  }
});

// node_modules/aws-sdk/lib/signers/v3.js
var require_v3 = __commonJS({
  "node_modules/aws-sdk/lib/signers/v3.js"(exports2, module2) {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    AWS2.Signers.V3 = inherit(AWS2.Signers.RequestSigner, {
      addAuthorization: function addAuthorization(credentials, date) {
        var datetime = AWS2.util.date.rfc822(date);
        this.request.headers["X-Amz-Date"] = datetime;
        if (credentials.sessionToken) {
          this.request.headers["x-amz-security-token"] = credentials.sessionToken;
        }
        this.request.headers["X-Amzn-Authorization"] = this.authorization(credentials, datetime);
      },
      authorization: function authorization(credentials) {
        return "AWS3 AWSAccessKeyId=" + credentials.accessKeyId + ",Algorithm=HmacSHA256,SignedHeaders=" + this.signedHeaders() + ",Signature=" + this.signature(credentials);
      },
      signedHeaders: function signedHeaders() {
        var headers = [];
        AWS2.util.arrayEach(this.headersToSign(), function iterator(h) {
          headers.push(h.toLowerCase());
        });
        return headers.sort().join(";");
      },
      canonicalHeaders: function canonicalHeaders() {
        var headers = this.request.headers;
        var parts = [];
        AWS2.util.arrayEach(this.headersToSign(), function iterator(h) {
          parts.push(h.toLowerCase().trim() + ":" + String(headers[h]).trim());
        });
        return parts.sort().join("\n") + "\n";
      },
      headersToSign: function headersToSign() {
        var headers = [];
        AWS2.util.each(this.request.headers, function iterator(k) {
          if (k === "Host" || k === "Content-Encoding" || k.match(/^X-Amz/i)) {
            headers.push(k);
          }
        });
        return headers;
      },
      signature: function signature(credentials) {
        return AWS2.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), "base64");
      },
      stringToSign: function stringToSign() {
        var parts = [];
        parts.push(this.request.method);
        parts.push("/");
        parts.push("");
        parts.push(this.canonicalHeaders());
        parts.push(this.request.body);
        return AWS2.util.crypto.sha256(parts.join("\n"));
      }
    });
    module2.exports = AWS2.Signers.V3;
  }
});

// node_modules/aws-sdk/lib/signers/v3https.js
var require_v3https = __commonJS({
  "node_modules/aws-sdk/lib/signers/v3https.js"(exports2, module2) {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    require_v3();
    AWS2.Signers.V3Https = inherit(AWS2.Signers.V3, {
      authorization: function authorization(credentials) {
        return "AWS3-HTTPS AWSAccessKeyId=" + credentials.accessKeyId + ",Algorithm=HmacSHA256,Signature=" + this.signature(credentials);
      },
      stringToSign: function stringToSign() {
        return this.request.headers["X-Amz-Date"];
      }
    });
    module2.exports = AWS2.Signers.V3Https;
  }
});

// node_modules/aws-sdk/lib/signers/v4_credentials.js
var require_v4_credentials = __commonJS({
  "node_modules/aws-sdk/lib/signers/v4_credentials.js"(exports2, module2) {
    var AWS2 = require_core();
    var cachedSecret = {};
    var cacheQueue = [];
    var maxCacheEntries = 50;
    var v4Identifier = "aws4_request";
    module2.exports = {
      createScope: function createScope(date, region, serviceName) {
        return [
          date.substr(0, 8),
          region,
          serviceName,
          v4Identifier
        ].join("/");
      },
      getSigningKey: function getSigningKey(credentials, date, region, service, shouldCache) {
        var credsIdentifier = AWS2.util.crypto.hmac(credentials.secretAccessKey, credentials.accessKeyId, "base64");
        var cacheKey = [credsIdentifier, date, region, service].join("_");
        shouldCache = shouldCache !== false;
        if (shouldCache && cacheKey in cachedSecret) {
          return cachedSecret[cacheKey];
        }
        var kDate = AWS2.util.crypto.hmac(
          "AWS4" + credentials.secretAccessKey,
          date,
          "buffer"
        );
        var kRegion = AWS2.util.crypto.hmac(kDate, region, "buffer");
        var kService = AWS2.util.crypto.hmac(kRegion, service, "buffer");
        var signingKey = AWS2.util.crypto.hmac(kService, v4Identifier, "buffer");
        if (shouldCache) {
          cachedSecret[cacheKey] = signingKey;
          cacheQueue.push(cacheKey);
          if (cacheQueue.length > maxCacheEntries) {
            delete cachedSecret[cacheQueue.shift()];
          }
        }
        return signingKey;
      },
      emptyCache: function emptyCache() {
        cachedSecret = {};
        cacheQueue = [];
      }
    };
  }
});

// node_modules/aws-sdk/lib/signers/v4.js
var require_v4 = __commonJS({
  "node_modules/aws-sdk/lib/signers/v4.js"(exports2, module2) {
    var AWS2 = require_core();
    var v4Credentials = require_v4_credentials();
    var inherit = AWS2.util.inherit;
    var expiresHeader = "presigned-expires";
    AWS2.Signers.V4 = inherit(AWS2.Signers.RequestSigner, {
      constructor: function V4(request, serviceName, options) {
        AWS2.Signers.RequestSigner.call(this, request);
        this.serviceName = serviceName;
        options = options || {};
        this.signatureCache = typeof options.signatureCache === "boolean" ? options.signatureCache : true;
        this.operation = options.operation;
        this.signatureVersion = options.signatureVersion;
      },
      algorithm: "AWS4-HMAC-SHA256",
      addAuthorization: function addAuthorization(credentials, date) {
        var datetime = AWS2.util.date.iso8601(date).replace(/[:\-]|\.\d{3}/g, "");
        if (this.isPresigned()) {
          this.updateForPresigned(credentials, datetime);
        } else {
          this.addHeaders(credentials, datetime);
        }
        this.request.headers["Authorization"] = this.authorization(credentials, datetime);
      },
      addHeaders: function addHeaders(credentials, datetime) {
        this.request.headers["X-Amz-Date"] = datetime;
        if (credentials.sessionToken) {
          this.request.headers["x-amz-security-token"] = credentials.sessionToken;
        }
      },
      updateForPresigned: function updateForPresigned(credentials, datetime) {
        var credString = this.credentialString(datetime);
        var qs = {
          "X-Amz-Date": datetime,
          "X-Amz-Algorithm": this.algorithm,
          "X-Amz-Credential": credentials.accessKeyId + "/" + credString,
          "X-Amz-Expires": this.request.headers[expiresHeader],
          "X-Amz-SignedHeaders": this.signedHeaders()
        };
        if (credentials.sessionToken) {
          qs["X-Amz-Security-Token"] = credentials.sessionToken;
        }
        if (this.request.headers["Content-Type"]) {
          qs["Content-Type"] = this.request.headers["Content-Type"];
        }
        if (this.request.headers["Content-MD5"]) {
          qs["Content-MD5"] = this.request.headers["Content-MD5"];
        }
        if (this.request.headers["Cache-Control"]) {
          qs["Cache-Control"] = this.request.headers["Cache-Control"];
        }
        AWS2.util.each.call(this, this.request.headers, function(key, value) {
          if (key === expiresHeader)
            return;
          if (this.isSignableHeader(key)) {
            var lowerKey = key.toLowerCase();
            if (lowerKey.indexOf("x-amz-meta-") === 0) {
              qs[lowerKey] = value;
            } else if (lowerKey.indexOf("x-amz-") === 0) {
              qs[key] = value;
            }
          }
        });
        var sep = this.request.path.indexOf("?") >= 0 ? "&" : "?";
        this.request.path += sep + AWS2.util.queryParamsToString(qs);
      },
      authorization: function authorization(credentials, datetime) {
        var parts = [];
        var credString = this.credentialString(datetime);
        parts.push(this.algorithm + " Credential=" + credentials.accessKeyId + "/" + credString);
        parts.push("SignedHeaders=" + this.signedHeaders());
        parts.push("Signature=" + this.signature(credentials, datetime));
        return parts.join(", ");
      },
      signature: function signature(credentials, datetime) {
        var signingKey = v4Credentials.getSigningKey(
          credentials,
          datetime.substr(0, 8),
          this.request.region,
          this.serviceName,
          this.signatureCache
        );
        return AWS2.util.crypto.hmac(signingKey, this.stringToSign(datetime), "hex");
      },
      stringToSign: function stringToSign(datetime) {
        var parts = [];
        parts.push("AWS4-HMAC-SHA256");
        parts.push(datetime);
        parts.push(this.credentialString(datetime));
        parts.push(this.hexEncodedHash(this.canonicalString()));
        return parts.join("\n");
      },
      canonicalString: function canonicalString() {
        var parts = [], pathname = this.request.pathname();
        if (this.serviceName !== "s3" && this.signatureVersion !== "s3v4")
          pathname = AWS2.util.uriEscapePath(pathname);
        parts.push(this.request.method);
        parts.push(pathname);
        parts.push(this.request.search());
        parts.push(this.canonicalHeaders() + "\n");
        parts.push(this.signedHeaders());
        parts.push(this.hexEncodedBodyHash());
        return parts.join("\n");
      },
      canonicalHeaders: function canonicalHeaders() {
        var headers = [];
        AWS2.util.each.call(this, this.request.headers, function(key, item) {
          headers.push([key, item]);
        });
        headers.sort(function(a, b) {
          return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;
        });
        var parts = [];
        AWS2.util.arrayEach.call(this, headers, function(item) {
          var key = item[0].toLowerCase();
          if (this.isSignableHeader(key)) {
            var value = item[1];
            if (typeof value === "undefined" || value === null || typeof value.toString !== "function") {
              throw AWS2.util.error(new Error("Header " + key + " contains invalid value"), {
                code: "InvalidHeader"
              });
            }
            parts.push(key + ":" + this.canonicalHeaderValues(value.toString()));
          }
        });
        return parts.join("\n");
      },
      canonicalHeaderValues: function canonicalHeaderValues(values) {
        return values.replace(/\s+/g, " ").replace(/^\s+|\s+$/g, "");
      },
      signedHeaders: function signedHeaders() {
        var keys = [];
        AWS2.util.each.call(this, this.request.headers, function(key) {
          key = key.toLowerCase();
          if (this.isSignableHeader(key))
            keys.push(key);
        });
        return keys.sort().join(";");
      },
      credentialString: function credentialString(datetime) {
        return v4Credentials.createScope(
          datetime.substr(0, 8),
          this.request.region,
          this.serviceName
        );
      },
      hexEncodedHash: function hash(string) {
        return AWS2.util.crypto.sha256(string, "hex");
      },
      hexEncodedBodyHash: function hexEncodedBodyHash() {
        var request = this.request;
        if (this.isPresigned() && ["s3", "s3-object-lambda"].indexOf(this.serviceName) > -1 && !request.body) {
          return "UNSIGNED-PAYLOAD";
        } else if (request.headers["X-Amz-Content-Sha256"]) {
          return request.headers["X-Amz-Content-Sha256"];
        } else {
          return this.hexEncodedHash(this.request.body || "");
        }
      },
      unsignableHeaders: [
        "authorization",
        "content-type",
        "content-length",
        "user-agent",
        expiresHeader,
        "expect",
        "x-amzn-trace-id"
      ],
      isSignableHeader: function isSignableHeader(key) {
        if (key.toLowerCase().indexOf("x-amz-") === 0)
          return true;
        return this.unsignableHeaders.indexOf(key) < 0;
      },
      isPresigned: function isPresigned() {
        return this.request.headers[expiresHeader] ? true : false;
      }
    });
    module2.exports = AWS2.Signers.V4;
  }
});

// node_modules/aws-sdk/lib/signers/s3.js
var require_s3 = __commonJS({
  "node_modules/aws-sdk/lib/signers/s3.js"(exports2, module2) {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    AWS2.Signers.S3 = inherit(AWS2.Signers.RequestSigner, {
      subResources: {
        "acl": 1,
        "accelerate": 1,
        "analytics": 1,
        "cors": 1,
        "lifecycle": 1,
        "delete": 1,
        "inventory": 1,
        "location": 1,
        "logging": 1,
        "metrics": 1,
        "notification": 1,
        "partNumber": 1,
        "policy": 1,
        "requestPayment": 1,
        "replication": 1,
        "restore": 1,
        "tagging": 1,
        "torrent": 1,
        "uploadId": 1,
        "uploads": 1,
        "versionId": 1,
        "versioning": 1,
        "versions": 1,
        "website": 1
      },
      responseHeaders: {
        "response-content-type": 1,
        "response-content-language": 1,
        "response-expires": 1,
        "response-cache-control": 1,
        "response-content-disposition": 1,
        "response-content-encoding": 1
      },
      addAuthorization: function addAuthorization(credentials, date) {
        if (!this.request.headers["presigned-expires"]) {
          this.request.headers["X-Amz-Date"] = AWS2.util.date.rfc822(date);
        }
        if (credentials.sessionToken) {
          this.request.headers["x-amz-security-token"] = credentials.sessionToken;
        }
        var signature = this.sign(credentials.secretAccessKey, this.stringToSign());
        var auth = "AWS " + credentials.accessKeyId + ":" + signature;
        this.request.headers["Authorization"] = auth;
      },
      stringToSign: function stringToSign() {
        var r = this.request;
        var parts = [];
        parts.push(r.method);
        parts.push(r.headers["Content-MD5"] || "");
        parts.push(r.headers["Content-Type"] || "");
        parts.push(r.headers["presigned-expires"] || "");
        var headers = this.canonicalizedAmzHeaders();
        if (headers)
          parts.push(headers);
        parts.push(this.canonicalizedResource());
        return parts.join("\n");
      },
      canonicalizedAmzHeaders: function canonicalizedAmzHeaders() {
        var amzHeaders = [];
        AWS2.util.each(this.request.headers, function(name) {
          if (name.match(/^x-amz-/i))
            amzHeaders.push(name);
        });
        amzHeaders.sort(function(a, b) {
          return a.toLowerCase() < b.toLowerCase() ? -1 : 1;
        });
        var parts = [];
        AWS2.util.arrayEach.call(this, amzHeaders, function(name) {
          parts.push(name.toLowerCase() + ":" + String(this.request.headers[name]));
        });
        return parts.join("\n");
      },
      canonicalizedResource: function canonicalizedResource() {
        var r = this.request;
        var parts = r.path.split("?");
        var path = parts[0];
        var querystring = parts[1];
        var resource = "";
        if (r.virtualHostedBucket)
          resource += "/" + r.virtualHostedBucket;
        resource += path;
        if (querystring) {
          var resources = [];
          AWS2.util.arrayEach.call(this, querystring.split("&"), function(param) {
            var name = param.split("=")[0];
            var value = param.split("=")[1];
            if (this.subResources[name] || this.responseHeaders[name]) {
              var subresource = { name };
              if (value !== void 0) {
                if (this.subResources[name]) {
                  subresource.value = value;
                } else {
                  subresource.value = decodeURIComponent(value);
                }
              }
              resources.push(subresource);
            }
          });
          resources.sort(function(a, b) {
            return a.name < b.name ? -1 : 1;
          });
          if (resources.length) {
            querystring = [];
            AWS2.util.arrayEach(resources, function(res) {
              if (res.value === void 0) {
                querystring.push(res.name);
              } else {
                querystring.push(res.name + "=" + res.value);
              }
            });
            resource += "?" + querystring.join("&");
          }
        }
        return resource;
      },
      sign: function sign(secret, string) {
        return AWS2.util.crypto.hmac(secret, string, "base64", "sha1");
      }
    });
    module2.exports = AWS2.Signers.S3;
  }
});

// node_modules/aws-sdk/lib/signers/presign.js
var require_presign = __commonJS({
  "node_modules/aws-sdk/lib/signers/presign.js"(exports2, module2) {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    var expiresHeader = "presigned-expires";
    function signedUrlBuilder(request) {
      var expires = request.httpRequest.headers[expiresHeader];
      var signerClass = request.service.getSignerClass(request);
      delete request.httpRequest.headers["User-Agent"];
      delete request.httpRequest.headers["X-Amz-User-Agent"];
      if (signerClass === AWS2.Signers.V4) {
        if (expires > 604800) {
          var message = "Presigning does not support expiry time greater than a week with SigV4 signing.";
          throw AWS2.util.error(new Error(), {
            code: "InvalidExpiryTime",
            message,
            retryable: false
          });
        }
        request.httpRequest.headers[expiresHeader] = expires;
      } else if (signerClass === AWS2.Signers.S3) {
        var now = request.service ? request.service.getSkewCorrectedDate() : AWS2.util.date.getDate();
        request.httpRequest.headers[expiresHeader] = parseInt(
          AWS2.util.date.unixTimestamp(now) + expires,
          10
        ).toString();
      } else {
        throw AWS2.util.error(new Error(), {
          message: "Presigning only supports S3 or SigV4 signing.",
          code: "UnsupportedSigner",
          retryable: false
        });
      }
    }
    function signedUrlSigner(request) {
      var endpoint = request.httpRequest.endpoint;
      var parsedUrl = AWS2.util.urlParse(request.httpRequest.path);
      var queryParams = {};
      if (parsedUrl.search) {
        queryParams = AWS2.util.queryStringParse(parsedUrl.search.substr(1));
      }
      var auth = request.httpRequest.headers["Authorization"].split(" ");
      if (auth[0] === "AWS") {
        auth = auth[1].split(":");
        queryParams["Signature"] = auth.pop();
        queryParams["AWSAccessKeyId"] = auth.join(":");
        AWS2.util.each(request.httpRequest.headers, function(key, value) {
          if (key === expiresHeader)
            key = "Expires";
          if (key.indexOf("x-amz-meta-") === 0) {
            delete queryParams[key];
            key = key.toLowerCase();
          }
          queryParams[key] = value;
        });
        delete request.httpRequest.headers[expiresHeader];
        delete queryParams["Authorization"];
        delete queryParams["Host"];
      } else if (auth[0] === "AWS4-HMAC-SHA256") {
        auth.shift();
        var rest = auth.join(" ");
        var signature = rest.match(/Signature=(.*?)(?:,|\s|\r?\n|$)/)[1];
        queryParams["X-Amz-Signature"] = signature;
        delete queryParams["Expires"];
      }
      endpoint.pathname = parsedUrl.pathname;
      endpoint.search = AWS2.util.queryParamsToString(queryParams);
    }
    AWS2.Signers.Presign = inherit({
      sign: function sign(request, expireTime, callback) {
        request.httpRequest.headers[expiresHeader] = expireTime || 3600;
        request.on("build", signedUrlBuilder);
        request.on("sign", signedUrlSigner);
        request.removeListener(
          "afterBuild",
          AWS2.EventListeners.Core.SET_CONTENT_LENGTH
        );
        request.removeListener(
          "afterBuild",
          AWS2.EventListeners.Core.COMPUTE_SHA256
        );
        request.emit("beforePresign", [request]);
        if (callback) {
          request.build(function() {
            if (this.response.error)
              callback(this.response.error);
            else {
              callback(null, AWS2.util.urlFormat(request.httpRequest.endpoint));
            }
          });
        } else {
          request.build();
          if (request.response.error)
            throw request.response.error;
          return AWS2.util.urlFormat(request.httpRequest.endpoint);
        }
      }
    });
    module2.exports = AWS2.Signers.Presign;
  }
});

// node_modules/aws-sdk/lib/signers/bearer.js
var require_bearer = __commonJS({
  "node_modules/aws-sdk/lib/signers/bearer.js"() {
    var AWS2 = require_core();
    AWS2.Signers.Bearer = AWS2.util.inherit(AWS2.Signers.RequestSigner, {
      constructor: function Bearer(request) {
        AWS2.Signers.RequestSigner.call(this, request);
      },
      addAuthorization: function addAuthorization(token) {
        this.request.httpRequest.headers["Authorization"] = "Bearer " + token.token;
      }
    });
  }
});

// node_modules/aws-sdk/lib/signers/request_signer.js
var require_request_signer = __commonJS({
  "node_modules/aws-sdk/lib/signers/request_signer.js"() {
    var AWS2 = require_core();
    var inherit = AWS2.util.inherit;
    AWS2.Signers.RequestSigner = inherit({
      constructor: function RequestSigner(request) {
        this.request = request;
      },
      setServiceClientId: function setServiceClientId(id) {
        this.serviceClientId = id;
      },
      getServiceClientId: function getServiceClientId() {
        return this.serviceClientId;
      }
    });
    AWS2.Signers.RequestSigner.getVersion = function getVersion(version) {
      switch (version) {
        case "v2":
          return AWS2.Signers.V2;
        case "v3":
          return AWS2.Signers.V3;
        case "s3v4":
          return AWS2.Signers.V4;
        case "v4":
          return AWS2.Signers.V4;
        case "s3":
          return AWS2.Signers.S3;
        case "v3https":
          return AWS2.Signers.V3Https;
        case "bearer":
          return AWS2.Signers.Bearer;
      }
      throw new Error("Unknown signing version " + version);
    };
    require_v2();
    require_v3();
    require_v3https();
    require_v4();
    require_s3();
    require_presign();
    require_bearer();
  }
});

// node_modules/aws-sdk/lib/param_validator.js
var require_param_validator = __commonJS({
  "node_modules/aws-sdk/lib/param_validator.js"() {
    var AWS2 = require_core();
    AWS2.ParamValidator = AWS2.util.inherit({
      constructor: function ParamValidator(validation) {
        if (validation === true || validation === void 0) {
          validation = { "min": true };
        }
        this.validation = validation;
      },
      validate: function validate(shape, params, context) {
        this.errors = [];
        this.validateMember(shape, params || {}, context || "params");
        if (this.errors.length > 1) {
          var msg = this.errors.join("\n* ");
          msg = "There were " + this.errors.length + " validation errors:\n* " + msg;
          throw AWS2.util.error(
            new Error(msg),
            { code: "MultipleValidationErrors", errors: this.errors }
          );
        } else if (this.errors.length === 1) {
          throw this.errors[0];
        } else {
          return true;
        }
      },
      fail: function fail(code, message) {
        this.errors.push(AWS2.util.error(new Error(message), { code }));
      },
      validateStructure: function validateStructure(shape, params, context) {
        if (shape.isDocument)
          return true;
        this.validateType(params, context, ["object"], "structure");
        var paramName;
        for (var i = 0; shape.required && i < shape.required.length; i++) {
          paramName = shape.required[i];
          var value = params[paramName];
          if (value === void 0 || value === null) {
            this.fail(
              "MissingRequiredParameter",
              "Missing required key '" + paramName + "' in " + context
            );
          }
        }
        for (paramName in params) {
          if (!Object.prototype.hasOwnProperty.call(params, paramName))
            continue;
          var paramValue = params[paramName], memberShape = shape.members[paramName];
          if (memberShape !== void 0) {
            var memberContext = [context, paramName].join(".");
            this.validateMember(memberShape, paramValue, memberContext);
          } else if (paramValue !== void 0 && paramValue !== null) {
            this.fail(
              "UnexpectedParameter",
              "Unexpected key '" + paramName + "' found in " + context
            );
          }
        }
        return true;
      },
      validateMember: function validateMember(shape, param, context) {
        switch (shape.type) {
          case "structure":
            return this.validateStructure(shape, param, context);
          case "list":
            return this.validateList(shape, param, context);
          case "map":
            return this.validateMap(shape, param, context);
          default:
            return this.validateScalar(shape, param, context);
        }
      },
      validateList: function validateList(shape, params, context) {
        if (this.validateType(params, context, [Array])) {
          this.validateRange(shape, params.length, context, "list member count");
          for (var i = 0; i < params.length; i++) {
            this.validateMember(shape.member, params[i], context + "[" + i + "]");
          }
        }
      },
      validateMap: function validateMap(shape, params, context) {
        if (this.validateType(params, context, ["object"], "map")) {
          var mapCount = 0;
          for (var param in params) {
            if (!Object.prototype.hasOwnProperty.call(params, param))
              continue;
            this.validateMember(
              shape.key,
              param,
              context + "[key='" + param + "']"
            );
            this.validateMember(
              shape.value,
              params[param],
              context + "['" + param + "']"
            );
            mapCount++;
          }
          this.validateRange(shape, mapCount, context, "map member count");
        }
      },
      validateScalar: function validateScalar(shape, value, context) {
        switch (shape.type) {
          case null:
          case void 0:
          case "string":
            return this.validateString(shape, value, context);
          case "base64":
          case "binary":
            return this.validatePayload(value, context);
          case "integer":
          case "float":
            return this.validateNumber(shape, value, context);
          case "boolean":
            return this.validateType(value, context, ["boolean"]);
          case "timestamp":
            return this.validateType(
              value,
              context,
              [
                Date,
                /^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(\.\d+)?Z$/,
                "number"
              ],
              "Date object, ISO-8601 string, or a UNIX timestamp"
            );
          default:
            return this.fail("UnkownType", "Unhandled type " + shape.type + " for " + context);
        }
      },
      validateString: function validateString(shape, value, context) {
        var validTypes = ["string"];
        if (shape.isJsonValue) {
          validTypes = validTypes.concat(["number", "object", "boolean"]);
        }
        if (value !== null && this.validateType(value, context, validTypes)) {
          this.validateEnum(shape, value, context);
          this.validateRange(shape, value.length, context, "string length");
          this.validatePattern(shape, value, context);
          this.validateUri(shape, value, context);
        }
      },
      validateUri: function validateUri(shape, value, context) {
        if (shape["location"] === "uri") {
          if (value.length === 0) {
            this.fail("UriParameterError", 'Expected uri parameter to have length >= 1, but found "' + value + '" for ' + context);
          }
        }
      },
      validatePattern: function validatePattern(shape, value, context) {
        if (this.validation["pattern"] && shape["pattern"] !== void 0) {
          if (!new RegExp(shape["pattern"]).test(value)) {
            this.fail("PatternMatchError", 'Provided value "' + value + '" does not match regex pattern /' + shape["pattern"] + "/ for " + context);
          }
        }
      },
      validateRange: function validateRange(shape, value, context, descriptor) {
        if (this.validation["min"]) {
          if (shape["min"] !== void 0 && value < shape["min"]) {
            this.fail("MinRangeError", "Expected " + descriptor + " >= " + shape["min"] + ", but found " + value + " for " + context);
          }
        }
        if (this.validation["max"]) {
          if (shape["max"] !== void 0 && value > shape["max"]) {
            this.fail("MaxRangeError", "Expected " + descriptor + " <= " + shape["max"] + ", but found " + value + " for " + context);
          }
        }
      },
      validateEnum: function validateRange(shape, value, context) {
        if (this.validation["enum"] && shape["enum"] !== void 0) {
          if (shape["enum"].indexOf(value) === -1) {
            this.fail("EnumError", "Found string value of " + value + ", but expected " + shape["enum"].join("|") + " for " + context);
          }
        }
      },
      validateType: function validateType(value, context, acceptedTypes, type) {
        if (value === null || value === void 0)
          return false;
        var foundInvalidType = false;
        for (var i = 0; i < acceptedTypes.length; i++) {
          if (typeof acceptedTypes[i] === "string") {
            if (typeof value === acceptedTypes[i])
              return true;
          } else if (acceptedTypes[i] instanceof RegExp) {
            if ((value || "").toString().match(acceptedTypes[i]))
              return true;
          } else {
            if (value instanceof acceptedTypes[i])
              return true;
            if (AWS2.util.isType(value, acceptedTypes[i]))
              return true;
            if (!type && !foundInvalidType)
              acceptedTypes = acceptedTypes.slice();
            acceptedTypes[i] = AWS2.util.typeName(acceptedTypes[i]);
          }
          foundInvalidType = true;
        }
        var acceptedType = type;
        if (!acceptedType) {
          acceptedType = acceptedTypes.join(", ").replace(/,([^,]+)$/, ", or$1");
        }
        var vowel = acceptedType.match(/^[aeiou]/i) ? "n" : "";
        this.fail("InvalidParameterType", "Expected " + context + " to be a" + vowel + " " + acceptedType);
        return false;
      },
      validateNumber: function validateNumber(shape, value, context) {
        if (value === null || value === void 0)
          return;
        if (typeof value === "string") {
          var castedValue = parseFloat(value);
          if (castedValue.toString() === value)
            value = castedValue;
        }
        if (this.validateType(value, context, ["number"])) {
          this.validateRange(shape, value, context, "numeric value");
        }
      },
      validatePayload: function validatePayload(value, context) {
        if (value === null || value === void 0)
          return;
        if (typeof value === "string")
          return;
        if (value && typeof value.byteLength === "number")
          return;
        if (AWS2.util.isNode()) {
          var Stream = AWS2.util.stream.Stream;
          if (AWS2.util.Buffer.isBuffer(value) || value instanceof Stream)
            return;
        } else {
          if (typeof Blob !== void 0 && value instanceof Blob)
            return;
        }
        var types = ["Buffer", "Stream", "File", "Blob", "ArrayBuffer", "DataView"];
        if (value) {
          for (var i = 0; i < types.length; i++) {
            if (AWS2.util.isType(value, types[i]))
              return;
            if (AWS2.util.typeName(value.constructor) === types[i])
              return;
          }
        }
        this.fail("InvalidParameterType", "Expected " + context + " to be a string, Buffer, Stream, Blob, or typed array object");
      }
    });
  }
});

// node_modules/aws-sdk/lib/core.js
var require_core = __commonJS({
  "node_modules/aws-sdk/lib/core.js"(exports2, module2) {
    var AWS2 = { util: require_util() };
    var _hidden = {};
    _hidden.toString();
    module2.exports = AWS2;
    AWS2.util.update(AWS2, {
      VERSION: "2.1208.0",
      Signers: {},
      Protocol: {
        Json: require_json(),
        Query: require_query(),
        Rest: require_rest(),
        RestJson: require_rest_json(),
        RestXml: require_rest_xml()
      },
      XML: {
        Builder: require_builder2(),
        Parser: null
      },
      JSON: {
        Builder: require_builder(),
        Parser: require_parser()
      },
      Model: {
        Api: require_api(),
        Operation: require_operation(),
        Shape: require_shape(),
        Paginator: require_paginator(),
        ResourceWaiter: require_resource_waiter()
      },
      apiLoader: require_api_loader(),
      EndpointCache: require_endpoint_cache().EndpointCache
    });
    require_sequential_executor();
    require_service();
    require_config();
    require_http();
    require_event_listeners();
    require_request();
    require_response();
    require_resource_waiter2();
    require_request_signer();
    require_param_validator();
    AWS2.events = new AWS2.SequentialExecutor();
    AWS2.util.memoizedProperty(AWS2, "endpointCache", function() {
      return new AWS2.EndpointCache(AWS2.config.endpointCacheSize);
    }, true);
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/rng.js
var require_rng = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/rng.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = rng;
    var _crypto = _interopRequireDefault(require("crypto"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function rng() {
      return _crypto.default.randomBytes(16);
    }
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/bytesToUuid.js
var require_bytesToUuid = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/bytesToUuid.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var byteToHex = [];
    for (i = 0; i < 256; ++i) {
      byteToHex[i] = (i + 256).toString(16).substr(1);
    }
    var i;
    function bytesToUuid(buf, offset) {
      var i2 = offset || 0;
      var bth = byteToHex;
      return [bth[buf[i2++]], bth[buf[i2++]], bth[buf[i2++]], bth[buf[i2++]], "-", bth[buf[i2++]], bth[buf[i2++]], "-", bth[buf[i2++]], bth[buf[i2++]], "-", bth[buf[i2++]], bth[buf[i2++]], "-", bth[buf[i2++]], bth[buf[i2++]], bth[buf[i2++]], bth[buf[i2++]], bth[buf[i2++]], bth[buf[i2++]]].join("");
    }
    var _default = bytesToUuid;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/v1.js
var require_v1 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/v1.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _rng = _interopRequireDefault(require_rng());
    var _bytesToUuid = _interopRequireDefault(require_bytesToUuid());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var _nodeId;
    var _clockseq;
    var _lastMSecs = 0;
    var _lastNSecs = 0;
    function v1(options, buf, offset) {
      var i = buf && offset || 0;
      var b = buf || [];
      options = options || {};
      var node = options.node || _nodeId;
      var clockseq = options.clockseq !== void 0 ? options.clockseq : _clockseq;
      if (node == null || clockseq == null) {
        var seedBytes = options.random || (options.rng || _rng.default)();
        if (node == null) {
          node = _nodeId = [seedBytes[0] | 1, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];
        }
        if (clockseq == null) {
          clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 16383;
        }
      }
      var msecs = options.msecs !== void 0 ? options.msecs : new Date().getTime();
      var nsecs = options.nsecs !== void 0 ? options.nsecs : _lastNSecs + 1;
      var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 1e4;
      if (dt < 0 && options.clockseq === void 0) {
        clockseq = clockseq + 1 & 16383;
      }
      if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === void 0) {
        nsecs = 0;
      }
      if (nsecs >= 1e4) {
        throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
      }
      _lastMSecs = msecs;
      _lastNSecs = nsecs;
      _clockseq = clockseq;
      msecs += 122192928e5;
      var tl = ((msecs & 268435455) * 1e4 + nsecs) % 4294967296;
      b[i++] = tl >>> 24 & 255;
      b[i++] = tl >>> 16 & 255;
      b[i++] = tl >>> 8 & 255;
      b[i++] = tl & 255;
      var tmh = msecs / 4294967296 * 1e4 & 268435455;
      b[i++] = tmh >>> 8 & 255;
      b[i++] = tmh & 255;
      b[i++] = tmh >>> 24 & 15 | 16;
      b[i++] = tmh >>> 16 & 255;
      b[i++] = clockseq >>> 8 | 128;
      b[i++] = clockseq & 255;
      for (var n = 0; n < 6; ++n) {
        b[i + n] = node[n];
      }
      return buf ? buf : (0, _bytesToUuid.default)(b);
    }
    var _default = v1;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/v35.js
var require_v35 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/v35.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = _default;
    exports2.URL = exports2.DNS = void 0;
    var _bytesToUuid = _interopRequireDefault(require_bytesToUuid());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function uuidToBytes(uuid) {
      var bytes = [];
      uuid.replace(/[a-fA-F0-9]{2}/g, function(hex) {
        bytes.push(parseInt(hex, 16));
      });
      return bytes;
    }
    function stringToBytes(str) {
      str = unescape(encodeURIComponent(str));
      var bytes = new Array(str.length);
      for (var i = 0; i < str.length; i++) {
        bytes[i] = str.charCodeAt(i);
      }
      return bytes;
    }
    var DNS = "6ba7b810-9dad-11d1-80b4-00c04fd430c8";
    exports2.DNS = DNS;
    var URL = "6ba7b811-9dad-11d1-80b4-00c04fd430c8";
    exports2.URL = URL;
    function _default(name, version, hashfunc) {
      var generateUUID = function(value, namespace, buf, offset) {
        var off = buf && offset || 0;
        if (typeof value == "string")
          value = stringToBytes(value);
        if (typeof namespace == "string")
          namespace = uuidToBytes(namespace);
        if (!Array.isArray(value))
          throw TypeError("value must be an array of bytes");
        if (!Array.isArray(namespace) || namespace.length !== 16)
          throw TypeError("namespace must be uuid string or an Array of 16 byte values");
        var bytes = hashfunc(namespace.concat(value));
        bytes[6] = bytes[6] & 15 | version;
        bytes[8] = bytes[8] & 63 | 128;
        if (buf) {
          for (var idx = 0; idx < 16; ++idx) {
            buf[off + idx] = bytes[idx];
          }
        }
        return buf || (0, _bytesToUuid.default)(bytes);
      };
      try {
        generateUUID.name = name;
      } catch (err) {
      }
      generateUUID.DNS = DNS;
      generateUUID.URL = URL;
      return generateUUID;
    }
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/md5.js
var require_md5 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/md5.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _crypto = _interopRequireDefault(require("crypto"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function md5(bytes) {
      if (Array.isArray(bytes)) {
        bytes = Buffer.from(bytes);
      } else if (typeof bytes === "string") {
        bytes = Buffer.from(bytes, "utf8");
      }
      return _crypto.default.createHash("md5").update(bytes).digest();
    }
    var _default = md5;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/v3.js
var require_v32 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/v3.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _v = _interopRequireDefault(require_v35());
    var _md = _interopRequireDefault(require_md5());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var v3 = (0, _v.default)("v3", 48, _md.default);
    var _default = v3;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/v4.js
var require_v42 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/v4.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _rng = _interopRequireDefault(require_rng());
    var _bytesToUuid = _interopRequireDefault(require_bytesToUuid());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function v4(options, buf, offset) {
      var i = buf && offset || 0;
      if (typeof options == "string") {
        buf = options === "binary" ? new Array(16) : null;
        options = null;
      }
      options = options || {};
      var rnds = options.random || (options.rng || _rng.default)();
      rnds[6] = rnds[6] & 15 | 64;
      rnds[8] = rnds[8] & 63 | 128;
      if (buf) {
        for (var ii = 0; ii < 16; ++ii) {
          buf[i + ii] = rnds[ii];
        }
      }
      return buf || (0, _bytesToUuid.default)(rnds);
    }
    var _default = v4;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/sha1.js
var require_sha1 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/sha1.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _crypto = _interopRequireDefault(require("crypto"));
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    function sha1(bytes) {
      if (Array.isArray(bytes)) {
        bytes = Buffer.from(bytes);
      } else if (typeof bytes === "string") {
        bytes = Buffer.from(bytes, "utf8");
      }
      return _crypto.default.createHash("sha1").update(bytes).digest();
    }
    var _default = sha1;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/v5.js
var require_v5 = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/v5.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _v = _interopRequireDefault(require_v35());
    var _sha = _interopRequireDefault(require_sha1());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var v5 = (0, _v.default)("v5", 80, _sha.default);
    var _default = v5;
    exports2.default = _default;
  }
});

// node_modules/aws-sdk/node_modules/uuid/dist/index.js
var require_dist = __commonJS({
  "node_modules/aws-sdk/node_modules/uuid/dist/index.js"(exports2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    Object.defineProperty(exports2, "v1", {
      enumerable: true,
      get: function() {
        return _v.default;
      }
    });
    Object.defineProperty(exports2, "v3", {
      enumerable: true,
      get: function() {
        return _v2.default;
      }
    });
    Object.defineProperty(exports2, "v4", {
      enumerable: true,
      get: function() {
        return _v3.default;
      }
    });
    Object.defineProperty(exports2, "v5", {
      enumerable: true,
      get: function() {
        return _v4.default;
      }
    });
    var _v = _interopRequireDefault(require_v1());
    var _v2 = _interopRequireDefault(require_v32());
    var _v3 = _interopRequireDefault(require_v42());
    var _v4 = _interopRequireDefault(require_v5());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
  }
});

// node_modules/aws-sdk/lib/util.js
var require_util = __commonJS({
  "node_modules/aws-sdk/lib/util.js"(exports2, module2) {
    var AWS2;
    var util = {
      environment: "nodejs",
      engine: function engine() {
        if (util.isBrowser() && typeof navigator !== "undefined") {
          return navigator.userAgent;
        } else {
          var engine2 = process.platform + "/" + process.version;
          if (process.env.AWS_EXECUTION_ENV) {
            engine2 += " exec-env/" + process.env.AWS_EXECUTION_ENV;
          }
          return engine2;
        }
      },
      userAgent: function userAgent() {
        var name = util.environment;
        var agent = "aws-sdk-" + name + "/" + require_core().VERSION;
        if (name === "nodejs")
          agent += " " + util.engine();
        return agent;
      },
      uriEscape: function uriEscape(string) {
        var output = encodeURIComponent(string);
        output = output.replace(/[^A-Za-z0-9_.~\-%]+/g, escape);
        output = output.replace(/[*]/g, function(ch) {
          return "%" + ch.charCodeAt(0).toString(16).toUpperCase();
        });
        return output;
      },
      uriEscapePath: function uriEscapePath(string) {
        var parts = [];
        util.arrayEach(string.split("/"), function(part) {
          parts.push(util.uriEscape(part));
        });
        return parts.join("/");
      },
      urlParse: function urlParse(url) {
        return util.url.parse(url);
      },
      urlFormat: function urlFormat(url) {
        return util.url.format(url);
      },
      queryStringParse: function queryStringParse(qs) {
        return util.querystring.parse(qs);
      },
      queryParamsToString: function queryParamsToString(params) {
        var items = [];
        var escape2 = util.uriEscape;
        var sortedKeys = Object.keys(params).sort();
        util.arrayEach(sortedKeys, function(name) {
          var value = params[name];
          var ename = escape2(name);
          var result = ename + "=";
          if (Array.isArray(value)) {
            var vals = [];
            util.arrayEach(value, function(item) {
              vals.push(escape2(item));
            });
            result = ename + "=" + vals.sort().join("&" + ename + "=");
          } else if (value !== void 0 && value !== null) {
            result = ename + "=" + escape2(value);
          }
          items.push(result);
        });
        return items.join("&");
      },
      readFileSync: function readFileSync(path) {
        if (util.isBrowser())
          return null;
        return require("fs").readFileSync(path, "utf-8");
      },
      base64: {
        encode: function encode64(string) {
          if (typeof string === "number") {
            throw util.error(new Error("Cannot base64 encode number " + string));
          }
          if (string === null || typeof string === "undefined") {
            return string;
          }
          var buf = util.buffer.toBuffer(string);
          return buf.toString("base64");
        },
        decode: function decode64(string) {
          if (typeof string === "number") {
            throw util.error(new Error("Cannot base64 decode number " + string));
          }
          if (string === null || typeof string === "undefined") {
            return string;
          }
          return util.buffer.toBuffer(string, "base64");
        }
      },
      buffer: {
        toBuffer: function(data, encoding) {
          return typeof util.Buffer.from === "function" && util.Buffer.from !== Uint8Array.from ? util.Buffer.from(data, encoding) : new util.Buffer(data, encoding);
        },
        alloc: function(size, fill, encoding) {
          if (typeof size !== "number") {
            throw new Error("size passed to alloc must be a number.");
          }
          if (typeof util.Buffer.alloc === "function") {
            return util.Buffer.alloc(size, fill, encoding);
          } else {
            var buf = new util.Buffer(size);
            if (fill !== void 0 && typeof buf.fill === "function") {
              buf.fill(fill, void 0, void 0, encoding);
            }
            return buf;
          }
        },
        toStream: function toStream(buffer) {
          if (!util.Buffer.isBuffer(buffer))
            buffer = util.buffer.toBuffer(buffer);
          var readable = new util.stream.Readable();
          var pos = 0;
          readable._read = function(size) {
            if (pos >= buffer.length)
              return readable.push(null);
            var end = pos + size;
            if (end > buffer.length)
              end = buffer.length;
            readable.push(buffer.slice(pos, end));
            pos = end;
          };
          return readable;
        },
        concat: function(buffers) {
          var length = 0, offset = 0, buffer = null, i;
          for (i = 0; i < buffers.length; i++) {
            length += buffers[i].length;
          }
          buffer = util.buffer.alloc(length);
          for (i = 0; i < buffers.length; i++) {
            buffers[i].copy(buffer, offset);
            offset += buffers[i].length;
          }
          return buffer;
        }
      },
      string: {
        byteLength: function byteLength(string) {
          if (string === null || string === void 0)
            return 0;
          if (typeof string === "string")
            string = util.buffer.toBuffer(string);
          if (typeof string.byteLength === "number") {
            return string.byteLength;
          } else if (typeof string.length === "number") {
            return string.length;
          } else if (typeof string.size === "number") {
            return string.size;
          } else if (typeof string.path === "string") {
            return require("fs").lstatSync(string.path).size;
          } else {
            throw util.error(
              new Error("Cannot determine length of " + string),
              { object: string }
            );
          }
        },
        upperFirst: function upperFirst(string) {
          return string[0].toUpperCase() + string.substr(1);
        },
        lowerFirst: function lowerFirst(string) {
          return string[0].toLowerCase() + string.substr(1);
        }
      },
      ini: {
        parse: function string(ini) {
          var currentSection, map = {};
          util.arrayEach(ini.split(/\r?\n/), function(line) {
            line = line.split(/(^|\s)[;#]/)[0].trim();
            var isSection = line[0] === "[" && line[line.length - 1] === "]";
            if (isSection) {
              currentSection = line.substring(1, line.length - 1);
              if (currentSection === "__proto__" || currentSection.split(/\s/)[1] === "__proto__") {
                throw util.error(
                  new Error("Cannot load profile name '" + currentSection + "' from shared ini file.")
                );
              }
            } else if (currentSection) {
              var indexOfEqualsSign = line.indexOf("=");
              var start = 0;
              var end = line.length - 1;
              var isAssignment = indexOfEqualsSign !== -1 && indexOfEqualsSign !== start && indexOfEqualsSign !== end;
              if (isAssignment) {
                var name = line.substring(0, indexOfEqualsSign).trim();
                var value = line.substring(indexOfEqualsSign + 1).trim();
                map[currentSection] = map[currentSection] || {};
                map[currentSection][name] = value;
              }
            }
          });
          return map;
        }
      },
      fn: {
        noop: function() {
        },
        callback: function(err) {
          if (err)
            throw err;
        },
        makeAsync: function makeAsync(fn, expectedArgs) {
          if (expectedArgs && expectedArgs <= fn.length) {
            return fn;
          }
          return function() {
            var args = Array.prototype.slice.call(arguments, 0);
            var callback = args.pop();
            var result = fn.apply(null, args);
            callback(result);
          };
        }
      },
      date: {
        getDate: function getDate() {
          if (!AWS2)
            AWS2 = require_core();
          if (AWS2.config.systemClockOffset) {
            return new Date(new Date().getTime() + AWS2.config.systemClockOffset);
          } else {
            return new Date();
          }
        },
        iso8601: function iso8601(date) {
          if (date === void 0) {
            date = util.date.getDate();
          }
          return date.toISOString().replace(/\.\d{3}Z$/, "Z");
        },
        rfc822: function rfc822(date) {
          if (date === void 0) {
            date = util.date.getDate();
          }
          return date.toUTCString();
        },
        unixTimestamp: function unixTimestamp(date) {
          if (date === void 0) {
            date = util.date.getDate();
          }
          return date.getTime() / 1e3;
        },
        from: function format(date) {
          if (typeof date === "number") {
            return new Date(date * 1e3);
          } else {
            return new Date(date);
          }
        },
        format: function format(date, formatter) {
          if (!formatter)
            formatter = "iso8601";
          return util.date[formatter](util.date.from(date));
        },
        parseTimestamp: function parseTimestamp(value) {
          if (typeof value === "number") {
            return new Date(value * 1e3);
          } else if (value.match(/^\d+$/)) {
            return new Date(value * 1e3);
          } else if (value.match(/^\d{4}/)) {
            return new Date(value);
          } else if (value.match(/^\w{3},/)) {
            return new Date(value);
          } else {
            throw util.error(
              new Error("unhandled timestamp format: " + value),
              { code: "TimestampParserError" }
            );
          }
        }
      },
      crypto: {
        crc32Table: [
          0,
          1996959894,
          3993919788,
          2567524794,
          124634137,
          1886057615,
          3915621685,
          2657392035,
          249268274,
          2044508324,
          3772115230,
          2547177864,
          162941995,
          2125561021,
          3887607047,
          2428444049,
          498536548,
          1789927666,
          4089016648,
          2227061214,
          450548861,
          1843258603,
          4107580753,
          2211677639,
          325883990,
          1684777152,
          4251122042,
          2321926636,
          335633487,
          1661365465,
          4195302755,
          2366115317,
          997073096,
          1281953886,
          3579855332,
          2724688242,
          1006888145,
          1258607687,
          3524101629,
          2768942443,
          901097722,
          1119000684,
          3686517206,
          2898065728,
          853044451,
          1172266101,
          3705015759,
          2882616665,
          651767980,
          1373503546,
          3369554304,
          3218104598,
          565507253,
          1454621731,
          3485111705,
          3099436303,
          671266974,
          1594198024,
          3322730930,
          2970347812,
          795835527,
          1483230225,
          3244367275,
          3060149565,
          1994146192,
          31158534,
          2563907772,
          4023717930,
          1907459465,
          112637215,
          2680153253,
          3904427059,
          2013776290,
          251722036,
          2517215374,
          3775830040,
          2137656763,
          141376813,
          2439277719,
          3865271297,
          1802195444,
          476864866,
          2238001368,
          4066508878,
          1812370925,
          453092731,
          2181625025,
          4111451223,
          1706088902,
          314042704,
          2344532202,
          4240017532,
          1658658271,
          366619977,
          2362670323,
          4224994405,
          1303535960,
          984961486,
          2747007092,
          3569037538,
          1256170817,
          1037604311,
          2765210733,
          3554079995,
          1131014506,
          879679996,
          2909243462,
          3663771856,
          1141124467,
          855842277,
          2852801631,
          3708648649,
          1342533948,
          654459306,
          3188396048,
          3373015174,
          1466479909,
          544179635,
          3110523913,
          3462522015,
          1591671054,
          702138776,
          2966460450,
          3352799412,
          1504918807,
          783551873,
          3082640443,
          3233442989,
          3988292384,
          2596254646,
          62317068,
          1957810842,
          3939845945,
          2647816111,
          81470997,
          1943803523,
          3814918930,
          2489596804,
          225274430,
          2053790376,
          3826175755,
          2466906013,
          167816743,
          2097651377,
          4027552580,
          2265490386,
          503444072,
          1762050814,
          4150417245,
          2154129355,
          426522225,
          1852507879,
          4275313526,
          2312317920,
          282753626,
          1742555852,
          4189708143,
          2394877945,
          397917763,
          1622183637,
          3604390888,
          2714866558,
          953729732,
          1340076626,
          3518719985,
          2797360999,
          1068828381,
          1219638859,
          3624741850,
          2936675148,
          906185462,
          1090812512,
          3747672003,
          2825379669,
          829329135,
          1181335161,
          3412177804,
          3160834842,
          628085408,
          1382605366,
          3423369109,
          3138078467,
          570562233,
          1426400815,
          3317316542,
          2998733608,
          733239954,
          1555261956,
          3268935591,
          3050360625,
          752459403,
          1541320221,
          2607071920,
          3965973030,
          1969922972,
          40735498,
          2617837225,
          3943577151,
          1913087877,
          83908371,
          2512341634,
          3803740692,
          2075208622,
          213261112,
          2463272603,
          3855990285,
          2094854071,
          198958881,
          2262029012,
          4057260610,
          1759359992,
          534414190,
          2176718541,
          4139329115,
          1873836001,
          414664567,
          2282248934,
          4279200368,
          1711684554,
          285281116,
          2405801727,
          4167216745,
          1634467795,
          376229701,
          2685067896,
          3608007406,
          1308918612,
          956543938,
          2808555105,
          3495958263,
          1231636301,
          1047427035,
          2932959818,
          3654703836,
          1088359270,
          936918e3,
          2847714899,
          3736837829,
          1202900863,
          817233897,
          3183342108,
          3401237130,
          1404277552,
          615818150,
          3134207493,
          3453421203,
          1423857449,
          601450431,
          3009837614,
          3294710456,
          1567103746,
          711928724,
          3020668471,
          3272380065,
          1510334235,
          755167117
        ],
        crc32: function crc32(data) {
          var tbl = util.crypto.crc32Table;
          var crc = 0 ^ -1;
          if (typeof data === "string") {
            data = util.buffer.toBuffer(data);
          }
          for (var i = 0; i < data.length; i++) {
            var code = data.readUInt8(i);
            crc = crc >>> 8 ^ tbl[(crc ^ code) & 255];
          }
          return (crc ^ -1) >>> 0;
        },
        hmac: function hmac(key, string, digest, fn) {
          if (!digest)
            digest = "binary";
          if (digest === "buffer") {
            digest = void 0;
          }
          if (!fn)
            fn = "sha256";
          if (typeof string === "string")
            string = util.buffer.toBuffer(string);
          return util.crypto.lib.createHmac(fn, key).update(string).digest(digest);
        },
        md5: function md5(data, digest, callback) {
          return util.crypto.hash("md5", data, digest, callback);
        },
        sha256: function sha256(data, digest, callback) {
          return util.crypto.hash("sha256", data, digest, callback);
        },
        hash: function(algorithm, data, digest, callback) {
          var hash = util.crypto.createHash(algorithm);
          if (!digest) {
            digest = "binary";
          }
          if (digest === "buffer") {
            digest = void 0;
          }
          if (typeof data === "string")
            data = util.buffer.toBuffer(data);
          var sliceFn = util.arraySliceFn(data);
          var isBuffer = util.Buffer.isBuffer(data);
          if (util.isBrowser() && typeof ArrayBuffer !== "undefined" && data && data.buffer instanceof ArrayBuffer)
            isBuffer = true;
          if (callback && typeof data === "object" && typeof data.on === "function" && !isBuffer) {
            data.on("data", function(chunk) {
              hash.update(chunk);
            });
            data.on("error", function(err) {
              callback(err);
            });
            data.on("end", function() {
              callback(null, hash.digest(digest));
            });
          } else if (callback && sliceFn && !isBuffer && typeof FileReader !== "undefined") {
            var index = 0, size = 1024 * 512;
            var reader = new FileReader();
            reader.onerror = function() {
              callback(new Error("Failed to read data."));
            };
            reader.onload = function() {
              var buf = new util.Buffer(new Uint8Array(reader.result));
              hash.update(buf);
              index += buf.length;
              reader._continueReading();
            };
            reader._continueReading = function() {
              if (index >= data.size) {
                callback(null, hash.digest(digest));
                return;
              }
              var back = index + size;
              if (back > data.size)
                back = data.size;
              reader.readAsArrayBuffer(sliceFn.call(data, index, back));
            };
            reader._continueReading();
          } else {
            if (util.isBrowser() && typeof data === "object" && !isBuffer) {
              data = new util.Buffer(new Uint8Array(data));
            }
            var out = hash.update(data).digest(digest);
            if (callback)
              callback(null, out);
            return out;
          }
        },
        toHex: function toHex(data) {
          var out = [];
          for (var i = 0; i < data.length; i++) {
            out.push(("0" + data.charCodeAt(i).toString(16)).substr(-2, 2));
          }
          return out.join("");
        },
        createHash: function createHash(algorithm) {
          return util.crypto.lib.createHash(algorithm);
        }
      },
      abort: {},
      each: function each(object, iterFunction) {
        for (var key in object) {
          if (Object.prototype.hasOwnProperty.call(object, key)) {
            var ret = iterFunction.call(this, key, object[key]);
            if (ret === util.abort)
              break;
          }
        }
      },
      arrayEach: function arrayEach(array, iterFunction) {
        for (var idx in array) {
          if (Object.prototype.hasOwnProperty.call(array, idx)) {
            var ret = iterFunction.call(this, array[idx], parseInt(idx, 10));
            if (ret === util.abort)
              break;
          }
        }
      },
      update: function update(obj1, obj2) {
        util.each(obj2, function iterator(key, item) {
          obj1[key] = item;
        });
        return obj1;
      },
      merge: function merge(obj1, obj2) {
        return util.update(util.copy(obj1), obj2);
      },
      copy: function copy(object) {
        if (object === null || object === void 0)
          return object;
        var dupe = {};
        for (var key in object) {
          dupe[key] = object[key];
        }
        return dupe;
      },
      isEmpty: function isEmpty(obj) {
        for (var prop in obj) {
          if (Object.prototype.hasOwnProperty.call(obj, prop)) {
            return false;
          }
        }
        return true;
      },
      arraySliceFn: function arraySliceFn(obj) {
        var fn = obj.slice || obj.webkitSlice || obj.mozSlice;
        return typeof fn === "function" ? fn : null;
      },
      isType: function isType(obj, type) {
        if (typeof type === "function")
          type = util.typeName(type);
        return Object.prototype.toString.call(obj) === "[object " + type + "]";
      },
      typeName: function typeName(type) {
        if (Object.prototype.hasOwnProperty.call(type, "name"))
          return type.name;
        var str = type.toString();
        var match = str.match(/^\s*function (.+)\(/);
        return match ? match[1] : str;
      },
      error: function error(err, options) {
        var originalError = null;
        if (typeof err.message === "string" && err.message !== "") {
          if (typeof options === "string" || options && options.message) {
            originalError = util.copy(err);
            originalError.message = err.message;
          }
        }
        err.message = err.message || null;
        if (typeof options === "string") {
          err.message = options;
        } else if (typeof options === "object" && options !== null) {
          util.update(err, options);
          if (options.message)
            err.message = options.message;
          if (options.code || options.name)
            err.code = options.code || options.name;
          if (options.stack)
            err.stack = options.stack;
        }
        if (typeof Object.defineProperty === "function") {
          Object.defineProperty(err, "name", { writable: true, enumerable: false });
          Object.defineProperty(err, "message", { enumerable: true });
        }
        err.name = String(options && options.name || err.name || err.code || "Error");
        err.time = new Date();
        if (originalError)
          err.originalError = originalError;
        return err;
      },
      inherit: function inherit(klass, features) {
        var newObject = null;
        if (features === void 0) {
          features = klass;
          klass = Object;
          newObject = {};
        } else {
          var ctor = function ConstructorWrapper() {
          };
          ctor.prototype = klass.prototype;
          newObject = new ctor();
        }
        if (features.constructor === Object) {
          features.constructor = function() {
            if (klass !== Object) {
              return klass.apply(this, arguments);
            }
          };
        }
        features.constructor.prototype = newObject;
        util.update(features.constructor.prototype, features);
        features.constructor.__super__ = klass;
        return features.constructor;
      },
      mixin: function mixin() {
        var klass = arguments[0];
        for (var i = 1; i < arguments.length; i++) {
          for (var prop in arguments[i].prototype) {
            var fn = arguments[i].prototype[prop];
            if (prop !== "constructor") {
              klass.prototype[prop] = fn;
            }
          }
        }
        return klass;
      },
      hideProperties: function hideProperties(obj, props) {
        if (typeof Object.defineProperty !== "function")
          return;
        util.arrayEach(props, function(key) {
          Object.defineProperty(obj, key, {
            enumerable: false,
            writable: true,
            configurable: true
          });
        });
      },
      property: function property(obj, name, value, enumerable, isValue) {
        var opts = {
          configurable: true,
          enumerable: enumerable !== void 0 ? enumerable : true
        };
        if (typeof value === "function" && !isValue) {
          opts.get = value;
        } else {
          opts.value = value;
          opts.writable = true;
        }
        Object.defineProperty(obj, name, opts);
      },
      memoizedProperty: function memoizedProperty(obj, name, get, enumerable) {
        var cachedValue = null;
        util.property(obj, name, function() {
          if (cachedValue === null) {
            cachedValue = get();
          }
          return cachedValue;
        }, enumerable);
      },
      hoistPayloadMember: function hoistPayloadMember(resp) {
        var req = resp.request;
        var operationName = req.operation;
        var operation = req.service.api.operations[operationName];
        var output = operation.output;
        if (output.payload && !operation.hasEventOutput) {
          var payloadMember = output.members[output.payload];
          var responsePayload = resp.data[output.payload];
          if (payloadMember.type === "structure") {
            util.each(responsePayload, function(key, value) {
              util.property(resp.data, key, value, false);
            });
          }
        }
      },
      computeSha256: function computeSha256(body, done) {
        if (util.isNode()) {
          var Stream = util.stream.Stream;
          var fs = require("fs");
          if (typeof Stream === "function" && body instanceof Stream) {
            if (typeof body.path === "string") {
              var settings = {};
              if (typeof body.start === "number") {
                settings.start = body.start;
              }
              if (typeof body.end === "number") {
                settings.end = body.end;
              }
              body = fs.createReadStream(body.path, settings);
            } else {
              return done(new Error("Non-file stream objects are not supported with SigV4"));
            }
          }
        }
        util.crypto.sha256(body, "hex", function(err, sha) {
          if (err)
            done(err);
          else
            done(null, sha);
        });
      },
      isClockSkewed: function isClockSkewed(serverTime) {
        if (serverTime) {
          util.property(
            AWS2.config,
            "isClockSkewed",
            Math.abs(new Date().getTime() - serverTime) >= 3e5,
            false
          );
          return AWS2.config.isClockSkewed;
        }
      },
      applyClockOffset: function applyClockOffset(serverTime) {
        if (serverTime)
          AWS2.config.systemClockOffset = serverTime - new Date().getTime();
      },
      extractRequestId: function extractRequestId(resp) {
        var requestId = resp.httpResponse.headers["x-amz-request-id"] || resp.httpResponse.headers["x-amzn-requestid"];
        if (!requestId && resp.data && resp.data.ResponseMetadata) {
          requestId = resp.data.ResponseMetadata.RequestId;
        }
        if (requestId) {
          resp.requestId = requestId;
        }
        if (resp.error) {
          resp.error.requestId = requestId;
        }
      },
      addPromises: function addPromises(constructors, PromiseDependency) {
        var deletePromises = false;
        if (PromiseDependency === void 0 && AWS2 && AWS2.config) {
          PromiseDependency = AWS2.config.getPromisesDependency();
        }
        if (PromiseDependency === void 0 && typeof Promise !== "undefined") {
          PromiseDependency = Promise;
        }
        if (typeof PromiseDependency !== "function")
          deletePromises = true;
        if (!Array.isArray(constructors))
          constructors = [constructors];
        for (var ind = 0; ind < constructors.length; ind++) {
          var constructor = constructors[ind];
          if (deletePromises) {
            if (constructor.deletePromisesFromClass) {
              constructor.deletePromisesFromClass();
            }
          } else if (constructor.addPromisesToClass) {
            constructor.addPromisesToClass(PromiseDependency);
          }
        }
      },
      promisifyMethod: function promisifyMethod(methodName, PromiseDependency) {
        return function promise() {
          var self = this;
          var args = Array.prototype.slice.call(arguments);
          return new PromiseDependency(function(resolve, reject) {
            args.push(function(err, data) {
              if (err) {
                reject(err);
              } else {
                resolve(data);
              }
            });
            self[methodName].apply(self, args);
          });
        };
      },
      isDualstackAvailable: function isDualstackAvailable(service) {
        if (!service)
          return false;
        var metadata = require_metadata();
        if (typeof service !== "string")
          service = service.serviceIdentifier;
        if (typeof service !== "string" || !metadata.hasOwnProperty(service))
          return false;
        return !!metadata[service].dualstackAvailable;
      },
      calculateRetryDelay: function calculateRetryDelay(retryCount, retryDelayOptions, err) {
        if (!retryDelayOptions)
          retryDelayOptions = {};
        var customBackoff = retryDelayOptions.customBackoff || null;
        if (typeof customBackoff === "function") {
          return customBackoff(retryCount, err);
        }
        var base = typeof retryDelayOptions.base === "number" ? retryDelayOptions.base : 100;
        var delay = Math.random() * (Math.pow(2, retryCount) * base);
        return delay;
      },
      handleRequestWithRetries: function handleRequestWithRetries(httpRequest, options, cb) {
        if (!options)
          options = {};
        var http = AWS2.HttpClient.getInstance();
        var httpOptions = options.httpOptions || {};
        var retryCount = 0;
        var errCallback = function(err) {
          var maxRetries = options.maxRetries || 0;
          if (err && err.code === "TimeoutError")
            err.retryable = true;
          if (err && err.retryable && retryCount < maxRetries) {
            var delay = util.calculateRetryDelay(retryCount, options.retryDelayOptions, err);
            if (delay >= 0) {
              retryCount++;
              setTimeout(sendRequest, delay + (err.retryAfter || 0));
              return;
            }
          }
          cb(err);
        };
        var sendRequest = function() {
          var data = "";
          http.handleRequest(httpRequest, httpOptions, function(httpResponse) {
            httpResponse.on("data", function(chunk) {
              data += chunk.toString();
            });
            httpResponse.on("end", function() {
              var statusCode = httpResponse.statusCode;
              if (statusCode < 300) {
                cb(null, data);
              } else {
                var retryAfter = parseInt(httpResponse.headers["retry-after"], 10) * 1e3 || 0;
                var err = util.error(
                  new Error(),
                  {
                    statusCode,
                    retryable: statusCode >= 500 || statusCode === 429
                  }
                );
                if (retryAfter && err.retryable)
                  err.retryAfter = retryAfter;
                errCallback(err);
              }
            });
          }, errCallback);
        };
        AWS2.util.defer(sendRequest);
      },
      uuid: {
        v4: function uuidV4() {
          return require_dist().v4();
        }
      },
      convertPayloadToString: function convertPayloadToString(resp) {
        var req = resp.request;
        var operation = req.operation;
        var rules = req.service.api.operations[operation].output || {};
        if (rules.payload && resp.data[rules.payload]) {
          resp.data[rules.payload] = resp.data[rules.payload].toString();
        }
      },
      defer: function defer(callback) {
        if (typeof process === "object" && typeof process.nextTick === "function") {
          process.nextTick(callback);
        } else if (typeof setImmediate === "function") {
          setImmediate(callback);
        } else {
          setTimeout(callback, 0);
        }
      },
      getRequestPayloadShape: function getRequestPayloadShape(req) {
        var operations = req.service.api.operations;
        if (!operations)
          return void 0;
        var operation = (operations || {})[req.operation];
        if (!operation || !operation.input || !operation.input.payload)
          return void 0;
        return operation.input.members[operation.input.payload];
      },
      getProfilesFromSharedConfig: function getProfilesFromSharedConfig(iniLoader, filename) {
        var profiles = {};
        var profilesFromConfig = {};
        if (process.env[util.configOptInEnv]) {
          var profilesFromConfig = iniLoader.loadFrom({
            isConfig: true,
            filename: process.env[util.sharedConfigFileEnv]
          });
        }
        var profilesFromCreds = {};
        try {
          var profilesFromCreds = iniLoader.loadFrom({
            filename: filename || process.env[util.configOptInEnv] && process.env[util.sharedCredentialsFileEnv]
          });
        } catch (error) {
          if (!process.env[util.configOptInEnv])
            throw error;
        }
        for (var i = 0, profileNames = Object.keys(profilesFromConfig); i < profileNames.length; i++) {
          profiles[profileNames[i]] = objectAssign(profiles[profileNames[i]] || {}, profilesFromConfig[profileNames[i]]);
        }
        for (var i = 0, profileNames = Object.keys(profilesFromCreds); i < profileNames.length; i++) {
          profiles[profileNames[i]] = objectAssign(profiles[profileNames[i]] || {}, profilesFromCreds[profileNames[i]]);
        }
        return profiles;
        function objectAssign(target, source) {
          for (var i2 = 0, keys = Object.keys(source); i2 < keys.length; i2++) {
            target[keys[i2]] = source[keys[i2]];
          }
          return target;
        }
      },
      ARN: {
        validate: function validateARN(str) {
          return str && str.indexOf("arn:") === 0 && str.split(":").length >= 6;
        },
        parse: function parseARN(arn) {
          var matched = arn.split(":");
          return {
            partition: matched[1],
            service: matched[2],
            region: matched[3],
            accountId: matched[4],
            resource: matched.slice(5).join(":")
          };
        },
        build: function buildARN(arnObject) {
          if (arnObject.service === void 0 || arnObject.region === void 0 || arnObject.accountId === void 0 || arnObject.resource === void 0)
            throw util.error(new Error("Input ARN object is invalid"));
          return "arn:" + (arnObject.partition || "aws") + ":" + arnObject.service + ":" + arnObject.region + ":" + arnObject.accountId + ":" + arnObject.resource;
        }
      },
      defaultProfile: "default",
      configOptInEnv: "AWS_SDK_LOAD_CONFIG",
      sharedCredentialsFileEnv: "AWS_SHARED_CREDENTIALS_FILE",
      sharedConfigFileEnv: "AWS_CONFIG_FILE",
      imdsDisabledEnv: "AWS_EC2_METADATA_DISABLED"
    };
    module2.exports = util;
  }
});

// node_modules/aws-sdk/lib/event-stream/event-message-chunker-stream.js
var require_event_message_chunker_stream = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/event-message-chunker-stream.js"(exports2, module2) {
    var util = require_core().util;
    var Transform = require("stream").Transform;
    var allocBuffer = util.buffer.alloc;
    function EventMessageChunkerStream(options) {
      Transform.call(this, options);
      this.currentMessageTotalLength = 0;
      this.currentMessagePendingLength = 0;
      this.currentMessage = null;
      this.messageLengthBuffer = null;
    }
    EventMessageChunkerStream.prototype = Object.create(Transform.prototype);
    EventMessageChunkerStream.prototype._transform = function(chunk, encoding, callback) {
      var chunkLength = chunk.length;
      var currentOffset = 0;
      while (currentOffset < chunkLength) {
        if (!this.currentMessage) {
          var bytesRemaining = chunkLength - currentOffset;
          if (!this.messageLengthBuffer) {
            this.messageLengthBuffer = allocBuffer(4);
          }
          var numBytesForTotal = Math.min(
            4 - this.currentMessagePendingLength,
            bytesRemaining
          );
          chunk.copy(
            this.messageLengthBuffer,
            this.currentMessagePendingLength,
            currentOffset,
            currentOffset + numBytesForTotal
          );
          this.currentMessagePendingLength += numBytesForTotal;
          currentOffset += numBytesForTotal;
          if (this.currentMessagePendingLength < 4) {
            break;
          }
          this.allocateMessage(this.messageLengthBuffer.readUInt32BE(0));
          this.messageLengthBuffer = null;
        }
        var numBytesToWrite = Math.min(
          this.currentMessageTotalLength - this.currentMessagePendingLength,
          chunkLength - currentOffset
        );
        chunk.copy(
          this.currentMessage,
          this.currentMessagePendingLength,
          currentOffset,
          currentOffset + numBytesToWrite
        );
        this.currentMessagePendingLength += numBytesToWrite;
        currentOffset += numBytesToWrite;
        if (this.currentMessageTotalLength && this.currentMessageTotalLength === this.currentMessagePendingLength) {
          this.push(this.currentMessage);
          this.currentMessage = null;
          this.currentMessageTotalLength = 0;
          this.currentMessagePendingLength = 0;
        }
      }
      callback();
    };
    EventMessageChunkerStream.prototype._flush = function(callback) {
      if (this.currentMessageTotalLength) {
        if (this.currentMessageTotalLength === this.currentMessagePendingLength) {
          callback(null, this.currentMessage);
        } else {
          callback(new Error("Truncated event message received."));
        }
      } else {
        callback();
      }
    };
    EventMessageChunkerStream.prototype.allocateMessage = function(size) {
      if (typeof size !== "number") {
        throw new Error("Attempted to allocate an event message where size was not a number: " + size);
      }
      this.currentMessageTotalLength = size;
      this.currentMessagePendingLength = 4;
      this.currentMessage = allocBuffer(size);
      this.currentMessage.writeUInt32BE(size, 0);
    };
    module2.exports = {
      EventMessageChunkerStream
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/int64.js
var require_int64 = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/int64.js"(exports2, module2) {
    var util = require_core().util;
    var toBuffer = util.buffer.toBuffer;
    function Int64(bytes) {
      if (bytes.length !== 8) {
        throw new Error("Int64 buffers must be exactly 8 bytes");
      }
      if (!util.Buffer.isBuffer(bytes))
        bytes = toBuffer(bytes);
      this.bytes = bytes;
    }
    Int64.fromNumber = function(number) {
      if (number > 9223372036854776e3 || number < -9223372036854776e3) {
        throw new Error(
          number + " is too large (or, if negative, too small) to represent as an Int64"
        );
      }
      var bytes = new Uint8Array(8);
      for (var i = 7, remaining = Math.abs(Math.round(number)); i > -1 && remaining > 0; i--, remaining /= 256) {
        bytes[i] = remaining;
      }
      if (number < 0) {
        negate(bytes);
      }
      return new Int64(bytes);
    };
    Int64.prototype.valueOf = function() {
      var bytes = this.bytes.slice(0);
      var negative = bytes[0] & 128;
      if (negative) {
        negate(bytes);
      }
      return parseInt(bytes.toString("hex"), 16) * (negative ? -1 : 1);
    };
    Int64.prototype.toString = function() {
      return String(this.valueOf());
    };
    function negate(bytes) {
      for (var i = 0; i < 8; i++) {
        bytes[i] ^= 255;
      }
      for (var i = 7; i > -1; i--) {
        bytes[i]++;
        if (bytes[i] !== 0) {
          break;
        }
      }
    }
    module2.exports = {
      Int64
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/split-message.js
var require_split_message = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/split-message.js"(exports2, module2) {
    var util = require_core().util;
    var toBuffer = util.buffer.toBuffer;
    var PRELUDE_MEMBER_LENGTH = 4;
    var PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;
    var CHECKSUM_LENGTH = 4;
    var MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;
    function splitMessage(message) {
      if (!util.Buffer.isBuffer(message))
        message = toBuffer(message);
      if (message.length < MINIMUM_MESSAGE_LENGTH) {
        throw new Error("Provided message too short to accommodate event stream message overhead");
      }
      if (message.length !== message.readUInt32BE(0)) {
        throw new Error("Reported message length does not match received message length");
      }
      var expectedPreludeChecksum = message.readUInt32BE(PRELUDE_LENGTH);
      if (expectedPreludeChecksum !== util.crypto.crc32(
        message.slice(0, PRELUDE_LENGTH)
      )) {
        throw new Error(
          "The prelude checksum specified in the message (" + expectedPreludeChecksum + ") does not match the calculated CRC32 checksum."
        );
      }
      var expectedMessageChecksum = message.readUInt32BE(message.length - CHECKSUM_LENGTH);
      if (expectedMessageChecksum !== util.crypto.crc32(
        message.slice(0, message.length - CHECKSUM_LENGTH)
      )) {
        throw new Error(
          "The message checksum did not match the expected value of " + expectedMessageChecksum
        );
      }
      var headersStart = PRELUDE_LENGTH + CHECKSUM_LENGTH;
      var headersEnd = headersStart + message.readUInt32BE(PRELUDE_MEMBER_LENGTH);
      return {
        headers: message.slice(headersStart, headersEnd),
        body: message.slice(headersEnd, message.length - CHECKSUM_LENGTH)
      };
    }
    module2.exports = {
      splitMessage
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/parse-message.js
var require_parse_message = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/parse-message.js"(exports2, module2) {
    var Int64 = require_int64().Int64;
    var splitMessage = require_split_message().splitMessage;
    var BOOLEAN_TAG = "boolean";
    var BYTE_TAG = "byte";
    var SHORT_TAG = "short";
    var INT_TAG = "integer";
    var LONG_TAG = "long";
    var BINARY_TAG = "binary";
    var STRING_TAG = "string";
    var TIMESTAMP_TAG = "timestamp";
    var UUID_TAG = "uuid";
    function parseHeaders(headers) {
      var out = {};
      var position = 0;
      while (position < headers.length) {
        var nameLength = headers.readUInt8(position++);
        var name = headers.slice(position, position + nameLength).toString();
        position += nameLength;
        switch (headers.readUInt8(position++)) {
          case 0:
            out[name] = {
              type: BOOLEAN_TAG,
              value: true
            };
            break;
          case 1:
            out[name] = {
              type: BOOLEAN_TAG,
              value: false
            };
            break;
          case 2:
            out[name] = {
              type: BYTE_TAG,
              value: headers.readInt8(position++)
            };
            break;
          case 3:
            out[name] = {
              type: SHORT_TAG,
              value: headers.readInt16BE(position)
            };
            position += 2;
            break;
          case 4:
            out[name] = {
              type: INT_TAG,
              value: headers.readInt32BE(position)
            };
            position += 4;
            break;
          case 5:
            out[name] = {
              type: LONG_TAG,
              value: new Int64(headers.slice(position, position + 8))
            };
            position += 8;
            break;
          case 6:
            var binaryLength = headers.readUInt16BE(position);
            position += 2;
            out[name] = {
              type: BINARY_TAG,
              value: headers.slice(position, position + binaryLength)
            };
            position += binaryLength;
            break;
          case 7:
            var stringLength = headers.readUInt16BE(position);
            position += 2;
            out[name] = {
              type: STRING_TAG,
              value: headers.slice(
                position,
                position + stringLength
              ).toString()
            };
            position += stringLength;
            break;
          case 8:
            out[name] = {
              type: TIMESTAMP_TAG,
              value: new Date(
                new Int64(headers.slice(position, position + 8)).valueOf()
              )
            };
            position += 8;
            break;
          case 9:
            var uuidChars = headers.slice(position, position + 16).toString("hex");
            position += 16;
            out[name] = {
              type: UUID_TAG,
              value: uuidChars.substr(0, 8) + "-" + uuidChars.substr(8, 4) + "-" + uuidChars.substr(12, 4) + "-" + uuidChars.substr(16, 4) + "-" + uuidChars.substr(20)
            };
            break;
          default:
            throw new Error("Unrecognized header type tag");
        }
      }
      return out;
    }
    function parseMessage(message) {
      var parsed = splitMessage(message);
      return { headers: parseHeaders(parsed.headers), body: parsed.body };
    }
    module2.exports = {
      parseMessage
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/parse-event.js
var require_parse_event = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/parse-event.js"(exports2, module2) {
    var parseMessage = require_parse_message().parseMessage;
    function parseEvent(parser, message, shape) {
      var parsedMessage = parseMessage(message);
      var messageType = parsedMessage.headers[":message-type"];
      if (messageType) {
        if (messageType.value === "error") {
          throw parseError(parsedMessage);
        } else if (messageType.value !== "event") {
          return;
        }
      }
      var eventType = parsedMessage.headers[":event-type"];
      var eventModel = shape.members[eventType.value];
      if (!eventModel) {
        return;
      }
      var result = {};
      var eventPayloadMemberName = eventModel.eventPayloadMemberName;
      if (eventPayloadMemberName) {
        var payloadShape = eventModel.members[eventPayloadMemberName];
        if (payloadShape.type === "binary") {
          result[eventPayloadMemberName] = parsedMessage.body;
        } else {
          result[eventPayloadMemberName] = parser.parse(parsedMessage.body.toString(), payloadShape);
        }
      }
      var eventHeaderNames = eventModel.eventHeaderMemberNames;
      for (var i = 0; i < eventHeaderNames.length; i++) {
        var name = eventHeaderNames[i];
        if (parsedMessage.headers[name]) {
          result[name] = eventModel.members[name].toType(parsedMessage.headers[name].value);
        }
      }
      var output = {};
      output[eventType.value] = result;
      return output;
    }
    function parseError(message) {
      var errorCode = message.headers[":error-code"];
      var errorMessage = message.headers[":error-message"];
      var error = new Error(errorMessage.value || errorMessage);
      error.code = error.name = errorCode.value || errorCode;
      return error;
    }
    module2.exports = {
      parseEvent
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/event-message-unmarshaller-stream.js
var require_event_message_unmarshaller_stream = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/event-message-unmarshaller-stream.js"(exports2, module2) {
    var Transform = require("stream").Transform;
    var parseEvent = require_parse_event().parseEvent;
    function EventUnmarshallerStream(options) {
      options = options || {};
      options.readableObjectMode = true;
      Transform.call(this, options);
      this._readableState.objectMode = true;
      this.parser = options.parser;
      this.eventStreamModel = options.eventStreamModel;
    }
    EventUnmarshallerStream.prototype = Object.create(Transform.prototype);
    EventUnmarshallerStream.prototype._transform = function(chunk, encoding, callback) {
      try {
        var event = parseEvent(this.parser, chunk, this.eventStreamModel);
        this.push(event);
        return callback();
      } catch (err) {
        callback(err);
      }
    };
    module2.exports = {
      EventUnmarshallerStream
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/streaming-create-event-stream.js
var require_streaming_create_event_stream = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/streaming-create-event-stream.js"(exports2, module2) {
    var EventMessageChunkerStream = require_event_message_chunker_stream().EventMessageChunkerStream;
    var EventUnmarshallerStream = require_event_message_unmarshaller_stream().EventUnmarshallerStream;
    function createEventStream(stream, parser, model) {
      var eventStream = new EventUnmarshallerStream({
        parser,
        eventStreamModel: model
      });
      var eventMessageChunker = new EventMessageChunkerStream();
      stream.pipe(
        eventMessageChunker
      ).pipe(eventStream);
      stream.on("error", function(err) {
        eventMessageChunker.emit("error", err);
      });
      eventMessageChunker.on("error", function(err) {
        eventStream.emit("error", err);
      });
      return eventStream;
    }
    module2.exports = {
      createEventStream
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/event-message-chunker.js
var require_event_message_chunker = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/event-message-chunker.js"(exports2, module2) {
    function eventMessageChunker(buffer) {
      var messages = [];
      var offset = 0;
      while (offset < buffer.length) {
        var totalLength = buffer.readInt32BE(offset);
        var message = buffer.slice(offset, totalLength + offset);
        offset += totalLength;
        messages.push(message);
      }
      return messages;
    }
    module2.exports = {
      eventMessageChunker
    };
  }
});

// node_modules/aws-sdk/lib/event-stream/buffered-create-event-stream.js
var require_buffered_create_event_stream = __commonJS({
  "node_modules/aws-sdk/lib/event-stream/buffered-create-event-stream.js"(exports2, module2) {
    var eventMessageChunker = require_event_message_chunker().eventMessageChunker;
    var parseEvent = require_parse_event().parseEvent;
    function createEventStream(body, parser, model) {
      var eventMessages = eventMessageChunker(body);
      var events = [];
      for (var i = 0; i < eventMessages.length; i++) {
        events.push(parseEvent(parser, eventMessages[i], model));
      }
      return events;
    }
    module2.exports = {
      createEventStream
    };
  }
});

// node_modules/aws-sdk/lib/realclock/nodeClock.js
var require_nodeClock = __commonJS({
  "node_modules/aws-sdk/lib/realclock/nodeClock.js"(exports2, module2) {
    module2.exports = {
      now: function now() {
        var second = process.hrtime();
        return second[0] * 1e3 + second[1] / 1e6;
      }
    };
  }
});

// node_modules/aws-sdk/lib/publisher/index.js
var require_publisher = __commonJS({
  "node_modules/aws-sdk/lib/publisher/index.js"(exports2, module2) {
    var util = require_core().util;
    var dgram = require("dgram");
    var stringToBuffer = util.buffer.toBuffer;
    var MAX_MESSAGE_SIZE = 1024 * 8;
    function Publisher(options) {
      options = options || {};
      this.enabled = options.enabled || false;
      this.port = options.port || 31e3;
      this.clientId = options.clientId || "";
      this.address = options.host || "127.0.0.1";
      if (this.clientId.length > 255) {
        this.clientId = this.clientId.substr(0, 255);
      }
      this.messagesInFlight = 0;
    }
    Publisher.prototype.fieldsToTrim = {
      UserAgent: 256,
      SdkException: 128,
      SdkExceptionMessage: 512,
      AwsException: 128,
      AwsExceptionMessage: 512,
      FinalSdkException: 128,
      FinalSdkExceptionMessage: 512,
      FinalAwsException: 128,
      FinalAwsExceptionMessage: 512
    };
    Publisher.prototype.trimFields = function(event) {
      var trimmableFields = Object.keys(this.fieldsToTrim);
      for (var i = 0, iLen = trimmableFields.length; i < iLen; i++) {
        var field = trimmableFields[i];
        if (event.hasOwnProperty(field)) {
          var maxLength = this.fieldsToTrim[field];
          var value = event[field];
          if (value && value.length > maxLength) {
            event[field] = value.substr(0, maxLength);
          }
        }
      }
      return event;
    };
    Publisher.prototype.eventHandler = function(event) {
      event.ClientId = this.clientId;
      this.trimFields(event);
      var message = stringToBuffer(JSON.stringify(event));
      if (!this.enabled || message.length > MAX_MESSAGE_SIZE) {
        return;
      }
      this.publishDatagram(message);
    };
    Publisher.prototype.publishDatagram = function(message) {
      var self = this;
      var client = this.getClient();
      this.messagesInFlight++;
      this.client.send(message, 0, message.length, this.port, this.address, function(err, bytes) {
        if (--self.messagesInFlight <= 0) {
          self.destroyClient();
        }
      });
    };
    Publisher.prototype.getClient = function() {
      if (!this.client) {
        this.client = dgram.createSocket("udp4");
      }
      return this.client;
    };
    Publisher.prototype.destroyClient = function() {
      if (this.client) {
        this.client.close();
        this.client = void 0;
      }
    };
    module2.exports = {
      Publisher
    };
  }
});

// node_modules/aws-sdk/lib/publisher/configuration.js
var require_configuration = __commonJS({
  "node_modules/aws-sdk/lib/publisher/configuration.js"(exports2, module2) {
    var AWS2 = require_core();
    function resolveMonitoringConfig() {
      var config = {
        port: void 0,
        clientId: void 0,
        enabled: void 0,
        host: void 0
      };
      if (fromEnvironment(config) || fromConfigFile(config))
        return toJSType(config);
      return toJSType(config);
    }
    function fromEnvironment(config) {
      config.port = config.port || process.env.AWS_CSM_PORT;
      config.enabled = config.enabled || process.env.AWS_CSM_ENABLED;
      config.clientId = config.clientId || process.env.AWS_CSM_CLIENT_ID;
      config.host = config.host || process.env.AWS_CSM_HOST;
      return config.port && config.enabled && config.clientId && config.host || ["false", "0"].indexOf(config.enabled) >= 0;
    }
    function fromConfigFile(config) {
      var sharedFileConfig;
      try {
        var configFile = AWS2.util.iniLoader.loadFrom({
          isConfig: true,
          filename: process.env[AWS2.util.sharedConfigFileEnv]
        });
        var sharedFileConfig = configFile[process.env.AWS_PROFILE || AWS2.util.defaultProfile];
      } catch (err) {
        return false;
      }
      if (!sharedFileConfig)
        return config;
      config.port = config.port || sharedFileConfig.csm_port;
      config.enabled = config.enabled || sharedFileConfig.csm_enabled;
      config.clientId = config.clientId || sharedFileConfig.csm_client_id;
      config.host = config.host || sharedFileConfig.csm_host;
      return config.port && config.enabled && config.clientId && config.host;
    }
    function toJSType(config) {
      var falsyNotations = ["false", "0", void 0];
      if (!config.enabled || falsyNotations.indexOf(config.enabled.toLowerCase()) >= 0) {
        config.enabled = false;
      } else {
        config.enabled = true;
      }
      config.port = config.port ? parseInt(config.port, 10) : void 0;
      return config;
    }
    module2.exports = resolveMonitoringConfig;
  }
});

// node_modules/aws-sdk/lib/shared-ini/ini-loader.js
var require_ini_loader = __commonJS({
  "node_modules/aws-sdk/lib/shared-ini/ini-loader.js"(exports2, module2) {
    var AWS2 = require_core();
    var os = require("os");
    var path = require("path");
    function parseFile(filename) {
      return AWS2.util.ini.parse(AWS2.util.readFileSync(filename));
    }
    function getProfiles(fileContent) {
      var tmpContent = {};
      Object.keys(fileContent).forEach(function(sectionName) {
        if (/^sso-session\s/.test(sectionName))
          return;
        Object.defineProperty(tmpContent, sectionName.replace(/^profile\s/, ""), {
          value: fileContent[sectionName],
          enumerable: true
        });
      });
      return tmpContent;
    }
    function getSsoSessions(fileContent) {
      var tmpContent = {};
      Object.keys(fileContent).forEach(function(sectionName) {
        if (!/^sso-session\s/.test(sectionName))
          return;
        Object.defineProperty(tmpContent, sectionName.replace(/^sso-session\s/, ""), {
          value: fileContent[sectionName],
          enumerable: true
        });
      });
      return tmpContent;
    }
    AWS2.IniLoader = AWS2.util.inherit({
      constructor: function IniLoader2() {
        this.resolvedProfiles = {};
        this.resolvedSsoSessions = {};
      },
      clearCachedFiles: function clearCachedFiles() {
        this.resolvedProfiles = {};
        this.resolvedSsoSessions = {};
      },
      loadFrom: function loadFrom(options) {
        options = options || {};
        var isConfig = options.isConfig === true;
        var filename = options.filename || this.getDefaultFilePath(isConfig);
        if (!this.resolvedProfiles[filename]) {
          var fileContent = parseFile(filename);
          if (isConfig) {
            Object.defineProperty(this.resolvedProfiles, filename, {
              value: getProfiles(fileContent)
            });
          } else {
            Object.defineProperty(this.resolvedProfiles, filename, { value: fileContent });
          }
        }
        return this.resolvedProfiles[filename];
      },
      loadSsoSessionsFrom: function loadSsoSessionsFrom(options) {
        options = options || {};
        var filename = options.filename || this.getDefaultFilePath(true);
        if (!this.resolvedSsoSessions[filename]) {
          var fileContent = parseFile(filename);
          Object.defineProperty(this.resolvedSsoSessions, filename, {
            value: getSsoSessions(fileContent)
          });
        }
        return this.resolvedSsoSessions[filename];
      },
      getDefaultFilePath: function getDefaultFilePath(isConfig) {
        return path.join(
          this.getHomeDir(),
          ".aws",
          isConfig ? "config" : "credentials"
        );
      },
      getHomeDir: function getHomeDir() {
        var env = process.env;
        var home = env.HOME || env.USERPROFILE || (env.HOMEPATH ? (env.HOMEDRIVE || "C:/") + env.HOMEPATH : null);
        if (home) {
          return home;
        }
        if (typeof os.homedir === "function") {
          return os.homedir();
        }
        throw AWS2.util.error(
          new Error("Cannot load credentials, HOME path not set")
        );
      }
    });
    var IniLoader = AWS2.IniLoader;
    module2.exports = {
      IniLoader
    };
  }
});

// node_modules/aws-sdk/lib/shared-ini/index.js
var require_shared_ini = __commonJS({
  "node_modules/aws-sdk/lib/shared-ini/index.js"(exports2, module2) {
    var IniLoader = require_ini_loader().IniLoader;
    module2.exports.iniLoader = new IniLoader();
  }
});

// node_modules/aws-sdk/lib/config_regional_endpoint.js
var require_config_regional_endpoint = __commonJS({
  "node_modules/aws-sdk/lib/config_regional_endpoint.js"(exports2, module2) {
    var AWS2 = require_core();
    function validateRegionalEndpointsFlagValue(configValue, errorOptions) {
      if (typeof configValue !== "string")
        return void 0;
      else if (["legacy", "regional"].indexOf(configValue.toLowerCase()) >= 0) {
        return configValue.toLowerCase();
      } else {
        throw AWS2.util.error(new Error(), errorOptions);
      }
    }
    function resolveRegionalEndpointsFlag(originalConfig, options) {
      originalConfig = originalConfig || {};
      var resolved;
      if (originalConfig[options.clientConfig]) {
        resolved = validateRegionalEndpointsFlagValue(originalConfig[options.clientConfig], {
          code: "InvalidConfiguration",
          message: 'invalid "' + options.clientConfig + '" configuration. Expect "legacy"  or "regional". Got "' + originalConfig[options.clientConfig] + '".'
        });
        if (resolved)
          return resolved;
      }
      if (!AWS2.util.isNode())
        return resolved;
      if (Object.prototype.hasOwnProperty.call(process.env, options.env)) {
        var envFlag = process.env[options.env];
        resolved = validateRegionalEndpointsFlagValue(envFlag, {
          code: "InvalidEnvironmentalVariable",
          message: "invalid " + options.env + ' environmental variable. Expect "legacy"  or "regional". Got "' + process.env[options.env] + '".'
        });
        if (resolved)
          return resolved;
      }
      var profile = {};
      try {
        var profiles = AWS2.util.getProfilesFromSharedConfig(AWS2.util.iniLoader);
        profile = profiles[process.env.AWS_PROFILE || AWS2.util.defaultProfile];
      } catch (e) {
      }
      ;
      if (profile && Object.prototype.hasOwnProperty.call(profile, options.sharedConfig)) {
        var fileFlag = profile[options.sharedConfig];
        resolved = validateRegionalEndpointsFlagValue(fileFlag, {
          code: "InvalidConfiguration",
          message: "invalid " + options.sharedConfig + ' profile config. Expect "legacy"  or "regional". Got "' + profile[options.sharedConfig] + '".'
        });
        if (resolved)
          return resolved;
      }
      return resolved;
    }
    module2.exports = resolveRegionalEndpointsFlag;
  }
});

// node_modules/aws-sdk/lib/services/sts.js
var require_sts = __commonJS({
  "node_modules/aws-sdk/lib/services/sts.js"() {
    var AWS2 = require_core();
    var resolveRegionalEndpointsFlag = require_config_regional_endpoint();
    var ENV_REGIONAL_ENDPOINT_ENABLED = "AWS_STS_REGIONAL_ENDPOINTS";
    var CONFIG_REGIONAL_ENDPOINT_ENABLED = "sts_regional_endpoints";
    AWS2.util.update(AWS2.STS.prototype, {
      credentialsFrom: function credentialsFrom(data, credentials) {
        if (!data)
          return null;
        if (!credentials)
          credentials = new AWS2.TemporaryCredentials();
        credentials.expired = false;
        credentials.accessKeyId = data.Credentials.AccessKeyId;
        credentials.secretAccessKey = data.Credentials.SecretAccessKey;
        credentials.sessionToken = data.Credentials.SessionToken;
        credentials.expireTime = data.Credentials.Expiration;
        return credentials;
      },
      assumeRoleWithWebIdentity: function assumeRoleWithWebIdentity(params, callback) {
        return this.makeUnauthenticatedRequest("assumeRoleWithWebIdentity", params, callback);
      },
      assumeRoleWithSAML: function assumeRoleWithSAML(params, callback) {
        return this.makeUnauthenticatedRequest("assumeRoleWithSAML", params, callback);
      },
      setupRequestListeners: function setupRequestListeners(request) {
        request.addListener("validate", this.optInRegionalEndpoint, true);
      },
      optInRegionalEndpoint: function optInRegionalEndpoint(req) {
        var service = req.service;
        var config = service.config;
        config.stsRegionalEndpoints = resolveRegionalEndpointsFlag(service._originalConfig, {
          env: ENV_REGIONAL_ENDPOINT_ENABLED,
          sharedConfig: CONFIG_REGIONAL_ENDPOINT_ENABLED,
          clientConfig: "stsRegionalEndpoints"
        });
        if (config.stsRegionalEndpoints === "regional" && service.isGlobalEndpoint) {
          if (!config.region) {
            throw AWS2.util.error(
              new Error(),
              { code: "ConfigError", message: "Missing region in config" }
            );
          }
          var insertPoint = config.endpoint.indexOf(".amazonaws.com");
          var regionalEndpoint = config.endpoint.substring(0, insertPoint) + "." + config.region + config.endpoint.substring(insertPoint);
          req.httpRequest.updateEndpoint(regionalEndpoint);
          req.httpRequest.region = config.region;
        }
      }
    });
  }
});

// node_modules/aws-sdk/apis/sts-2011-06-15.min.json
var require_sts_2011_06_15_min = __commonJS({
  "node_modules/aws-sdk/apis/sts-2011-06-15.min.json"(exports2, module2) {
    module2.exports = {
      version: "2.0",
      metadata: {
        apiVersion: "2011-06-15",
        endpointPrefix: "sts",
        globalEndpoint: "sts.amazonaws.com",
        protocol: "query",
        serviceAbbreviation: "AWS STS",
        serviceFullName: "AWS Security Token Service",
        serviceId: "STS",
        signatureVersion: "v4",
        uid: "sts-2011-06-15",
        xmlNamespace: "https://sts.amazonaws.com/doc/2011-06-15/"
      },
      operations: {
        AssumeRole: {
          input: {
            type: "structure",
            required: [
              "RoleArn",
              "RoleSessionName"
            ],
            members: {
              RoleArn: {},
              RoleSessionName: {},
              PolicyArns: {
                shape: "S4"
              },
              Policy: {},
              DurationSeconds: {
                type: "integer"
              },
              Tags: {
                shape: "S8"
              },
              TransitiveTagKeys: {
                type: "list",
                member: {}
              },
              ExternalId: {},
              SerialNumber: {},
              TokenCode: {},
              SourceIdentity: {}
            }
          },
          output: {
            resultWrapper: "AssumeRoleResult",
            type: "structure",
            members: {
              Credentials: {
                shape: "Si"
              },
              AssumedRoleUser: {
                shape: "Sn"
              },
              PackedPolicySize: {
                type: "integer"
              },
              SourceIdentity: {}
            }
          }
        },
        AssumeRoleWithSAML: {
          input: {
            type: "structure",
            required: [
              "RoleArn",
              "PrincipalArn",
              "SAMLAssertion"
            ],
            members: {
              RoleArn: {},
              PrincipalArn: {},
              SAMLAssertion: {},
              PolicyArns: {
                shape: "S4"
              },
              Policy: {},
              DurationSeconds: {
                type: "integer"
              }
            }
          },
          output: {
            resultWrapper: "AssumeRoleWithSAMLResult",
            type: "structure",
            members: {
              Credentials: {
                shape: "Si"
              },
              AssumedRoleUser: {
                shape: "Sn"
              },
              PackedPolicySize: {
                type: "integer"
              },
              Subject: {},
              SubjectType: {},
              Issuer: {},
              Audience: {},
              NameQualifier: {},
              SourceIdentity: {}
            }
          }
        },
        AssumeRoleWithWebIdentity: {
          input: {
            type: "structure",
            required: [
              "RoleArn",
              "RoleSessionName",
              "WebIdentityToken"
            ],
            members: {
              RoleArn: {},
              RoleSessionName: {},
              WebIdentityToken: {},
              ProviderId: {},
              PolicyArns: {
                shape: "S4"
              },
              Policy: {},
              DurationSeconds: {
                type: "integer"
              }
            }
          },
          output: {
            resultWrapper: "AssumeRoleWithWebIdentityResult",
            type: "structure",
            members: {
              Credentials: {
                shape: "Si"
              },
              SubjectFromWebIdentityToken: {},
              AssumedRoleUser: {
                shape: "Sn"
              },
              PackedPolicySize: {
                type: "integer"
              },
              Provider: {},
              Audience: {},
              SourceIdentity: {}
            }
          }
        },
        DecodeAuthorizationMessage: {
          input: {
            type: "structure",
            required: [
              "EncodedMessage"
            ],
            members: {
              EncodedMessage: {}
            }
          },
          output: {
            resultWrapper: "DecodeAuthorizationMessageResult",
            type: "structure",
            members: {
              DecodedMessage: {}
            }
          }
        },
        GetAccessKeyInfo: {
          input: {
            type: "structure",
            required: [
              "AccessKeyId"
            ],
            members: {
              AccessKeyId: {}
            }
          },
          output: {
            resultWrapper: "GetAccessKeyInfoResult",
            type: "structure",
            members: {
              Account: {}
            }
          }
        },
        GetCallerIdentity: {
          input: {
            type: "structure",
            members: {}
          },
          output: {
            resultWrapper: "GetCallerIdentityResult",
            type: "structure",
            members: {
              UserId: {},
              Account: {},
              Arn: {}
            }
          }
        },
        GetFederationToken: {
          input: {
            type: "structure",
            required: [
              "Name"
            ],
            members: {
              Name: {},
              Policy: {},
              PolicyArns: {
                shape: "S4"
              },
              DurationSeconds: {
                type: "integer"
              },
              Tags: {
                shape: "S8"
              }
            }
          },
          output: {
            resultWrapper: "GetFederationTokenResult",
            type: "structure",
            members: {
              Credentials: {
                shape: "Si"
              },
              FederatedUser: {
                type: "structure",
                required: [
                  "FederatedUserId",
                  "Arn"
                ],
                members: {
                  FederatedUserId: {},
                  Arn: {}
                }
              },
              PackedPolicySize: {
                type: "integer"
              }
            }
          }
        },
        GetSessionToken: {
          input: {
            type: "structure",
            members: {
              DurationSeconds: {
                type: "integer"
              },
              SerialNumber: {},
              TokenCode: {}
            }
          },
          output: {
            resultWrapper: "GetSessionTokenResult",
            type: "structure",
            members: {
              Credentials: {
                shape: "Si"
              }
            }
          }
        }
      },
      shapes: {
        S4: {
          type: "list",
          member: {
            type: "structure",
            members: {
              arn: {}
            }
          }
        },
        S8: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "Key",
              "Value"
            ],
            members: {
              Key: {},
              Value: {}
            }
          }
        },
        Si: {
          type: "structure",
          required: [
            "AccessKeyId",
            "SecretAccessKey",
            "SessionToken",
            "Expiration"
          ],
          members: {
            AccessKeyId: {},
            SecretAccessKey: {},
            SessionToken: {},
            Expiration: {
              type: "timestamp"
            }
          }
        },
        Sn: {
          type: "structure",
          required: [
            "AssumedRoleId",
            "Arn"
          ],
          members: {
            AssumedRoleId: {},
            Arn: {}
          }
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/sts-2011-06-15.paginators.json
var require_sts_2011_06_15_paginators = __commonJS({
  "node_modules/aws-sdk/apis/sts-2011-06-15.paginators.json"(exports2, module2) {
    module2.exports = {
      pagination: {}
    };
  }
});

// node_modules/aws-sdk/clients/sts.js
var require_sts2 = __commonJS({
  "node_modules/aws-sdk/clients/sts.js"(exports2, module2) {
    require_node_loader();
    var AWS2 = require_core();
    var Service = AWS2.Service;
    var apiLoader = AWS2.apiLoader;
    apiLoader.services["sts"] = {};
    AWS2.STS = Service.defineService("sts", ["2011-06-15"]);
    require_sts();
    Object.defineProperty(apiLoader.services["sts"], "2011-06-15", {
      get: function get() {
        var model = require_sts_2011_06_15_min();
        model.paginators = require_sts_2011_06_15_paginators().pagination;
        return model;
      },
      enumerable: true,
      configurable: true
    });
    module2.exports = AWS2.STS;
  }
});

// node_modules/aws-sdk/lib/credentials/temporary_credentials.js
var require_temporary_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/temporary_credentials.js"() {
    var AWS2 = require_core();
    var STS = require_sts2();
    AWS2.TemporaryCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function TemporaryCredentials(params, masterCredentials) {
        AWS2.Credentials.call(this);
        this.loadMasterCredentials(masterCredentials);
        this.expired = true;
        this.params = params || {};
        if (this.params.RoleArn) {
          this.params.RoleSessionName = this.params.RoleSessionName || "temporary-credentials";
        }
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        self.createClients();
        self.masterCredentials.get(function() {
          self.service.config.credentials = self.masterCredentials;
          var operation = self.params.RoleArn ? self.service.assumeRole : self.service.getSessionToken;
          operation.call(self.service, function(err, data) {
            if (!err) {
              self.service.credentialsFrom(data, self);
            }
            callback(err);
          });
        });
      },
      loadMasterCredentials: function loadMasterCredentials(masterCredentials) {
        this.masterCredentials = masterCredentials || AWS2.config.credentials;
        while (this.masterCredentials.masterCredentials) {
          this.masterCredentials = this.masterCredentials.masterCredentials;
        }
        if (typeof this.masterCredentials.get !== "function") {
          this.masterCredentials = new AWS2.Credentials(this.masterCredentials);
        }
      },
      createClients: function() {
        this.service = this.service || new STS({ params: this.params });
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/chainable_temporary_credentials.js
var require_chainable_temporary_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/chainable_temporary_credentials.js"() {
    var AWS2 = require_core();
    var STS = require_sts2();
    AWS2.ChainableTemporaryCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function ChainableTemporaryCredentials(options) {
        AWS2.Credentials.call(this);
        options = options || {};
        this.errorCode = "ChainableTemporaryCredentialsProviderFailure";
        this.expired = true;
        this.tokenCodeFn = null;
        var params = AWS2.util.copy(options.params) || {};
        if (params.RoleArn) {
          params.RoleSessionName = params.RoleSessionName || "temporary-credentials";
        }
        if (params.SerialNumber) {
          if (!options.tokenCodeFn || typeof options.tokenCodeFn !== "function") {
            throw new AWS2.util.error(
              new Error("tokenCodeFn must be a function when params.SerialNumber is given"),
              { code: this.errorCode }
            );
          } else {
            this.tokenCodeFn = options.tokenCodeFn;
          }
        }
        var config = AWS2.util.merge(
          {
            params,
            credentials: options.masterCredentials || AWS2.config.credentials
          },
          options.stsConfig || {}
        );
        this.service = new STS(config);
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        var operation = self.service.config.params.RoleArn ? "assumeRole" : "getSessionToken";
        this.getTokenCode(function(err, tokenCode) {
          var params = {};
          if (err) {
            callback(err);
            return;
          }
          if (tokenCode) {
            params.TokenCode = tokenCode;
          }
          self.service[operation](params, function(err2, data) {
            if (!err2) {
              self.service.credentialsFrom(data, self);
            }
            callback(err2);
          });
        });
      },
      getTokenCode: function getTokenCode(callback) {
        var self = this;
        if (this.tokenCodeFn) {
          this.tokenCodeFn(this.service.config.params.SerialNumber, function(err, token) {
            if (err) {
              var message = err;
              if (err instanceof Error) {
                message = err.message;
              }
              callback(
                AWS2.util.error(
                  new Error("Error fetching MFA token: " + message),
                  { code: self.errorCode }
                )
              );
              return;
            }
            callback(null, token);
          });
        } else {
          callback(null);
        }
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/web_identity_credentials.js
var require_web_identity_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/web_identity_credentials.js"() {
    var AWS2 = require_core();
    var STS = require_sts2();
    AWS2.WebIdentityCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function WebIdentityCredentials(params, clientConfig) {
        AWS2.Credentials.call(this);
        this.expired = true;
        this.params = params;
        this.params.RoleSessionName = this.params.RoleSessionName || "web-identity";
        this.data = null;
        this._clientConfig = AWS2.util.copy(clientConfig || {});
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        self.createClients();
        self.service.assumeRoleWithWebIdentity(function(err, data) {
          self.data = null;
          if (!err) {
            self.data = data;
            self.service.credentialsFrom(data, self);
          }
          callback(err);
        });
      },
      createClients: function() {
        if (!this.service) {
          var stsConfig = AWS2.util.merge({}, this._clientConfig);
          stsConfig.params = this.params;
          this.service = new STS(stsConfig);
        }
      }
    });
  }
});

// node_modules/aws-sdk/apis/cognito-identity-2014-06-30.min.json
var require_cognito_identity_2014_06_30_min = __commonJS({
  "node_modules/aws-sdk/apis/cognito-identity-2014-06-30.min.json"(exports2, module2) {
    module2.exports = {
      version: "2.0",
      metadata: {
        apiVersion: "2014-06-30",
        endpointPrefix: "cognito-identity",
        jsonVersion: "1.1",
        protocol: "json",
        serviceFullName: "Amazon Cognito Identity",
        serviceId: "Cognito Identity",
        signatureVersion: "v4",
        targetPrefix: "AWSCognitoIdentityService",
        uid: "cognito-identity-2014-06-30"
      },
      operations: {
        CreateIdentityPool: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolName",
              "AllowUnauthenticatedIdentities"
            ],
            members: {
              IdentityPoolName: {},
              AllowUnauthenticatedIdentities: {
                type: "boolean"
              },
              AllowClassicFlow: {
                type: "boolean"
              },
              SupportedLoginProviders: {
                shape: "S5"
              },
              DeveloperProviderName: {},
              OpenIdConnectProviderARNs: {
                shape: "S9"
              },
              CognitoIdentityProviders: {
                shape: "Sb"
              },
              SamlProviderARNs: {
                shape: "Sg"
              },
              IdentityPoolTags: {
                shape: "Sh"
              }
            }
          },
          output: {
            shape: "Sk"
          }
        },
        DeleteIdentities: {
          input: {
            type: "structure",
            required: [
              "IdentityIdsToDelete"
            ],
            members: {
              IdentityIdsToDelete: {
                type: "list",
                member: {}
              }
            }
          },
          output: {
            type: "structure",
            members: {
              UnprocessedIdentityIds: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    IdentityId: {},
                    ErrorCode: {}
                  }
                }
              }
            }
          }
        },
        DeleteIdentityPool: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId"
            ],
            members: {
              IdentityPoolId: {}
            }
          }
        },
        DescribeIdentity: {
          input: {
            type: "structure",
            required: [
              "IdentityId"
            ],
            members: {
              IdentityId: {}
            }
          },
          output: {
            shape: "Sv"
          }
        },
        DescribeIdentityPool: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId"
            ],
            members: {
              IdentityPoolId: {}
            }
          },
          output: {
            shape: "Sk"
          }
        },
        GetCredentialsForIdentity: {
          input: {
            type: "structure",
            required: [
              "IdentityId"
            ],
            members: {
              IdentityId: {},
              Logins: {
                shape: "S10"
              },
              CustomRoleArn: {}
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityId: {},
              Credentials: {
                type: "structure",
                members: {
                  AccessKeyId: {},
                  SecretKey: {},
                  SessionToken: {},
                  Expiration: {
                    type: "timestamp"
                  }
                }
              }
            }
          },
          authtype: "none"
        },
        GetId: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId"
            ],
            members: {
              AccountId: {},
              IdentityPoolId: {},
              Logins: {
                shape: "S10"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityId: {}
            }
          },
          authtype: "none"
        },
        GetIdentityPoolRoles: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId"
            ],
            members: {
              IdentityPoolId: {}
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityPoolId: {},
              Roles: {
                shape: "S1c"
              },
              RoleMappings: {
                shape: "S1e"
              }
            }
          }
        },
        GetOpenIdToken: {
          input: {
            type: "structure",
            required: [
              "IdentityId"
            ],
            members: {
              IdentityId: {},
              Logins: {
                shape: "S10"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityId: {},
              Token: {}
            }
          },
          authtype: "none"
        },
        GetOpenIdTokenForDeveloperIdentity: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId",
              "Logins"
            ],
            members: {
              IdentityPoolId: {},
              IdentityId: {},
              Logins: {
                shape: "S10"
              },
              PrincipalTags: {
                shape: "S1s"
              },
              TokenDuration: {
                type: "long"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityId: {},
              Token: {}
            }
          }
        },
        GetPrincipalTagAttributeMap: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId",
              "IdentityProviderName"
            ],
            members: {
              IdentityPoolId: {},
              IdentityProviderName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityPoolId: {},
              IdentityProviderName: {},
              UseDefaults: {
                type: "boolean"
              },
              PrincipalTags: {
                shape: "S1s"
              }
            }
          }
        },
        ListIdentities: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId",
              "MaxResults"
            ],
            members: {
              IdentityPoolId: {},
              MaxResults: {
                type: "integer"
              },
              NextToken: {},
              HideDisabled: {
                type: "boolean"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityPoolId: {},
              Identities: {
                type: "list",
                member: {
                  shape: "Sv"
                }
              },
              NextToken: {}
            }
          }
        },
        ListIdentityPools: {
          input: {
            type: "structure",
            required: [
              "MaxResults"
            ],
            members: {
              MaxResults: {
                type: "integer"
              },
              NextToken: {}
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityPools: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    IdentityPoolId: {},
                    IdentityPoolName: {}
                  }
                }
              },
              NextToken: {}
            }
          }
        },
        ListTagsForResource: {
          input: {
            type: "structure",
            required: [
              "ResourceArn"
            ],
            members: {
              ResourceArn: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Tags: {
                shape: "Sh"
              }
            }
          }
        },
        LookupDeveloperIdentity: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId"
            ],
            members: {
              IdentityPoolId: {},
              IdentityId: {},
              DeveloperUserIdentifier: {},
              MaxResults: {
                type: "integer"
              },
              NextToken: {}
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityId: {},
              DeveloperUserIdentifierList: {
                type: "list",
                member: {}
              },
              NextToken: {}
            }
          }
        },
        MergeDeveloperIdentities: {
          input: {
            type: "structure",
            required: [
              "SourceUserIdentifier",
              "DestinationUserIdentifier",
              "DeveloperProviderName",
              "IdentityPoolId"
            ],
            members: {
              SourceUserIdentifier: {},
              DestinationUserIdentifier: {},
              DeveloperProviderName: {},
              IdentityPoolId: {}
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityId: {}
            }
          }
        },
        SetIdentityPoolRoles: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId",
              "Roles"
            ],
            members: {
              IdentityPoolId: {},
              Roles: {
                shape: "S1c"
              },
              RoleMappings: {
                shape: "S1e"
              }
            }
          }
        },
        SetPrincipalTagAttributeMap: {
          input: {
            type: "structure",
            required: [
              "IdentityPoolId",
              "IdentityProviderName"
            ],
            members: {
              IdentityPoolId: {},
              IdentityProviderName: {},
              UseDefaults: {
                type: "boolean"
              },
              PrincipalTags: {
                shape: "S1s"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              IdentityPoolId: {},
              IdentityProviderName: {},
              UseDefaults: {
                type: "boolean"
              },
              PrincipalTags: {
                shape: "S1s"
              }
            }
          }
        },
        TagResource: {
          input: {
            type: "structure",
            required: [
              "ResourceArn",
              "Tags"
            ],
            members: {
              ResourceArn: {},
              Tags: {
                shape: "Sh"
              }
            }
          },
          output: {
            type: "structure",
            members: {}
          }
        },
        UnlinkDeveloperIdentity: {
          input: {
            type: "structure",
            required: [
              "IdentityId",
              "IdentityPoolId",
              "DeveloperProviderName",
              "DeveloperUserIdentifier"
            ],
            members: {
              IdentityId: {},
              IdentityPoolId: {},
              DeveloperProviderName: {},
              DeveloperUserIdentifier: {}
            }
          }
        },
        UnlinkIdentity: {
          input: {
            type: "structure",
            required: [
              "IdentityId",
              "Logins",
              "LoginsToRemove"
            ],
            members: {
              IdentityId: {},
              Logins: {
                shape: "S10"
              },
              LoginsToRemove: {
                shape: "Sw"
              }
            }
          },
          authtype: "none"
        },
        UntagResource: {
          input: {
            type: "structure",
            required: [
              "ResourceArn",
              "TagKeys"
            ],
            members: {
              ResourceArn: {},
              TagKeys: {
                type: "list",
                member: {}
              }
            }
          },
          output: {
            type: "structure",
            members: {}
          }
        },
        UpdateIdentityPool: {
          input: {
            shape: "Sk"
          },
          output: {
            shape: "Sk"
          }
        }
      },
      shapes: {
        S5: {
          type: "map",
          key: {},
          value: {}
        },
        S9: {
          type: "list",
          member: {}
        },
        Sb: {
          type: "list",
          member: {
            type: "structure",
            members: {
              ProviderName: {},
              ClientId: {},
              ServerSideTokenCheck: {
                type: "boolean"
              }
            }
          }
        },
        Sg: {
          type: "list",
          member: {}
        },
        Sh: {
          type: "map",
          key: {},
          value: {}
        },
        Sk: {
          type: "structure",
          required: [
            "IdentityPoolId",
            "IdentityPoolName",
            "AllowUnauthenticatedIdentities"
          ],
          members: {
            IdentityPoolId: {},
            IdentityPoolName: {},
            AllowUnauthenticatedIdentities: {
              type: "boolean"
            },
            AllowClassicFlow: {
              type: "boolean"
            },
            SupportedLoginProviders: {
              shape: "S5"
            },
            DeveloperProviderName: {},
            OpenIdConnectProviderARNs: {
              shape: "S9"
            },
            CognitoIdentityProviders: {
              shape: "Sb"
            },
            SamlProviderARNs: {
              shape: "Sg"
            },
            IdentityPoolTags: {
              shape: "Sh"
            }
          }
        },
        Sv: {
          type: "structure",
          members: {
            IdentityId: {},
            Logins: {
              shape: "Sw"
            },
            CreationDate: {
              type: "timestamp"
            },
            LastModifiedDate: {
              type: "timestamp"
            }
          }
        },
        Sw: {
          type: "list",
          member: {}
        },
        S10: {
          type: "map",
          key: {},
          value: {}
        },
        S1c: {
          type: "map",
          key: {},
          value: {}
        },
        S1e: {
          type: "map",
          key: {},
          value: {
            type: "structure",
            required: [
              "Type"
            ],
            members: {
              Type: {},
              AmbiguousRoleResolution: {},
              RulesConfiguration: {
                type: "structure",
                required: [
                  "Rules"
                ],
                members: {
                  Rules: {
                    type: "list",
                    member: {
                      type: "structure",
                      required: [
                        "Claim",
                        "MatchType",
                        "Value",
                        "RoleARN"
                      ],
                      members: {
                        Claim: {},
                        MatchType: {},
                        Value: {},
                        RoleARN: {}
                      }
                    }
                  }
                }
              }
            }
          }
        },
        S1s: {
          type: "map",
          key: {},
          value: {}
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/cognito-identity-2014-06-30.paginators.json
var require_cognito_identity_2014_06_30_paginators = __commonJS({
  "node_modules/aws-sdk/apis/cognito-identity-2014-06-30.paginators.json"(exports2, module2) {
    module2.exports = {
      pagination: {
        ListIdentityPools: {
          input_token: "NextToken",
          limit_key: "MaxResults",
          output_token: "NextToken",
          result_key: "IdentityPools"
        }
      }
    };
  }
});

// node_modules/aws-sdk/clients/cognitoidentity.js
var require_cognitoidentity = __commonJS({
  "node_modules/aws-sdk/clients/cognitoidentity.js"(exports2, module2) {
    require_node_loader();
    var AWS2 = require_core();
    var Service = AWS2.Service;
    var apiLoader = AWS2.apiLoader;
    apiLoader.services["cognitoidentity"] = {};
    AWS2.CognitoIdentity = Service.defineService("cognitoidentity", ["2014-06-30"]);
    Object.defineProperty(apiLoader.services["cognitoidentity"], "2014-06-30", {
      get: function get() {
        var model = require_cognito_identity_2014_06_30_min();
        model.paginators = require_cognito_identity_2014_06_30_paginators().pagination;
        return model;
      },
      enumerable: true,
      configurable: true
    });
    module2.exports = AWS2.CognitoIdentity;
  }
});

// node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js
var require_cognito_identity_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js"() {
    var AWS2 = require_core();
    var CognitoIdentity = require_cognitoidentity();
    var STS = require_sts2();
    AWS2.CognitoIdentityCredentials = AWS2.util.inherit(AWS2.Credentials, {
      localStorageKey: {
        id: "aws.cognito.identity-id.",
        providers: "aws.cognito.identity-providers."
      },
      constructor: function CognitoIdentityCredentials(params, clientConfig) {
        AWS2.Credentials.call(this);
        this.expired = true;
        this.params = params;
        this.data = null;
        this._identityId = null;
        this._clientConfig = AWS2.util.copy(clientConfig || {});
        this.loadCachedId();
        var self = this;
        Object.defineProperty(this, "identityId", {
          get: function() {
            self.loadCachedId();
            return self._identityId || self.params.IdentityId;
          },
          set: function(identityId) {
            self._identityId = identityId;
          }
        });
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        self.createClients();
        self.data = null;
        self._identityId = null;
        self.getId(function(err) {
          if (!err) {
            if (!self.params.RoleArn) {
              self.getCredentialsForIdentity(callback);
            } else {
              self.getCredentialsFromSTS(callback);
            }
          } else {
            self.clearIdOnNotAuthorized(err);
            callback(err);
          }
        });
      },
      clearCachedId: function clearCache() {
        this._identityId = null;
        delete this.params.IdentityId;
        var poolId = this.params.IdentityPoolId;
        var loginId = this.params.LoginId || "";
        delete this.storage[this.localStorageKey.id + poolId + loginId];
        delete this.storage[this.localStorageKey.providers + poolId + loginId];
      },
      clearIdOnNotAuthorized: function clearIdOnNotAuthorized(err) {
        var self = this;
        if (err.code == "NotAuthorizedException") {
          self.clearCachedId();
        }
      },
      getId: function getId(callback) {
        var self = this;
        if (typeof self.params.IdentityId === "string") {
          return callback(null, self.params.IdentityId);
        }
        self.cognito.getId(function(err, data) {
          if (!err && data.IdentityId) {
            self.params.IdentityId = data.IdentityId;
            callback(null, data.IdentityId);
          } else {
            callback(err);
          }
        });
      },
      loadCredentials: function loadCredentials(data, credentials) {
        if (!data || !credentials)
          return;
        credentials.expired = false;
        credentials.accessKeyId = data.Credentials.AccessKeyId;
        credentials.secretAccessKey = data.Credentials.SecretKey;
        credentials.sessionToken = data.Credentials.SessionToken;
        credentials.expireTime = data.Credentials.Expiration;
      },
      getCredentialsForIdentity: function getCredentialsForIdentity(callback) {
        var self = this;
        self.cognito.getCredentialsForIdentity(function(err, data) {
          if (!err) {
            self.cacheId(data);
            self.data = data;
            self.loadCredentials(self.data, self);
          } else {
            self.clearIdOnNotAuthorized(err);
          }
          callback(err);
        });
      },
      getCredentialsFromSTS: function getCredentialsFromSTS(callback) {
        var self = this;
        self.cognito.getOpenIdToken(function(err, data) {
          if (!err) {
            self.cacheId(data);
            self.params.WebIdentityToken = data.Token;
            self.webIdentityCredentials.refresh(function(webErr) {
              if (!webErr) {
                self.data = self.webIdentityCredentials.data;
                self.sts.credentialsFrom(self.data, self);
              }
              callback(webErr);
            });
          } else {
            self.clearIdOnNotAuthorized(err);
            callback(err);
          }
        });
      },
      loadCachedId: function loadCachedId() {
        var self = this;
        if (AWS2.util.isBrowser() && !self.params.IdentityId) {
          var id = self.getStorage("id");
          if (id && self.params.Logins) {
            var actualProviders = Object.keys(self.params.Logins);
            var cachedProviders = (self.getStorage("providers") || "").split(",");
            var intersect = cachedProviders.filter(function(n) {
              return actualProviders.indexOf(n) !== -1;
            });
            if (intersect.length !== 0) {
              self.params.IdentityId = id;
            }
          } else if (id) {
            self.params.IdentityId = id;
          }
        }
      },
      createClients: function() {
        var clientConfig = this._clientConfig;
        this.webIdentityCredentials = this.webIdentityCredentials || new AWS2.WebIdentityCredentials(this.params, clientConfig);
        if (!this.cognito) {
          var cognitoConfig = AWS2.util.merge({}, clientConfig);
          cognitoConfig.params = this.params;
          this.cognito = new CognitoIdentity(cognitoConfig);
        }
        this.sts = this.sts || new STS(clientConfig);
      },
      cacheId: function cacheId(data) {
        this._identityId = data.IdentityId;
        this.params.IdentityId = this._identityId;
        if (AWS2.util.isBrowser()) {
          this.setStorage("id", data.IdentityId);
          if (this.params.Logins) {
            this.setStorage("providers", Object.keys(this.params.Logins).join(","));
          }
        }
      },
      getStorage: function getStorage(key) {
        return this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || "")];
      },
      setStorage: function setStorage(key, val) {
        try {
          this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || "")] = val;
        } catch (_) {
        }
      },
      storage: function() {
        try {
          var storage = AWS2.util.isBrowser() && window.localStorage !== null && typeof window.localStorage === "object" ? window.localStorage : {};
          storage["aws.test-storage"] = "foobar";
          delete storage["aws.test-storage"];
          return storage;
        } catch (_) {
          return {};
        }
      }()
    });
  }
});

// node_modules/aws-sdk/lib/credentials/saml_credentials.js
var require_saml_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/saml_credentials.js"() {
    var AWS2 = require_core();
    var STS = require_sts2();
    AWS2.SAMLCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function SAMLCredentials(params) {
        AWS2.Credentials.call(this);
        this.expired = true;
        this.params = params;
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        self.createClients();
        self.service.assumeRoleWithSAML(function(err, data) {
          if (!err) {
            self.service.credentialsFrom(data, self);
          }
          callback(err);
        });
      },
      createClients: function() {
        this.service = this.service || new STS({ params: this.params });
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/process_credentials.js
var require_process_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/process_credentials.js"() {
    var AWS2 = require_core();
    var proc = require("child_process");
    var iniLoader = AWS2.util.iniLoader;
    AWS2.ProcessCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function ProcessCredentials(options) {
        AWS2.Credentials.call(this);
        options = options || {};
        this.filename = options.filename;
        this.profile = options.profile || process.env.AWS_PROFILE || AWS2.util.defaultProfile;
        this.get(options.callback || AWS2.util.fn.noop);
      },
      load: function load(callback) {
        var self = this;
        try {
          var profiles = AWS2.util.getProfilesFromSharedConfig(iniLoader, this.filename);
          var profile = profiles[this.profile] || {};
          if (Object.keys(profile).length === 0) {
            throw AWS2.util.error(
              new Error("Profile " + this.profile + " not found"),
              { code: "ProcessCredentialsProviderFailure" }
            );
          }
          if (profile["credential_process"]) {
            this.loadViaCredentialProcess(profile, function(err, data) {
              if (err) {
                callback(err, null);
              } else {
                self.expired = false;
                self.accessKeyId = data.AccessKeyId;
                self.secretAccessKey = data.SecretAccessKey;
                self.sessionToken = data.SessionToken;
                if (data.Expiration) {
                  self.expireTime = new Date(data.Expiration);
                }
                callback(null);
              }
            });
          } else {
            throw AWS2.util.error(
              new Error("Profile " + this.profile + " did not include credential process"),
              { code: "ProcessCredentialsProviderFailure" }
            );
          }
        } catch (err) {
          callback(err);
        }
      },
      loadViaCredentialProcess: function loadViaCredentialProcess(profile, callback) {
        proc.exec(profile["credential_process"], { env: process.env }, function(err, stdOut, stdErr) {
          if (err) {
            callback(AWS2.util.error(
              new Error("credential_process returned error"),
              { code: "ProcessCredentialsProviderFailure" }
            ), null);
          } else {
            try {
              var credData = JSON.parse(stdOut);
              if (credData.Expiration) {
                var currentTime = AWS2.util.date.getDate();
                var expireTime = new Date(credData.Expiration);
                if (expireTime < currentTime) {
                  throw Error("credential_process returned expired credentials");
                }
              }
              if (credData.Version !== 1) {
                throw Error("credential_process does not return Version == 1");
              }
              callback(null, credData);
            } catch (err2) {
              callback(AWS2.util.error(
                new Error(err2.message),
                { code: "ProcessCredentialsProviderFailure" }
              ), null);
            }
          }
        });
      },
      refresh: function refresh(callback) {
        iniLoader.clearCachedFiles();
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      }
    });
  }
});

// node_modules/xml2js/lib/defaults.js
var require_defaults = __commonJS({
  "node_modules/xml2js/lib/defaults.js"(exports2) {
    (function() {
      exports2.defaults = {
        "0.1": {
          explicitCharkey: false,
          trim: true,
          normalize: true,
          normalizeTags: false,
          attrkey: "@",
          charkey: "#",
          explicitArray: false,
          ignoreAttrs: false,
          mergeAttrs: false,
          explicitRoot: false,
          validator: null,
          xmlns: false,
          explicitChildren: false,
          childkey: "@@",
          charsAsChildren: false,
          includeWhiteChars: false,
          async: false,
          strict: true,
          attrNameProcessors: null,
          attrValueProcessors: null,
          tagNameProcessors: null,
          valueProcessors: null,
          emptyTag: ""
        },
        "0.2": {
          explicitCharkey: false,
          trim: false,
          normalize: false,
          normalizeTags: false,
          attrkey: "$",
          charkey: "_",
          explicitArray: true,
          ignoreAttrs: false,
          mergeAttrs: false,
          explicitRoot: true,
          validator: null,
          xmlns: false,
          explicitChildren: false,
          preserveChildrenOrder: false,
          childkey: "$$",
          charsAsChildren: false,
          includeWhiteChars: false,
          async: false,
          strict: true,
          attrNameProcessors: null,
          attrValueProcessors: null,
          tagNameProcessors: null,
          valueProcessors: null,
          rootName: "root",
          xmldec: {
            "version": "1.0",
            "encoding": "UTF-8",
            "standalone": true
          },
          doctype: null,
          renderOpts: {
            "pretty": true,
            "indent": "  ",
            "newline": "\n"
          },
          headless: false,
          chunkSize: 1e4,
          emptyTag: "",
          cdata: false
        }
      };
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/Utility.js
var require_Utility = __commonJS({
  "node_modules/xmlbuilder/lib/Utility.js"(exports2, module2) {
    (function() {
      var assign, isArray, isEmpty, isFunction, isObject, isPlainObject, slice = [].slice, hasProp = {}.hasOwnProperty;
      assign = function() {
        var i, key, len, source, sources, target;
        target = arguments[0], sources = 2 <= arguments.length ? slice.call(arguments, 1) : [];
        if (isFunction(Object.assign)) {
          Object.assign.apply(null, arguments);
        } else {
          for (i = 0, len = sources.length; i < len; i++) {
            source = sources[i];
            if (source != null) {
              for (key in source) {
                if (!hasProp.call(source, key))
                  continue;
                target[key] = source[key];
              }
            }
          }
        }
        return target;
      };
      isFunction = function(val) {
        return !!val && Object.prototype.toString.call(val) === "[object Function]";
      };
      isObject = function(val) {
        var ref;
        return !!val && ((ref = typeof val) === "function" || ref === "object");
      };
      isArray = function(val) {
        if (isFunction(Array.isArray)) {
          return Array.isArray(val);
        } else {
          return Object.prototype.toString.call(val) === "[object Array]";
        }
      };
      isEmpty = function(val) {
        var key;
        if (isArray(val)) {
          return !val.length;
        } else {
          for (key in val) {
            if (!hasProp.call(val, key))
              continue;
            return false;
          }
          return true;
        }
      };
      isPlainObject = function(val) {
        var ctor, proto;
        return isObject(val) && (proto = Object.getPrototypeOf(val)) && (ctor = proto.constructor) && typeof ctor === "function" && ctor instanceof ctor && Function.prototype.toString.call(ctor) === Function.prototype.toString.call(Object);
      };
      module2.exports.assign = assign;
      module2.exports.isFunction = isFunction;
      module2.exports.isObject = isObject;
      module2.exports.isArray = isArray;
      module2.exports.isEmpty = isEmpty;
      module2.exports.isPlainObject = isPlainObject;
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLAttribute.js
var require_XMLAttribute = __commonJS({
  "node_modules/xmlbuilder/lib/XMLAttribute.js"(exports2, module2) {
    (function() {
      var XMLAttribute;
      module2.exports = XMLAttribute = function() {
        function XMLAttribute2(parent, name, value) {
          this.options = parent.options;
          this.stringify = parent.stringify;
          if (name == null) {
            throw new Error("Missing attribute name of element " + parent.name);
          }
          if (value == null) {
            throw new Error("Missing attribute value for attribute " + name + " of element " + parent.name);
          }
          this.name = this.stringify.attName(name);
          this.value = this.stringify.attValue(value);
        }
        XMLAttribute2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLAttribute2.prototype.toString = function(options) {
          return this.options.writer.set(options).attribute(this);
        };
        return XMLAttribute2;
      }();
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLElement.js
var require_XMLElement = __commonJS({
  "node_modules/xmlbuilder/lib/XMLElement.js"(exports2, module2) {
    (function() {
      var XMLAttribute, XMLElement, XMLNode, isFunction, isObject, ref, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction;
      XMLNode = require_XMLNode();
      XMLAttribute = require_XMLAttribute();
      module2.exports = XMLElement = function(superClass) {
        extend(XMLElement2, superClass);
        function XMLElement2(parent, name, attributes) {
          XMLElement2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing element name");
          }
          this.name = this.stringify.eleName(name);
          this.attributes = {};
          if (attributes != null) {
            this.attribute(attributes);
          }
          if (parent.isDocument) {
            this.isRoot = true;
            this.documentObject = parent;
            parent.rootObject = this;
          }
        }
        XMLElement2.prototype.clone = function() {
          var att, attName, clonedSelf, ref1;
          clonedSelf = Object.create(this);
          if (clonedSelf.isRoot) {
            clonedSelf.documentObject = null;
          }
          clonedSelf.attributes = {};
          ref1 = this.attributes;
          for (attName in ref1) {
            if (!hasProp.call(ref1, attName))
              continue;
            att = ref1[attName];
            clonedSelf.attributes[attName] = att.clone();
          }
          clonedSelf.children = [];
          this.children.forEach(function(child) {
            var clonedChild;
            clonedChild = child.clone();
            clonedChild.parent = clonedSelf;
            return clonedSelf.children.push(clonedChild);
          });
          return clonedSelf;
        };
        XMLElement2.prototype.attribute = function(name, value) {
          var attName, attValue;
          if (name != null) {
            name = name.valueOf();
          }
          if (isObject(name)) {
            for (attName in name) {
              if (!hasProp.call(name, attName))
                continue;
              attValue = name[attName];
              this.attribute(attName, attValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            if (!this.options.skipNullAttributes || value != null) {
              this.attributes[name] = new XMLAttribute(this, name, value);
            }
          }
          return this;
        };
        XMLElement2.prototype.removeAttribute = function(name) {
          var attName, i, len;
          if (name == null) {
            throw new Error("Missing attribute name");
          }
          name = name.valueOf();
          if (Array.isArray(name)) {
            for (i = 0, len = name.length; i < len; i++) {
              attName = name[i];
              delete this.attributes[attName];
            }
          } else {
            delete this.attributes[name];
          }
          return this;
        };
        XMLElement2.prototype.toString = function(options) {
          return this.options.writer.set(options).element(this);
        };
        XMLElement2.prototype.att = function(name, value) {
          return this.attribute(name, value);
        };
        XMLElement2.prototype.a = function(name, value) {
          return this.attribute(name, value);
        };
        return XMLElement2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLCData.js
var require_XMLCData = __commonJS({
  "node_modules/xmlbuilder/lib/XMLCData.js"(exports2, module2) {
    (function() {
      var XMLCData, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLCData = function(superClass) {
        extend(XMLCData2, superClass);
        function XMLCData2(parent, text) {
          XMLCData2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing CDATA text");
          }
          this.text = this.stringify.cdata(text);
        }
        XMLCData2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLCData2.prototype.toString = function(options) {
          return this.options.writer.set(options).cdata(this);
        };
        return XMLCData2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLComment.js
var require_XMLComment = __commonJS({
  "node_modules/xmlbuilder/lib/XMLComment.js"(exports2, module2) {
    (function() {
      var XMLComment, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLComment = function(superClass) {
        extend(XMLComment2, superClass);
        function XMLComment2(parent, text) {
          XMLComment2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing comment text");
          }
          this.text = this.stringify.comment(text);
        }
        XMLComment2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLComment2.prototype.toString = function(options) {
          return this.options.writer.set(options).comment(this);
        };
        return XMLComment2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDeclaration.js
var require_XMLDeclaration = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDeclaration.js"(exports2, module2) {
    (function() {
      var XMLDeclaration, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      module2.exports = XMLDeclaration = function(superClass) {
        extend(XMLDeclaration2, superClass);
        function XMLDeclaration2(parent, version, encoding, standalone) {
          var ref;
          XMLDeclaration2.__super__.constructor.call(this, parent);
          if (isObject(version)) {
            ref = version, version = ref.version, encoding = ref.encoding, standalone = ref.standalone;
          }
          if (!version) {
            version = "1.0";
          }
          this.version = this.stringify.xmlVersion(version);
          if (encoding != null) {
            this.encoding = this.stringify.xmlEncoding(encoding);
          }
          if (standalone != null) {
            this.standalone = this.stringify.xmlStandalone(standalone);
          }
        }
        XMLDeclaration2.prototype.toString = function(options) {
          return this.options.writer.set(options).declaration(this);
        };
        return XMLDeclaration2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDAttList.js
var require_XMLDTDAttList = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDAttList.js"(exports2, module2) {
    (function() {
      var XMLDTDAttList, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDAttList = function(superClass) {
        extend(XMLDTDAttList2, superClass);
        function XMLDTDAttList2(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          XMLDTDAttList2.__super__.constructor.call(this, parent);
          if (elementName == null) {
            throw new Error("Missing DTD element name");
          }
          if (attributeName == null) {
            throw new Error("Missing DTD attribute name");
          }
          if (!attributeType) {
            throw new Error("Missing DTD attribute type");
          }
          if (!defaultValueType) {
            throw new Error("Missing DTD attribute default");
          }
          if (defaultValueType.indexOf("#") !== 0) {
            defaultValueType = "#" + defaultValueType;
          }
          if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {
            throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT");
          }
          if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {
            throw new Error("Default value only applies to #FIXED or #DEFAULT");
          }
          this.elementName = this.stringify.eleName(elementName);
          this.attributeName = this.stringify.attName(attributeName);
          this.attributeType = this.stringify.dtdAttType(attributeType);
          this.defaultValue = this.stringify.dtdAttDefault(defaultValue);
          this.defaultValueType = defaultValueType;
        }
        XMLDTDAttList2.prototype.toString = function(options) {
          return this.options.writer.set(options).dtdAttList(this);
        };
        return XMLDTDAttList2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDEntity.js
var require_XMLDTDEntity = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDEntity.js"(exports2, module2) {
    (function() {
      var XMLDTDEntity, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDEntity = function(superClass) {
        extend(XMLDTDEntity2, superClass);
        function XMLDTDEntity2(parent, pe, name, value) {
          XMLDTDEntity2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing entity name");
          }
          if (value == null) {
            throw new Error("Missing entity value");
          }
          this.pe = !!pe;
          this.name = this.stringify.eleName(name);
          if (!isObject(value)) {
            this.value = this.stringify.dtdEntityValue(value);
          } else {
            if (!value.pubID && !value.sysID) {
              throw new Error("Public and/or system identifiers are required for an external entity");
            }
            if (value.pubID && !value.sysID) {
              throw new Error("System identifier is required for a public external entity");
            }
            if (value.pubID != null) {
              this.pubID = this.stringify.dtdPubID(value.pubID);
            }
            if (value.sysID != null) {
              this.sysID = this.stringify.dtdSysID(value.sysID);
            }
            if (value.nData != null) {
              this.nData = this.stringify.dtdNData(value.nData);
            }
            if (this.pe && this.nData) {
              throw new Error("Notation declaration is not allowed in a parameter entity");
            }
          }
        }
        XMLDTDEntity2.prototype.toString = function(options) {
          return this.options.writer.set(options).dtdEntity(this);
        };
        return XMLDTDEntity2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDElement.js
var require_XMLDTDElement = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDElement.js"(exports2, module2) {
    (function() {
      var XMLDTDElement, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDElement = function(superClass) {
        extend(XMLDTDElement2, superClass);
        function XMLDTDElement2(parent, name, value) {
          XMLDTDElement2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing DTD element name");
          }
          if (!value) {
            value = "(#PCDATA)";
          }
          if (Array.isArray(value)) {
            value = "(" + value.join(",") + ")";
          }
          this.name = this.stringify.eleName(name);
          this.value = this.stringify.dtdElementValue(value);
        }
        XMLDTDElement2.prototype.toString = function(options) {
          return this.options.writer.set(options).dtdElement(this);
        };
        return XMLDTDElement2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDTDNotation.js
var require_XMLDTDNotation = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDTDNotation.js"(exports2, module2) {
    (function() {
      var XMLDTDNotation, XMLNode, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLDTDNotation = function(superClass) {
        extend(XMLDTDNotation2, superClass);
        function XMLDTDNotation2(parent, name, value) {
          XMLDTDNotation2.__super__.constructor.call(this, parent);
          if (name == null) {
            throw new Error("Missing notation name");
          }
          if (!value.pubID && !value.sysID) {
            throw new Error("Public or system identifiers are required for an external entity");
          }
          this.name = this.stringify.eleName(name);
          if (value.pubID != null) {
            this.pubID = this.stringify.dtdPubID(value.pubID);
          }
          if (value.sysID != null) {
            this.sysID = this.stringify.dtdSysID(value.sysID);
          }
        }
        XMLDTDNotation2.prototype.toString = function(options) {
          return this.options.writer.set(options).dtdNotation(this);
        };
        return XMLDTDNotation2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDocType.js
var require_XMLDocType = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocType.js"(exports2, module2) {
    (function() {
      var XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDocType, XMLNode, isObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isObject = require_Utility().isObject;
      XMLNode = require_XMLNode();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDNotation = require_XMLDTDNotation();
      module2.exports = XMLDocType = function(superClass) {
        extend(XMLDocType2, superClass);
        function XMLDocType2(parent, pubID, sysID) {
          var ref, ref1;
          XMLDocType2.__super__.constructor.call(this, parent);
          this.documentObject = parent;
          if (isObject(pubID)) {
            ref = pubID, pubID = ref.pubID, sysID = ref.sysID;
          }
          if (sysID == null) {
            ref1 = [pubID, sysID], sysID = ref1[0], pubID = ref1[1];
          }
          if (pubID != null) {
            this.pubID = this.stringify.dtdPubID(pubID);
          }
          if (sysID != null) {
            this.sysID = this.stringify.dtdSysID(sysID);
          }
        }
        XMLDocType2.prototype.element = function(name, value) {
          var child;
          child = new XMLDTDElement(this, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          var child;
          child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.entity = function(name, value) {
          var child;
          child = new XMLDTDEntity(this, false, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.pEntity = function(name, value) {
          var child;
          child = new XMLDTDEntity(this, true, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.notation = function(name, value) {
          var child;
          child = new XMLDTDNotation(this, name, value);
          this.children.push(child);
          return this;
        };
        XMLDocType2.prototype.toString = function(options) {
          return this.options.writer.set(options).docType(this);
        };
        XMLDocType2.prototype.ele = function(name, value) {
          return this.element(name, value);
        };
        XMLDocType2.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);
        };
        XMLDocType2.prototype.ent = function(name, value) {
          return this.entity(name, value);
        };
        XMLDocType2.prototype.pent = function(name, value) {
          return this.pEntity(name, value);
        };
        XMLDocType2.prototype.not = function(name, value) {
          return this.notation(name, value);
        };
        XMLDocType2.prototype.up = function() {
          return this.root() || this.documentObject;
        };
        return XMLDocType2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLRaw.js
var require_XMLRaw = __commonJS({
  "node_modules/xmlbuilder/lib/XMLRaw.js"(exports2, module2) {
    (function() {
      var XMLNode, XMLRaw, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLRaw = function(superClass) {
        extend(XMLRaw2, superClass);
        function XMLRaw2(parent, text) {
          XMLRaw2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing raw text");
          }
          this.value = this.stringify.raw(text);
        }
        XMLRaw2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLRaw2.prototype.toString = function(options) {
          return this.options.writer.set(options).raw(this);
        };
        return XMLRaw2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLText.js
var require_XMLText = __commonJS({
  "node_modules/xmlbuilder/lib/XMLText.js"(exports2, module2) {
    (function() {
      var XMLNode, XMLText, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLText = function(superClass) {
        extend(XMLText2, superClass);
        function XMLText2(parent, text) {
          XMLText2.__super__.constructor.call(this, parent);
          if (text == null) {
            throw new Error("Missing element text");
          }
          this.value = this.stringify.eleText(text);
        }
        XMLText2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLText2.prototype.toString = function(options) {
          return this.options.writer.set(options).text(this);
        };
        return XMLText2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLProcessingInstruction.js
var require_XMLProcessingInstruction = __commonJS({
  "node_modules/xmlbuilder/lib/XMLProcessingInstruction.js"(exports2, module2) {
    (function() {
      var XMLNode, XMLProcessingInstruction, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLNode = require_XMLNode();
      module2.exports = XMLProcessingInstruction = function(superClass) {
        extend(XMLProcessingInstruction2, superClass);
        function XMLProcessingInstruction2(parent, target, value) {
          XMLProcessingInstruction2.__super__.constructor.call(this, parent);
          if (target == null) {
            throw new Error("Missing instruction target");
          }
          this.target = this.stringify.insTarget(target);
          if (value) {
            this.value = this.stringify.insValue(value);
          }
        }
        XMLProcessingInstruction2.prototype.clone = function() {
          return Object.create(this);
        };
        XMLProcessingInstruction2.prototype.toString = function(options) {
          return this.options.writer.set(options).processingInstruction(this);
        };
        return XMLProcessingInstruction2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLNode.js
var require_XMLNode = __commonJS({
  "node_modules/xmlbuilder/lib/XMLNode.js"(exports2, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDeclaration, XMLDocType, XMLElement, XMLNode, XMLProcessingInstruction, XMLRaw, XMLText, isEmpty, isFunction, isObject, ref, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction, isEmpty = ref.isEmpty;
      XMLElement = null;
      XMLCData = null;
      XMLComment = null;
      XMLDeclaration = null;
      XMLDocType = null;
      XMLRaw = null;
      XMLText = null;
      XMLProcessingInstruction = null;
      module2.exports = XMLNode = function() {
        function XMLNode2(parent) {
          this.parent = parent;
          if (this.parent) {
            this.options = this.parent.options;
            this.stringify = this.parent.stringify;
          }
          this.children = [];
          if (!XMLElement) {
            XMLElement = require_XMLElement();
            XMLCData = require_XMLCData();
            XMLComment = require_XMLComment();
            XMLDeclaration = require_XMLDeclaration();
            XMLDocType = require_XMLDocType();
            XMLRaw = require_XMLRaw();
            XMLText = require_XMLText();
            XMLProcessingInstruction = require_XMLProcessingInstruction();
          }
        }
        XMLNode2.prototype.element = function(name, attributes, text) {
          var childNode, item, j, k, key, lastChild, len, len1, ref1, val;
          lastChild = null;
          if (attributes == null) {
            attributes = {};
          }
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          if (name != null) {
            name = name.valueOf();
          }
          if (Array.isArray(name)) {
            for (j = 0, len = name.length; j < len; j++) {
              item = name[j];
              lastChild = this.element(item);
            }
          } else if (isFunction(name)) {
            lastChild = this.element(name.apply());
          } else if (isObject(name)) {
            for (key in name) {
              if (!hasProp.call(name, key))
                continue;
              val = name[key];
              if (isFunction(val)) {
                val = val.apply();
              }
              if (isObject(val) && isEmpty(val)) {
                val = null;
              }
              if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {
                lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);
              } else if (!this.options.separateArrayItems && Array.isArray(val)) {
                for (k = 0, len1 = val.length; k < len1; k++) {
                  item = val[k];
                  childNode = {};
                  childNode[key] = item;
                  lastChild = this.element(childNode);
                }
              } else if (isObject(val)) {
                lastChild = this.element(key);
                lastChild.element(val);
              } else {
                lastChild = this.element(key, val);
              }
            }
          } else {
            if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {
              lastChild = this.text(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {
              lastChild = this.cdata(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {
              lastChild = this.comment(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {
              lastChild = this.raw(text);
            } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && name.indexOf(this.stringify.convertPIKey) === 0) {
              lastChild = this.instruction(name.substr(this.stringify.convertPIKey.length), text);
            } else {
              lastChild = this.node(name, attributes, text);
            }
          }
          if (lastChild == null) {
            throw new Error("Could not create any elements with: " + name);
          }
          return lastChild;
        };
        XMLNode2.prototype.insertBefore = function(name, attributes, text) {
          var child, i, removed;
          if (this.isRoot) {
            throw new Error("Cannot insert elements at root level");
          }
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.element(name, attributes, text);
          Array.prototype.push.apply(this.parent.children, removed);
          return child;
        };
        XMLNode2.prototype.insertAfter = function(name, attributes, text) {
          var child, i, removed;
          if (this.isRoot) {
            throw new Error("Cannot insert elements at root level");
          }
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.element(name, attributes, text);
          Array.prototype.push.apply(this.parent.children, removed);
          return child;
        };
        XMLNode2.prototype.remove = function() {
          var i, ref1;
          if (this.isRoot) {
            throw new Error("Cannot remove the root element");
          }
          i = this.parent.children.indexOf(this);
          [].splice.apply(this.parent.children, [i, i - i + 1].concat(ref1 = [])), ref1;
          return this.parent;
        };
        XMLNode2.prototype.node = function(name, attributes, text) {
          var child, ref1;
          if (name != null) {
            name = name.valueOf();
          }
          attributes || (attributes = {});
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          child = new XMLElement(this, name, attributes);
          if (text != null) {
            child.text(text);
          }
          this.children.push(child);
          return child;
        };
        XMLNode2.prototype.text = function(value) {
          var child;
          child = new XMLText(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.cdata = function(value) {
          var child;
          child = new XMLCData(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.comment = function(value) {
          var child;
          child = new XMLComment(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.commentBefore = function(value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.comment(value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.commentAfter = function(value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.comment(value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.raw = function(value) {
          var child;
          child = new XMLRaw(this, value);
          this.children.push(child);
          return this;
        };
        XMLNode2.prototype.instruction = function(target, value) {
          var insTarget, insValue, instruction, j, len;
          if (target != null) {
            target = target.valueOf();
          }
          if (value != null) {
            value = value.valueOf();
          }
          if (Array.isArray(target)) {
            for (j = 0, len = target.length; j < len; j++) {
              insTarget = target[j];
              this.instruction(insTarget);
            }
          } else if (isObject(target)) {
            for (insTarget in target) {
              if (!hasProp.call(target, insTarget))
                continue;
              insValue = target[insTarget];
              this.instruction(insTarget, insValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            instruction = new XMLProcessingInstruction(this, target, value);
            this.children.push(instruction);
          }
          return this;
        };
        XMLNode2.prototype.instructionBefore = function(target, value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i);
          child = this.parent.instruction(target, value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.instructionAfter = function(target, value) {
          var child, i, removed;
          i = this.parent.children.indexOf(this);
          removed = this.parent.children.splice(i + 1);
          child = this.parent.instruction(target, value);
          Array.prototype.push.apply(this.parent.children, removed);
          return this;
        };
        XMLNode2.prototype.declaration = function(version, encoding, standalone) {
          var doc, xmldec;
          doc = this.document();
          xmldec = new XMLDeclaration(doc, version, encoding, standalone);
          if (doc.children[0] instanceof XMLDeclaration) {
            doc.children[0] = xmldec;
          } else {
            doc.children.unshift(xmldec);
          }
          return doc.root() || doc;
        };
        XMLNode2.prototype.doctype = function(pubID, sysID) {
          var child, doc, doctype, i, j, k, len, len1, ref1, ref2;
          doc = this.document();
          doctype = new XMLDocType(doc, pubID, sysID);
          ref1 = doc.children;
          for (i = j = 0, len = ref1.length; j < len; i = ++j) {
            child = ref1[i];
            if (child instanceof XMLDocType) {
              doc.children[i] = doctype;
              return doctype;
            }
          }
          ref2 = doc.children;
          for (i = k = 0, len1 = ref2.length; k < len1; i = ++k) {
            child = ref2[i];
            if (child.isRoot) {
              doc.children.splice(i, 0, doctype);
              return doctype;
            }
          }
          doc.children.push(doctype);
          return doctype;
        };
        XMLNode2.prototype.up = function() {
          if (this.isRoot) {
            throw new Error("The root node has no parent. Use doc() if you need to get the document object.");
          }
          return this.parent;
        };
        XMLNode2.prototype.root = function() {
          var node;
          node = this;
          while (node) {
            if (node.isDocument) {
              return node.rootObject;
            } else if (node.isRoot) {
              return node;
            } else {
              node = node.parent;
            }
          }
        };
        XMLNode2.prototype.document = function() {
          var node;
          node = this;
          while (node) {
            if (node.isDocument) {
              return node;
            } else {
              node = node.parent;
            }
          }
        };
        XMLNode2.prototype.end = function(options) {
          return this.document().end(options);
        };
        XMLNode2.prototype.prev = function() {
          var i;
          i = this.parent.children.indexOf(this);
          if (i < 1) {
            throw new Error("Already at the first node");
          }
          return this.parent.children[i - 1];
        };
        XMLNode2.prototype.next = function() {
          var i;
          i = this.parent.children.indexOf(this);
          if (i === -1 || i === this.parent.children.length - 1) {
            throw new Error("Already at the last node");
          }
          return this.parent.children[i + 1];
        };
        XMLNode2.prototype.importDocument = function(doc) {
          var clonedRoot;
          clonedRoot = doc.root().clone();
          clonedRoot.parent = this;
          clonedRoot.isRoot = false;
          this.children.push(clonedRoot);
          return this;
        };
        XMLNode2.prototype.ele = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLNode2.prototype.nod = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLNode2.prototype.txt = function(value) {
          return this.text(value);
        };
        XMLNode2.prototype.dat = function(value) {
          return this.cdata(value);
        };
        XMLNode2.prototype.com = function(value) {
          return this.comment(value);
        };
        XMLNode2.prototype.ins = function(target, value) {
          return this.instruction(target, value);
        };
        XMLNode2.prototype.doc = function() {
          return this.document();
        };
        XMLNode2.prototype.dec = function(version, encoding, standalone) {
          return this.declaration(version, encoding, standalone);
        };
        XMLNode2.prototype.dtd = function(pubID, sysID) {
          return this.doctype(pubID, sysID);
        };
        XMLNode2.prototype.e = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLNode2.prototype.n = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLNode2.prototype.t = function(value) {
          return this.text(value);
        };
        XMLNode2.prototype.d = function(value) {
          return this.cdata(value);
        };
        XMLNode2.prototype.c = function(value) {
          return this.comment(value);
        };
        XMLNode2.prototype.r = function(value) {
          return this.raw(value);
        };
        XMLNode2.prototype.i = function(target, value) {
          return this.instruction(target, value);
        };
        XMLNode2.prototype.u = function() {
          return this.up();
        };
        XMLNode2.prototype.importXMLBuilder = function(doc) {
          return this.importDocument(doc);
        };
        return XMLNode2;
      }();
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLStringifier.js
var require_XMLStringifier = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStringifier.js"(exports2, module2) {
    (function() {
      var XMLStringifier, bind = function(fn, me) {
        return function() {
          return fn.apply(me, arguments);
        };
      }, hasProp = {}.hasOwnProperty;
      module2.exports = XMLStringifier = function() {
        function XMLStringifier2(options) {
          this.assertLegalChar = bind(this.assertLegalChar, this);
          var key, ref, value;
          options || (options = {});
          this.noDoubleEncoding = options.noDoubleEncoding;
          ref = options.stringify || {};
          for (key in ref) {
            if (!hasProp.call(ref, key))
              continue;
            value = ref[key];
            this[key] = value;
          }
        }
        XMLStringifier2.prototype.eleName = function(val) {
          val = "" + val || "";
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.eleText = function(val) {
          val = "" + val || "";
          return this.assertLegalChar(this.elEscape(val));
        };
        XMLStringifier2.prototype.cdata = function(val) {
          val = "" + val || "";
          val = val.replace("]]>", "]]]]><![CDATA[>");
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.comment = function(val) {
          val = "" + val || "";
          if (val.match(/--/)) {
            throw new Error("Comment text cannot contain double-hypen: " + val);
          }
          return this.assertLegalChar(val);
        };
        XMLStringifier2.prototype.raw = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.attName = function(val) {
          return val = "" + val || "";
        };
        XMLStringifier2.prototype.attValue = function(val) {
          val = "" + val || "";
          return this.attEscape(val);
        };
        XMLStringifier2.prototype.insTarget = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.insValue = function(val) {
          val = "" + val || "";
          if (val.match(/\?>/)) {
            throw new Error("Invalid processing instruction value: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlVersion = function(val) {
          val = "" + val || "";
          if (!val.match(/1\.[0-9]+/)) {
            throw new Error("Invalid version number: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlEncoding = function(val) {
          val = "" + val || "";
          if (!val.match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/)) {
            throw new Error("Invalid encoding: " + val);
          }
          return val;
        };
        XMLStringifier2.prototype.xmlStandalone = function(val) {
          if (val) {
            return "yes";
          } else {
            return "no";
          }
        };
        XMLStringifier2.prototype.dtdPubID = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdSysID = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdElementValue = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdAttType = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdAttDefault = function(val) {
          if (val != null) {
            return "" + val || "";
          } else {
            return val;
          }
        };
        XMLStringifier2.prototype.dtdEntityValue = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.dtdNData = function(val) {
          return "" + val || "";
        };
        XMLStringifier2.prototype.convertAttKey = "@";
        XMLStringifier2.prototype.convertPIKey = "?";
        XMLStringifier2.prototype.convertTextKey = "#text";
        XMLStringifier2.prototype.convertCDataKey = "#cdata";
        XMLStringifier2.prototype.convertCommentKey = "#comment";
        XMLStringifier2.prototype.convertRawKey = "#raw";
        XMLStringifier2.prototype.assertLegalChar = function(str) {
          var res;
          res = str.match(/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/);
          if (res) {
            throw new Error("Invalid character in string: " + str + " at index " + res.index);
          }
          return str;
        };
        XMLStringifier2.prototype.elEscape = function(str) {
          var ampregex;
          ampregex = this.noDoubleEncoding ? /(?!&\S+;)&/g : /&/g;
          return str.replace(ampregex, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\r/g, "&#xD;");
        };
        XMLStringifier2.prototype.attEscape = function(str) {
          var ampregex;
          ampregex = this.noDoubleEncoding ? /(?!&\S+;)&/g : /&/g;
          return str.replace(ampregex, "&amp;").replace(/</g, "&lt;").replace(/"/g, "&quot;").replace(/\t/g, "&#x9;").replace(/\n/g, "&#xA;").replace(/\r/g, "&#xD;");
        };
        return XMLStringifier2;
      }();
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLWriterBase.js
var require_XMLWriterBase = __commonJS({
  "node_modules/xmlbuilder/lib/XMLWriterBase.js"(exports2, module2) {
    (function() {
      var XMLWriterBase, hasProp = {}.hasOwnProperty;
      module2.exports = XMLWriterBase = function() {
        function XMLWriterBase2(options) {
          var key, ref, ref1, ref2, ref3, ref4, ref5, ref6, value;
          options || (options = {});
          this.pretty = options.pretty || false;
          this.allowEmpty = (ref = options.allowEmpty) != null ? ref : false;
          if (this.pretty) {
            this.indent = (ref1 = options.indent) != null ? ref1 : "  ";
            this.newline = (ref2 = options.newline) != null ? ref2 : "\n";
            this.offset = (ref3 = options.offset) != null ? ref3 : 0;
            this.dontprettytextnodes = (ref4 = options.dontprettytextnodes) != null ? ref4 : 0;
          } else {
            this.indent = "";
            this.newline = "";
            this.offset = 0;
            this.dontprettytextnodes = 0;
          }
          this.spacebeforeslash = (ref5 = options.spacebeforeslash) != null ? ref5 : "";
          if (this.spacebeforeslash === true) {
            this.spacebeforeslash = " ";
          }
          this.newlinedefault = this.newline;
          this.prettydefault = this.pretty;
          ref6 = options.writer || {};
          for (key in ref6) {
            if (!hasProp.call(ref6, key))
              continue;
            value = ref6[key];
            this[key] = value;
          }
        }
        XMLWriterBase2.prototype.set = function(options) {
          var key, ref, value;
          options || (options = {});
          if ("pretty" in options) {
            this.pretty = options.pretty;
          }
          if ("allowEmpty" in options) {
            this.allowEmpty = options.allowEmpty;
          }
          if (this.pretty) {
            this.indent = "indent" in options ? options.indent : "  ";
            this.newline = "newline" in options ? options.newline : "\n";
            this.offset = "offset" in options ? options.offset : 0;
            this.dontprettytextnodes = "dontprettytextnodes" in options ? options.dontprettytextnodes : 0;
          } else {
            this.indent = "";
            this.newline = "";
            this.offset = 0;
            this.dontprettytextnodes = 0;
          }
          this.spacebeforeslash = "spacebeforeslash" in options ? options.spacebeforeslash : "";
          if (this.spacebeforeslash === true) {
            this.spacebeforeslash = " ";
          }
          this.newlinedefault = this.newline;
          this.prettydefault = this.pretty;
          ref = options.writer || {};
          for (key in ref) {
            if (!hasProp.call(ref, key))
              continue;
            value = ref[key];
            this[key] = value;
          }
          return this;
        };
        XMLWriterBase2.prototype.space = function(level) {
          var indent;
          if (this.pretty) {
            indent = (level || 0) + this.offset + 1;
            if (indent > 0) {
              return new Array(indent).join(this.indent);
            } else {
              return "";
            }
          } else {
            return "";
          }
        };
        return XMLWriterBase2;
      }();
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLStringWriter.js
var require_XMLStringWriter = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStringWriter.js"(exports2, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLText, XMLWriterBase, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLElement = require_XMLElement();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLWriterBase = require_XMLWriterBase();
      module2.exports = XMLStringWriter = function(superClass) {
        extend(XMLStringWriter2, superClass);
        function XMLStringWriter2(options) {
          XMLStringWriter2.__super__.constructor.call(this, options);
        }
        XMLStringWriter2.prototype.document = function(doc) {
          var child, i, len, r, ref;
          this.textispresent = false;
          r = "";
          ref = doc.children;
          for (i = 0, len = ref.length; i < len; i++) {
            child = ref[i];
            r += function() {
              switch (false) {
                case !(child instanceof XMLDeclaration):
                  return this.declaration(child);
                case !(child instanceof XMLDocType):
                  return this.docType(child);
                case !(child instanceof XMLComment):
                  return this.comment(child);
                case !(child instanceof XMLProcessingInstruction):
                  return this.processingInstruction(child);
                default:
                  return this.element(child, 0);
              }
            }.call(this);
          }
          if (this.pretty && r.slice(-this.newline.length) === this.newline) {
            r = r.slice(0, -this.newline.length);
          }
          return r;
        };
        XMLStringWriter2.prototype.attribute = function(att) {
          return " " + att.name + '="' + att.value + '"';
        };
        XMLStringWriter2.prototype.cdata = function(node, level) {
          return this.space(level) + "<![CDATA[" + node.text + "]]>" + this.newline;
        };
        XMLStringWriter2.prototype.comment = function(node, level) {
          return this.space(level) + "<!-- " + node.text + " -->" + this.newline;
        };
        XMLStringWriter2.prototype.declaration = function(node, level) {
          var r;
          r = this.space(level);
          r += '<?xml version="' + node.version + '"';
          if (node.encoding != null) {
            r += ' encoding="' + node.encoding + '"';
          }
          if (node.standalone != null) {
            r += ' standalone="' + node.standalone + '"';
          }
          r += this.spacebeforeslash + "?>";
          r += this.newline;
          return r;
        };
        XMLStringWriter2.prototype.docType = function(node, level) {
          var child, i, len, r, ref;
          level || (level = 0);
          r = this.space(level);
          r += "<!DOCTYPE " + node.root().name;
          if (node.pubID && node.sysID) {
            r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
          } else if (node.sysID) {
            r += ' SYSTEM "' + node.sysID + '"';
          }
          if (node.children.length > 0) {
            r += " [";
            r += this.newline;
            ref = node.children;
            for (i = 0, len = ref.length; i < len; i++) {
              child = ref[i];
              r += function() {
                switch (false) {
                  case !(child instanceof XMLDTDAttList):
                    return this.dtdAttList(child, level + 1);
                  case !(child instanceof XMLDTDElement):
                    return this.dtdElement(child, level + 1);
                  case !(child instanceof XMLDTDEntity):
                    return this.dtdEntity(child, level + 1);
                  case !(child instanceof XMLDTDNotation):
                    return this.dtdNotation(child, level + 1);
                  case !(child instanceof XMLCData):
                    return this.cdata(child, level + 1);
                  case !(child instanceof XMLComment):
                    return this.comment(child, level + 1);
                  case !(child instanceof XMLProcessingInstruction):
                    return this.processingInstruction(child, level + 1);
                  default:
                    throw new Error("Unknown DTD node type: " + child.constructor.name);
                }
              }.call(this);
            }
            r += "]";
          }
          r += this.spacebeforeslash + ">";
          r += this.newline;
          return r;
        };
        XMLStringWriter2.prototype.element = function(node, level) {
          var att, child, i, j, len, len1, name, r, ref, ref1, ref2, space, textispresentwasset;
          level || (level = 0);
          textispresentwasset = false;
          if (this.textispresent) {
            this.newline = "";
            this.pretty = false;
          } else {
            this.newline = this.newlinedefault;
            this.pretty = this.prettydefault;
          }
          space = this.space(level);
          r = "";
          r += space + "<" + node.name;
          ref = node.attributes;
          for (name in ref) {
            if (!hasProp.call(ref, name))
              continue;
            att = ref[name];
            r += this.attribute(att);
          }
          if (node.children.length === 0 || node.children.every(function(e) {
            return e.value === "";
          })) {
            if (this.allowEmpty) {
              r += "></" + node.name + ">" + this.newline;
            } else {
              r += this.spacebeforeslash + "/>" + this.newline;
            }
          } else if (this.pretty && node.children.length === 1 && node.children[0].value != null) {
            r += ">";
            r += node.children[0].value;
            r += "</" + node.name + ">" + this.newline;
          } else {
            if (this.dontprettytextnodes) {
              ref1 = node.children;
              for (i = 0, len = ref1.length; i < len; i++) {
                child = ref1[i];
                if (child.value != null) {
                  this.textispresent++;
                  textispresentwasset = true;
                  break;
                }
              }
            }
            if (this.textispresent) {
              this.newline = "";
              this.pretty = false;
              space = this.space(level);
            }
            r += ">" + this.newline;
            ref2 = node.children;
            for (j = 0, len1 = ref2.length; j < len1; j++) {
              child = ref2[j];
              r += function() {
                switch (false) {
                  case !(child instanceof XMLCData):
                    return this.cdata(child, level + 1);
                  case !(child instanceof XMLComment):
                    return this.comment(child, level + 1);
                  case !(child instanceof XMLElement):
                    return this.element(child, level + 1);
                  case !(child instanceof XMLRaw):
                    return this.raw(child, level + 1);
                  case !(child instanceof XMLText):
                    return this.text(child, level + 1);
                  case !(child instanceof XMLProcessingInstruction):
                    return this.processingInstruction(child, level + 1);
                  default:
                    throw new Error("Unknown XML node type: " + child.constructor.name);
                }
              }.call(this);
            }
            if (textispresentwasset) {
              this.textispresent--;
            }
            if (!this.textispresent) {
              this.newline = this.newlinedefault;
              this.pretty = this.prettydefault;
            }
            r += space + "</" + node.name + ">" + this.newline;
          }
          return r;
        };
        XMLStringWriter2.prototype.processingInstruction = function(node, level) {
          var r;
          r = this.space(level) + "<?" + node.target;
          if (node.value) {
            r += " " + node.value;
          }
          r += this.spacebeforeslash + "?>" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.raw = function(node, level) {
          return this.space(level) + node.value + this.newline;
        };
        XMLStringWriter2.prototype.text = function(node, level) {
          return this.space(level) + node.value + this.newline;
        };
        XMLStringWriter2.prototype.dtdAttList = function(node, level) {
          var r;
          r = this.space(level) + "<!ATTLIST " + node.elementName + " " + node.attributeName + " " + node.attributeType;
          if (node.defaultValueType !== "#DEFAULT") {
            r += " " + node.defaultValueType;
          }
          if (node.defaultValue) {
            r += ' "' + node.defaultValue + '"';
          }
          r += this.spacebeforeslash + ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.dtdElement = function(node, level) {
          return this.space(level) + "<!ELEMENT " + node.name + " " + node.value + this.spacebeforeslash + ">" + this.newline;
        };
        XMLStringWriter2.prototype.dtdEntity = function(node, level) {
          var r;
          r = this.space(level) + "<!ENTITY";
          if (node.pe) {
            r += " %";
          }
          r += " " + node.name;
          if (node.value) {
            r += ' "' + node.value + '"';
          } else {
            if (node.pubID && node.sysID) {
              r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
            } else if (node.sysID) {
              r += ' SYSTEM "' + node.sysID + '"';
            }
            if (node.nData) {
              r += " NDATA " + node.nData;
            }
          }
          r += this.spacebeforeslash + ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.dtdNotation = function(node, level) {
          var r;
          r = this.space(level) + "<!NOTATION " + node.name;
          if (node.pubID && node.sysID) {
            r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
          } else if (node.pubID) {
            r += ' PUBLIC "' + node.pubID + '"';
          } else if (node.sysID) {
            r += ' SYSTEM "' + node.sysID + '"';
          }
          r += this.spacebeforeslash + ">" + this.newline;
          return r;
        };
        XMLStringWriter2.prototype.openNode = function(node, level) {
          var att, name, r, ref;
          level || (level = 0);
          if (node instanceof XMLElement) {
            r = this.space(level) + "<" + node.name;
            ref = node.attributes;
            for (name in ref) {
              if (!hasProp.call(ref, name))
                continue;
              att = ref[name];
              r += this.attribute(att);
            }
            r += (node.children ? ">" : "/>") + this.newline;
            return r;
          } else {
            r = this.space(level) + "<!DOCTYPE " + node.rootNodeName;
            if (node.pubID && node.sysID) {
              r += ' PUBLIC "' + node.pubID + '" "' + node.sysID + '"';
            } else if (node.sysID) {
              r += ' SYSTEM "' + node.sysID + '"';
            }
            r += (node.children ? " [" : ">") + this.newline;
            return r;
          }
        };
        XMLStringWriter2.prototype.closeNode = function(node, level) {
          level || (level = 0);
          switch (false) {
            case !(node instanceof XMLElement):
              return this.space(level) + "</" + node.name + ">" + this.newline;
            case !(node instanceof XMLDocType):
              return this.space(level) + "]>" + this.newline;
          }
        };
        return XMLStringWriter2;
      }(XMLWriterBase);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDocument.js
var require_XMLDocument = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocument.js"(exports2, module2) {
    (function() {
      var XMLDocument, XMLNode, XMLStringWriter, XMLStringifier, isPlainObject, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      isPlainObject = require_Utility().isPlainObject;
      XMLNode = require_XMLNode();
      XMLStringifier = require_XMLStringifier();
      XMLStringWriter = require_XMLStringWriter();
      module2.exports = XMLDocument = function(superClass) {
        extend(XMLDocument2, superClass);
        function XMLDocument2(options) {
          XMLDocument2.__super__.constructor.call(this, null);
          options || (options = {});
          if (!options.writer) {
            options.writer = new XMLStringWriter();
          }
          this.options = options;
          this.stringify = new XMLStringifier(options);
          this.isDocument = true;
        }
        XMLDocument2.prototype.end = function(writer) {
          var writerOptions;
          if (!writer) {
            writer = this.options.writer;
          } else if (isPlainObject(writer)) {
            writerOptions = writer;
            writer = this.options.writer.set(writerOptions);
          }
          return writer.document(this);
        };
        XMLDocument2.prototype.toString = function(options) {
          return this.options.writer.set(options).document(this);
        };
        return XMLDocument2;
      }(XMLNode);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLDocumentCB.js
var require_XMLDocumentCB = __commonJS({
  "node_modules/xmlbuilder/lib/XMLDocumentCB.js"(exports2, module2) {
    (function() {
      var XMLAttribute, XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLDocumentCB, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStringWriter, XMLStringifier, XMLText, isFunction, isObject, isPlainObject, ref, hasProp = {}.hasOwnProperty;
      ref = require_Utility(), isObject = ref.isObject, isFunction = ref.isFunction, isPlainObject = ref.isPlainObject;
      XMLElement = require_XMLElement();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLAttribute = require_XMLAttribute();
      XMLStringifier = require_XMLStringifier();
      XMLStringWriter = require_XMLStringWriter();
      module2.exports = XMLDocumentCB = function() {
        function XMLDocumentCB2(options, onData, onEnd) {
          var writerOptions;
          options || (options = {});
          if (!options.writer) {
            options.writer = new XMLStringWriter(options);
          } else if (isPlainObject(options.writer)) {
            writerOptions = options.writer;
            options.writer = new XMLStringWriter(writerOptions);
          }
          this.options = options;
          this.writer = options.writer;
          this.stringify = new XMLStringifier(options);
          this.onDataCallback = onData || function() {
          };
          this.onEndCallback = onEnd || function() {
          };
          this.currentNode = null;
          this.currentLevel = -1;
          this.openTags = {};
          this.documentStarted = false;
          this.documentCompleted = false;
          this.root = null;
        }
        XMLDocumentCB2.prototype.node = function(name, attributes, text) {
          var ref1;
          if (name == null) {
            throw new Error("Missing node name");
          }
          if (this.root && this.currentLevel === -1) {
            throw new Error("Document can only have one root node");
          }
          this.openCurrent();
          name = name.valueOf();
          if (attributes == null) {
            attributes = {};
          }
          attributes = attributes.valueOf();
          if (!isObject(attributes)) {
            ref1 = [attributes, text], text = ref1[0], attributes = ref1[1];
          }
          this.currentNode = new XMLElement(this, name, attributes);
          this.currentNode.children = false;
          this.currentLevel++;
          this.openTags[this.currentLevel] = this.currentNode;
          if (text != null) {
            this.text(text);
          }
          return this;
        };
        XMLDocumentCB2.prototype.element = function(name, attributes, text) {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.dtdElement.apply(this, arguments);
          } else {
            return this.node(name, attributes, text);
          }
        };
        XMLDocumentCB2.prototype.attribute = function(name, value) {
          var attName, attValue;
          if (!this.currentNode || this.currentNode.children) {
            throw new Error("att() can only be used immediately after an ele() call in callback mode");
          }
          if (name != null) {
            name = name.valueOf();
          }
          if (isObject(name)) {
            for (attName in name) {
              if (!hasProp.call(name, attName))
                continue;
              attValue = name[attName];
              this.attribute(attName, attValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            if (!this.options.skipNullAttributes || value != null) {
              this.currentNode.attributes[name] = new XMLAttribute(this, name, value);
            }
          }
          return this;
        };
        XMLDocumentCB2.prototype.text = function(value) {
          var node;
          this.openCurrent();
          node = new XMLText(this, value);
          this.onData(this.writer.text(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.cdata = function(value) {
          var node;
          this.openCurrent();
          node = new XMLCData(this, value);
          this.onData(this.writer.cdata(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.comment = function(value) {
          var node;
          this.openCurrent();
          node = new XMLComment(this, value);
          this.onData(this.writer.comment(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.raw = function(value) {
          var node;
          this.openCurrent();
          node = new XMLRaw(this, value);
          this.onData(this.writer.raw(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.instruction = function(target, value) {
          var i, insTarget, insValue, len, node;
          this.openCurrent();
          if (target != null) {
            target = target.valueOf();
          }
          if (value != null) {
            value = value.valueOf();
          }
          if (Array.isArray(target)) {
            for (i = 0, len = target.length; i < len; i++) {
              insTarget = target[i];
              this.instruction(insTarget);
            }
          } else if (isObject(target)) {
            for (insTarget in target) {
              if (!hasProp.call(target, insTarget))
                continue;
              insValue = target[insTarget];
              this.instruction(insTarget, insValue);
            }
          } else {
            if (isFunction(value)) {
              value = value.apply();
            }
            node = new XMLProcessingInstruction(this, target, value);
            this.onData(this.writer.processingInstruction(node, this.currentLevel + 1));
          }
          return this;
        };
        XMLDocumentCB2.prototype.declaration = function(version, encoding, standalone) {
          var node;
          this.openCurrent();
          if (this.documentStarted) {
            throw new Error("declaration() must be the first node");
          }
          node = new XMLDeclaration(this, version, encoding, standalone);
          this.onData(this.writer.declaration(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.doctype = function(root, pubID, sysID) {
          this.openCurrent();
          if (root == null) {
            throw new Error("Missing root node name");
          }
          if (this.root) {
            throw new Error("dtd() must come before the root node");
          }
          this.currentNode = new XMLDocType(this, pubID, sysID);
          this.currentNode.rootNodeName = root;
          this.currentNode.children = false;
          this.currentLevel++;
          this.openTags[this.currentLevel] = this.currentNode;
          return this;
        };
        XMLDocumentCB2.prototype.dtdElement = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDElement(this, name, value);
          this.onData(this.writer.dtdElement(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {
          var node;
          this.openCurrent();
          node = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);
          this.onData(this.writer.dtdAttList(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.entity = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDEntity(this, false, name, value);
          this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.pEntity = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDEntity(this, true, name, value);
          this.onData(this.writer.dtdEntity(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.notation = function(name, value) {
          var node;
          this.openCurrent();
          node = new XMLDTDNotation(this, name, value);
          this.onData(this.writer.dtdNotation(node, this.currentLevel + 1));
          return this;
        };
        XMLDocumentCB2.prototype.up = function() {
          if (this.currentLevel < 0) {
            throw new Error("The document node has no parent");
          }
          if (this.currentNode) {
            if (this.currentNode.children) {
              this.closeNode(this.currentNode);
            } else {
              this.openNode(this.currentNode);
            }
            this.currentNode = null;
          } else {
            this.closeNode(this.openTags[this.currentLevel]);
          }
          delete this.openTags[this.currentLevel];
          this.currentLevel--;
          return this;
        };
        XMLDocumentCB2.prototype.end = function() {
          while (this.currentLevel >= 0) {
            this.up();
          }
          return this.onEnd();
        };
        XMLDocumentCB2.prototype.openCurrent = function() {
          if (this.currentNode) {
            this.currentNode.children = true;
            return this.openNode(this.currentNode);
          }
        };
        XMLDocumentCB2.prototype.openNode = function(node) {
          if (!node.isOpen) {
            if (!this.root && this.currentLevel === 0 && node instanceof XMLElement) {
              this.root = node;
            }
            this.onData(this.writer.openNode(node, this.currentLevel));
            return node.isOpen = true;
          }
        };
        XMLDocumentCB2.prototype.closeNode = function(node) {
          if (!node.isClosed) {
            this.onData(this.writer.closeNode(node, this.currentLevel));
            return node.isClosed = true;
          }
        };
        XMLDocumentCB2.prototype.onData = function(chunk) {
          this.documentStarted = true;
          return this.onDataCallback(chunk);
        };
        XMLDocumentCB2.prototype.onEnd = function() {
          this.documentCompleted = true;
          return this.onEndCallback();
        };
        XMLDocumentCB2.prototype.ele = function() {
          return this.element.apply(this, arguments);
        };
        XMLDocumentCB2.prototype.nod = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLDocumentCB2.prototype.txt = function(value) {
          return this.text(value);
        };
        XMLDocumentCB2.prototype.dat = function(value) {
          return this.cdata(value);
        };
        XMLDocumentCB2.prototype.com = function(value) {
          return this.comment(value);
        };
        XMLDocumentCB2.prototype.ins = function(target, value) {
          return this.instruction(target, value);
        };
        XMLDocumentCB2.prototype.dec = function(version, encoding, standalone) {
          return this.declaration(version, encoding, standalone);
        };
        XMLDocumentCB2.prototype.dtd = function(root, pubID, sysID) {
          return this.doctype(root, pubID, sysID);
        };
        XMLDocumentCB2.prototype.e = function(name, attributes, text) {
          return this.element(name, attributes, text);
        };
        XMLDocumentCB2.prototype.n = function(name, attributes, text) {
          return this.node(name, attributes, text);
        };
        XMLDocumentCB2.prototype.t = function(value) {
          return this.text(value);
        };
        XMLDocumentCB2.prototype.d = function(value) {
          return this.cdata(value);
        };
        XMLDocumentCB2.prototype.c = function(value) {
          return this.comment(value);
        };
        XMLDocumentCB2.prototype.r = function(value) {
          return this.raw(value);
        };
        XMLDocumentCB2.prototype.i = function(target, value) {
          return this.instruction(target, value);
        };
        XMLDocumentCB2.prototype.att = function() {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.attList.apply(this, arguments);
          } else {
            return this.attribute.apply(this, arguments);
          }
        };
        XMLDocumentCB2.prototype.a = function() {
          if (this.currentNode && this.currentNode instanceof XMLDocType) {
            return this.attList.apply(this, arguments);
          } else {
            return this.attribute.apply(this, arguments);
          }
        };
        XMLDocumentCB2.prototype.ent = function(name, value) {
          return this.entity(name, value);
        };
        XMLDocumentCB2.prototype.pent = function(name, value) {
          return this.pEntity(name, value);
        };
        XMLDocumentCB2.prototype.not = function(name, value) {
          return this.notation(name, value);
        };
        return XMLDocumentCB2;
      }();
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/XMLStreamWriter.js
var require_XMLStreamWriter = __commonJS({
  "node_modules/xmlbuilder/lib/XMLStreamWriter.js"(exports2, module2) {
    (function() {
      var XMLCData, XMLComment, XMLDTDAttList, XMLDTDElement, XMLDTDEntity, XMLDTDNotation, XMLDeclaration, XMLDocType, XMLElement, XMLProcessingInstruction, XMLRaw, XMLStreamWriter, XMLText, XMLWriterBase, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      XMLDeclaration = require_XMLDeclaration();
      XMLDocType = require_XMLDocType();
      XMLCData = require_XMLCData();
      XMLComment = require_XMLComment();
      XMLElement = require_XMLElement();
      XMLRaw = require_XMLRaw();
      XMLText = require_XMLText();
      XMLProcessingInstruction = require_XMLProcessingInstruction();
      XMLDTDAttList = require_XMLDTDAttList();
      XMLDTDElement = require_XMLDTDElement();
      XMLDTDEntity = require_XMLDTDEntity();
      XMLDTDNotation = require_XMLDTDNotation();
      XMLWriterBase = require_XMLWriterBase();
      module2.exports = XMLStreamWriter = function(superClass) {
        extend(XMLStreamWriter2, superClass);
        function XMLStreamWriter2(stream, options) {
          XMLStreamWriter2.__super__.constructor.call(this, options);
          this.stream = stream;
        }
        XMLStreamWriter2.prototype.document = function(doc) {
          var child, i, j, len, len1, ref, ref1, results;
          ref = doc.children;
          for (i = 0, len = ref.length; i < len; i++) {
            child = ref[i];
            child.isLastRootNode = false;
          }
          doc.children[doc.children.length - 1].isLastRootNode = true;
          ref1 = doc.children;
          results = [];
          for (j = 0, len1 = ref1.length; j < len1; j++) {
            child = ref1[j];
            switch (false) {
              case !(child instanceof XMLDeclaration):
                results.push(this.declaration(child));
                break;
              case !(child instanceof XMLDocType):
                results.push(this.docType(child));
                break;
              case !(child instanceof XMLComment):
                results.push(this.comment(child));
                break;
              case !(child instanceof XMLProcessingInstruction):
                results.push(this.processingInstruction(child));
                break;
              default:
                results.push(this.element(child));
            }
          }
          return results;
        };
        XMLStreamWriter2.prototype.attribute = function(att) {
          return this.stream.write(" " + att.name + '="' + att.value + '"');
        };
        XMLStreamWriter2.prototype.cdata = function(node, level) {
          return this.stream.write(this.space(level) + "<![CDATA[" + node.text + "]]>" + this.endline(node));
        };
        XMLStreamWriter2.prototype.comment = function(node, level) {
          return this.stream.write(this.space(level) + "<!-- " + node.text + " -->" + this.endline(node));
        };
        XMLStreamWriter2.prototype.declaration = function(node, level) {
          this.stream.write(this.space(level));
          this.stream.write('<?xml version="' + node.version + '"');
          if (node.encoding != null) {
            this.stream.write(' encoding="' + node.encoding + '"');
          }
          if (node.standalone != null) {
            this.stream.write(' standalone="' + node.standalone + '"');
          }
          this.stream.write(this.spacebeforeslash + "?>");
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.docType = function(node, level) {
          var child, i, len, ref;
          level || (level = 0);
          this.stream.write(this.space(level));
          this.stream.write("<!DOCTYPE " + node.root().name);
          if (node.pubID && node.sysID) {
            this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
          } else if (node.sysID) {
            this.stream.write(' SYSTEM "' + node.sysID + '"');
          }
          if (node.children.length > 0) {
            this.stream.write(" [");
            this.stream.write(this.endline(node));
            ref = node.children;
            for (i = 0, len = ref.length; i < len; i++) {
              child = ref[i];
              switch (false) {
                case !(child instanceof XMLDTDAttList):
                  this.dtdAttList(child, level + 1);
                  break;
                case !(child instanceof XMLDTDElement):
                  this.dtdElement(child, level + 1);
                  break;
                case !(child instanceof XMLDTDEntity):
                  this.dtdEntity(child, level + 1);
                  break;
                case !(child instanceof XMLDTDNotation):
                  this.dtdNotation(child, level + 1);
                  break;
                case !(child instanceof XMLCData):
                  this.cdata(child, level + 1);
                  break;
                case !(child instanceof XMLComment):
                  this.comment(child, level + 1);
                  break;
                case !(child instanceof XMLProcessingInstruction):
                  this.processingInstruction(child, level + 1);
                  break;
                default:
                  throw new Error("Unknown DTD node type: " + child.constructor.name);
              }
            }
            this.stream.write("]");
          }
          this.stream.write(this.spacebeforeslash + ">");
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.element = function(node, level) {
          var att, child, i, len, name, ref, ref1, space;
          level || (level = 0);
          space = this.space(level);
          this.stream.write(space + "<" + node.name);
          ref = node.attributes;
          for (name in ref) {
            if (!hasProp.call(ref, name))
              continue;
            att = ref[name];
            this.attribute(att);
          }
          if (node.children.length === 0 || node.children.every(function(e) {
            return e.value === "";
          })) {
            if (this.allowEmpty) {
              this.stream.write("></" + node.name + ">");
            } else {
              this.stream.write(this.spacebeforeslash + "/>");
            }
          } else if (this.pretty && node.children.length === 1 && node.children[0].value != null) {
            this.stream.write(">");
            this.stream.write(node.children[0].value);
            this.stream.write("</" + node.name + ">");
          } else {
            this.stream.write(">" + this.newline);
            ref1 = node.children;
            for (i = 0, len = ref1.length; i < len; i++) {
              child = ref1[i];
              switch (false) {
                case !(child instanceof XMLCData):
                  this.cdata(child, level + 1);
                  break;
                case !(child instanceof XMLComment):
                  this.comment(child, level + 1);
                  break;
                case !(child instanceof XMLElement):
                  this.element(child, level + 1);
                  break;
                case !(child instanceof XMLRaw):
                  this.raw(child, level + 1);
                  break;
                case !(child instanceof XMLText):
                  this.text(child, level + 1);
                  break;
                case !(child instanceof XMLProcessingInstruction):
                  this.processingInstruction(child, level + 1);
                  break;
                default:
                  throw new Error("Unknown XML node type: " + child.constructor.name);
              }
            }
            this.stream.write(space + "</" + node.name + ">");
          }
          return this.stream.write(this.endline(node));
        };
        XMLStreamWriter2.prototype.processingInstruction = function(node, level) {
          this.stream.write(this.space(level) + "<?" + node.target);
          if (node.value) {
            this.stream.write(" " + node.value);
          }
          return this.stream.write(this.spacebeforeslash + "?>" + this.endline(node));
        };
        XMLStreamWriter2.prototype.raw = function(node, level) {
          return this.stream.write(this.space(level) + node.value + this.endline(node));
        };
        XMLStreamWriter2.prototype.text = function(node, level) {
          return this.stream.write(this.space(level) + node.value + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdAttList = function(node, level) {
          this.stream.write(this.space(level) + "<!ATTLIST " + node.elementName + " " + node.attributeName + " " + node.attributeType);
          if (node.defaultValueType !== "#DEFAULT") {
            this.stream.write(" " + node.defaultValueType);
          }
          if (node.defaultValue) {
            this.stream.write(' "' + node.defaultValue + '"');
          }
          return this.stream.write(this.spacebeforeslash + ">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdElement = function(node, level) {
          this.stream.write(this.space(level) + "<!ELEMENT " + node.name + " " + node.value);
          return this.stream.write(this.spacebeforeslash + ">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdEntity = function(node, level) {
          this.stream.write(this.space(level) + "<!ENTITY");
          if (node.pe) {
            this.stream.write(" %");
          }
          this.stream.write(" " + node.name);
          if (node.value) {
            this.stream.write(' "' + node.value + '"');
          } else {
            if (node.pubID && node.sysID) {
              this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
            } else if (node.sysID) {
              this.stream.write(' SYSTEM "' + node.sysID + '"');
            }
            if (node.nData) {
              this.stream.write(" NDATA " + node.nData);
            }
          }
          return this.stream.write(this.spacebeforeslash + ">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.dtdNotation = function(node, level) {
          this.stream.write(this.space(level) + "<!NOTATION " + node.name);
          if (node.pubID && node.sysID) {
            this.stream.write(' PUBLIC "' + node.pubID + '" "' + node.sysID + '"');
          } else if (node.pubID) {
            this.stream.write(' PUBLIC "' + node.pubID + '"');
          } else if (node.sysID) {
            this.stream.write(' SYSTEM "' + node.sysID + '"');
          }
          return this.stream.write(this.spacebeforeslash + ">" + this.endline(node));
        };
        XMLStreamWriter2.prototype.endline = function(node) {
          if (!node.isLastRootNode) {
            return this.newline;
          } else {
            return "";
          }
        };
        return XMLStreamWriter2;
      }(XMLWriterBase);
    }).call(exports2);
  }
});

// node_modules/xmlbuilder/lib/index.js
var require_lib = __commonJS({
  "node_modules/xmlbuilder/lib/index.js"(exports2, module2) {
    (function() {
      var XMLDocument, XMLDocumentCB, XMLStreamWriter, XMLStringWriter, assign, isFunction, ref;
      ref = require_Utility(), assign = ref.assign, isFunction = ref.isFunction;
      XMLDocument = require_XMLDocument();
      XMLDocumentCB = require_XMLDocumentCB();
      XMLStringWriter = require_XMLStringWriter();
      XMLStreamWriter = require_XMLStreamWriter();
      module2.exports.create = function(name, xmldec, doctype, options) {
        var doc, root;
        if (name == null) {
          throw new Error("Root element needs a name");
        }
        options = assign({}, xmldec, doctype, options);
        doc = new XMLDocument(options);
        root = doc.element(name);
        if (!options.headless) {
          doc.declaration(options);
          if (options.pubID != null || options.sysID != null) {
            doc.doctype(options);
          }
        }
        return root;
      };
      module2.exports.begin = function(options, onData, onEnd) {
        var ref1;
        if (isFunction(options)) {
          ref1 = [options, onData], onData = ref1[0], onEnd = ref1[1];
          options = {};
        }
        if (onData) {
          return new XMLDocumentCB(options, onData, onEnd);
        } else {
          return new XMLDocument(options);
        }
      };
      module2.exports.stringWriter = function(options) {
        return new XMLStringWriter(options);
      };
      module2.exports.streamWriter = function(stream, options) {
        return new XMLStreamWriter(stream, options);
      };
    }).call(exports2);
  }
});

// node_modules/xml2js/lib/builder.js
var require_builder3 = __commonJS({
  "node_modules/xml2js/lib/builder.js"(exports2) {
    (function() {
      "use strict";
      var builder, defaults, escapeCDATA, requiresCDATA, wrapCDATA, hasProp = {}.hasOwnProperty;
      builder = require_lib();
      defaults = require_defaults().defaults;
      requiresCDATA = function(entry) {
        return typeof entry === "string" && (entry.indexOf("&") >= 0 || entry.indexOf(">") >= 0 || entry.indexOf("<") >= 0);
      };
      wrapCDATA = function(entry) {
        return "<![CDATA[" + escapeCDATA(entry) + "]]>";
      };
      escapeCDATA = function(entry) {
        return entry.replace("]]>", "]]]]><![CDATA[>");
      };
      exports2.Builder = function() {
        function Builder(opts) {
          var key, ref, value;
          this.options = {};
          ref = defaults["0.2"];
          for (key in ref) {
            if (!hasProp.call(ref, key))
              continue;
            value = ref[key];
            this.options[key] = value;
          }
          for (key in opts) {
            if (!hasProp.call(opts, key))
              continue;
            value = opts[key];
            this.options[key] = value;
          }
        }
        Builder.prototype.buildObject = function(rootObj) {
          var attrkey, charkey, render, rootElement, rootName;
          attrkey = this.options.attrkey;
          charkey = this.options.charkey;
          if (Object.keys(rootObj).length === 1 && this.options.rootName === defaults["0.2"].rootName) {
            rootName = Object.keys(rootObj)[0];
            rootObj = rootObj[rootName];
          } else {
            rootName = this.options.rootName;
          }
          render = function(_this) {
            return function(element, obj) {
              var attr, child, entry, index, key, value;
              if (typeof obj !== "object") {
                if (_this.options.cdata && requiresCDATA(obj)) {
                  element.raw(wrapCDATA(obj));
                } else {
                  element.txt(obj);
                }
              } else if (Array.isArray(obj)) {
                for (index in obj) {
                  if (!hasProp.call(obj, index))
                    continue;
                  child = obj[index];
                  for (key in child) {
                    entry = child[key];
                    element = render(element.ele(key), entry).up();
                  }
                }
              } else {
                for (key in obj) {
                  if (!hasProp.call(obj, key))
                    continue;
                  child = obj[key];
                  if (key === attrkey) {
                    if (typeof child === "object") {
                      for (attr in child) {
                        value = child[attr];
                        element = element.att(attr, value);
                      }
                    }
                  } else if (key === charkey) {
                    if (_this.options.cdata && requiresCDATA(child)) {
                      element = element.raw(wrapCDATA(child));
                    } else {
                      element = element.txt(child);
                    }
                  } else if (Array.isArray(child)) {
                    for (index in child) {
                      if (!hasProp.call(child, index))
                        continue;
                      entry = child[index];
                      if (typeof entry === "string") {
                        if (_this.options.cdata && requiresCDATA(entry)) {
                          element = element.ele(key).raw(wrapCDATA(entry)).up();
                        } else {
                          element = element.ele(key, entry).up();
                        }
                      } else {
                        element = render(element.ele(key), entry).up();
                      }
                    }
                  } else if (typeof child === "object") {
                    element = render(element.ele(key), child).up();
                  } else {
                    if (typeof child === "string" && _this.options.cdata && requiresCDATA(child)) {
                      element = element.ele(key).raw(wrapCDATA(child)).up();
                    } else {
                      if (child == null) {
                        child = "";
                      }
                      element = element.ele(key, child.toString()).up();
                    }
                  }
                }
              }
              return element;
            };
          }(this);
          rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {
            headless: this.options.headless,
            allowSurrogateChars: this.options.allowSurrogateChars
          });
          return render(rootElement, rootObj).end(this.options.renderOpts);
        };
        return Builder;
      }();
    }).call(exports2);
  }
});

// node_modules/sax/lib/sax.js
var require_sax = __commonJS({
  "node_modules/sax/lib/sax.js"(exports2) {
    (function(sax) {
      sax.parser = function(strict, opt) {
        return new SAXParser(strict, opt);
      };
      sax.SAXParser = SAXParser;
      sax.SAXStream = SAXStream;
      sax.createStream = createStream;
      sax.MAX_BUFFER_LENGTH = 64 * 1024;
      var buffers = [
        "comment",
        "sgmlDecl",
        "textNode",
        "tagName",
        "doctype",
        "procInstName",
        "procInstBody",
        "entity",
        "attribName",
        "attribValue",
        "cdata",
        "script"
      ];
      sax.EVENTS = [
        "text",
        "processinginstruction",
        "sgmldeclaration",
        "doctype",
        "comment",
        "opentagstart",
        "attribute",
        "opentag",
        "closetag",
        "opencdata",
        "cdata",
        "closecdata",
        "error",
        "end",
        "ready",
        "script",
        "opennamespace",
        "closenamespace"
      ];
      function SAXParser(strict, opt) {
        if (!(this instanceof SAXParser)) {
          return new SAXParser(strict, opt);
        }
        var parser = this;
        clearBuffers(parser);
        parser.q = parser.c = "";
        parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH;
        parser.opt = opt || {};
        parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags;
        parser.looseCase = parser.opt.lowercase ? "toLowerCase" : "toUpperCase";
        parser.tags = [];
        parser.closed = parser.closedRoot = parser.sawRoot = false;
        parser.tag = parser.error = null;
        parser.strict = !!strict;
        parser.noscript = !!(strict || parser.opt.noscript);
        parser.state = S.BEGIN;
        parser.strictEntities = parser.opt.strictEntities;
        parser.ENTITIES = parser.strictEntities ? Object.create(sax.XML_ENTITIES) : Object.create(sax.ENTITIES);
        parser.attribList = [];
        if (parser.opt.xmlns) {
          parser.ns = Object.create(rootNS);
        }
        parser.trackPosition = parser.opt.position !== false;
        if (parser.trackPosition) {
          parser.position = parser.line = parser.column = 0;
        }
        emit(parser, "onready");
      }
      if (!Object.create) {
        Object.create = function(o) {
          function F() {
          }
          F.prototype = o;
          var newf = new F();
          return newf;
        };
      }
      if (!Object.keys) {
        Object.keys = function(o) {
          var a = [];
          for (var i in o)
            if (o.hasOwnProperty(i))
              a.push(i);
          return a;
        };
      }
      function checkBufferLength(parser) {
        var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10);
        var maxActual = 0;
        for (var i = 0, l = buffers.length; i < l; i++) {
          var len = parser[buffers[i]].length;
          if (len > maxAllowed) {
            switch (buffers[i]) {
              case "textNode":
                closeText(parser);
                break;
              case "cdata":
                emitNode(parser, "oncdata", parser.cdata);
                parser.cdata = "";
                break;
              case "script":
                emitNode(parser, "onscript", parser.script);
                parser.script = "";
                break;
              default:
                error(parser, "Max buffer length exceeded: " + buffers[i]);
            }
          }
          maxActual = Math.max(maxActual, len);
        }
        var m = sax.MAX_BUFFER_LENGTH - maxActual;
        parser.bufferCheckPosition = m + parser.position;
      }
      function clearBuffers(parser) {
        for (var i = 0, l = buffers.length; i < l; i++) {
          parser[buffers[i]] = "";
        }
      }
      function flushBuffers(parser) {
        closeText(parser);
        if (parser.cdata !== "") {
          emitNode(parser, "oncdata", parser.cdata);
          parser.cdata = "";
        }
        if (parser.script !== "") {
          emitNode(parser, "onscript", parser.script);
          parser.script = "";
        }
      }
      SAXParser.prototype = {
        end: function() {
          end(this);
        },
        write,
        resume: function() {
          this.error = null;
          return this;
        },
        close: function() {
          return this.write(null);
        },
        flush: function() {
          flushBuffers(this);
        }
      };
      var Stream;
      try {
        Stream = require("stream").Stream;
      } catch (ex) {
        Stream = function() {
        };
      }
      var streamWraps = sax.EVENTS.filter(function(ev) {
        return ev !== "error" && ev !== "end";
      });
      function createStream(strict, opt) {
        return new SAXStream(strict, opt);
      }
      function SAXStream(strict, opt) {
        if (!(this instanceof SAXStream)) {
          return new SAXStream(strict, opt);
        }
        Stream.apply(this);
        this._parser = new SAXParser(strict, opt);
        this.writable = true;
        this.readable = true;
        var me = this;
        this._parser.onend = function() {
          me.emit("end");
        };
        this._parser.onerror = function(er) {
          me.emit("error", er);
          me._parser.error = null;
        };
        this._decoder = null;
        streamWraps.forEach(function(ev) {
          Object.defineProperty(me, "on" + ev, {
            get: function() {
              return me._parser["on" + ev];
            },
            set: function(h) {
              if (!h) {
                me.removeAllListeners(ev);
                me._parser["on" + ev] = h;
                return h;
              }
              me.on(ev, h);
            },
            enumerable: true,
            configurable: false
          });
        });
      }
      SAXStream.prototype = Object.create(Stream.prototype, {
        constructor: {
          value: SAXStream
        }
      });
      SAXStream.prototype.write = function(data) {
        if (typeof Buffer === "function" && typeof Buffer.isBuffer === "function" && Buffer.isBuffer(data)) {
          if (!this._decoder) {
            var SD = require("string_decoder").StringDecoder;
            this._decoder = new SD("utf8");
          }
          data = this._decoder.write(data);
        }
        this._parser.write(data.toString());
        this.emit("data", data);
        return true;
      };
      SAXStream.prototype.end = function(chunk) {
        if (chunk && chunk.length) {
          this.write(chunk);
        }
        this._parser.end();
        return true;
      };
      SAXStream.prototype.on = function(ev, handler2) {
        var me = this;
        if (!me._parser["on" + ev] && streamWraps.indexOf(ev) !== -1) {
          me._parser["on" + ev] = function() {
            var args = arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments);
            args.splice(0, 0, ev);
            me.emit.apply(me, args);
          };
        }
        return Stream.prototype.on.call(me, ev, handler2);
      };
      var whitespace = "\r\n	 ";
      var number = "0124356789";
      var letter = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
      var quote = `'"`;
      var attribEnd = whitespace + ">";
      var CDATA = "[CDATA[";
      var DOCTYPE = "DOCTYPE";
      var XML_NAMESPACE = "http://www.w3.org/XML/1998/namespace";
      var XMLNS_NAMESPACE = "http://www.w3.org/2000/xmlns/";
      var rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE };
      whitespace = charClass(whitespace);
      number = charClass(number);
      letter = charClass(letter);
      var nameStart = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
      var nameBody = /[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;
      var entityStart = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/;
      var entityBody = /[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;
      quote = charClass(quote);
      attribEnd = charClass(attribEnd);
      function charClass(str) {
        return str.split("").reduce(function(s2, c) {
          s2[c] = true;
          return s2;
        }, {});
      }
      function isRegExp(c) {
        return Object.prototype.toString.call(c) === "[object RegExp]";
      }
      function is(charclass, c) {
        return isRegExp(charclass) ? !!c.match(charclass) : charclass[c];
      }
      function not(charclass, c) {
        return !is(charclass, c);
      }
      var S = 0;
      sax.STATE = {
        BEGIN: S++,
        BEGIN_WHITESPACE: S++,
        TEXT: S++,
        TEXT_ENTITY: S++,
        OPEN_WAKA: S++,
        SGML_DECL: S++,
        SGML_DECL_QUOTED: S++,
        DOCTYPE: S++,
        DOCTYPE_QUOTED: S++,
        DOCTYPE_DTD: S++,
        DOCTYPE_DTD_QUOTED: S++,
        COMMENT_STARTING: S++,
        COMMENT: S++,
        COMMENT_ENDING: S++,
        COMMENT_ENDED: S++,
        CDATA: S++,
        CDATA_ENDING: S++,
        CDATA_ENDING_2: S++,
        PROC_INST: S++,
        PROC_INST_BODY: S++,
        PROC_INST_ENDING: S++,
        OPEN_TAG: S++,
        OPEN_TAG_SLASH: S++,
        ATTRIB: S++,
        ATTRIB_NAME: S++,
        ATTRIB_NAME_SAW_WHITE: S++,
        ATTRIB_VALUE: S++,
        ATTRIB_VALUE_QUOTED: S++,
        ATTRIB_VALUE_CLOSED: S++,
        ATTRIB_VALUE_UNQUOTED: S++,
        ATTRIB_VALUE_ENTITY_Q: S++,
        ATTRIB_VALUE_ENTITY_U: S++,
        CLOSE_TAG: S++,
        CLOSE_TAG_SAW_WHITE: S++,
        SCRIPT: S++,
        SCRIPT_ENDING: S++
      };
      sax.XML_ENTITIES = {
        "amp": "&",
        "gt": ">",
        "lt": "<",
        "quot": '"',
        "apos": "'"
      };
      sax.ENTITIES = {
        "amp": "&",
        "gt": ">",
        "lt": "<",
        "quot": '"',
        "apos": "'",
        "AElig": 198,
        "Aacute": 193,
        "Acirc": 194,
        "Agrave": 192,
        "Aring": 197,
        "Atilde": 195,
        "Auml": 196,
        "Ccedil": 199,
        "ETH": 208,
        "Eacute": 201,
        "Ecirc": 202,
        "Egrave": 200,
        "Euml": 203,
        "Iacute": 205,
        "Icirc": 206,
        "Igrave": 204,
        "Iuml": 207,
        "Ntilde": 209,
        "Oacute": 211,
        "Ocirc": 212,
        "Ograve": 210,
        "Oslash": 216,
        "Otilde": 213,
        "Ouml": 214,
        "THORN": 222,
        "Uacute": 218,
        "Ucirc": 219,
        "Ugrave": 217,
        "Uuml": 220,
        "Yacute": 221,
        "aacute": 225,
        "acirc": 226,
        "aelig": 230,
        "agrave": 224,
        "aring": 229,
        "atilde": 227,
        "auml": 228,
        "ccedil": 231,
        "eacute": 233,
        "ecirc": 234,
        "egrave": 232,
        "eth": 240,
        "euml": 235,
        "iacute": 237,
        "icirc": 238,
        "igrave": 236,
        "iuml": 239,
        "ntilde": 241,
        "oacute": 243,
        "ocirc": 244,
        "ograve": 242,
        "oslash": 248,
        "otilde": 245,
        "ouml": 246,
        "szlig": 223,
        "thorn": 254,
        "uacute": 250,
        "ucirc": 251,
        "ugrave": 249,
        "uuml": 252,
        "yacute": 253,
        "yuml": 255,
        "copy": 169,
        "reg": 174,
        "nbsp": 160,
        "iexcl": 161,
        "cent": 162,
        "pound": 163,
        "curren": 164,
        "yen": 165,
        "brvbar": 166,
        "sect": 167,
        "uml": 168,
        "ordf": 170,
        "laquo": 171,
        "not": 172,
        "shy": 173,
        "macr": 175,
        "deg": 176,
        "plusmn": 177,
        "sup1": 185,
        "sup2": 178,
        "sup3": 179,
        "acute": 180,
        "micro": 181,
        "para": 182,
        "middot": 183,
        "cedil": 184,
        "ordm": 186,
        "raquo": 187,
        "frac14": 188,
        "frac12": 189,
        "frac34": 190,
        "iquest": 191,
        "times": 215,
        "divide": 247,
        "OElig": 338,
        "oelig": 339,
        "Scaron": 352,
        "scaron": 353,
        "Yuml": 376,
        "fnof": 402,
        "circ": 710,
        "tilde": 732,
        "Alpha": 913,
        "Beta": 914,
        "Gamma": 915,
        "Delta": 916,
        "Epsilon": 917,
        "Zeta": 918,
        "Eta": 919,
        "Theta": 920,
        "Iota": 921,
        "Kappa": 922,
        "Lambda": 923,
        "Mu": 924,
        "Nu": 925,
        "Xi": 926,
        "Omicron": 927,
        "Pi": 928,
        "Rho": 929,
        "Sigma": 931,
        "Tau": 932,
        "Upsilon": 933,
        "Phi": 934,
        "Chi": 935,
        "Psi": 936,
        "Omega": 937,
        "alpha": 945,
        "beta": 946,
        "gamma": 947,
        "delta": 948,
        "epsilon": 949,
        "zeta": 950,
        "eta": 951,
        "theta": 952,
        "iota": 953,
        "kappa": 954,
        "lambda": 955,
        "mu": 956,
        "nu": 957,
        "xi": 958,
        "omicron": 959,
        "pi": 960,
        "rho": 961,
        "sigmaf": 962,
        "sigma": 963,
        "tau": 964,
        "upsilon": 965,
        "phi": 966,
        "chi": 967,
        "psi": 968,
        "omega": 969,
        "thetasym": 977,
        "upsih": 978,
        "piv": 982,
        "ensp": 8194,
        "emsp": 8195,
        "thinsp": 8201,
        "zwnj": 8204,
        "zwj": 8205,
        "lrm": 8206,
        "rlm": 8207,
        "ndash": 8211,
        "mdash": 8212,
        "lsquo": 8216,
        "rsquo": 8217,
        "sbquo": 8218,
        "ldquo": 8220,
        "rdquo": 8221,
        "bdquo": 8222,
        "dagger": 8224,
        "Dagger": 8225,
        "bull": 8226,
        "hellip": 8230,
        "permil": 8240,
        "prime": 8242,
        "Prime": 8243,
        "lsaquo": 8249,
        "rsaquo": 8250,
        "oline": 8254,
        "frasl": 8260,
        "euro": 8364,
        "image": 8465,
        "weierp": 8472,
        "real": 8476,
        "trade": 8482,
        "alefsym": 8501,
        "larr": 8592,
        "uarr": 8593,
        "rarr": 8594,
        "darr": 8595,
        "harr": 8596,
        "crarr": 8629,
        "lArr": 8656,
        "uArr": 8657,
        "rArr": 8658,
        "dArr": 8659,
        "hArr": 8660,
        "forall": 8704,
        "part": 8706,
        "exist": 8707,
        "empty": 8709,
        "nabla": 8711,
        "isin": 8712,
        "notin": 8713,
        "ni": 8715,
        "prod": 8719,
        "sum": 8721,
        "minus": 8722,
        "lowast": 8727,
        "radic": 8730,
        "prop": 8733,
        "infin": 8734,
        "ang": 8736,
        "and": 8743,
        "or": 8744,
        "cap": 8745,
        "cup": 8746,
        "int": 8747,
        "there4": 8756,
        "sim": 8764,
        "cong": 8773,
        "asymp": 8776,
        "ne": 8800,
        "equiv": 8801,
        "le": 8804,
        "ge": 8805,
        "sub": 8834,
        "sup": 8835,
        "nsub": 8836,
        "sube": 8838,
        "supe": 8839,
        "oplus": 8853,
        "otimes": 8855,
        "perp": 8869,
        "sdot": 8901,
        "lceil": 8968,
        "rceil": 8969,
        "lfloor": 8970,
        "rfloor": 8971,
        "lang": 9001,
        "rang": 9002,
        "loz": 9674,
        "spades": 9824,
        "clubs": 9827,
        "hearts": 9829,
        "diams": 9830
      };
      Object.keys(sax.ENTITIES).forEach(function(key) {
        var e = sax.ENTITIES[key];
        var s2 = typeof e === "number" ? String.fromCharCode(e) : e;
        sax.ENTITIES[key] = s2;
      });
      for (var s in sax.STATE) {
        sax.STATE[sax.STATE[s]] = s;
      }
      S = sax.STATE;
      function emit(parser, event, data) {
        parser[event] && parser[event](data);
      }
      function emitNode(parser, nodeType, data) {
        if (parser.textNode)
          closeText(parser);
        emit(parser, nodeType, data);
      }
      function closeText(parser) {
        parser.textNode = textopts(parser.opt, parser.textNode);
        if (parser.textNode)
          emit(parser, "ontext", parser.textNode);
        parser.textNode = "";
      }
      function textopts(opt, text) {
        if (opt.trim)
          text = text.trim();
        if (opt.normalize)
          text = text.replace(/\s+/g, " ");
        return text;
      }
      function error(parser, er) {
        closeText(parser);
        if (parser.trackPosition) {
          er += "\nLine: " + parser.line + "\nColumn: " + parser.column + "\nChar: " + parser.c;
        }
        er = new Error(er);
        parser.error = er;
        emit(parser, "onerror", er);
        return parser;
      }
      function end(parser) {
        if (parser.sawRoot && !parser.closedRoot)
          strictFail(parser, "Unclosed root tag");
        if (parser.state !== S.BEGIN && parser.state !== S.BEGIN_WHITESPACE && parser.state !== S.TEXT) {
          error(parser, "Unexpected end");
        }
        closeText(parser);
        parser.c = "";
        parser.closed = true;
        emit(parser, "onend");
        SAXParser.call(parser, parser.strict, parser.opt);
        return parser;
      }
      function strictFail(parser, message) {
        if (typeof parser !== "object" || !(parser instanceof SAXParser)) {
          throw new Error("bad call to strictFail");
        }
        if (parser.strict) {
          error(parser, message);
        }
      }
      function newTag(parser) {
        if (!parser.strict)
          parser.tagName = parser.tagName[parser.looseCase]();
        var parent = parser.tags[parser.tags.length - 1] || parser;
        var tag = parser.tag = { name: parser.tagName, attributes: {} };
        if (parser.opt.xmlns) {
          tag.ns = parent.ns;
        }
        parser.attribList.length = 0;
        emitNode(parser, "onopentagstart", tag);
      }
      function qname(name, attribute) {
        var i = name.indexOf(":");
        var qualName = i < 0 ? ["", name] : name.split(":");
        var prefix = qualName[0];
        var local = qualName[1];
        if (attribute && name === "xmlns") {
          prefix = "xmlns";
          local = "";
        }
        return { prefix, local };
      }
      function attrib(parser) {
        if (!parser.strict) {
          parser.attribName = parser.attribName[parser.looseCase]();
        }
        if (parser.attribList.indexOf(parser.attribName) !== -1 || parser.tag.attributes.hasOwnProperty(parser.attribName)) {
          parser.attribName = parser.attribValue = "";
          return;
        }
        if (parser.opt.xmlns) {
          var qn = qname(parser.attribName, true);
          var prefix = qn.prefix;
          var local = qn.local;
          if (prefix === "xmlns") {
            if (local === "xml" && parser.attribValue !== XML_NAMESPACE) {
              strictFail(
                parser,
                "xml: prefix must be bound to " + XML_NAMESPACE + "\nActual: " + parser.attribValue
              );
            } else if (local === "xmlns" && parser.attribValue !== XMLNS_NAMESPACE) {
              strictFail(
                parser,
                "xmlns: prefix must be bound to " + XMLNS_NAMESPACE + "\nActual: " + parser.attribValue
              );
            } else {
              var tag = parser.tag;
              var parent = parser.tags[parser.tags.length - 1] || parser;
              if (tag.ns === parent.ns) {
                tag.ns = Object.create(parent.ns);
              }
              tag.ns[local] = parser.attribValue;
            }
          }
          parser.attribList.push([parser.attribName, parser.attribValue]);
        } else {
          parser.tag.attributes[parser.attribName] = parser.attribValue;
          emitNode(parser, "onattribute", {
            name: parser.attribName,
            value: parser.attribValue
          });
        }
        parser.attribName = parser.attribValue = "";
      }
      function openTag(parser, selfClosing) {
        if (parser.opt.xmlns) {
          var tag = parser.tag;
          var qn = qname(parser.tagName);
          tag.prefix = qn.prefix;
          tag.local = qn.local;
          tag.uri = tag.ns[qn.prefix] || "";
          if (tag.prefix && !tag.uri) {
            strictFail(parser, "Unbound namespace prefix: " + JSON.stringify(parser.tagName));
            tag.uri = qn.prefix;
          }
          var parent = parser.tags[parser.tags.length - 1] || parser;
          if (tag.ns && parent.ns !== tag.ns) {
            Object.keys(tag.ns).forEach(function(p) {
              emitNode(parser, "onopennamespace", {
                prefix: p,
                uri: tag.ns[p]
              });
            });
          }
          for (var i = 0, l = parser.attribList.length; i < l; i++) {
            var nv = parser.attribList[i];
            var name = nv[0];
            var value = nv[1];
            var qualName = qname(name, true);
            var prefix = qualName.prefix;
            var local = qualName.local;
            var uri = prefix === "" ? "" : tag.ns[prefix] || "";
            var a = {
              name,
              value,
              prefix,
              local,
              uri
            };
            if (prefix && prefix !== "xmlns" && !uri) {
              strictFail(parser, "Unbound namespace prefix: " + JSON.stringify(prefix));
              a.uri = prefix;
            }
            parser.tag.attributes[name] = a;
            emitNode(parser, "onattribute", a);
          }
          parser.attribList.length = 0;
        }
        parser.tag.isSelfClosing = !!selfClosing;
        parser.sawRoot = true;
        parser.tags.push(parser.tag);
        emitNode(parser, "onopentag", parser.tag);
        if (!selfClosing) {
          if (!parser.noscript && parser.tagName.toLowerCase() === "script") {
            parser.state = S.SCRIPT;
          } else {
            parser.state = S.TEXT;
          }
          parser.tag = null;
          parser.tagName = "";
        }
        parser.attribName = parser.attribValue = "";
        parser.attribList.length = 0;
      }
      function closeTag(parser) {
        if (!parser.tagName) {
          strictFail(parser, "Weird empty close tag.");
          parser.textNode += "</>";
          parser.state = S.TEXT;
          return;
        }
        if (parser.script) {
          if (parser.tagName !== "script") {
            parser.script += "</" + parser.tagName + ">";
            parser.tagName = "";
            parser.state = S.SCRIPT;
            return;
          }
          emitNode(parser, "onscript", parser.script);
          parser.script = "";
        }
        var t = parser.tags.length;
        var tagName = parser.tagName;
        if (!parser.strict) {
          tagName = tagName[parser.looseCase]();
        }
        var closeTo = tagName;
        while (t--) {
          var close = parser.tags[t];
          if (close.name !== closeTo) {
            strictFail(parser, "Unexpected close tag");
          } else {
            break;
          }
        }
        if (t < 0) {
          strictFail(parser, "Unmatched closing tag: " + parser.tagName);
          parser.textNode += "</" + parser.tagName + ">";
          parser.state = S.TEXT;
          return;
        }
        parser.tagName = tagName;
        var s2 = parser.tags.length;
        while (s2-- > t) {
          var tag = parser.tag = parser.tags.pop();
          parser.tagName = parser.tag.name;
          emitNode(parser, "onclosetag", parser.tagName);
          var x = {};
          for (var i in tag.ns) {
            x[i] = tag.ns[i];
          }
          var parent = parser.tags[parser.tags.length - 1] || parser;
          if (parser.opt.xmlns && tag.ns !== parent.ns) {
            Object.keys(tag.ns).forEach(function(p) {
              var n = tag.ns[p];
              emitNode(parser, "onclosenamespace", { prefix: p, uri: n });
            });
          }
        }
        if (t === 0)
          parser.closedRoot = true;
        parser.tagName = parser.attribValue = parser.attribName = "";
        parser.attribList.length = 0;
        parser.state = S.TEXT;
      }
      function parseEntity(parser) {
        var entity = parser.entity;
        var entityLC = entity.toLowerCase();
        var num;
        var numStr = "";
        if (parser.ENTITIES[entity]) {
          return parser.ENTITIES[entity];
        }
        if (parser.ENTITIES[entityLC]) {
          return parser.ENTITIES[entityLC];
        }
        entity = entityLC;
        if (entity.charAt(0) === "#") {
          if (entity.charAt(1) === "x") {
            entity = entity.slice(2);
            num = parseInt(entity, 16);
            numStr = num.toString(16);
          } else {
            entity = entity.slice(1);
            num = parseInt(entity, 10);
            numStr = num.toString(10);
          }
        }
        entity = entity.replace(/^0+/, "");
        if (numStr.toLowerCase() !== entity) {
          strictFail(parser, "Invalid character entity");
          return "&" + parser.entity + ";";
        }
        return String.fromCodePoint(num);
      }
      function beginWhiteSpace(parser, c) {
        if (c === "<") {
          parser.state = S.OPEN_WAKA;
          parser.startTagPosition = parser.position;
        } else if (not(whitespace, c)) {
          strictFail(parser, "Non-whitespace before first tag.");
          parser.textNode = c;
          parser.state = S.TEXT;
        }
      }
      function charAt(chunk, i) {
        var result = "";
        if (i < chunk.length) {
          result = chunk.charAt(i);
        }
        return result;
      }
      function write(chunk) {
        var parser = this;
        if (this.error) {
          throw this.error;
        }
        if (parser.closed) {
          return error(
            parser,
            "Cannot write after close. Assign an onready handler."
          );
        }
        if (chunk === null) {
          return end(parser);
        }
        if (typeof chunk === "object") {
          chunk = chunk.toString();
        }
        var i = 0;
        var c = "";
        while (true) {
          c = charAt(chunk, i++);
          parser.c = c;
          if (!c) {
            break;
          }
          if (parser.trackPosition) {
            parser.position++;
            if (c === "\n") {
              parser.line++;
              parser.column = 0;
            } else {
              parser.column++;
            }
          }
          switch (parser.state) {
            case S.BEGIN:
              parser.state = S.BEGIN_WHITESPACE;
              if (c === "\uFEFF") {
                continue;
              }
              beginWhiteSpace(parser, c);
              continue;
            case S.BEGIN_WHITESPACE:
              beginWhiteSpace(parser, c);
              continue;
            case S.TEXT:
              if (parser.sawRoot && !parser.closedRoot) {
                var starti = i - 1;
                while (c && c !== "<" && c !== "&") {
                  c = charAt(chunk, i++);
                  if (c && parser.trackPosition) {
                    parser.position++;
                    if (c === "\n") {
                      parser.line++;
                      parser.column = 0;
                    } else {
                      parser.column++;
                    }
                  }
                }
                parser.textNode += chunk.substring(starti, i - 1);
              }
              if (c === "<" && !(parser.sawRoot && parser.closedRoot && !parser.strict)) {
                parser.state = S.OPEN_WAKA;
                parser.startTagPosition = parser.position;
              } else {
                if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot)) {
                  strictFail(parser, "Text data outside of root node.");
                }
                if (c === "&") {
                  parser.state = S.TEXT_ENTITY;
                } else {
                  parser.textNode += c;
                }
              }
              continue;
            case S.SCRIPT:
              if (c === "<") {
                parser.state = S.SCRIPT_ENDING;
              } else {
                parser.script += c;
              }
              continue;
            case S.SCRIPT_ENDING:
              if (c === "/") {
                parser.state = S.CLOSE_TAG;
              } else {
                parser.script += "<" + c;
                parser.state = S.SCRIPT;
              }
              continue;
            case S.OPEN_WAKA:
              if (c === "!") {
                parser.state = S.SGML_DECL;
                parser.sgmlDecl = "";
              } else if (is(whitespace, c)) {
              } else if (is(nameStart, c)) {
                parser.state = S.OPEN_TAG;
                parser.tagName = c;
              } else if (c === "/") {
                parser.state = S.CLOSE_TAG;
                parser.tagName = "";
              } else if (c === "?") {
                parser.state = S.PROC_INST;
                parser.procInstName = parser.procInstBody = "";
              } else {
                strictFail(parser, "Unencoded <");
                if (parser.startTagPosition + 1 < parser.position) {
                  var pad = parser.position - parser.startTagPosition;
                  c = new Array(pad).join(" ") + c;
                }
                parser.textNode += "<" + c;
                parser.state = S.TEXT;
              }
              continue;
            case S.SGML_DECL:
              if ((parser.sgmlDecl + c).toUpperCase() === CDATA) {
                emitNode(parser, "onopencdata");
                parser.state = S.CDATA;
                parser.sgmlDecl = "";
                parser.cdata = "";
              } else if (parser.sgmlDecl + c === "--") {
                parser.state = S.COMMENT;
                parser.comment = "";
                parser.sgmlDecl = "";
              } else if ((parser.sgmlDecl + c).toUpperCase() === DOCTYPE) {
                parser.state = S.DOCTYPE;
                if (parser.doctype || parser.sawRoot) {
                  strictFail(
                    parser,
                    "Inappropriately located doctype declaration"
                  );
                }
                parser.doctype = "";
                parser.sgmlDecl = "";
              } else if (c === ">") {
                emitNode(parser, "onsgmldeclaration", parser.sgmlDecl);
                parser.sgmlDecl = "";
                parser.state = S.TEXT;
              } else if (is(quote, c)) {
                parser.state = S.SGML_DECL_QUOTED;
                parser.sgmlDecl += c;
              } else {
                parser.sgmlDecl += c;
              }
              continue;
            case S.SGML_DECL_QUOTED:
              if (c === parser.q) {
                parser.state = S.SGML_DECL;
                parser.q = "";
              }
              parser.sgmlDecl += c;
              continue;
            case S.DOCTYPE:
              if (c === ">") {
                parser.state = S.TEXT;
                emitNode(parser, "ondoctype", parser.doctype);
                parser.doctype = true;
              } else {
                parser.doctype += c;
                if (c === "[") {
                  parser.state = S.DOCTYPE_DTD;
                } else if (is(quote, c)) {
                  parser.state = S.DOCTYPE_QUOTED;
                  parser.q = c;
                }
              }
              continue;
            case S.DOCTYPE_QUOTED:
              parser.doctype += c;
              if (c === parser.q) {
                parser.q = "";
                parser.state = S.DOCTYPE;
              }
              continue;
            case S.DOCTYPE_DTD:
              parser.doctype += c;
              if (c === "]") {
                parser.state = S.DOCTYPE;
              } else if (is(quote, c)) {
                parser.state = S.DOCTYPE_DTD_QUOTED;
                parser.q = c;
              }
              continue;
            case S.DOCTYPE_DTD_QUOTED:
              parser.doctype += c;
              if (c === parser.q) {
                parser.state = S.DOCTYPE_DTD;
                parser.q = "";
              }
              continue;
            case S.COMMENT:
              if (c === "-") {
                parser.state = S.COMMENT_ENDING;
              } else {
                parser.comment += c;
              }
              continue;
            case S.COMMENT_ENDING:
              if (c === "-") {
                parser.state = S.COMMENT_ENDED;
                parser.comment = textopts(parser.opt, parser.comment);
                if (parser.comment) {
                  emitNode(parser, "oncomment", parser.comment);
                }
                parser.comment = "";
              } else {
                parser.comment += "-" + c;
                parser.state = S.COMMENT;
              }
              continue;
            case S.COMMENT_ENDED:
              if (c !== ">") {
                strictFail(parser, "Malformed comment");
                parser.comment += "--" + c;
                parser.state = S.COMMENT;
              } else {
                parser.state = S.TEXT;
              }
              continue;
            case S.CDATA:
              if (c === "]") {
                parser.state = S.CDATA_ENDING;
              } else {
                parser.cdata += c;
              }
              continue;
            case S.CDATA_ENDING:
              if (c === "]") {
                parser.state = S.CDATA_ENDING_2;
              } else {
                parser.cdata += "]" + c;
                parser.state = S.CDATA;
              }
              continue;
            case S.CDATA_ENDING_2:
              if (c === ">") {
                if (parser.cdata) {
                  emitNode(parser, "oncdata", parser.cdata);
                }
                emitNode(parser, "onclosecdata");
                parser.cdata = "";
                parser.state = S.TEXT;
              } else if (c === "]") {
                parser.cdata += "]";
              } else {
                parser.cdata += "]]" + c;
                parser.state = S.CDATA;
              }
              continue;
            case S.PROC_INST:
              if (c === "?") {
                parser.state = S.PROC_INST_ENDING;
              } else if (is(whitespace, c)) {
                parser.state = S.PROC_INST_BODY;
              } else {
                parser.procInstName += c;
              }
              continue;
            case S.PROC_INST_BODY:
              if (!parser.procInstBody && is(whitespace, c)) {
                continue;
              } else if (c === "?") {
                parser.state = S.PROC_INST_ENDING;
              } else {
                parser.procInstBody += c;
              }
              continue;
            case S.PROC_INST_ENDING:
              if (c === ">") {
                emitNode(parser, "onprocessinginstruction", {
                  name: parser.procInstName,
                  body: parser.procInstBody
                });
                parser.procInstName = parser.procInstBody = "";
                parser.state = S.TEXT;
              } else {
                parser.procInstBody += "?" + c;
                parser.state = S.PROC_INST_BODY;
              }
              continue;
            case S.OPEN_TAG:
              if (is(nameBody, c)) {
                parser.tagName += c;
              } else {
                newTag(parser);
                if (c === ">") {
                  openTag(parser);
                } else if (c === "/") {
                  parser.state = S.OPEN_TAG_SLASH;
                } else {
                  if (not(whitespace, c)) {
                    strictFail(parser, "Invalid character in tag name");
                  }
                  parser.state = S.ATTRIB;
                }
              }
              continue;
            case S.OPEN_TAG_SLASH:
              if (c === ">") {
                openTag(parser, true);
                closeTag(parser);
              } else {
                strictFail(parser, "Forward-slash in opening tag not followed by >");
                parser.state = S.ATTRIB;
              }
              continue;
            case S.ATTRIB:
              if (is(whitespace, c)) {
                continue;
              } else if (c === ">") {
                openTag(parser);
              } else if (c === "/") {
                parser.state = S.OPEN_TAG_SLASH;
              } else if (is(nameStart, c)) {
                parser.attribName = c;
                parser.attribValue = "";
                parser.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_NAME:
              if (c === "=") {
                parser.state = S.ATTRIB_VALUE;
              } else if (c === ">") {
                strictFail(parser, "Attribute without value");
                parser.attribValue = parser.attribName;
                attrib(parser);
                openTag(parser);
              } else if (is(whitespace, c)) {
                parser.state = S.ATTRIB_NAME_SAW_WHITE;
              } else if (is(nameBody, c)) {
                parser.attribName += c;
              } else {
                strictFail(parser, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_NAME_SAW_WHITE:
              if (c === "=") {
                parser.state = S.ATTRIB_VALUE;
              } else if (is(whitespace, c)) {
                continue;
              } else {
                strictFail(parser, "Attribute without value");
                parser.tag.attributes[parser.attribName] = "";
                parser.attribValue = "";
                emitNode(parser, "onattribute", {
                  name: parser.attribName,
                  value: ""
                });
                parser.attribName = "";
                if (c === ">") {
                  openTag(parser);
                } else if (is(nameStart, c)) {
                  parser.attribName = c;
                  parser.state = S.ATTRIB_NAME;
                } else {
                  strictFail(parser, "Invalid attribute name");
                  parser.state = S.ATTRIB;
                }
              }
              continue;
            case S.ATTRIB_VALUE:
              if (is(whitespace, c)) {
                continue;
              } else if (is(quote, c)) {
                parser.q = c;
                parser.state = S.ATTRIB_VALUE_QUOTED;
              } else {
                strictFail(parser, "Unquoted attribute value");
                parser.state = S.ATTRIB_VALUE_UNQUOTED;
                parser.attribValue = c;
              }
              continue;
            case S.ATTRIB_VALUE_QUOTED:
              if (c !== parser.q) {
                if (c === "&") {
                  parser.state = S.ATTRIB_VALUE_ENTITY_Q;
                } else {
                  parser.attribValue += c;
                }
                continue;
              }
              attrib(parser);
              parser.q = "";
              parser.state = S.ATTRIB_VALUE_CLOSED;
              continue;
            case S.ATTRIB_VALUE_CLOSED:
              if (is(whitespace, c)) {
                parser.state = S.ATTRIB;
              } else if (c === ">") {
                openTag(parser);
              } else if (c === "/") {
                parser.state = S.OPEN_TAG_SLASH;
              } else if (is(nameStart, c)) {
                strictFail(parser, "No whitespace between attributes");
                parser.attribName = c;
                parser.attribValue = "";
                parser.state = S.ATTRIB_NAME;
              } else {
                strictFail(parser, "Invalid attribute name");
              }
              continue;
            case S.ATTRIB_VALUE_UNQUOTED:
              if (not(attribEnd, c)) {
                if (c === "&") {
                  parser.state = S.ATTRIB_VALUE_ENTITY_U;
                } else {
                  parser.attribValue += c;
                }
                continue;
              }
              attrib(parser);
              if (c === ">") {
                openTag(parser);
              } else {
                parser.state = S.ATTRIB;
              }
              continue;
            case S.CLOSE_TAG:
              if (!parser.tagName) {
                if (is(whitespace, c)) {
                  continue;
                } else if (not(nameStart, c)) {
                  if (parser.script) {
                    parser.script += "</" + c;
                    parser.state = S.SCRIPT;
                  } else {
                    strictFail(parser, "Invalid tagname in closing tag.");
                  }
                } else {
                  parser.tagName = c;
                }
              } else if (c === ">") {
                closeTag(parser);
              } else if (is(nameBody, c)) {
                parser.tagName += c;
              } else if (parser.script) {
                parser.script += "</" + parser.tagName;
                parser.tagName = "";
                parser.state = S.SCRIPT;
              } else {
                if (not(whitespace, c)) {
                  strictFail(parser, "Invalid tagname in closing tag");
                }
                parser.state = S.CLOSE_TAG_SAW_WHITE;
              }
              continue;
            case S.CLOSE_TAG_SAW_WHITE:
              if (is(whitespace, c)) {
                continue;
              }
              if (c === ">") {
                closeTag(parser);
              } else {
                strictFail(parser, "Invalid characters in closing tag");
              }
              continue;
            case S.TEXT_ENTITY:
            case S.ATTRIB_VALUE_ENTITY_Q:
            case S.ATTRIB_VALUE_ENTITY_U:
              var returnState;
              var buffer;
              switch (parser.state) {
                case S.TEXT_ENTITY:
                  returnState = S.TEXT;
                  buffer = "textNode";
                  break;
                case S.ATTRIB_VALUE_ENTITY_Q:
                  returnState = S.ATTRIB_VALUE_QUOTED;
                  buffer = "attribValue";
                  break;
                case S.ATTRIB_VALUE_ENTITY_U:
                  returnState = S.ATTRIB_VALUE_UNQUOTED;
                  buffer = "attribValue";
                  break;
              }
              if (c === ";") {
                parser[buffer] += parseEntity(parser);
                parser.entity = "";
                parser.state = returnState;
              } else if (is(parser.entity.length ? entityBody : entityStart, c)) {
                parser.entity += c;
              } else {
                strictFail(parser, "Invalid character in entity name");
                parser[buffer] += "&" + parser.entity + c;
                parser.entity = "";
                parser.state = returnState;
              }
              continue;
            default:
              throw new Error(parser, "Unknown state: " + parser.state);
          }
        }
        if (parser.position >= parser.bufferCheckPosition) {
          checkBufferLength(parser);
        }
        return parser;
      }
      if (!String.fromCodePoint) {
        (function() {
          var stringFromCharCode = String.fromCharCode;
          var floor = Math.floor;
          var fromCodePoint = function() {
            var MAX_SIZE = 16384;
            var codeUnits = [];
            var highSurrogate;
            var lowSurrogate;
            var index = -1;
            var length = arguments.length;
            if (!length) {
              return "";
            }
            var result = "";
            while (++index < length) {
              var codePoint = Number(arguments[index]);
              if (!isFinite(codePoint) || codePoint < 0 || codePoint > 1114111 || floor(codePoint) !== codePoint) {
                throw RangeError("Invalid code point: " + codePoint);
              }
              if (codePoint <= 65535) {
                codeUnits.push(codePoint);
              } else {
                codePoint -= 65536;
                highSurrogate = (codePoint >> 10) + 55296;
                lowSurrogate = codePoint % 1024 + 56320;
                codeUnits.push(highSurrogate, lowSurrogate);
              }
              if (index + 1 === length || codeUnits.length > MAX_SIZE) {
                result += stringFromCharCode.apply(null, codeUnits);
                codeUnits.length = 0;
              }
            }
            return result;
          };
          if (Object.defineProperty) {
            Object.defineProperty(String, "fromCodePoint", {
              value: fromCodePoint,
              configurable: true,
              writable: true
            });
          } else {
            String.fromCodePoint = fromCodePoint;
          }
        })();
      }
    })(typeof exports2 === "undefined" ? exports2.sax = {} : exports2);
  }
});

// node_modules/xml2js/lib/bom.js
var require_bom = __commonJS({
  "node_modules/xml2js/lib/bom.js"(exports2) {
    (function() {
      "use strict";
      exports2.stripBOM = function(str) {
        if (str[0] === "\uFEFF") {
          return str.substring(1);
        } else {
          return str;
        }
      };
    }).call(exports2);
  }
});

// node_modules/xml2js/lib/processors.js
var require_processors = __commonJS({
  "node_modules/xml2js/lib/processors.js"(exports2) {
    (function() {
      "use strict";
      var prefixMatch;
      prefixMatch = new RegExp(/(?!xmlns)^.*:/);
      exports2.normalize = function(str) {
        return str.toLowerCase();
      };
      exports2.firstCharLowerCase = function(str) {
        return str.charAt(0).toLowerCase() + str.slice(1);
      };
      exports2.stripPrefix = function(str) {
        return str.replace(prefixMatch, "");
      };
      exports2.parseNumbers = function(str) {
        if (!isNaN(str)) {
          str = str % 1 === 0 ? parseInt(str, 10) : parseFloat(str);
        }
        return str;
      };
      exports2.parseBooleans = function(str) {
        if (/^(?:true|false)$/i.test(str)) {
          str = str.toLowerCase() === "true";
        }
        return str;
      };
    }).call(exports2);
  }
});

// node_modules/xml2js/lib/parser.js
var require_parser2 = __commonJS({
  "node_modules/xml2js/lib/parser.js"(exports2) {
    (function() {
      "use strict";
      var bom, defaults, events, isEmpty, processItem, processors, sax, setImmediate2, bind = function(fn, me) {
        return function() {
          return fn.apply(me, arguments);
        };
      }, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      sax = require_sax();
      events = require("events");
      bom = require_bom();
      processors = require_processors();
      setImmediate2 = require("timers").setImmediate;
      defaults = require_defaults().defaults;
      isEmpty = function(thing) {
        return typeof thing === "object" && thing != null && Object.keys(thing).length === 0;
      };
      processItem = function(processors2, item, key) {
        var i, len, process2;
        for (i = 0, len = processors2.length; i < len; i++) {
          process2 = processors2[i];
          item = process2(item, key);
        }
        return item;
      };
      exports2.Parser = function(superClass) {
        extend(Parser, superClass);
        function Parser(opts) {
          this.parseString = bind(this.parseString, this);
          this.reset = bind(this.reset, this);
          this.assignOrPush = bind(this.assignOrPush, this);
          this.processAsync = bind(this.processAsync, this);
          var key, ref, value;
          if (!(this instanceof exports2.Parser)) {
            return new exports2.Parser(opts);
          }
          this.options = {};
          ref = defaults["0.2"];
          for (key in ref) {
            if (!hasProp.call(ref, key))
              continue;
            value = ref[key];
            this.options[key] = value;
          }
          for (key in opts) {
            if (!hasProp.call(opts, key))
              continue;
            value = opts[key];
            this.options[key] = value;
          }
          if (this.options.xmlns) {
            this.options.xmlnskey = this.options.attrkey + "ns";
          }
          if (this.options.normalizeTags) {
            if (!this.options.tagNameProcessors) {
              this.options.tagNameProcessors = [];
            }
            this.options.tagNameProcessors.unshift(processors.normalize);
          }
          this.reset();
        }
        Parser.prototype.processAsync = function() {
          var chunk, err;
          try {
            if (this.remaining.length <= this.options.chunkSize) {
              chunk = this.remaining;
              this.remaining = "";
              this.saxParser = this.saxParser.write(chunk);
              return this.saxParser.close();
            } else {
              chunk = this.remaining.substr(0, this.options.chunkSize);
              this.remaining = this.remaining.substr(this.options.chunkSize, this.remaining.length);
              this.saxParser = this.saxParser.write(chunk);
              return setImmediate2(this.processAsync);
            }
          } catch (error1) {
            err = error1;
            if (!this.saxParser.errThrown) {
              this.saxParser.errThrown = true;
              return this.emit(err);
            }
          }
        };
        Parser.prototype.assignOrPush = function(obj, key, newValue) {
          if (!(key in obj)) {
            if (!this.options.explicitArray) {
              return obj[key] = newValue;
            } else {
              return obj[key] = [newValue];
            }
          } else {
            if (!(obj[key] instanceof Array)) {
              obj[key] = [obj[key]];
            }
            return obj[key].push(newValue);
          }
        };
        Parser.prototype.reset = function() {
          var attrkey, charkey, ontext, stack;
          this.removeAllListeners();
          this.saxParser = sax.parser(this.options.strict, {
            trim: false,
            normalize: false,
            xmlns: this.options.xmlns
          });
          this.saxParser.errThrown = false;
          this.saxParser.onerror = function(_this) {
            return function(error) {
              _this.saxParser.resume();
              if (!_this.saxParser.errThrown) {
                _this.saxParser.errThrown = true;
                return _this.emit("error", error);
              }
            };
          }(this);
          this.saxParser.onend = function(_this) {
            return function() {
              if (!_this.saxParser.ended) {
                _this.saxParser.ended = true;
                return _this.emit("end", _this.resultObject);
              }
            };
          }(this);
          this.saxParser.ended = false;
          this.EXPLICIT_CHARKEY = this.options.explicitCharkey;
          this.resultObject = null;
          stack = [];
          attrkey = this.options.attrkey;
          charkey = this.options.charkey;
          this.saxParser.onopentag = function(_this) {
            return function(node) {
              var key, newValue, obj, processedKey, ref;
              obj = {};
              obj[charkey] = "";
              if (!_this.options.ignoreAttrs) {
                ref = node.attributes;
                for (key in ref) {
                  if (!hasProp.call(ref, key))
                    continue;
                  if (!(attrkey in obj) && !_this.options.mergeAttrs) {
                    obj[attrkey] = {};
                  }
                  newValue = _this.options.attrValueProcessors ? processItem(_this.options.attrValueProcessors, node.attributes[key], key) : node.attributes[key];
                  processedKey = _this.options.attrNameProcessors ? processItem(_this.options.attrNameProcessors, key) : key;
                  if (_this.options.mergeAttrs) {
                    _this.assignOrPush(obj, processedKey, newValue);
                  } else {
                    obj[attrkey][processedKey] = newValue;
                  }
                }
              }
              obj["#name"] = _this.options.tagNameProcessors ? processItem(_this.options.tagNameProcessors, node.name) : node.name;
              if (_this.options.xmlns) {
                obj[_this.options.xmlnskey] = {
                  uri: node.uri,
                  local: node.local
                };
              }
              return stack.push(obj);
            };
          }(this);
          this.saxParser.onclosetag = function(_this) {
            return function() {
              var cdata, emptyStr, key, node, nodeName, obj, objClone, old, s, xpath;
              obj = stack.pop();
              nodeName = obj["#name"];
              if (!_this.options.explicitChildren || !_this.options.preserveChildrenOrder) {
                delete obj["#name"];
              }
              if (obj.cdata === true) {
                cdata = obj.cdata;
                delete obj.cdata;
              }
              s = stack[stack.length - 1];
              if (obj[charkey].match(/^\s*$/) && !cdata) {
                emptyStr = obj[charkey];
                delete obj[charkey];
              } else {
                if (_this.options.trim) {
                  obj[charkey] = obj[charkey].trim();
                }
                if (_this.options.normalize) {
                  obj[charkey] = obj[charkey].replace(/\s{2,}/g, " ").trim();
                }
                obj[charkey] = _this.options.valueProcessors ? processItem(_this.options.valueProcessors, obj[charkey], nodeName) : obj[charkey];
                if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {
                  obj = obj[charkey];
                }
              }
              if (isEmpty(obj)) {
                obj = _this.options.emptyTag !== "" ? _this.options.emptyTag : emptyStr;
              }
              if (_this.options.validator != null) {
                xpath = "/" + function() {
                  var i, len, results;
                  results = [];
                  for (i = 0, len = stack.length; i < len; i++) {
                    node = stack[i];
                    results.push(node["#name"]);
                  }
                  return results;
                }().concat(nodeName).join("/");
                (function() {
                  var err;
                  try {
                    return obj = _this.options.validator(xpath, s && s[nodeName], obj);
                  } catch (error1) {
                    err = error1;
                    return _this.emit("error", err);
                  }
                })();
              }
              if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === "object") {
                if (!_this.options.preserveChildrenOrder) {
                  node = {};
                  if (_this.options.attrkey in obj) {
                    node[_this.options.attrkey] = obj[_this.options.attrkey];
                    delete obj[_this.options.attrkey];
                  }
                  if (!_this.options.charsAsChildren && _this.options.charkey in obj) {
                    node[_this.options.charkey] = obj[_this.options.charkey];
                    delete obj[_this.options.charkey];
                  }
                  if (Object.getOwnPropertyNames(obj).length > 0) {
                    node[_this.options.childkey] = obj;
                  }
                  obj = node;
                } else if (s) {
                  s[_this.options.childkey] = s[_this.options.childkey] || [];
                  objClone = {};
                  for (key in obj) {
                    if (!hasProp.call(obj, key))
                      continue;
                    objClone[key] = obj[key];
                  }
                  s[_this.options.childkey].push(objClone);
                  delete obj["#name"];
                  if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {
                    obj = obj[charkey];
                  }
                }
              }
              if (stack.length > 0) {
                return _this.assignOrPush(s, nodeName, obj);
              } else {
                if (_this.options.explicitRoot) {
                  old = obj;
                  obj = {};
                  obj[nodeName] = old;
                }
                _this.resultObject = obj;
                _this.saxParser.ended = true;
                return _this.emit("end", _this.resultObject);
              }
            };
          }(this);
          ontext = function(_this) {
            return function(text) {
              var charChild, s;
              s = stack[stack.length - 1];
              if (s) {
                s[charkey] += text;
                if (_this.options.explicitChildren && _this.options.preserveChildrenOrder && _this.options.charsAsChildren && (_this.options.includeWhiteChars || text.replace(/\\n/g, "").trim() !== "")) {
                  s[_this.options.childkey] = s[_this.options.childkey] || [];
                  charChild = {
                    "#name": "__text__"
                  };
                  charChild[charkey] = text;
                  if (_this.options.normalize) {
                    charChild[charkey] = charChild[charkey].replace(/\s{2,}/g, " ").trim();
                  }
                  s[_this.options.childkey].push(charChild);
                }
                return s;
              }
            };
          }(this);
          this.saxParser.ontext = ontext;
          return this.saxParser.oncdata = function(_this) {
            return function(text) {
              var s;
              s = ontext(text);
              if (s) {
                return s.cdata = true;
              }
            };
          }(this);
        };
        Parser.prototype.parseString = function(str, cb) {
          var err;
          if (cb != null && typeof cb === "function") {
            this.on("end", function(result) {
              this.reset();
              return cb(null, result);
            });
            this.on("error", function(err2) {
              this.reset();
              return cb(err2);
            });
          }
          try {
            str = str.toString();
            if (str.trim() === "") {
              this.emit("end", null);
              return true;
            }
            str = bom.stripBOM(str);
            if (this.options.async) {
              this.remaining = str;
              setImmediate2(this.processAsync);
              return this.saxParser;
            }
            return this.saxParser.write(str).close();
          } catch (error1) {
            err = error1;
            if (!(this.saxParser.errThrown || this.saxParser.ended)) {
              this.emit("error", err);
              return this.saxParser.errThrown = true;
            } else if (this.saxParser.ended) {
              throw err;
            }
          }
        };
        return Parser;
      }(events.EventEmitter);
      exports2.parseString = function(str, a, b) {
        var cb, options, parser;
        if (b != null) {
          if (typeof b === "function") {
            cb = b;
          }
          if (typeof a === "object") {
            options = a;
          }
        } else {
          if (typeof a === "function") {
            cb = a;
          }
          options = {};
        }
        parser = new exports2.Parser(options);
        return parser.parseString(str, cb);
      };
    }).call(exports2);
  }
});

// node_modules/xml2js/lib/xml2js.js
var require_xml2js = __commonJS({
  "node_modules/xml2js/lib/xml2js.js"(exports2) {
    (function() {
      "use strict";
      var builder, defaults, parser, processors, extend = function(child, parent) {
        for (var key in parent) {
          if (hasProp.call(parent, key))
            child[key] = parent[key];
        }
        function ctor() {
          this.constructor = child;
        }
        ctor.prototype = parent.prototype;
        child.prototype = new ctor();
        child.__super__ = parent.prototype;
        return child;
      }, hasProp = {}.hasOwnProperty;
      defaults = require_defaults();
      builder = require_builder3();
      parser = require_parser2();
      processors = require_processors();
      exports2.defaults = defaults.defaults;
      exports2.processors = processors;
      exports2.ValidationError = function(superClass) {
        extend(ValidationError, superClass);
        function ValidationError(message) {
          this.message = message;
        }
        return ValidationError;
      }(Error);
      exports2.Builder = builder.Builder;
      exports2.Parser = parser.Parser;
      exports2.parseString = parser.parseString;
    }).call(exports2);
  }
});

// node_modules/aws-sdk/lib/xml/node_parser.js
var require_node_parser = __commonJS({
  "node_modules/aws-sdk/lib/xml/node_parser.js"(exports2, module2) {
    var AWS2 = require_core();
    var util = AWS2.util;
    var Shape = AWS2.Model.Shape;
    var xml2js = require_xml2js();
    var options = {
      explicitCharkey: false,
      trim: false,
      normalize: false,
      explicitRoot: false,
      emptyTag: null,
      explicitArray: true,
      ignoreAttrs: false,
      mergeAttrs: false,
      validator: null
    };
    function NodeXmlParser() {
    }
    NodeXmlParser.prototype.parse = function(xml, shape) {
      shape = shape || {};
      var result = null;
      var error = null;
      var parser = new xml2js.Parser(options);
      parser.parseString(xml, function(e, r) {
        error = e;
        result = r;
      });
      if (result) {
        var data = parseXml(result, shape);
        if (result.ResponseMetadata) {
          data.ResponseMetadata = parseXml(result.ResponseMetadata[0], {});
        }
        return data;
      } else if (error) {
        throw util.error(error, { code: "XMLParserError", retryable: true });
      } else {
        return parseXml({}, shape);
      }
    };
    function parseXml(xml, shape) {
      switch (shape.type) {
        case "structure":
          return parseStructure(xml, shape);
        case "map":
          return parseMap(xml, shape);
        case "list":
          return parseList(xml, shape);
        case void 0:
        case null:
          return parseUnknown(xml);
        default:
          return parseScalar(xml, shape);
      }
    }
    function parseStructure(xml, shape) {
      var data = {};
      if (xml === null)
        return data;
      util.each(shape.members, function(memberName, memberShape) {
        var xmlName = memberShape.name;
        if (Object.prototype.hasOwnProperty.call(xml, xmlName) && Array.isArray(xml[xmlName])) {
          var xmlChild = xml[xmlName];
          if (!memberShape.flattened)
            xmlChild = xmlChild[0];
          data[memberName] = parseXml(xmlChild, memberShape);
        } else if (memberShape.isXmlAttribute && xml.$ && Object.prototype.hasOwnProperty.call(xml.$, xmlName)) {
          data[memberName] = parseScalar(xml.$[xmlName], memberShape);
        } else if (memberShape.type === "list" && !shape.api.xmlNoDefaultLists) {
          data[memberName] = memberShape.defaultValue;
        }
      });
      return data;
    }
    function parseMap(xml, shape) {
      var data = {};
      if (xml === null)
        return data;
      var xmlKey = shape.key.name || "key";
      var xmlValue = shape.value.name || "value";
      var iterable = shape.flattened ? xml : xml.entry;
      if (Array.isArray(iterable)) {
        util.arrayEach(iterable, function(child) {
          data[child[xmlKey][0]] = parseXml(child[xmlValue][0], shape.value);
        });
      }
      return data;
    }
    function parseList(xml, shape) {
      var data = [];
      var name = shape.member.name || "member";
      if (shape.flattened) {
        util.arrayEach(xml, function(xmlChild) {
          data.push(parseXml(xmlChild, shape.member));
        });
      } else if (xml && Array.isArray(xml[name])) {
        util.arrayEach(xml[name], function(child) {
          data.push(parseXml(child, shape.member));
        });
      }
      return data;
    }
    function parseScalar(text, shape) {
      if (text && text.$ && text.$.encoding === "base64") {
        shape = new Shape.create({ type: text.$.encoding });
      }
      if (text && text._)
        text = text._;
      if (typeof shape.toType === "function") {
        return shape.toType(text);
      } else {
        return text;
      }
    }
    function parseUnknown(xml) {
      if (xml === void 0 || xml === null)
        return "";
      if (typeof xml === "string")
        return xml;
      if (Array.isArray(xml)) {
        var arr = [];
        for (i = 0; i < xml.length; i++) {
          arr.push(parseXml(xml[i], {}));
        }
        return arr;
      }
      var keys = Object.keys(xml), i;
      if (keys.length === 0 || keys.length === 1 && keys[0] === "$") {
        return {};
      }
      var data = {};
      for (i = 0; i < keys.length; i++) {
        var key = keys[i], value = xml[key];
        if (key === "$")
          continue;
        if (value.length > 1) {
          data[key] = parseList(value, { member: {} });
        } else {
          data[key] = parseXml(value[0], {});
        }
      }
      return data;
    }
    module2.exports = NodeXmlParser;
  }
});

// node_modules/aws-sdk/lib/http/node.js
var require_node = __commonJS({
  "node_modules/aws-sdk/lib/http/node.js"() {
    var AWS2 = require_core();
    var Stream = AWS2.util.stream.Stream;
    var TransformStream = AWS2.util.stream.Transform;
    var ReadableStream = AWS2.util.stream.Readable;
    require_http();
    var CONNECTION_REUSE_ENV_NAME = "AWS_NODEJS_CONNECTION_REUSE_ENABLED";
    AWS2.NodeHttpClient = AWS2.util.inherit({
      handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {
        var self = this;
        var endpoint = httpRequest.endpoint;
        var pathPrefix = "";
        if (!httpOptions)
          httpOptions = {};
        if (httpOptions.proxy) {
          pathPrefix = endpoint.protocol + "//" + endpoint.hostname;
          if (endpoint.port !== 80 && endpoint.port !== 443) {
            pathPrefix += ":" + endpoint.port;
          }
          endpoint = new AWS2.Endpoint(httpOptions.proxy);
        }
        var useSSL = endpoint.protocol === "https:";
        var http = useSSL ? require("https") : require("http");
        var options = {
          host: endpoint.hostname,
          port: endpoint.port,
          method: httpRequest.method,
          headers: httpRequest.headers,
          path: pathPrefix + httpRequest.path
        };
        if (!httpOptions.agent) {
          options.agent = this.getAgent(useSSL, {
            keepAlive: process.env[CONNECTION_REUSE_ENV_NAME] === "1" ? true : false
          });
        }
        AWS2.util.update(options, httpOptions);
        delete options.proxy;
        delete options.timeout;
        var stream = http.request(options, function(httpResp) {
          if (stream.didCallback)
            return;
          callback(httpResp);
          httpResp.emit(
            "headers",
            httpResp.statusCode,
            httpResp.headers,
            httpResp.statusMessage
          );
        });
        httpRequest.stream = stream;
        stream.didCallback = false;
        if (httpOptions.connectTimeout) {
          var connectTimeoutId;
          stream.on("socket", function(socket) {
            if (socket.connecting) {
              connectTimeoutId = setTimeout(function connectTimeout() {
                if (stream.didCallback)
                  return;
                stream.didCallback = true;
                stream.abort();
                errCallback(AWS2.util.error(
                  new Error("Socket timed out without establishing a connection"),
                  { code: "TimeoutError" }
                ));
              }, httpOptions.connectTimeout);
              socket.on("connect", function() {
                clearTimeout(connectTimeoutId);
                connectTimeoutId = null;
              });
            }
          });
        }
        stream.setTimeout(httpOptions.timeout || 0, function() {
          if (stream.didCallback)
            return;
          stream.didCallback = true;
          var msg = "Connection timed out after " + httpOptions.timeout + "ms";
          errCallback(AWS2.util.error(new Error(msg), { code: "TimeoutError" }));
          stream.abort();
        });
        stream.on("error", function(err) {
          if (connectTimeoutId) {
            clearTimeout(connectTimeoutId);
            connectTimeoutId = null;
          }
          if (stream.didCallback)
            return;
          stream.didCallback = true;
          if ("ECONNRESET" === err.code || "EPIPE" === err.code || "ETIMEDOUT" === err.code) {
            errCallback(AWS2.util.error(err, { code: "TimeoutError" }));
          } else {
            errCallback(err);
          }
        });
        var expect = httpRequest.headers.Expect || httpRequest.headers.expect;
        if (expect === "100-continue") {
          stream.once("continue", function() {
            self.writeBody(stream, httpRequest);
          });
        } else {
          this.writeBody(stream, httpRequest);
        }
        return stream;
      },
      writeBody: function writeBody(stream, httpRequest) {
        var body = httpRequest.body;
        var totalBytes = parseInt(httpRequest.headers["Content-Length"], 10);
        if (body instanceof Stream) {
          var progressStream = this.progressStream(stream, totalBytes);
          if (progressStream) {
            body.pipe(progressStream).pipe(stream);
          } else {
            body.pipe(stream);
          }
        } else if (body) {
          stream.once("finish", function() {
            stream.emit("sendProgress", {
              loaded: totalBytes,
              total: totalBytes
            });
          });
          stream.end(body);
        } else {
          stream.end();
        }
      },
      getAgent: function getAgent(useSSL, agentOptions) {
        var http = useSSL ? require("https") : require("http");
        if (useSSL) {
          if (!AWS2.NodeHttpClient.sslAgent) {
            AWS2.NodeHttpClient.sslAgent = new http.Agent(AWS2.util.merge({
              rejectUnauthorized: process.env.NODE_TLS_REJECT_UNAUTHORIZED === "0" ? false : true
            }, agentOptions || {}));
            AWS2.NodeHttpClient.sslAgent.setMaxListeners(0);
            Object.defineProperty(AWS2.NodeHttpClient.sslAgent, "maxSockets", {
              enumerable: true,
              get: function() {
                var defaultMaxSockets = 50;
                var globalAgent = http.globalAgent;
                if (globalAgent && globalAgent.maxSockets !== Infinity && typeof globalAgent.maxSockets === "number") {
                  return globalAgent.maxSockets;
                }
                return defaultMaxSockets;
              }
            });
          }
          return AWS2.NodeHttpClient.sslAgent;
        } else {
          if (!AWS2.NodeHttpClient.agent) {
            AWS2.NodeHttpClient.agent = new http.Agent(agentOptions);
          }
          return AWS2.NodeHttpClient.agent;
        }
      },
      progressStream: function progressStream(stream, totalBytes) {
        if (typeof TransformStream === "undefined") {
          return;
        }
        var loadedBytes = 0;
        var reporter = new TransformStream();
        reporter._transform = function(chunk, encoding, callback) {
          if (chunk) {
            loadedBytes += chunk.length;
            stream.emit("sendProgress", {
              loaded: loadedBytes,
              total: totalBytes
            });
          }
          callback(null, chunk);
        };
        return reporter;
      },
      emitter: null
    });
    AWS2.HttpClient.prototype = AWS2.NodeHttpClient.prototype;
    AWS2.HttpClient.streamsApiVersion = ReadableStream ? 2 : 1;
  }
});

// node_modules/aws-sdk/lib/credentials/token_file_web_identity_credentials.js
var require_token_file_web_identity_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/token_file_web_identity_credentials.js"() {
    var AWS2 = require_core();
    var fs = require("fs");
    var STS = require_sts2();
    var iniLoader = AWS2.util.iniLoader;
    AWS2.TokenFileWebIdentityCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function TokenFileWebIdentityCredentials(clientConfig) {
        AWS2.Credentials.call(this);
        this.data = null;
        this.clientConfig = AWS2.util.copy(clientConfig || {});
      },
      getParamsFromEnv: function getParamsFromEnv() {
        var ENV_TOKEN_FILE = "AWS_WEB_IDENTITY_TOKEN_FILE", ENV_ROLE_ARN = "AWS_ROLE_ARN";
        if (process.env[ENV_TOKEN_FILE] && process.env[ENV_ROLE_ARN]) {
          return [{
            envTokenFile: process.env[ENV_TOKEN_FILE],
            roleArn: process.env[ENV_ROLE_ARN],
            roleSessionName: process.env["AWS_ROLE_SESSION_NAME"]
          }];
        }
      },
      getParamsFromSharedConfig: function getParamsFromSharedConfig() {
        var profiles = AWS2.util.getProfilesFromSharedConfig(iniLoader);
        var profileName2 = process.env.AWS_PROFILE || AWS2.util.defaultProfile;
        var profile = profiles[profileName2] || {};
        if (Object.keys(profile).length === 0) {
          throw AWS2.util.error(
            new Error("Profile " + profileName2 + " not found"),
            { code: "TokenFileWebIdentityCredentialsProviderFailure" }
          );
        }
        var paramsArray = [];
        while (!profile["web_identity_token_file"] && profile["source_profile"]) {
          paramsArray.unshift({
            roleArn: profile["role_arn"],
            roleSessionName: profile["role_session_name"]
          });
          var sourceProfile = profile["source_profile"];
          profile = profiles[sourceProfile];
        }
        paramsArray.unshift({
          envTokenFile: profile["web_identity_token_file"],
          roleArn: profile["role_arn"],
          roleSessionName: profile["role_session_name"]
        });
        return paramsArray;
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      assumeRoleChaining: function assumeRoleChaining(paramsArray, callback) {
        var self = this;
        if (paramsArray.length === 0) {
          self.service.credentialsFrom(self.data, self);
          callback();
        } else {
          var params = paramsArray.shift();
          self.service.config.credentials = self.service.credentialsFrom(self.data, self);
          self.service.assumeRole(
            {
              RoleArn: params.roleArn,
              RoleSessionName: params.roleSessionName || "token-file-web-identity"
            },
            function(err, data) {
              self.data = null;
              if (err) {
                callback(err);
              } else {
                self.data = data;
                self.assumeRoleChaining(paramsArray, callback);
              }
            }
          );
        }
      },
      load: function load(callback) {
        var self = this;
        try {
          var paramsArray = self.getParamsFromEnv();
          if (!paramsArray) {
            paramsArray = self.getParamsFromSharedConfig();
          }
          if (paramsArray) {
            var params = paramsArray.shift();
            var oidcToken = fs.readFileSync(params.envTokenFile, { encoding: "ascii" });
            if (!self.service) {
              self.createClients();
            }
            self.service.assumeRoleWithWebIdentity(
              {
                WebIdentityToken: oidcToken,
                RoleArn: params.roleArn,
                RoleSessionName: params.roleSessionName || "token-file-web-identity"
              },
              function(err, data) {
                self.data = null;
                if (err) {
                  callback(err);
                } else {
                  self.data = data;
                  self.assumeRoleChaining(paramsArray, callback);
                }
              }
            );
          }
        } catch (err) {
          callback(err);
        }
      },
      createClients: function() {
        if (!this.service) {
          var stsConfig = AWS2.util.merge({}, this.clientConfig);
          this.service = new STS(stsConfig);
          this.service.retryableError = function(error) {
            if (error.code === "IDPCommunicationErrorException" || error.code === "InvalidIdentityToken") {
              return true;
            } else {
              return AWS2.Service.prototype.retryableError.call(this, error);
            }
          };
        }
      }
    });
  }
});

// node_modules/aws-sdk/lib/metadata_service/get_endpoint.js
var require_get_endpoint = __commonJS({
  "node_modules/aws-sdk/lib/metadata_service/get_endpoint.js"(exports2, module2) {
    var getEndpoint = function() {
      return {
        IPv4: "http://169.254.169.254",
        IPv6: "http://[fd00:ec2::254]"
      };
    };
    module2.exports = getEndpoint;
  }
});

// node_modules/aws-sdk/lib/metadata_service/get_endpoint_mode.js
var require_get_endpoint_mode = __commonJS({
  "node_modules/aws-sdk/lib/metadata_service/get_endpoint_mode.js"(exports2, module2) {
    var getEndpointMode = function() {
      return {
        IPv4: "IPv4",
        IPv6: "IPv6"
      };
    };
    module2.exports = getEndpointMode;
  }
});

// node_modules/aws-sdk/lib/metadata_service/get_endpoint_config_options.js
var require_get_endpoint_config_options = __commonJS({
  "node_modules/aws-sdk/lib/metadata_service/get_endpoint_config_options.js"(exports2, module2) {
    var ENV_ENDPOINT_NAME = "AWS_EC2_METADATA_SERVICE_ENDPOINT";
    var CONFIG_ENDPOINT_NAME = "ec2_metadata_service_endpoint";
    var getEndpointConfigOptions = function() {
      return {
        environmentVariableSelector: function(env) {
          return env[ENV_ENDPOINT_NAME];
        },
        configFileSelector: function(profile) {
          return profile[CONFIG_ENDPOINT_NAME];
        },
        default: void 0
      };
    };
    module2.exports = getEndpointConfigOptions;
  }
});

// node_modules/aws-sdk/lib/metadata_service/get_endpoint_mode_config_options.js
var require_get_endpoint_mode_config_options = __commonJS({
  "node_modules/aws-sdk/lib/metadata_service/get_endpoint_mode_config_options.js"(exports2, module2) {
    var EndpointMode = require_get_endpoint_mode()();
    var ENV_ENDPOINT_MODE_NAME = "AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE";
    var CONFIG_ENDPOINT_MODE_NAME = "ec2_metadata_service_endpoint_mode";
    var getEndpointModeConfigOptions = function() {
      return {
        environmentVariableSelector: function(env) {
          return env[ENV_ENDPOINT_MODE_NAME];
        },
        configFileSelector: function(profile) {
          return profile[CONFIG_ENDPOINT_MODE_NAME];
        },
        default: EndpointMode.IPv4
      };
    };
    module2.exports = getEndpointModeConfigOptions;
  }
});

// node_modules/aws-sdk/lib/metadata_service/get_metadata_service_endpoint.js
var require_get_metadata_service_endpoint = __commonJS({
  "node_modules/aws-sdk/lib/metadata_service/get_metadata_service_endpoint.js"(exports2, module2) {
    var AWS2 = require_core();
    var Endpoint = require_get_endpoint()();
    var EndpointMode = require_get_endpoint_mode()();
    var ENDPOINT_CONFIG_OPTIONS = require_get_endpoint_config_options()();
    var ENDPOINT_MODE_CONFIG_OPTIONS = require_get_endpoint_mode_config_options()();
    var getMetadataServiceEndpoint = function() {
      var endpoint = AWS2.util.loadConfig(ENDPOINT_CONFIG_OPTIONS);
      if (endpoint !== void 0)
        return endpoint;
      var endpointMode = AWS2.util.loadConfig(ENDPOINT_MODE_CONFIG_OPTIONS);
      switch (endpointMode) {
        case EndpointMode.IPv4:
          return Endpoint.IPv4;
        case EndpointMode.IPv6:
          return Endpoint.IPv6;
        default:
          throw new Error("Unsupported endpoint mode: " + endpointMode);
      }
    };
    module2.exports = getMetadataServiceEndpoint;
  }
});

// node_modules/aws-sdk/lib/metadata_service.js
var require_metadata_service = __commonJS({
  "node_modules/aws-sdk/lib/metadata_service.js"(exports2, module2) {
    var AWS2 = require_core();
    require_http();
    var inherit = AWS2.util.inherit;
    var getMetadataServiceEndpoint = require_get_metadata_service_endpoint();
    var URL = require("url").URL;
    AWS2.MetadataService = inherit({
      endpoint: getMetadataServiceEndpoint(),
      httpOptions: { timeout: 0 },
      disableFetchToken: false,
      constructor: function MetadataService(options) {
        if (options && options.host) {
          options.endpoint = "http://" + options.host;
          delete options.host;
        }
        AWS2.util.update(this, options);
      },
      request: function request(path, options, callback) {
        if (arguments.length === 2) {
          callback = options;
          options = {};
        }
        if (process.env[AWS2.util.imdsDisabledEnv]) {
          callback(new Error("EC2 Instance Metadata Service access disabled"));
          return;
        }
        path = path || "/";
        if (URL) {
          new URL(this.endpoint);
        }
        var httpRequest = new AWS2.HttpRequest(this.endpoint + path);
        httpRequest.method = options.method || "GET";
        if (options.headers) {
          httpRequest.headers = options.headers;
        }
        AWS2.util.handleRequestWithRetries(httpRequest, this, callback);
      },
      loadCredentialsCallbacks: [],
      fetchMetadataToken: function fetchMetadataToken(callback) {
        var self = this;
        var tokenFetchPath = "/latest/api/token";
        self.request(
          tokenFetchPath,
          {
            "method": "PUT",
            "headers": {
              "x-aws-ec2-metadata-token-ttl-seconds": "21600"
            }
          },
          callback
        );
      },
      fetchCredentials: function fetchCredentials(options, cb) {
        var self = this;
        var basePath = "/latest/meta-data/iam/security-credentials/";
        self.request(basePath, options, function(err, roleName) {
          if (err) {
            self.disableFetchToken = !(err.statusCode === 401);
            cb(AWS2.util.error(
              err,
              {
                message: "EC2 Metadata roleName request returned error"
              }
            ));
            return;
          }
          roleName = roleName.split("\n")[0];
          self.request(basePath + roleName, options, function(credErr, credData) {
            if (credErr) {
              self.disableFetchToken = !(credErr.statusCode === 401);
              cb(AWS2.util.error(
                credErr,
                {
                  message: "EC2 Metadata creds request returned error"
                }
              ));
              return;
            }
            try {
              var credentials = JSON.parse(credData);
              cb(null, credentials);
            } catch (parseError) {
              cb(parseError);
            }
          });
        });
      },
      loadCredentials: function loadCredentials(callback) {
        var self = this;
        self.loadCredentialsCallbacks.push(callback);
        if (self.loadCredentialsCallbacks.length > 1) {
          return;
        }
        function callbacks(err, creds) {
          var cb;
          while ((cb = self.loadCredentialsCallbacks.shift()) !== void 0) {
            cb(err, creds);
          }
        }
        if (self.disableFetchToken) {
          self.fetchCredentials({}, callbacks);
        } else {
          self.fetchMetadataToken(function(tokenError, token) {
            if (tokenError) {
              if (tokenError.code === "TimeoutError") {
                self.disableFetchToken = true;
              } else if (tokenError.retryable === true) {
                callbacks(AWS2.util.error(
                  tokenError,
                  {
                    message: "EC2 Metadata token request returned error"
                  }
                ));
                return;
              } else if (tokenError.statusCode === 400) {
                callbacks(AWS2.util.error(
                  tokenError,
                  {
                    message: "EC2 Metadata token request returned 400"
                  }
                ));
                return;
              }
            }
            var options = {};
            if (token) {
              options.headers = {
                "x-aws-ec2-metadata-token": token
              };
            }
            self.fetchCredentials(options, callbacks);
          });
        }
      }
    });
    module2.exports = AWS2.MetadataService;
  }
});

// node_modules/aws-sdk/lib/credentials/ec2_metadata_credentials.js
var require_ec2_metadata_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/ec2_metadata_credentials.js"() {
    var AWS2 = require_core();
    require_metadata_service();
    AWS2.EC2MetadataCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function EC2MetadataCredentials(options) {
        AWS2.Credentials.call(this);
        options = options ? AWS2.util.copy(options) : {};
        options = AWS2.util.merge(
          { maxRetries: this.defaultMaxRetries },
          options
        );
        if (!options.httpOptions)
          options.httpOptions = {};
        options.httpOptions = AWS2.util.merge(
          {
            timeout: this.defaultTimeout,
            connectTimeout: this.defaultConnectTimeout
          },
          options.httpOptions
        );
        this.metadataService = new AWS2.MetadataService(options);
        this.logger = options.logger || AWS2.config && AWS2.config.logger;
      },
      defaultTimeout: 1e3,
      defaultConnectTimeout: 1e3,
      defaultMaxRetries: 3,
      originalExpiration: void 0,
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        self.metadataService.loadCredentials(function(err, creds) {
          if (err) {
            if (self.hasLoadedCredentials()) {
              self.extendExpirationIfExpired();
              callback();
            } else {
              callback(err);
            }
          } else {
            self.setCredentials(creds);
            self.extendExpirationIfExpired();
            callback();
          }
        });
      },
      hasLoadedCredentials: function hasLoadedCredentials() {
        return this.AccessKeyId && this.secretAccessKey;
      },
      extendExpirationIfExpired: function extendExpirationIfExpired() {
        if (this.needsRefresh()) {
          this.originalExpiration = this.originalExpiration || this.expireTime;
          this.expired = false;
          var nextTimeout = 15 * 60 + Math.floor(Math.random() * 5 * 60);
          var currentTime = AWS2.util.date.getDate().getTime();
          this.expireTime = new Date(currentTime + nextTimeout * 1e3);
          this.logger.warn("Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted again at " + this.expireTime + "\nFor more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html");
        }
      },
      setCredentials: function setCredentials(creds) {
        var currentTime = AWS2.util.date.getDate().getTime();
        var expireTime = new Date(creds.Expiration);
        this.expired = currentTime >= expireTime ? true : false;
        this.metadata = creds;
        this.accessKeyId = creds.AccessKeyId;
        this.secretAccessKey = creds.SecretAccessKey;
        this.sessionToken = creds.Token;
        this.expireTime = expireTime;
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/remote_credentials.js
var require_remote_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/remote_credentials.js"() {
    var AWS2 = require_core();
    var ENV_RELATIVE_URI = "AWS_CONTAINER_CREDENTIALS_RELATIVE_URI";
    var ENV_FULL_URI = "AWS_CONTAINER_CREDENTIALS_FULL_URI";
    var ENV_AUTH_TOKEN = "AWS_CONTAINER_AUTHORIZATION_TOKEN";
    var FULL_URI_UNRESTRICTED_PROTOCOLS = ["https:"];
    var FULL_URI_ALLOWED_PROTOCOLS = ["http:", "https:"];
    var FULL_URI_ALLOWED_HOSTNAMES = ["localhost", "127.0.0.1"];
    var RELATIVE_URI_HOST = "169.254.170.2";
    AWS2.RemoteCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function RemoteCredentials(options) {
        AWS2.Credentials.call(this);
        options = options ? AWS2.util.copy(options) : {};
        if (!options.httpOptions)
          options.httpOptions = {};
        options.httpOptions = AWS2.util.merge(
          this.httpOptions,
          options.httpOptions
        );
        AWS2.util.update(this, options);
      },
      httpOptions: { timeout: 1e3 },
      maxRetries: 3,
      isConfiguredForEcsCredentials: function isConfiguredForEcsCredentials() {
        return Boolean(
          process && process.env && (process.env[ENV_RELATIVE_URI] || process.env[ENV_FULL_URI])
        );
      },
      getECSFullUri: function getECSFullUri() {
        if (process && process.env) {
          var relative = process.env[ENV_RELATIVE_URI], full = process.env[ENV_FULL_URI];
          if (relative) {
            return "http://" + RELATIVE_URI_HOST + relative;
          } else if (full) {
            var parsed = AWS2.util.urlParse(full);
            if (FULL_URI_ALLOWED_PROTOCOLS.indexOf(parsed.protocol) < 0) {
              throw AWS2.util.error(
                new Error("Unsupported protocol:  AWS.RemoteCredentials supports " + FULL_URI_ALLOWED_PROTOCOLS.join(",") + " only; " + parsed.protocol + " requested."),
                { code: "ECSCredentialsProviderFailure" }
              );
            }
            if (FULL_URI_UNRESTRICTED_PROTOCOLS.indexOf(parsed.protocol) < 0 && FULL_URI_ALLOWED_HOSTNAMES.indexOf(parsed.hostname) < 0) {
              throw AWS2.util.error(
                new Error("Unsupported hostname: AWS.RemoteCredentials only supports " + FULL_URI_ALLOWED_HOSTNAMES.join(",") + " for " + parsed.protocol + "; " + parsed.protocol + "//" + parsed.hostname + " requested."),
                { code: "ECSCredentialsProviderFailure" }
              );
            }
            return full;
          } else {
            throw AWS2.util.error(
              new Error("Variable " + ENV_RELATIVE_URI + " or " + ENV_FULL_URI + " must be set to use AWS.RemoteCredentials."),
              { code: "ECSCredentialsProviderFailure" }
            );
          }
        } else {
          throw AWS2.util.error(
            new Error("No process info available"),
            { code: "ECSCredentialsProviderFailure" }
          );
        }
      },
      getECSAuthToken: function getECSAuthToken() {
        if (process && process.env && process.env[ENV_FULL_URI]) {
          return process.env[ENV_AUTH_TOKEN];
        }
      },
      credsFormatIsValid: function credsFormatIsValid(credData) {
        return !!credData.accessKeyId && !!credData.secretAccessKey && !!credData.sessionToken && !!credData.expireTime;
      },
      formatCreds: function formatCreds(credData) {
        if (!!credData.credentials) {
          credData = credData.credentials;
        }
        return {
          expired: false,
          accessKeyId: credData.accessKeyId || credData.AccessKeyId,
          secretAccessKey: credData.secretAccessKey || credData.SecretAccessKey,
          sessionToken: credData.sessionToken || credData.Token,
          expireTime: new Date(credData.expiration || credData.Expiration)
        };
      },
      request: function request(url, callback) {
        var httpRequest = new AWS2.HttpRequest(url);
        httpRequest.method = "GET";
        httpRequest.headers.Accept = "application/json";
        var token = this.getECSAuthToken();
        if (token) {
          httpRequest.headers.Authorization = token;
        }
        AWS2.util.handleRequestWithRetries(httpRequest, this, callback);
      },
      refresh: function refresh(callback) {
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      },
      load: function load(callback) {
        var self = this;
        var fullUri;
        try {
          fullUri = this.getECSFullUri();
        } catch (err) {
          callback(err);
          return;
        }
        this.request(fullUri, function(err, data) {
          if (!err) {
            try {
              data = JSON.parse(data);
              var creds = self.formatCreds(data);
              if (!self.credsFormatIsValid(creds)) {
                throw AWS2.util.error(
                  new Error("Response data is not in valid format"),
                  { code: "ECSCredentialsProviderFailure" }
                );
              }
              AWS2.util.update(self, creds);
            } catch (dataError) {
              err = dataError;
            }
          }
          callback(err, creds);
        });
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/ecs_credentials.js
var require_ecs_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/ecs_credentials.js"() {
    var AWS2 = require_core();
    AWS2.ECSCredentials = AWS2.RemoteCredentials;
  }
});

// node_modules/aws-sdk/lib/credentials/environment_credentials.js
var require_environment_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/environment_credentials.js"() {
    var AWS2 = require_core();
    AWS2.EnvironmentCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function EnvironmentCredentials(envPrefix) {
        AWS2.Credentials.call(this);
        this.envPrefix = envPrefix;
        this.get(function() {
        });
      },
      refresh: function refresh(callback) {
        if (!callback)
          callback = AWS2.util.fn.callback;
        if (!process || !process.env) {
          callback(AWS2.util.error(
            new Error("No process info or environment variables available"),
            { code: "EnvironmentCredentialsProviderFailure" }
          ));
          return;
        }
        var keys = ["ACCESS_KEY_ID", "SECRET_ACCESS_KEY", "SESSION_TOKEN"];
        var values = [];
        for (var i = 0; i < keys.length; i++) {
          var prefix = "";
          if (this.envPrefix)
            prefix = this.envPrefix + "_";
          values[i] = process.env[prefix + keys[i]];
          if (!values[i] && keys[i] !== "SESSION_TOKEN") {
            callback(AWS2.util.error(
              new Error("Variable " + prefix + keys[i] + " not set."),
              { code: "EnvironmentCredentialsProviderFailure" }
            ));
            return;
          }
        }
        this.expired = false;
        AWS2.Credentials.apply(this, values);
        callback();
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/file_system_credentials.js
var require_file_system_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/file_system_credentials.js"() {
    var AWS2 = require_core();
    AWS2.FileSystemCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function FileSystemCredentials(filename) {
        AWS2.Credentials.call(this);
        this.filename = filename;
        this.get(function() {
        });
      },
      refresh: function refresh(callback) {
        if (!callback)
          callback = AWS2.util.fn.callback;
        try {
          var creds = JSON.parse(AWS2.util.readFileSync(this.filename));
          AWS2.Credentials.call(this, creds);
          if (!this.accessKeyId || !this.secretAccessKey) {
            throw AWS2.util.error(
              new Error("Credentials not set in " + this.filename),
              { code: "FileSystemCredentialsProviderFailure" }
            );
          }
          this.expired = false;
          callback();
        } catch (err) {
          callback(err);
        }
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/shared_ini_file_credentials.js
var require_shared_ini_file_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/shared_ini_file_credentials.js"() {
    var AWS2 = require_core();
    var STS = require_sts2();
    var iniLoader = AWS2.util.iniLoader;
    var ASSUME_ROLE_DEFAULT_REGION = "us-east-1";
    AWS2.SharedIniFileCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function SharedIniFileCredentials(options) {
        AWS2.Credentials.call(this);
        options = options || {};
        this.filename = options.filename;
        this.profile = options.profile || process.env.AWS_PROFILE || AWS2.util.defaultProfile;
        this.disableAssumeRole = Boolean(options.disableAssumeRole);
        this.preferStaticCredentials = Boolean(options.preferStaticCredentials);
        this.tokenCodeFn = options.tokenCodeFn || null;
        this.httpOptions = options.httpOptions || null;
        this.get(options.callback || AWS2.util.fn.noop);
      },
      load: function load(callback) {
        var self = this;
        try {
          var profiles = AWS2.util.getProfilesFromSharedConfig(iniLoader, this.filename);
          var profile = profiles[this.profile] || {};
          if (Object.keys(profile).length === 0) {
            throw AWS2.util.error(
              new Error("Profile " + this.profile + " not found"),
              { code: "SharedIniFileCredentialsProviderFailure" }
            );
          }
          var preferStaticCredentialsToRoleArn = Boolean(
            this.preferStaticCredentials && profile["aws_access_key_id"] && profile["aws_secret_access_key"]
          );
          if (profile["role_arn"] && !preferStaticCredentialsToRoleArn) {
            this.loadRoleProfile(profiles, profile, function(err, data) {
              if (err) {
                callback(err);
              } else {
                self.expired = false;
                self.accessKeyId = data.Credentials.AccessKeyId;
                self.secretAccessKey = data.Credentials.SecretAccessKey;
                self.sessionToken = data.Credentials.SessionToken;
                self.expireTime = data.Credentials.Expiration;
                callback(null);
              }
            });
            return;
          }
          this.accessKeyId = profile["aws_access_key_id"];
          this.secretAccessKey = profile["aws_secret_access_key"];
          this.sessionToken = profile["aws_session_token"];
          if (!this.accessKeyId || !this.secretAccessKey) {
            throw AWS2.util.error(
              new Error("Credentials not set for profile " + this.profile),
              { code: "SharedIniFileCredentialsProviderFailure" }
            );
          }
          this.expired = false;
          callback(null);
        } catch (err) {
          callback(err);
        }
      },
      refresh: function refresh(callback) {
        iniLoader.clearCachedFiles();
        this.coalesceRefresh(
          callback || AWS2.util.fn.callback,
          this.disableAssumeRole
        );
      },
      loadRoleProfile: function loadRoleProfile(creds, roleProfile, callback) {
        if (this.disableAssumeRole) {
          throw AWS2.util.error(
            new Error("Role assumption profiles are disabled. Failed to load profile " + this.profile + " from " + creds.filename),
            { code: "SharedIniFileCredentialsProviderFailure" }
          );
        }
        var self = this;
        var roleArn = roleProfile["role_arn"];
        var roleSessionName = roleProfile["role_session_name"];
        var externalId = roleProfile["external_id"];
        var mfaSerial = roleProfile["mfa_serial"];
        var sourceProfileName = roleProfile["source_profile"];
        var profileRegion = roleProfile["region"] || ASSUME_ROLE_DEFAULT_REGION;
        if (!sourceProfileName) {
          throw AWS2.util.error(
            new Error("source_profile is not set using profile " + this.profile),
            { code: "SharedIniFileCredentialsProviderFailure" }
          );
        }
        var sourceProfileExistanceTest = creds[sourceProfileName];
        if (typeof sourceProfileExistanceTest !== "object") {
          throw AWS2.util.error(
            new Error("source_profile " + sourceProfileName + " using profile " + this.profile + " does not exist"),
            { code: "SharedIniFileCredentialsProviderFailure" }
          );
        }
        var sourceCredentials = new AWS2.SharedIniFileCredentials(
          AWS2.util.merge(this.options || {}, {
            profile: sourceProfileName,
            preferStaticCredentials: true
          })
        );
        this.roleArn = roleArn;
        var sts = new STS({
          credentials: sourceCredentials,
          region: profileRegion,
          httpOptions: this.httpOptions
        });
        var roleParams = {
          RoleArn: roleArn,
          RoleSessionName: roleSessionName || "aws-sdk-js-" + Date.now()
        };
        if (externalId) {
          roleParams.ExternalId = externalId;
        }
        if (mfaSerial && self.tokenCodeFn) {
          roleParams.SerialNumber = mfaSerial;
          self.tokenCodeFn(mfaSerial, function(err, token) {
            if (err) {
              var message;
              if (err instanceof Error) {
                message = err.message;
              } else {
                message = err;
              }
              callback(
                AWS2.util.error(
                  new Error("Error fetching MFA token: " + message),
                  { code: "SharedIniFileCredentialsProviderFailure" }
                )
              );
              return;
            }
            roleParams.TokenCode = token;
            sts.assumeRole(roleParams, callback);
          });
          return;
        }
        sts.assumeRole(roleParams, callback);
      }
    });
  }
});

// node_modules/aws-sdk/lib/credentials/sso_credentials.js
var require_sso_credentials = __commonJS({
  "node_modules/aws-sdk/lib/credentials/sso_credentials.js"() {
    var AWS2 = require_core();
    var path = require("path");
    var crypto = require("crypto");
    var iniLoader = AWS2.util.iniLoader;
    AWS2.SsoCredentials = AWS2.util.inherit(AWS2.Credentials, {
      constructor: function SsoCredentials(options) {
        AWS2.Credentials.call(this);
        options = options || {};
        this.errorCode = "SsoCredentialsProviderFailure";
        this.expired = true;
        this.filename = options.filename;
        this.profile = options.profile || process.env.AWS_PROFILE || AWS2.util.defaultProfile;
        this.service = options.ssoClient;
        this.get(options.callback || AWS2.util.fn.noop);
      },
      load: function load(callback) {
        var EXPIRE_WINDOW_MS = 15 * 60 * 1e3;
        var self = this;
        try {
          var profiles = AWS2.util.getProfilesFromSharedConfig(iniLoader, this.filename);
          var profile = profiles[this.profile] || {};
          if (Object.keys(profile).length === 0) {
            throw AWS2.util.error(
              new Error("Profile " + this.profile + " not found"),
              { code: self.errorCode }
            );
          }
          if (!profile.sso_start_url || !profile.sso_account_id || !profile.sso_region || !profile.sso_role_name) {
            throw AWS2.util.error(
              new Error("Profile " + this.profile + ' does not have valid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html'),
              { code: self.errorCode }
            );
          }
          var hasher = crypto.createHash("sha1");
          var fileName = hasher.update(profile.sso_start_url).digest("hex") + ".json";
          var cachePath = path.join(
            iniLoader.getHomeDir(),
            ".aws",
            "sso",
            "cache",
            fileName
          );
          var cacheFile = AWS2.util.readFileSync(cachePath);
          var cacheContent = null;
          if (cacheFile) {
            cacheContent = JSON.parse(cacheFile);
          }
          if (!cacheContent) {
            throw AWS2.util.error(
              new Error("Cached credentials not found under " + this.profile + " profile. Please make sure you log in with aws sso login first"),
              { code: self.errorCode }
            );
          }
          if (!cacheContent.startUrl || !cacheContent.region || !cacheContent.accessToken || !cacheContent.expiresAt) {
            throw AWS2.util.error(
              new Error("Cached credentials are missing required properties. Try running aws sso login.")
            );
          }
          if (new Date(cacheContent.expiresAt).getTime() - Date.now() <= EXPIRE_WINDOW_MS) {
            throw AWS2.util.error(new Error(
              "The SSO session associated with this profile has expired. To refresh this SSO session run aws sso login with the corresponding profile."
            ));
          }
          if (!self.service || self.service.config.region !== profile.sso_region) {
            self.service = new AWS2.SSO({ region: profile.sso_region });
          }
          var request = {
            accessToken: cacheContent.accessToken,
            accountId: profile.sso_account_id,
            roleName: profile.sso_role_name
          };
          self.service.getRoleCredentials(request, function(err, data) {
            if (err || !data || !data.roleCredentials) {
              callback(AWS2.util.error(
                err || new Error('Please log in using "aws sso login"'),
                { code: self.errorCode }
              ), null);
            } else if (!data.roleCredentials.accessKeyId || !data.roleCredentials.secretAccessKey || !data.roleCredentials.sessionToken || !data.roleCredentials.expiration) {
              throw AWS2.util.error(new Error(
                "SSO returns an invalid temporary credential."
              ));
            } else {
              self.expired = false;
              self.accessKeyId = data.roleCredentials.accessKeyId;
              self.secretAccessKey = data.roleCredentials.secretAccessKey;
              self.sessionToken = data.roleCredentials.sessionToken;
              self.expireTime = new Date(data.roleCredentials.expiration);
              callback(null);
            }
          });
        } catch (err) {
          callback(err);
        }
      },
      refresh: function refresh(callback) {
        iniLoader.clearCachedFiles();
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      }
    });
  }
});

// node_modules/aws-sdk/lib/token.js
var require_token = __commonJS({
  "node_modules/aws-sdk/lib/token.js"() {
    var AWS2 = require_core();
    AWS2.Token = AWS2.util.inherit({
      constructor: function Token(options) {
        AWS2.util.hideProperties(this, ["token"]);
        this.expired = false;
        this.expireTime = null;
        this.refreshCallbacks = [];
        if (arguments.length === 1) {
          var options = arguments[0];
          this.token = options.token;
          this.expireTime = options.expireTime;
        }
      },
      expiryWindow: 15,
      needsRefresh: function needsRefresh() {
        var currentTime = AWS2.util.date.getDate().getTime();
        var adjustedTime = new Date(currentTime + this.expiryWindow * 1e3);
        if (this.expireTime && adjustedTime > this.expireTime)
          return true;
        return this.expired || !this.token;
      },
      get: function get(callback) {
        var self = this;
        if (this.needsRefresh()) {
          this.refresh(function(err) {
            if (!err)
              self.expired = false;
            if (callback)
              callback(err);
          });
        } else if (callback) {
          callback();
        }
      },
      refresh: function refresh(callback) {
        this.expired = false;
        callback();
      },
      coalesceRefresh: function coalesceRefresh(callback, sync) {
        var self = this;
        if (self.refreshCallbacks.push(callback) === 1) {
          self.load(function onLoad(err) {
            AWS2.util.arrayEach(self.refreshCallbacks, function(callback2) {
              if (sync) {
                callback2(err);
              } else {
                AWS2.util.defer(function() {
                  callback2(err);
                });
              }
            });
            self.refreshCallbacks.length = 0;
          });
        }
      },
      load: function load(callback) {
        callback();
      }
    });
    AWS2.Token.addPromisesToClass = function addPromisesToClass(PromiseDependency) {
      this.prototype.getPromise = AWS2.util.promisifyMethod("get", PromiseDependency);
      this.prototype.refreshPromise = AWS2.util.promisifyMethod("refresh", PromiseDependency);
    };
    AWS2.Token.deletePromisesFromClass = function deletePromisesFromClass() {
      delete this.prototype.getPromise;
      delete this.prototype.refreshPromise;
    };
    AWS2.util.addPromises(AWS2.Token);
  }
});

// node_modules/aws-sdk/lib/token/token_provider_chain.js
var require_token_provider_chain = __commonJS({
  "node_modules/aws-sdk/lib/token/token_provider_chain.js"() {
    var AWS2 = require_core();
    AWS2.TokenProviderChain = AWS2.util.inherit(AWS2.Token, {
      constructor: function TokenProviderChain(providers) {
        if (providers) {
          this.providers = providers;
        } else {
          this.providers = AWS2.TokenProviderChain.defaultProviders.slice(0);
        }
        this.resolveCallbacks = [];
      },
      resolve: function resolve(callback) {
        var self = this;
        if (self.providers.length === 0) {
          callback(new Error("No providers"));
          return self;
        }
        if (self.resolveCallbacks.push(callback) === 1) {
          let resolveNext2 = function(err, token) {
            if (!err && token || index === providers.length) {
              AWS2.util.arrayEach(self.resolveCallbacks, function(callback2) {
                callback2(err, token);
              });
              self.resolveCallbacks.length = 0;
              return;
            }
            var provider = providers[index++];
            if (typeof provider === "function") {
              token = provider.call();
            } else {
              token = provider;
            }
            if (token.get) {
              token.get(function(getErr) {
                resolveNext2(getErr, getErr ? null : token);
              });
            } else {
              resolveNext2(null, token);
            }
          };
          var resolveNext = resolveNext2;
          var index = 0;
          var providers = self.providers.slice(0);
          resolveNext2();
        }
        return self;
      }
    });
    AWS2.TokenProviderChain.defaultProviders = [];
    AWS2.TokenProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {
      this.prototype.resolvePromise = AWS2.util.promisifyMethod("resolve", PromiseDependency);
    };
    AWS2.TokenProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {
      delete this.prototype.resolvePromise;
    };
    AWS2.util.addPromises(AWS2.TokenProviderChain);
  }
});

// node_modules/aws-sdk/lib/token/sso_token_provider.js
var require_sso_token_provider = __commonJS({
  "node_modules/aws-sdk/lib/token/sso_token_provider.js"() {
    var AWS2 = require_core();
    var crypto = require("crypto");
    var fs = require("fs");
    var path = require("path");
    var iniLoader = AWS2.util.iniLoader;
    var lastRefreshAttemptTime = 0;
    var validateTokenKey = function validateTokenKey2(token, key) {
      if (!token[key]) {
        throw AWS2.util.error(
          new Error('Key "' + key + '" not present in SSO Token'),
          { code: "SSOTokenProviderFailure" }
        );
      }
    };
    var refreshUnsuccessful = function refreshUnsuccessful2(currentTime, tokenExpireTime, callback) {
      if (tokenExpireTime > currentTime) {
        callback(null);
      } else {
        throw AWS2.util.error(
          new Error('SSO Token refresh failed. Please log in using "aws sso login"'),
          { code: "SSOTokenProviderFailure" }
        );
      }
    };
    AWS2.SSOTokenProvider = AWS2.util.inherit(AWS2.Token, {
      expiryWindow: 5 * 60,
      constructor: function SSOTokenProvider(options) {
        AWS2.Token.call(this);
        options = options || {};
        this.expired = true;
        this.profile = options.profile || process.env.AWS_PROFILE || AWS2.util.defaultProfile;
        this.get(options.callback || AWS2.util.fn.noop);
      },
      load: function load(callback) {
        var self = this;
        var profiles = iniLoader.loadFrom({ isConfig: true });
        var profile = profiles[this.profile] || {};
        if (Object.keys(profile).length === 0) {
          throw AWS2.util.error(
            new Error('Profile "' + this.profile + '" not found'),
            { code: "SSOTokenProviderFailure" }
          );
        } else if (!profile["sso_session"]) {
          throw AWS2.util.error(
            new Error('Profile "' + profileName + '" is missing required property "sso_session".'),
            { code: "SSOTokenProviderFailure" }
          );
        }
        var ssoSessionName = profile["sso_session"];
        var ssoSessions = iniLoader.loadSsoSessionsFrom();
        var ssoSession = ssoSessions[ssoSessionName];
        if (!ssoSession) {
          throw AWS2.util.error(
            new Error('Sso session "' + ssoSessionName + '" not found'),
            { code: "SSOTokenProviderFailure" }
          );
        } else if (!ssoSession["sso_start_url"]) {
          throw AWS2.util.error(
            new Error('Sso session "' + profileName + '" is missing required property "sso_start_url".'),
            { code: "SSOTokenProviderFailure" }
          );
        } else if (!ssoSession["sso_region"]) {
          throw AWS2.util.error(
            new Error('Sso session "' + profileName + '" is missing required property "sso_region".'),
            { code: "SSOTokenProviderFailure" }
          );
        }
        var hasher = crypto.createHash("sha1");
        var fileName = hasher.update(ssoSessionName).digest("hex") + ".json";
        var cachePath = path.join(iniLoader.getHomeDir(), ".aws", "sso", "cache", fileName);
        var tokenFromCache = JSON.parse(fs.readFileSync(cachePath));
        if (!tokenFromCache) {
          throw AWS2.util.error(
            new Error('Cached token not found. Please log in using "aws sso login" for profile "' + this.profile + '".'),
            { code: "SSOTokenProviderFailure" }
          );
        }
        validateTokenKey(tokenFromCache, "accessToken");
        validateTokenKey(tokenFromCache, "expiresAt");
        var currentTime = AWS2.util.date.getDate().getTime();
        var adjustedTime = new Date(currentTime + this.expiryWindow * 1e3);
        var tokenExpireTime = new Date(tokenFromCache["expiresAt"]);
        if (tokenExpireTime > adjustedTime) {
          self.token = tokenFromCache.accessToken;
          self.expireTime = tokenExpireTime;
          self.expired = false;
          callback(null);
          return;
        }
        if (currentTime - lastRefreshAttemptTime < 30 * 1e3) {
          refreshUnsuccessful(currentTime, tokenExpireTime, callback);
          return;
        }
        validateTokenKey(tokenFromCache, "clientId");
        validateTokenKey(tokenFromCache, "clientSecret");
        validateTokenKey(tokenFromCache, "refreshToken");
        if (!self.service || self.service.config.region !== ssoSession.sso_region) {
          self.service = new AWS2.SSOOIDC({ region: ssoSession.sso_region });
        }
        var params = {
          clientId: tokenFromCache.clientId,
          clientSecret: tokenFromCache.clientSecret,
          refreshToken: tokenFromCache.refreshToken,
          grantType: "refresh_token"
        };
        lastRefreshAttemptTime = AWS2.util.date.getDate().getTime();
        self.service.createToken(params, function(err, data) {
          if (err || !data) {
            refreshUnsuccessful(currentTime, tokenExpireTime, callback);
          } else {
            try {
              validateTokenKey(data, "accessToken");
              validateTokenKey(data, "expiresIn");
              self.expired = false;
              self.token = data.accessToken;
              self.expireTime = new Date(Date.now() + data.expiresIn * 1e3);
              callback(null);
              try {
                tokenFromCache.accessToken = data.accessToken;
                tokenFromCache.expiresAt = self.expireTime.toISOString();
                tokenFromCache.refreshToken = data.refreshToken;
                fs.writeFileSync(cachePath, JSON.stringify(tokenFromCache, null, 2));
              } catch (error) {
              }
            } catch (error) {
              refreshUnsuccessful(currentTime, tokenExpireTime, callback);
            }
          }
        });
      },
      refresh: function refresh(callback) {
        iniLoader.clearCachedFiles();
        this.coalesceRefresh(callback || AWS2.util.fn.callback);
      }
    });
  }
});

// node_modules/aws-sdk/lib/node_loader.js
var require_node_loader = __commonJS({
  "node_modules/aws-sdk/lib/node_loader.js"(exports2, module2) {
    var util = require_util();
    var region_utils = require_utils();
    var isFipsRegion = region_utils.isFipsRegion;
    var getRealRegion = region_utils.getRealRegion;
    util.isBrowser = function() {
      return false;
    };
    util.isNode = function() {
      return true;
    };
    util.crypto.lib = require("crypto");
    util.Buffer = require("buffer").Buffer;
    util.domain = require("domain");
    util.stream = require("stream");
    util.url = require("url");
    util.querystring = require("querystring");
    util.environment = "nodejs";
    util.createEventStream = util.stream.Readable ? require_streaming_create_event_stream().createEventStream : require_buffered_create_event_stream().createEventStream;
    util.realClock = require_nodeClock();
    util.clientSideMonitoring = {
      Publisher: require_publisher().Publisher,
      configProvider: require_configuration()
    };
    util.iniLoader = require_shared_ini().iniLoader;
    util.getSystemErrorName = require("util").getSystemErrorName;
    util.loadConfig = function(options) {
      var envValue = options.environmentVariableSelector(process.env);
      if (envValue !== void 0) {
        return envValue;
      }
      var configFile = {};
      try {
        configFile = util.iniLoader ? util.iniLoader.loadFrom({
          isConfig: true,
          filename: process.env[util.sharedConfigFileEnv]
        }) : {};
      } catch (e) {
      }
      var sharedFileConfig = configFile[process.env.AWS_PROFILE || util.defaultProfile] || {};
      var configValue = options.configFileSelector(sharedFileConfig);
      if (configValue !== void 0) {
        return configValue;
      }
      if (typeof options.default === "function") {
        return options.default();
      }
      return options.default;
    };
    var AWS2;
    module2.exports = AWS2 = require_core();
    require_credentials();
    require_credential_provider_chain();
    require_temporary_credentials();
    require_chainable_temporary_credentials();
    require_web_identity_credentials();
    require_cognito_identity_credentials();
    require_saml_credentials();
    require_process_credentials();
    AWS2.XML.Parser = require_node_parser();
    require_node();
    require_ini_loader();
    require_token_file_web_identity_credentials();
    require_ec2_metadata_credentials();
    require_remote_credentials();
    require_ecs_credentials();
    require_environment_credentials();
    require_file_system_credentials();
    require_shared_ini_file_credentials();
    require_process_credentials();
    require_sso_credentials();
    AWS2.CredentialProviderChain.defaultProviders = [
      function() {
        return new AWS2.EnvironmentCredentials("AWS");
      },
      function() {
        return new AWS2.EnvironmentCredentials("AMAZON");
      },
      function() {
        return new AWS2.SsoCredentials();
      },
      function() {
        return new AWS2.SharedIniFileCredentials();
      },
      function() {
        return new AWS2.ECSCredentials();
      },
      function() {
        return new AWS2.ProcessCredentials();
      },
      function() {
        return new AWS2.TokenFileWebIdentityCredentials();
      },
      function() {
        return new AWS2.EC2MetadataCredentials();
      }
    ];
    require_token();
    require_token_provider_chain();
    require_sso_token_provider();
    AWS2.TokenProviderChain.defaultProviders = [
      function() {
        return new AWS2.SSOTokenProvider();
      }
    ];
    var getRegion = function() {
      var env = process.env;
      var region = env.AWS_REGION || env.AMAZON_REGION;
      if (env[AWS2.util.configOptInEnv]) {
        var toCheck = [
          { filename: env[AWS2.util.sharedCredentialsFileEnv] },
          { isConfig: true, filename: env[AWS2.util.sharedConfigFileEnv] }
        ];
        var iniLoader = AWS2.util.iniLoader;
        while (!region && toCheck.length) {
          var configFile = {};
          var fileInfo = toCheck.shift();
          try {
            configFile = iniLoader.loadFrom(fileInfo);
          } catch (err) {
            if (fileInfo.isConfig)
              throw err;
          }
          var profile = configFile[env.AWS_PROFILE || AWS2.util.defaultProfile];
          region = profile && profile.region;
        }
      }
      return region;
    };
    var getBooleanValue = function(value) {
      return value === "true" ? true : value === "false" ? false : void 0;
    };
    var USE_FIPS_ENDPOINT_CONFIG_OPTIONS = {
      environmentVariableSelector: function(env) {
        return getBooleanValue(env["AWS_USE_FIPS_ENDPOINT"]);
      },
      configFileSelector: function(profile) {
        return getBooleanValue(profile["use_fips_endpoint"]);
      },
      default: false
    };
    var USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS = {
      environmentVariableSelector: function(env) {
        return getBooleanValue(env["AWS_USE_DUALSTACK_ENDPOINT"]);
      },
      configFileSelector: function(profile) {
        return getBooleanValue(profile["use_dualstack_endpoint"]);
      },
      default: false
    };
    AWS2.util.update(AWS2.Config.prototype.keys, {
      credentials: function() {
        var credentials = null;
        new AWS2.CredentialProviderChain([
          function() {
            return new AWS2.EnvironmentCredentials("AWS");
          },
          function() {
            return new AWS2.EnvironmentCredentials("AMAZON");
          },
          function() {
            return new AWS2.SharedIniFileCredentials({ disableAssumeRole: true });
          }
        ]).resolve(function(err, creds) {
          if (!err)
            credentials = creds;
        });
        return credentials;
      },
      credentialProvider: function() {
        return new AWS2.CredentialProviderChain();
      },
      logger: function() {
        return process.env.AWSJS_DEBUG ? console : null;
      },
      region: function() {
        var region = getRegion();
        return region ? getRealRegion(region) : void 0;
      },
      tokenProvider: function() {
        return new AWS2.TokenProviderChain();
      },
      useFipsEndpoint: function() {
        var region = getRegion();
        return isFipsRegion(region) ? true : util.loadConfig(USE_FIPS_ENDPOINT_CONFIG_OPTIONS);
      },
      useDualstackEndpoint: function() {
        return util.loadConfig(USE_DUALSTACK_ENDPOINT_CONFIG_OPTIONS);
      }
    });
    AWS2.config = new AWS2.Config();
  }
});

// node_modules/aws-sdk/lib/dynamodb/types.js
var require_types = __commonJS({
  "node_modules/aws-sdk/lib/dynamodb/types.js"(exports2, module2) {
    var util = require_core().util;
    function typeOf(data) {
      if (data === null && typeof data === "object") {
        return "null";
      } else if (data !== void 0 && isBinary(data)) {
        return "Binary";
      } else if (data !== void 0 && data.constructor) {
        return data.wrapperName || util.typeName(data.constructor);
      } else if (data !== void 0 && typeof data === "object") {
        return "Object";
      } else {
        return "undefined";
      }
    }
    function isBinary(data) {
      var types = [
        "Buffer",
        "File",
        "Blob",
        "ArrayBuffer",
        "DataView",
        "Int8Array",
        "Uint8Array",
        "Uint8ClampedArray",
        "Int16Array",
        "Uint16Array",
        "Int32Array",
        "Uint32Array",
        "Float32Array",
        "Float64Array"
      ];
      if (util.isNode()) {
        var Stream = util.stream.Stream;
        if (util.Buffer.isBuffer(data) || data instanceof Stream) {
          return true;
        }
      }
      for (var i = 0; i < types.length; i++) {
        if (data !== void 0 && data.constructor) {
          if (util.isType(data, types[i]))
            return true;
          if (util.typeName(data.constructor) === types[i])
            return true;
        }
      }
      return false;
    }
    module2.exports = {
      typeOf,
      isBinary
    };
  }
});

// node_modules/aws-sdk/lib/dynamodb/set.js
var require_set = __commonJS({
  "node_modules/aws-sdk/lib/dynamodb/set.js"(exports2, module2) {
    var util = require_core().util;
    var typeOf = require_types().typeOf;
    var memberTypeToSetType = {
      "String": "String",
      "Number": "Number",
      "NumberValue": "Number",
      "Binary": "Binary"
    };
    var DynamoDBSet = util.inherit({
      constructor: function Set(list, options) {
        options = options || {};
        this.wrapperName = "Set";
        this.initialize(list, options.validate);
      },
      initialize: function(list, validate) {
        var self = this;
        self.values = [].concat(list);
        self.detectType();
        if (validate) {
          self.validate();
        }
      },
      detectType: function() {
        this.type = memberTypeToSetType[typeOf(this.values[0])];
        if (!this.type) {
          throw util.error(new Error(), {
            code: "InvalidSetType",
            message: "Sets can contain string, number, or binary values"
          });
        }
      },
      validate: function() {
        var self = this;
        var length = self.values.length;
        var values = self.values;
        for (var i = 0; i < length; i++) {
          if (memberTypeToSetType[typeOf(values[i])] !== self.type) {
            throw util.error(new Error(), {
              code: "InvalidType",
              message: self.type + " Set contains " + typeOf(values[i]) + " value"
            });
          }
        }
      },
      toJSON: function() {
        var self = this;
        return self.values;
      }
    });
    module2.exports = DynamoDBSet;
  }
});

// node_modules/aws-sdk/lib/dynamodb/numberValue.js
var require_numberValue = __commonJS({
  "node_modules/aws-sdk/lib/dynamodb/numberValue.js"(exports2, module2) {
    var util = require_core().util;
    var DynamoDBNumberValue = util.inherit({
      constructor: function NumberValue(value) {
        this.wrapperName = "NumberValue";
        this.value = value.toString();
      },
      toJSON: function() {
        return this.toNumber();
      },
      toNumber: function() {
        return Number(this.value);
      },
      toString: function() {
        return this.value;
      }
    });
    module2.exports = DynamoDBNumberValue;
  }
});

// node_modules/aws-sdk/lib/dynamodb/converter.js
var require_converter = __commonJS({
  "node_modules/aws-sdk/lib/dynamodb/converter.js"(exports2, module2) {
    var AWS2 = require_core();
    var util = AWS2.util;
    var typeOf = require_types().typeOf;
    var DynamoDBSet = require_set();
    var NumberValue = require_numberValue();
    AWS2.DynamoDB.Converter = {
      input: function convertInput(data, options) {
        options = options || {};
        var type = typeOf(data);
        if (type === "Object") {
          return formatMap(data, options);
        } else if (type === "Array") {
          return formatList(data, options);
        } else if (type === "Set") {
          return formatSet(data, options);
        } else if (type === "String") {
          if (data.length === 0 && options.convertEmptyValues) {
            return convertInput(null);
          }
          return { S: data };
        } else if (type === "Number" || type === "NumberValue") {
          return { N: data.toString() };
        } else if (type === "Binary") {
          if (data.length === 0 && options.convertEmptyValues) {
            return convertInput(null);
          }
          return { B: data };
        } else if (type === "Boolean") {
          return { BOOL: data };
        } else if (type === "null") {
          return { NULL: true };
        } else if (type !== "undefined" && type !== "Function") {
          return formatMap(data, options);
        }
      },
      marshall: function marshallItem(data, options) {
        return AWS2.DynamoDB.Converter.input(data, options).M;
      },
      output: function convertOutput(data, options) {
        options = options || {};
        var list, map, i;
        for (var type in data) {
          var values = data[type];
          if (type === "M") {
            map = {};
            for (var key in values) {
              map[key] = convertOutput(values[key], options);
            }
            return map;
          } else if (type === "L") {
            list = [];
            for (i = 0; i < values.length; i++) {
              list.push(convertOutput(values[i], options));
            }
            return list;
          } else if (type === "SS") {
            list = [];
            for (i = 0; i < values.length; i++) {
              list.push(values[i] + "");
            }
            return new DynamoDBSet(list);
          } else if (type === "NS") {
            list = [];
            for (i = 0; i < values.length; i++) {
              list.push(convertNumber(values[i], options.wrapNumbers));
            }
            return new DynamoDBSet(list);
          } else if (type === "BS") {
            list = [];
            for (i = 0; i < values.length; i++) {
              list.push(AWS2.util.buffer.toBuffer(values[i]));
            }
            return new DynamoDBSet(list);
          } else if (type === "S") {
            return values + "";
          } else if (type === "N") {
            return convertNumber(values, options.wrapNumbers);
          } else if (type === "B") {
            return util.buffer.toBuffer(values);
          } else if (type === "BOOL") {
            return values === "true" || values === "TRUE" || values === true;
          } else if (type === "NULL") {
            return null;
          }
        }
      },
      unmarshall: function unmarshall(data, options) {
        return AWS2.DynamoDB.Converter.output({ M: data }, options);
      }
    };
    function formatList(data, options) {
      var list = { L: [] };
      for (var i = 0; i < data.length; i++) {
        list["L"].push(AWS2.DynamoDB.Converter.input(data[i], options));
      }
      return list;
    }
    function convertNumber(value, wrapNumbers) {
      return wrapNumbers ? new NumberValue(value) : Number(value);
    }
    function formatMap(data, options) {
      var map = { M: {} };
      for (var key in data) {
        var formatted = AWS2.DynamoDB.Converter.input(data[key], options);
        if (formatted !== void 0) {
          map["M"][key] = formatted;
        }
      }
      return map;
    }
    function formatSet(data, options) {
      options = options || {};
      var values = data.values;
      if (options.convertEmptyValues) {
        values = filterEmptySetValues(data);
        if (values.length === 0) {
          return AWS2.DynamoDB.Converter.input(null);
        }
      }
      var map = {};
      switch (data.type) {
        case "String":
          map["SS"] = values;
          break;
        case "Binary":
          map["BS"] = values;
          break;
        case "Number":
          map["NS"] = values.map(function(value) {
            return value.toString();
          });
      }
      return map;
    }
    function filterEmptySetValues(set) {
      var nonEmptyValues = [];
      var potentiallyEmptyTypes = {
        String: true,
        Binary: true,
        Number: false
      };
      if (potentiallyEmptyTypes[set.type]) {
        for (var i = 0; i < set.values.length; i++) {
          if (set.values[i].length === 0) {
            continue;
          }
          nonEmptyValues.push(set.values[i]);
        }
        return nonEmptyValues;
      }
      return set.values;
    }
    module2.exports = AWS2.DynamoDB.Converter;
  }
});

// node_modules/aws-sdk/lib/dynamodb/translator.js
var require_translator = __commonJS({
  "node_modules/aws-sdk/lib/dynamodb/translator.js"(exports2, module2) {
    var util = require_core().util;
    var convert = require_converter();
    var Translator = function(options) {
      options = options || {};
      this.attrValue = options.attrValue;
      this.convertEmptyValues = Boolean(options.convertEmptyValues);
      this.wrapNumbers = Boolean(options.wrapNumbers);
    };
    Translator.prototype.translateInput = function(value, shape) {
      this.mode = "input";
      return this.translate(value, shape);
    };
    Translator.prototype.translateOutput = function(value, shape) {
      this.mode = "output";
      return this.translate(value, shape);
    };
    Translator.prototype.translate = function(value, shape) {
      var self = this;
      if (!shape || value === void 0)
        return void 0;
      if (shape.shape === self.attrValue) {
        return convert[self.mode](value, {
          convertEmptyValues: self.convertEmptyValues,
          wrapNumbers: self.wrapNumbers
        });
      }
      switch (shape.type) {
        case "structure":
          return self.translateStructure(value, shape);
        case "map":
          return self.translateMap(value, shape);
        case "list":
          return self.translateList(value, shape);
        default:
          return self.translateScalar(value, shape);
      }
    };
    Translator.prototype.translateStructure = function(structure, shape) {
      var self = this;
      if (structure == null)
        return void 0;
      var struct = {};
      util.each(structure, function(name, value) {
        var memberShape = shape.members[name];
        if (memberShape) {
          var result = self.translate(value, memberShape);
          if (result !== void 0)
            struct[name] = result;
        }
      });
      return struct;
    };
    Translator.prototype.translateList = function(list, shape) {
      var self = this;
      if (list == null)
        return void 0;
      var out = [];
      util.arrayEach(list, function(value) {
        var result = self.translate(value, shape.member);
        if (result === void 0)
          out.push(null);
        else
          out.push(result);
      });
      return out;
    };
    Translator.prototype.translateMap = function(map, shape) {
      var self = this;
      if (map == null)
        return void 0;
      var out = {};
      util.each(map, function(key, value) {
        var result = self.translate(value, shape.value);
        if (result === void 0)
          out[key] = null;
        else
          out[key] = result;
      });
      return out;
    };
    Translator.prototype.translateScalar = function(value, shape) {
      return shape.toType(value);
    };
    module2.exports = Translator;
  }
});

// node_modules/aws-sdk/lib/dynamodb/document_client.js
var require_document_client = __commonJS({
  "node_modules/aws-sdk/lib/dynamodb/document_client.js"(exports2, module2) {
    var AWS2 = require_core();
    var Translator = require_translator();
    var DynamoDBSet = require_set();
    AWS2.DynamoDB.DocumentClient = AWS2.util.inherit({
      constructor: function DocumentClient2(options) {
        var self = this;
        self.options = options || {};
        self.configure(self.options);
      },
      configure: function configure(options) {
        var self = this;
        self.service = options.service;
        self.bindServiceObject(options);
        self.attrValue = options.attrValue = self.service.api.operations.putItem.input.members.Item.value.shape;
      },
      bindServiceObject: function bindServiceObject(options) {
        var self = this;
        options = options || {};
        if (!self.service) {
          self.service = new AWS2.DynamoDB(options);
        } else {
          var config = AWS2.util.copy(self.service.config);
          self.service = new self.service.constructor.__super__(config);
          self.service.config.params = AWS2.util.merge(self.service.config.params || {}, options.params);
        }
      },
      makeServiceRequest: function(operation, params, callback) {
        var self = this;
        var request = self.service[operation](params);
        self.setupRequest(request);
        self.setupResponse(request);
        if (typeof callback === "function") {
          request.send(callback);
        }
        return request;
      },
      serviceClientOperationsMap: {
        batchGet: "batchGetItem",
        batchWrite: "batchWriteItem",
        delete: "deleteItem",
        get: "getItem",
        put: "putItem",
        query: "query",
        scan: "scan",
        update: "updateItem",
        transactGet: "transactGetItems",
        transactWrite: "transactWriteItems"
      },
      batchGet: function(params, callback) {
        var operation = this.serviceClientOperationsMap["batchGet"];
        return this.makeServiceRequest(operation, params, callback);
      },
      batchWrite: function(params, callback) {
        var operation = this.serviceClientOperationsMap["batchWrite"];
        return this.makeServiceRequest(operation, params, callback);
      },
      delete: function(params, callback) {
        var operation = this.serviceClientOperationsMap["delete"];
        return this.makeServiceRequest(operation, params, callback);
      },
      get: function(params, callback) {
        var operation = this.serviceClientOperationsMap["get"];
        return this.makeServiceRequest(operation, params, callback);
      },
      put: function(params, callback) {
        var operation = this.serviceClientOperationsMap["put"];
        return this.makeServiceRequest(operation, params, callback);
      },
      update: function(params, callback) {
        var operation = this.serviceClientOperationsMap["update"];
        return this.makeServiceRequest(operation, params, callback);
      },
      scan: function(params, callback) {
        var operation = this.serviceClientOperationsMap["scan"];
        return this.makeServiceRequest(operation, params, callback);
      },
      query: function(params, callback) {
        var operation = this.serviceClientOperationsMap["query"];
        return this.makeServiceRequest(operation, params, callback);
      },
      transactWrite: function(params, callback) {
        var operation = this.serviceClientOperationsMap["transactWrite"];
        return this.makeServiceRequest(operation, params, callback);
      },
      transactGet: function(params, callback) {
        var operation = this.serviceClientOperationsMap["transactGet"];
        return this.makeServiceRequest(operation, params, callback);
      },
      createSet: function(list, options) {
        options = options || {};
        return new DynamoDBSet(list, options);
      },
      getTranslator: function() {
        return new Translator(this.options);
      },
      setupRequest: function setupRequest(request) {
        var self = this;
        var translator = self.getTranslator();
        var operation = request.operation;
        var inputShape = request.service.api.operations[operation].input;
        request._events.validate.unshift(function(req) {
          req.rawParams = AWS2.util.copy(req.params);
          req.params = translator.translateInput(req.rawParams, inputShape);
        });
      },
      setupResponse: function setupResponse(request) {
        var self = this;
        var translator = self.getTranslator();
        var outputShape = self.service.api.operations[request.operation].output;
        request.on("extractData", function(response2) {
          response2.data = translator.translateOutput(response2.data, outputShape);
        });
        var response = request.response;
        response.nextPage = function(cb) {
          var resp = this;
          var req = resp.request;
          var config;
          var service = req.service;
          var operation = req.operation;
          try {
            config = service.paginationConfig(operation, true);
          } catch (e) {
            resp.error = e;
          }
          if (!resp.hasNextPage()) {
            if (cb)
              cb(resp.error, null);
            else if (resp.error)
              throw resp.error;
            return null;
          }
          var params = AWS2.util.copy(req.rawParams);
          if (!resp.nextPageTokens) {
            return cb ? cb(null, null) : null;
          } else {
            var inputTokens = config.inputToken;
            if (typeof inputTokens === "string")
              inputTokens = [inputTokens];
            for (var i = 0; i < inputTokens.length; i++) {
              params[inputTokens[i]] = resp.nextPageTokens[i];
            }
            return self[operation](params, cb);
          }
        };
      }
    });
    module2.exports = AWS2.DynamoDB.DocumentClient;
  }
});

// node_modules/aws-sdk/lib/services/dynamodb.js
var require_dynamodb = __commonJS({
  "node_modules/aws-sdk/lib/services/dynamodb.js"() {
    var AWS2 = require_core();
    require_document_client();
    AWS2.util.update(AWS2.DynamoDB.prototype, {
      setupRequestListeners: function setupRequestListeners(request) {
        if (request.service.config.dynamoDbCrc32) {
          request.removeListener("extractData", AWS2.EventListeners.Json.EXTRACT_DATA);
          request.addListener("extractData", this.checkCrc32);
          request.addListener("extractData", AWS2.EventListeners.Json.EXTRACT_DATA);
        }
      },
      checkCrc32: function checkCrc32(resp) {
        if (!resp.httpResponse.streaming && !resp.request.service.crc32IsValid(resp)) {
          resp.data = null;
          resp.error = AWS2.util.error(new Error(), {
            code: "CRC32CheckFailed",
            message: "CRC32 integrity check failed",
            retryable: true
          });
          resp.request.haltHandlersOnError();
          throw resp.error;
        }
      },
      crc32IsValid: function crc32IsValid(resp) {
        var crc = resp.httpResponse.headers["x-amz-crc32"];
        if (!crc)
          return true;
        return parseInt(crc, 10) === AWS2.util.crypto.crc32(resp.httpResponse.body);
      },
      defaultRetryCount: 10,
      retryDelays: function retryDelays(retryCount, err) {
        var retryDelayOptions = AWS2.util.copy(this.config.retryDelayOptions);
        if (typeof retryDelayOptions.base !== "number") {
          retryDelayOptions.base = 50;
        }
        var delay = AWS2.util.calculateRetryDelay(retryCount, retryDelayOptions, err);
        return delay;
      }
    });
  }
});

// node_modules/aws-sdk/apis/dynamodb-2011-12-05.min.json
var require_dynamodb_2011_12_05_min = __commonJS({
  "node_modules/aws-sdk/apis/dynamodb-2011-12-05.min.json"(exports2, module2) {
    module2.exports = {
      version: "2.0",
      metadata: {
        apiVersion: "2011-12-05",
        endpointPrefix: "dynamodb",
        jsonVersion: "1.0",
        protocol: "json",
        serviceAbbreviation: "DynamoDB",
        serviceFullName: "Amazon DynamoDB",
        serviceId: "DynamoDB",
        signatureVersion: "v4",
        targetPrefix: "DynamoDB_20111205",
        uid: "dynamodb-2011-12-05"
      },
      operations: {
        BatchGetItem: {
          input: {
            type: "structure",
            required: [
              "RequestItems"
            ],
            members: {
              RequestItems: {
                shape: "S2"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Responses: {
                type: "map",
                key: {},
                value: {
                  type: "structure",
                  members: {
                    Items: {
                      shape: "Sk"
                    },
                    ConsumedCapacityUnits: {
                      type: "double"
                    }
                  }
                }
              },
              UnprocessedKeys: {
                shape: "S2"
              }
            }
          }
        },
        BatchWriteItem: {
          input: {
            type: "structure",
            required: [
              "RequestItems"
            ],
            members: {
              RequestItems: {
                shape: "So"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Responses: {
                type: "map",
                key: {},
                value: {
                  type: "structure",
                  members: {
                    ConsumedCapacityUnits: {
                      type: "double"
                    }
                  }
                }
              },
              UnprocessedItems: {
                shape: "So"
              }
            }
          }
        },
        CreateTable: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "KeySchema",
              "ProvisionedThroughput"
            ],
            members: {
              TableName: {},
              KeySchema: {
                shape: "Sy"
              },
              ProvisionedThroughput: {
                shape: "S12"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S15"
              }
            }
          }
        },
        DeleteItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Key"
            ],
            members: {
              TableName: {},
              Key: {
                shape: "S6"
              },
              Expected: {
                shape: "S1b"
              },
              ReturnValues: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Attributes: {
                shape: "Sl"
              },
              ConsumedCapacityUnits: {
                type: "double"
              }
            }
          }
        },
        DeleteTable: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S15"
              }
            }
          }
        },
        DescribeTable: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Table: {
                shape: "S15"
              }
            }
          }
        },
        GetItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Key"
            ],
            members: {
              TableName: {},
              Key: {
                shape: "S6"
              },
              AttributesToGet: {
                shape: "Se"
              },
              ConsistentRead: {
                type: "boolean"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Item: {
                shape: "Sl"
              },
              ConsumedCapacityUnits: {
                type: "double"
              }
            }
          }
        },
        ListTables: {
          input: {
            type: "structure",
            members: {
              ExclusiveStartTableName: {},
              Limit: {
                type: "integer"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableNames: {
                type: "list",
                member: {}
              },
              LastEvaluatedTableName: {}
            }
          }
        },
        PutItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Item"
            ],
            members: {
              TableName: {},
              Item: {
                shape: "Ss"
              },
              Expected: {
                shape: "S1b"
              },
              ReturnValues: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Attributes: {
                shape: "Sl"
              },
              ConsumedCapacityUnits: {
                type: "double"
              }
            }
          }
        },
        Query: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "HashKeyValue"
            ],
            members: {
              TableName: {},
              AttributesToGet: {
                shape: "Se"
              },
              Limit: {
                type: "integer"
              },
              ConsistentRead: {
                type: "boolean"
              },
              Count: {
                type: "boolean"
              },
              HashKeyValue: {
                shape: "S7"
              },
              RangeKeyCondition: {
                shape: "S1u"
              },
              ScanIndexForward: {
                type: "boolean"
              },
              ExclusiveStartKey: {
                shape: "S6"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Items: {
                shape: "Sk"
              },
              Count: {
                type: "integer"
              },
              LastEvaluatedKey: {
                shape: "S6"
              },
              ConsumedCapacityUnits: {
                type: "double"
              }
            }
          }
        },
        Scan: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {},
              AttributesToGet: {
                shape: "Se"
              },
              Limit: {
                type: "integer"
              },
              Count: {
                type: "boolean"
              },
              ScanFilter: {
                type: "map",
                key: {},
                value: {
                  shape: "S1u"
                }
              },
              ExclusiveStartKey: {
                shape: "S6"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Items: {
                shape: "Sk"
              },
              Count: {
                type: "integer"
              },
              ScannedCount: {
                type: "integer"
              },
              LastEvaluatedKey: {
                shape: "S6"
              },
              ConsumedCapacityUnits: {
                type: "double"
              }
            }
          }
        },
        UpdateItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Key",
              "AttributeUpdates"
            ],
            members: {
              TableName: {},
              Key: {
                shape: "S6"
              },
              AttributeUpdates: {
                type: "map",
                key: {},
                value: {
                  type: "structure",
                  members: {
                    Value: {
                      shape: "S7"
                    },
                    Action: {}
                  }
                }
              },
              Expected: {
                shape: "S1b"
              },
              ReturnValues: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Attributes: {
                shape: "Sl"
              },
              ConsumedCapacityUnits: {
                type: "double"
              }
            }
          }
        },
        UpdateTable: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "ProvisionedThroughput"
            ],
            members: {
              TableName: {},
              ProvisionedThroughput: {
                shape: "S12"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S15"
              }
            }
          }
        }
      },
      shapes: {
        S2: {
          type: "map",
          key: {},
          value: {
            type: "structure",
            required: [
              "Keys"
            ],
            members: {
              Keys: {
                type: "list",
                member: {
                  shape: "S6"
                }
              },
              AttributesToGet: {
                shape: "Se"
              },
              ConsistentRead: {
                type: "boolean"
              }
            }
          }
        },
        S6: {
          type: "structure",
          required: [
            "HashKeyElement"
          ],
          members: {
            HashKeyElement: {
              shape: "S7"
            },
            RangeKeyElement: {
              shape: "S7"
            }
          }
        },
        S7: {
          type: "structure",
          members: {
            S: {},
            N: {},
            B: {
              type: "blob"
            },
            SS: {
              type: "list",
              member: {}
            },
            NS: {
              type: "list",
              member: {}
            },
            BS: {
              type: "list",
              member: {
                type: "blob"
              }
            }
          }
        },
        Se: {
          type: "list",
          member: {}
        },
        Sk: {
          type: "list",
          member: {
            shape: "Sl"
          }
        },
        Sl: {
          type: "map",
          key: {},
          value: {
            shape: "S7"
          }
        },
        So: {
          type: "map",
          key: {},
          value: {
            type: "list",
            member: {
              type: "structure",
              members: {
                PutRequest: {
                  type: "structure",
                  required: [
                    "Item"
                  ],
                  members: {
                    Item: {
                      shape: "Ss"
                    }
                  }
                },
                DeleteRequest: {
                  type: "structure",
                  required: [
                    "Key"
                  ],
                  members: {
                    Key: {
                      shape: "S6"
                    }
                  }
                }
              }
            }
          }
        },
        Ss: {
          type: "map",
          key: {},
          value: {
            shape: "S7"
          }
        },
        Sy: {
          type: "structure",
          required: [
            "HashKeyElement"
          ],
          members: {
            HashKeyElement: {
              shape: "Sz"
            },
            RangeKeyElement: {
              shape: "Sz"
            }
          }
        },
        Sz: {
          type: "structure",
          required: [
            "AttributeName",
            "AttributeType"
          ],
          members: {
            AttributeName: {},
            AttributeType: {}
          }
        },
        S12: {
          type: "structure",
          required: [
            "ReadCapacityUnits",
            "WriteCapacityUnits"
          ],
          members: {
            ReadCapacityUnits: {
              type: "long"
            },
            WriteCapacityUnits: {
              type: "long"
            }
          }
        },
        S15: {
          type: "structure",
          members: {
            TableName: {},
            KeySchema: {
              shape: "Sy"
            },
            TableStatus: {},
            CreationDateTime: {
              type: "timestamp"
            },
            ProvisionedThroughput: {
              type: "structure",
              members: {
                LastIncreaseDateTime: {
                  type: "timestamp"
                },
                LastDecreaseDateTime: {
                  type: "timestamp"
                },
                NumberOfDecreasesToday: {
                  type: "long"
                },
                ReadCapacityUnits: {
                  type: "long"
                },
                WriteCapacityUnits: {
                  type: "long"
                }
              }
            },
            TableSizeBytes: {
              type: "long"
            },
            ItemCount: {
              type: "long"
            }
          }
        },
        S1b: {
          type: "map",
          key: {},
          value: {
            type: "structure",
            members: {
              Value: {
                shape: "S7"
              },
              Exists: {
                type: "boolean"
              }
            }
          }
        },
        S1u: {
          type: "structure",
          required: [
            "ComparisonOperator"
          ],
          members: {
            AttributeValueList: {
              type: "list",
              member: {
                shape: "S7"
              }
            },
            ComparisonOperator: {}
          }
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/dynamodb-2011-12-05.paginators.json
var require_dynamodb_2011_12_05_paginators = __commonJS({
  "node_modules/aws-sdk/apis/dynamodb-2011-12-05.paginators.json"(exports2, module2) {
    module2.exports = {
      pagination: {
        BatchGetItem: {
          input_token: "RequestItems",
          output_token: "UnprocessedKeys"
        },
        ListTables: {
          input_token: "ExclusiveStartTableName",
          limit_key: "Limit",
          output_token: "LastEvaluatedTableName",
          result_key: "TableNames"
        },
        Query: {
          input_token: "ExclusiveStartKey",
          limit_key: "Limit",
          output_token: "LastEvaluatedKey",
          result_key: "Items"
        },
        Scan: {
          input_token: "ExclusiveStartKey",
          limit_key: "Limit",
          output_token: "LastEvaluatedKey",
          result_key: "Items"
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/dynamodb-2011-12-05.waiters2.json
var require_dynamodb_2011_12_05_waiters2 = __commonJS({
  "node_modules/aws-sdk/apis/dynamodb-2011-12-05.waiters2.json"(exports2, module2) {
    module2.exports = {
      version: 2,
      waiters: {
        TableExists: {
          delay: 20,
          operation: "DescribeTable",
          maxAttempts: 25,
          acceptors: [
            {
              expected: "ACTIVE",
              matcher: "path",
              state: "success",
              argument: "Table.TableStatus"
            },
            {
              expected: "ResourceNotFoundException",
              matcher: "error",
              state: "retry"
            }
          ]
        },
        TableNotExists: {
          delay: 20,
          operation: "DescribeTable",
          maxAttempts: 25,
          acceptors: [
            {
              expected: "ResourceNotFoundException",
              matcher: "error",
              state: "success"
            }
          ]
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/dynamodb-2012-08-10.min.json
var require_dynamodb_2012_08_10_min = __commonJS({
  "node_modules/aws-sdk/apis/dynamodb-2012-08-10.min.json"(exports2, module2) {
    module2.exports = {
      version: "2.0",
      metadata: {
        apiVersion: "2012-08-10",
        endpointPrefix: "dynamodb",
        jsonVersion: "1.0",
        protocol: "json",
        serviceAbbreviation: "DynamoDB",
        serviceFullName: "Amazon DynamoDB",
        serviceId: "DynamoDB",
        signatureVersion: "v4",
        targetPrefix: "DynamoDB_20120810",
        uid: "dynamodb-2012-08-10"
      },
      operations: {
        BatchExecuteStatement: {
          input: {
            type: "structure",
            required: [
              "Statements"
            ],
            members: {
              Statements: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "Statement"
                  ],
                  members: {
                    Statement: {},
                    Parameters: {
                      shape: "S5"
                    },
                    ConsistentRead: {
                      type: "boolean"
                    }
                  }
                }
              },
              ReturnConsumedCapacity: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Responses: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    Error: {
                      type: "structure",
                      members: {
                        Code: {},
                        Message: {}
                      }
                    },
                    TableName: {},
                    Item: {
                      shape: "Sr"
                    }
                  }
                }
              },
              ConsumedCapacity: {
                shape: "Ss"
              }
            }
          }
        },
        BatchGetItem: {
          input: {
            type: "structure",
            required: [
              "RequestItems"
            ],
            members: {
              RequestItems: {
                shape: "Sz"
              },
              ReturnConsumedCapacity: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Responses: {
                type: "map",
                key: {},
                value: {
                  shape: "S19"
                }
              },
              UnprocessedKeys: {
                shape: "Sz"
              },
              ConsumedCapacity: {
                shape: "Ss"
              }
            }
          },
          endpointdiscovery: {}
        },
        BatchWriteItem: {
          input: {
            type: "structure",
            required: [
              "RequestItems"
            ],
            members: {
              RequestItems: {
                shape: "S1b"
              },
              ReturnConsumedCapacity: {},
              ReturnItemCollectionMetrics: {}
            }
          },
          output: {
            type: "structure",
            members: {
              UnprocessedItems: {
                shape: "S1b"
              },
              ItemCollectionMetrics: {
                shape: "S1j"
              },
              ConsumedCapacity: {
                shape: "Ss"
              }
            }
          },
          endpointdiscovery: {}
        },
        CreateBackup: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "BackupName"
            ],
            members: {
              TableName: {},
              BackupName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              BackupDetails: {
                shape: "S1s"
              }
            }
          },
          endpointdiscovery: {}
        },
        CreateGlobalTable: {
          input: {
            type: "structure",
            required: [
              "GlobalTableName",
              "ReplicationGroup"
            ],
            members: {
              GlobalTableName: {},
              ReplicationGroup: {
                shape: "S20"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              GlobalTableDescription: {
                shape: "S24"
              }
            }
          },
          endpointdiscovery: {}
        },
        CreateTable: {
          input: {
            type: "structure",
            required: [
              "AttributeDefinitions",
              "TableName",
              "KeySchema"
            ],
            members: {
              AttributeDefinitions: {
                shape: "S2k"
              },
              TableName: {},
              KeySchema: {
                shape: "S2o"
              },
              LocalSecondaryIndexes: {
                shape: "S2r"
              },
              GlobalSecondaryIndexes: {
                shape: "S2x"
              },
              BillingMode: {},
              ProvisionedThroughput: {
                shape: "S2z"
              },
              StreamSpecification: {
                shape: "S31"
              },
              SSESpecification: {
                shape: "S34"
              },
              Tags: {
                shape: "S37"
              },
              TableClass: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S3c"
              }
            }
          },
          endpointdiscovery: {}
        },
        DeleteBackup: {
          input: {
            type: "structure",
            required: [
              "BackupArn"
            ],
            members: {
              BackupArn: {}
            }
          },
          output: {
            type: "structure",
            members: {
              BackupDescription: {
                shape: "S40"
              }
            }
          },
          endpointdiscovery: {}
        },
        DeleteItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Key"
            ],
            members: {
              TableName: {},
              Key: {
                shape: "S12"
              },
              Expected: {
                shape: "S4d"
              },
              ConditionalOperator: {},
              ReturnValues: {},
              ReturnConsumedCapacity: {},
              ReturnItemCollectionMetrics: {},
              ConditionExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              },
              ExpressionAttributeValues: {
                shape: "S4l"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Attributes: {
                shape: "Sr"
              },
              ConsumedCapacity: {
                shape: "St"
              },
              ItemCollectionMetrics: {
                shape: "S1l"
              }
            }
          },
          endpointdiscovery: {}
        },
        DeleteTable: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S3c"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeBackup: {
          input: {
            type: "structure",
            required: [
              "BackupArn"
            ],
            members: {
              BackupArn: {}
            }
          },
          output: {
            type: "structure",
            members: {
              BackupDescription: {
                shape: "S40"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeContinuousBackups: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              ContinuousBackupsDescription: {
                shape: "S4u"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeContributorInsights: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {},
              IndexName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableName: {},
              IndexName: {},
              ContributorInsightsRuleList: {
                type: "list",
                member: {}
              },
              ContributorInsightsStatus: {},
              LastUpdateDateTime: {
                type: "timestamp"
              },
              FailureException: {
                type: "structure",
                members: {
                  ExceptionName: {},
                  ExceptionDescription: {}
                }
              }
            }
          }
        },
        DescribeEndpoints: {
          input: {
            type: "structure",
            members: {}
          },
          output: {
            type: "structure",
            required: [
              "Endpoints"
            ],
            members: {
              Endpoints: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "Address",
                    "CachePeriodInMinutes"
                  ],
                  members: {
                    Address: {},
                    CachePeriodInMinutes: {
                      type: "long"
                    }
                  }
                }
              }
            }
          },
          endpointoperation: true
        },
        DescribeExport: {
          input: {
            type: "structure",
            required: [
              "ExportArn"
            ],
            members: {
              ExportArn: {}
            }
          },
          output: {
            type: "structure",
            members: {
              ExportDescription: {
                shape: "S5e"
              }
            }
          }
        },
        DescribeGlobalTable: {
          input: {
            type: "structure",
            required: [
              "GlobalTableName"
            ],
            members: {
              GlobalTableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              GlobalTableDescription: {
                shape: "S24"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeGlobalTableSettings: {
          input: {
            type: "structure",
            required: [
              "GlobalTableName"
            ],
            members: {
              GlobalTableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              GlobalTableName: {},
              ReplicaSettings: {
                shape: "S5y"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeImport: {
          input: {
            type: "structure",
            required: [
              "ImportArn"
            ],
            members: {
              ImportArn: {}
            }
          },
          output: {
            type: "structure",
            required: [
              "ImportTableDescription"
            ],
            members: {
              ImportTableDescription: {
                shape: "S6c"
              }
            }
          }
        },
        DescribeKinesisStreamingDestination: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableName: {},
              KinesisDataStreamDestinations: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    StreamArn: {},
                    DestinationStatus: {},
                    DestinationStatusDescription: {}
                  }
                }
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeLimits: {
          input: {
            type: "structure",
            members: {}
          },
          output: {
            type: "structure",
            members: {
              AccountMaxReadCapacityUnits: {
                type: "long"
              },
              AccountMaxWriteCapacityUnits: {
                type: "long"
              },
              TableMaxReadCapacityUnits: {
                type: "long"
              },
              TableMaxWriteCapacityUnits: {
                type: "long"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeTable: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Table: {
                shape: "S3c"
              }
            }
          },
          endpointdiscovery: {}
        },
        DescribeTableReplicaAutoScaling: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableAutoScalingDescription: {
                shape: "S74"
              }
            }
          }
        },
        DescribeTimeToLive: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TimeToLiveDescription: {
                shape: "S49"
              }
            }
          },
          endpointdiscovery: {}
        },
        DisableKinesisStreamingDestination: {
          input: {
            shape: "S7b"
          },
          output: {
            shape: "S7c"
          },
          endpointdiscovery: {}
        },
        EnableKinesisStreamingDestination: {
          input: {
            shape: "S7b"
          },
          output: {
            shape: "S7c"
          },
          endpointdiscovery: {}
        },
        ExecuteStatement: {
          input: {
            type: "structure",
            required: [
              "Statement"
            ],
            members: {
              Statement: {},
              Parameters: {
                shape: "S5"
              },
              ConsistentRead: {
                type: "boolean"
              },
              NextToken: {},
              ReturnConsumedCapacity: {},
              Limit: {
                type: "integer"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Items: {
                shape: "S19"
              },
              NextToken: {},
              ConsumedCapacity: {
                shape: "St"
              },
              LastEvaluatedKey: {
                shape: "S12"
              }
            }
          }
        },
        ExecuteTransaction: {
          input: {
            type: "structure",
            required: [
              "TransactStatements"
            ],
            members: {
              TransactStatements: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "Statement"
                  ],
                  members: {
                    Statement: {},
                    Parameters: {
                      shape: "S5"
                    }
                  }
                }
              },
              ClientRequestToken: {
                idempotencyToken: true
              },
              ReturnConsumedCapacity: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Responses: {
                shape: "S7m"
              },
              ConsumedCapacity: {
                shape: "Ss"
              }
            }
          }
        },
        ExportTableToPointInTime: {
          input: {
            type: "structure",
            required: [
              "TableArn",
              "S3Bucket"
            ],
            members: {
              TableArn: {},
              ExportTime: {
                type: "timestamp"
              },
              ClientToken: {
                idempotencyToken: true
              },
              S3Bucket: {},
              S3BucketOwner: {},
              S3Prefix: {},
              S3SseAlgorithm: {},
              S3SseKmsKeyId: {},
              ExportFormat: {}
            }
          },
          output: {
            type: "structure",
            members: {
              ExportDescription: {
                shape: "S5e"
              }
            }
          }
        },
        GetItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Key"
            ],
            members: {
              TableName: {},
              Key: {
                shape: "S12"
              },
              AttributesToGet: {
                shape: "S13"
              },
              ConsistentRead: {
                type: "boolean"
              },
              ReturnConsumedCapacity: {},
              ProjectionExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Item: {
                shape: "Sr"
              },
              ConsumedCapacity: {
                shape: "St"
              }
            }
          },
          endpointdiscovery: {}
        },
        ImportTable: {
          input: {
            type: "structure",
            required: [
              "S3BucketSource",
              "InputFormat",
              "TableCreationParameters"
            ],
            members: {
              ClientToken: {
                idempotencyToken: true
              },
              S3BucketSource: {
                shape: "S6e"
              },
              InputFormat: {},
              InputFormatOptions: {
                shape: "S6i"
              },
              InputCompressionType: {},
              TableCreationParameters: {
                shape: "S6o"
              }
            }
          },
          output: {
            type: "structure",
            required: [
              "ImportTableDescription"
            ],
            members: {
              ImportTableDescription: {
                shape: "S6c"
              }
            }
          }
        },
        ListBackups: {
          input: {
            type: "structure",
            members: {
              TableName: {},
              Limit: {
                type: "integer"
              },
              TimeRangeLowerBound: {
                type: "timestamp"
              },
              TimeRangeUpperBound: {
                type: "timestamp"
              },
              ExclusiveStartBackupArn: {},
              BackupType: {}
            }
          },
          output: {
            type: "structure",
            members: {
              BackupSummaries: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    TableName: {},
                    TableId: {},
                    TableArn: {},
                    BackupArn: {},
                    BackupName: {},
                    BackupCreationDateTime: {
                      type: "timestamp"
                    },
                    BackupExpiryDateTime: {
                      type: "timestamp"
                    },
                    BackupStatus: {},
                    BackupType: {},
                    BackupSizeBytes: {
                      type: "long"
                    }
                  }
                }
              },
              LastEvaluatedBackupArn: {}
            }
          },
          endpointdiscovery: {}
        },
        ListContributorInsights: {
          input: {
            type: "structure",
            members: {
              TableName: {},
              NextToken: {},
              MaxResults: {
                type: "integer"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              ContributorInsightsSummaries: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    TableName: {},
                    IndexName: {},
                    ContributorInsightsStatus: {}
                  }
                }
              },
              NextToken: {}
            }
          }
        },
        ListExports: {
          input: {
            type: "structure",
            members: {
              TableArn: {},
              MaxResults: {
                type: "integer"
              },
              NextToken: {}
            }
          },
          output: {
            type: "structure",
            members: {
              ExportSummaries: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    ExportArn: {},
                    ExportStatus: {}
                  }
                }
              },
              NextToken: {}
            }
          }
        },
        ListGlobalTables: {
          input: {
            type: "structure",
            members: {
              ExclusiveStartGlobalTableName: {},
              Limit: {
                type: "integer"
              },
              RegionName: {}
            }
          },
          output: {
            type: "structure",
            members: {
              GlobalTables: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    GlobalTableName: {},
                    ReplicationGroup: {
                      shape: "S20"
                    }
                  }
                }
              },
              LastEvaluatedGlobalTableName: {}
            }
          },
          endpointdiscovery: {}
        },
        ListImports: {
          input: {
            type: "structure",
            members: {
              TableArn: {},
              PageSize: {
                type: "integer"
              },
              NextToken: {}
            }
          },
          output: {
            type: "structure",
            members: {
              ImportSummaryList: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    ImportArn: {},
                    ImportStatus: {},
                    TableArn: {},
                    S3BucketSource: {
                      shape: "S6e"
                    },
                    CloudWatchLogGroupArn: {},
                    InputFormat: {},
                    StartTime: {
                      type: "timestamp"
                    },
                    EndTime: {
                      type: "timestamp"
                    }
                  }
                }
              },
              NextToken: {}
            }
          }
        },
        ListTables: {
          input: {
            type: "structure",
            members: {
              ExclusiveStartTableName: {},
              Limit: {
                type: "integer"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableNames: {
                type: "list",
                member: {}
              },
              LastEvaluatedTableName: {}
            }
          },
          endpointdiscovery: {}
        },
        ListTagsOfResource: {
          input: {
            type: "structure",
            required: [
              "ResourceArn"
            ],
            members: {
              ResourceArn: {},
              NextToken: {}
            }
          },
          output: {
            type: "structure",
            members: {
              Tags: {
                shape: "S37"
              },
              NextToken: {}
            }
          },
          endpointdiscovery: {}
        },
        PutItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Item"
            ],
            members: {
              TableName: {},
              Item: {
                shape: "S1f"
              },
              Expected: {
                shape: "S4d"
              },
              ReturnValues: {},
              ReturnConsumedCapacity: {},
              ReturnItemCollectionMetrics: {},
              ConditionalOperator: {},
              ConditionExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              },
              ExpressionAttributeValues: {
                shape: "S4l"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Attributes: {
                shape: "Sr"
              },
              ConsumedCapacity: {
                shape: "St"
              },
              ItemCollectionMetrics: {
                shape: "S1l"
              }
            }
          },
          endpointdiscovery: {}
        },
        Query: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {},
              IndexName: {},
              Select: {},
              AttributesToGet: {
                shape: "S13"
              },
              Limit: {
                type: "integer"
              },
              ConsistentRead: {
                type: "boolean"
              },
              KeyConditions: {
                type: "map",
                key: {},
                value: {
                  shape: "S90"
                }
              },
              QueryFilter: {
                shape: "S91"
              },
              ConditionalOperator: {},
              ScanIndexForward: {
                type: "boolean"
              },
              ExclusiveStartKey: {
                shape: "S12"
              },
              ReturnConsumedCapacity: {},
              ProjectionExpression: {},
              FilterExpression: {},
              KeyConditionExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              },
              ExpressionAttributeValues: {
                shape: "S4l"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Items: {
                shape: "S19"
              },
              Count: {
                type: "integer"
              },
              ScannedCount: {
                type: "integer"
              },
              LastEvaluatedKey: {
                shape: "S12"
              },
              ConsumedCapacity: {
                shape: "St"
              }
            }
          },
          endpointdiscovery: {}
        },
        RestoreTableFromBackup: {
          input: {
            type: "structure",
            required: [
              "TargetTableName",
              "BackupArn"
            ],
            members: {
              TargetTableName: {},
              BackupArn: {},
              BillingModeOverride: {},
              GlobalSecondaryIndexOverride: {
                shape: "S2x"
              },
              LocalSecondaryIndexOverride: {
                shape: "S2r"
              },
              ProvisionedThroughputOverride: {
                shape: "S2z"
              },
              SSESpecificationOverride: {
                shape: "S34"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S3c"
              }
            }
          },
          endpointdiscovery: {}
        },
        RestoreTableToPointInTime: {
          input: {
            type: "structure",
            required: [
              "TargetTableName"
            ],
            members: {
              SourceTableArn: {},
              SourceTableName: {},
              TargetTableName: {},
              UseLatestRestorableTime: {
                type: "boolean"
              },
              RestoreDateTime: {
                type: "timestamp"
              },
              BillingModeOverride: {},
              GlobalSecondaryIndexOverride: {
                shape: "S2x"
              },
              LocalSecondaryIndexOverride: {
                shape: "S2r"
              },
              ProvisionedThroughputOverride: {
                shape: "S2z"
              },
              SSESpecificationOverride: {
                shape: "S34"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S3c"
              }
            }
          },
          endpointdiscovery: {}
        },
        Scan: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              TableName: {},
              IndexName: {},
              AttributesToGet: {
                shape: "S13"
              },
              Limit: {
                type: "integer"
              },
              Select: {},
              ScanFilter: {
                shape: "S91"
              },
              ConditionalOperator: {},
              ExclusiveStartKey: {
                shape: "S12"
              },
              ReturnConsumedCapacity: {},
              TotalSegments: {
                type: "integer"
              },
              Segment: {
                type: "integer"
              },
              ProjectionExpression: {},
              FilterExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              },
              ExpressionAttributeValues: {
                shape: "S4l"
              },
              ConsistentRead: {
                type: "boolean"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Items: {
                shape: "S19"
              },
              Count: {
                type: "integer"
              },
              ScannedCount: {
                type: "integer"
              },
              LastEvaluatedKey: {
                shape: "S12"
              },
              ConsumedCapacity: {
                shape: "St"
              }
            }
          },
          endpointdiscovery: {}
        },
        TagResource: {
          input: {
            type: "structure",
            required: [
              "ResourceArn",
              "Tags"
            ],
            members: {
              ResourceArn: {},
              Tags: {
                shape: "S37"
              }
            }
          },
          endpointdiscovery: {}
        },
        TransactGetItems: {
          input: {
            type: "structure",
            required: [
              "TransactItems"
            ],
            members: {
              TransactItems: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "Get"
                  ],
                  members: {
                    Get: {
                      type: "structure",
                      required: [
                        "Key",
                        "TableName"
                      ],
                      members: {
                        Key: {
                          shape: "S12"
                        },
                        TableName: {},
                        ProjectionExpression: {},
                        ExpressionAttributeNames: {
                          shape: "S15"
                        }
                      }
                    }
                  }
                }
              },
              ReturnConsumedCapacity: {}
            }
          },
          output: {
            type: "structure",
            members: {
              ConsumedCapacity: {
                shape: "Ss"
              },
              Responses: {
                shape: "S7m"
              }
            }
          },
          endpointdiscovery: {}
        },
        TransactWriteItems: {
          input: {
            type: "structure",
            required: [
              "TransactItems"
            ],
            members: {
              TransactItems: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    ConditionCheck: {
                      type: "structure",
                      required: [
                        "Key",
                        "TableName",
                        "ConditionExpression"
                      ],
                      members: {
                        Key: {
                          shape: "S12"
                        },
                        TableName: {},
                        ConditionExpression: {},
                        ExpressionAttributeNames: {
                          shape: "S15"
                        },
                        ExpressionAttributeValues: {
                          shape: "S4l"
                        },
                        ReturnValuesOnConditionCheckFailure: {}
                      }
                    },
                    Put: {
                      type: "structure",
                      required: [
                        "Item",
                        "TableName"
                      ],
                      members: {
                        Item: {
                          shape: "S1f"
                        },
                        TableName: {},
                        ConditionExpression: {},
                        ExpressionAttributeNames: {
                          shape: "S15"
                        },
                        ExpressionAttributeValues: {
                          shape: "S4l"
                        },
                        ReturnValuesOnConditionCheckFailure: {}
                      }
                    },
                    Delete: {
                      type: "structure",
                      required: [
                        "Key",
                        "TableName"
                      ],
                      members: {
                        Key: {
                          shape: "S12"
                        },
                        TableName: {},
                        ConditionExpression: {},
                        ExpressionAttributeNames: {
                          shape: "S15"
                        },
                        ExpressionAttributeValues: {
                          shape: "S4l"
                        },
                        ReturnValuesOnConditionCheckFailure: {}
                      }
                    },
                    Update: {
                      type: "structure",
                      required: [
                        "Key",
                        "UpdateExpression",
                        "TableName"
                      ],
                      members: {
                        Key: {
                          shape: "S12"
                        },
                        UpdateExpression: {},
                        TableName: {},
                        ConditionExpression: {},
                        ExpressionAttributeNames: {
                          shape: "S15"
                        },
                        ExpressionAttributeValues: {
                          shape: "S4l"
                        },
                        ReturnValuesOnConditionCheckFailure: {}
                      }
                    }
                  }
                }
              },
              ReturnConsumedCapacity: {},
              ReturnItemCollectionMetrics: {},
              ClientRequestToken: {
                idempotencyToken: true
              }
            }
          },
          output: {
            type: "structure",
            members: {
              ConsumedCapacity: {
                shape: "Ss"
              },
              ItemCollectionMetrics: {
                shape: "S1j"
              }
            }
          },
          endpointdiscovery: {}
        },
        UntagResource: {
          input: {
            type: "structure",
            required: [
              "ResourceArn",
              "TagKeys"
            ],
            members: {
              ResourceArn: {},
              TagKeys: {
                type: "list",
                member: {}
              }
            }
          },
          endpointdiscovery: {}
        },
        UpdateContinuousBackups: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "PointInTimeRecoverySpecification"
            ],
            members: {
              TableName: {},
              PointInTimeRecoverySpecification: {
                type: "structure",
                required: [
                  "PointInTimeRecoveryEnabled"
                ],
                members: {
                  PointInTimeRecoveryEnabled: {
                    type: "boolean"
                  }
                }
              }
            }
          },
          output: {
            type: "structure",
            members: {
              ContinuousBackupsDescription: {
                shape: "S4u"
              }
            }
          },
          endpointdiscovery: {}
        },
        UpdateContributorInsights: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "ContributorInsightsAction"
            ],
            members: {
              TableName: {},
              IndexName: {},
              ContributorInsightsAction: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableName: {},
              IndexName: {},
              ContributorInsightsStatus: {}
            }
          }
        },
        UpdateGlobalTable: {
          input: {
            type: "structure",
            required: [
              "GlobalTableName",
              "ReplicaUpdates"
            ],
            members: {
              GlobalTableName: {},
              ReplicaUpdates: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    Create: {
                      type: "structure",
                      required: [
                        "RegionName"
                      ],
                      members: {
                        RegionName: {}
                      }
                    },
                    Delete: {
                      type: "structure",
                      required: [
                        "RegionName"
                      ],
                      members: {
                        RegionName: {}
                      }
                    }
                  }
                }
              }
            }
          },
          output: {
            type: "structure",
            members: {
              GlobalTableDescription: {
                shape: "S24"
              }
            }
          },
          endpointdiscovery: {}
        },
        UpdateGlobalTableSettings: {
          input: {
            type: "structure",
            required: [
              "GlobalTableName"
            ],
            members: {
              GlobalTableName: {},
              GlobalTableBillingMode: {},
              GlobalTableProvisionedWriteCapacityUnits: {
                type: "long"
              },
              GlobalTableProvisionedWriteCapacityAutoScalingSettingsUpdate: {
                shape: "Sa8"
              },
              GlobalTableGlobalSecondaryIndexSettingsUpdate: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "IndexName"
                  ],
                  members: {
                    IndexName: {},
                    ProvisionedWriteCapacityUnits: {
                      type: "long"
                    },
                    ProvisionedWriteCapacityAutoScalingSettingsUpdate: {
                      shape: "Sa8"
                    }
                  }
                }
              },
              ReplicaSettingsUpdate: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "RegionName"
                  ],
                  members: {
                    RegionName: {},
                    ReplicaProvisionedReadCapacityUnits: {
                      type: "long"
                    },
                    ReplicaProvisionedReadCapacityAutoScalingSettingsUpdate: {
                      shape: "Sa8"
                    },
                    ReplicaGlobalSecondaryIndexSettingsUpdate: {
                      type: "list",
                      member: {
                        type: "structure",
                        required: [
                          "IndexName"
                        ],
                        members: {
                          IndexName: {},
                          ProvisionedReadCapacityUnits: {
                            type: "long"
                          },
                          ProvisionedReadCapacityAutoScalingSettingsUpdate: {
                            shape: "Sa8"
                          }
                        }
                      }
                    },
                    ReplicaTableClass: {}
                  }
                }
              }
            }
          },
          output: {
            type: "structure",
            members: {
              GlobalTableName: {},
              ReplicaSettings: {
                shape: "S5y"
              }
            }
          },
          endpointdiscovery: {}
        },
        UpdateItem: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "Key"
            ],
            members: {
              TableName: {},
              Key: {
                shape: "S12"
              },
              AttributeUpdates: {
                type: "map",
                key: {},
                value: {
                  type: "structure",
                  members: {
                    Value: {
                      shape: "S6"
                    },
                    Action: {}
                  }
                }
              },
              Expected: {
                shape: "S4d"
              },
              ConditionalOperator: {},
              ReturnValues: {},
              ReturnConsumedCapacity: {},
              ReturnItemCollectionMetrics: {},
              UpdateExpression: {},
              ConditionExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              },
              ExpressionAttributeValues: {
                shape: "S4l"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              Attributes: {
                shape: "Sr"
              },
              ConsumedCapacity: {
                shape: "St"
              },
              ItemCollectionMetrics: {
                shape: "S1l"
              }
            }
          },
          endpointdiscovery: {}
        },
        UpdateTable: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              AttributeDefinitions: {
                shape: "S2k"
              },
              TableName: {},
              BillingMode: {},
              ProvisionedThroughput: {
                shape: "S2z"
              },
              GlobalSecondaryIndexUpdates: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    Update: {
                      type: "structure",
                      required: [
                        "IndexName",
                        "ProvisionedThroughput"
                      ],
                      members: {
                        IndexName: {},
                        ProvisionedThroughput: {
                          shape: "S2z"
                        }
                      }
                    },
                    Create: {
                      type: "structure",
                      required: [
                        "IndexName",
                        "KeySchema",
                        "Projection"
                      ],
                      members: {
                        IndexName: {},
                        KeySchema: {
                          shape: "S2o"
                        },
                        Projection: {
                          shape: "S2t"
                        },
                        ProvisionedThroughput: {
                          shape: "S2z"
                        }
                      }
                    },
                    Delete: {
                      type: "structure",
                      required: [
                        "IndexName"
                      ],
                      members: {
                        IndexName: {}
                      }
                    }
                  }
                }
              },
              StreamSpecification: {
                shape: "S31"
              },
              SSESpecification: {
                shape: "S34"
              },
              ReplicaUpdates: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    Create: {
                      type: "structure",
                      required: [
                        "RegionName"
                      ],
                      members: {
                        RegionName: {},
                        KMSMasterKeyId: {},
                        ProvisionedThroughputOverride: {
                          shape: "S2b"
                        },
                        GlobalSecondaryIndexes: {
                          shape: "Sax"
                        },
                        TableClassOverride: {}
                      }
                    },
                    Update: {
                      type: "structure",
                      required: [
                        "RegionName"
                      ],
                      members: {
                        RegionName: {},
                        KMSMasterKeyId: {},
                        ProvisionedThroughputOverride: {
                          shape: "S2b"
                        },
                        GlobalSecondaryIndexes: {
                          shape: "Sax"
                        },
                        TableClassOverride: {}
                      }
                    },
                    Delete: {
                      type: "structure",
                      required: [
                        "RegionName"
                      ],
                      members: {
                        RegionName: {}
                      }
                    }
                  }
                }
              },
              TableClass: {}
            }
          },
          output: {
            type: "structure",
            members: {
              TableDescription: {
                shape: "S3c"
              }
            }
          },
          endpointdiscovery: {}
        },
        UpdateTableReplicaAutoScaling: {
          input: {
            type: "structure",
            required: [
              "TableName"
            ],
            members: {
              GlobalSecondaryIndexUpdates: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    IndexName: {},
                    ProvisionedWriteCapacityAutoScalingUpdate: {
                      shape: "Sa8"
                    }
                  }
                }
              },
              TableName: {},
              ProvisionedWriteCapacityAutoScalingUpdate: {
                shape: "Sa8"
              },
              ReplicaUpdates: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "RegionName"
                  ],
                  members: {
                    RegionName: {},
                    ReplicaGlobalSecondaryIndexUpdates: {
                      type: "list",
                      member: {
                        type: "structure",
                        members: {
                          IndexName: {},
                          ProvisionedReadCapacityAutoScalingUpdate: {
                            shape: "Sa8"
                          }
                        }
                      }
                    },
                    ReplicaProvisionedReadCapacityAutoScalingUpdate: {
                      shape: "Sa8"
                    }
                  }
                }
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TableAutoScalingDescription: {
                shape: "S74"
              }
            }
          }
        },
        UpdateTimeToLive: {
          input: {
            type: "structure",
            required: [
              "TableName",
              "TimeToLiveSpecification"
            ],
            members: {
              TableName: {},
              TimeToLiveSpecification: {
                shape: "Sbb"
              }
            }
          },
          output: {
            type: "structure",
            members: {
              TimeToLiveSpecification: {
                shape: "Sbb"
              }
            }
          },
          endpointdiscovery: {}
        }
      },
      shapes: {
        S5: {
          type: "list",
          member: {
            shape: "S6"
          }
        },
        S6: {
          type: "structure",
          members: {
            S: {},
            N: {},
            B: {
              type: "blob"
            },
            SS: {
              type: "list",
              member: {}
            },
            NS: {
              type: "list",
              member: {}
            },
            BS: {
              type: "list",
              member: {
                type: "blob"
              }
            },
            M: {
              type: "map",
              key: {},
              value: {
                shape: "S6"
              }
            },
            L: {
              type: "list",
              member: {
                shape: "S6"
              }
            },
            NULL: {
              type: "boolean"
            },
            BOOL: {
              type: "boolean"
            }
          }
        },
        Sr: {
          type: "map",
          key: {},
          value: {
            shape: "S6"
          }
        },
        Ss: {
          type: "list",
          member: {
            shape: "St"
          }
        },
        St: {
          type: "structure",
          members: {
            TableName: {},
            CapacityUnits: {
              type: "double"
            },
            ReadCapacityUnits: {
              type: "double"
            },
            WriteCapacityUnits: {
              type: "double"
            },
            Table: {
              shape: "Sv"
            },
            LocalSecondaryIndexes: {
              shape: "Sw"
            },
            GlobalSecondaryIndexes: {
              shape: "Sw"
            }
          }
        },
        Sv: {
          type: "structure",
          members: {
            ReadCapacityUnits: {
              type: "double"
            },
            WriteCapacityUnits: {
              type: "double"
            },
            CapacityUnits: {
              type: "double"
            }
          }
        },
        Sw: {
          type: "map",
          key: {},
          value: {
            shape: "Sv"
          }
        },
        Sz: {
          type: "map",
          key: {},
          value: {
            type: "structure",
            required: [
              "Keys"
            ],
            members: {
              Keys: {
                type: "list",
                member: {
                  shape: "S12"
                }
              },
              AttributesToGet: {
                shape: "S13"
              },
              ConsistentRead: {
                type: "boolean"
              },
              ProjectionExpression: {},
              ExpressionAttributeNames: {
                shape: "S15"
              }
            }
          }
        },
        S12: {
          type: "map",
          key: {},
          value: {
            shape: "S6"
          }
        },
        S13: {
          type: "list",
          member: {}
        },
        S15: {
          type: "map",
          key: {},
          value: {}
        },
        S19: {
          type: "list",
          member: {
            shape: "Sr"
          }
        },
        S1b: {
          type: "map",
          key: {},
          value: {
            type: "list",
            member: {
              type: "structure",
              members: {
                PutRequest: {
                  type: "structure",
                  required: [
                    "Item"
                  ],
                  members: {
                    Item: {
                      shape: "S1f"
                    }
                  }
                },
                DeleteRequest: {
                  type: "structure",
                  required: [
                    "Key"
                  ],
                  members: {
                    Key: {
                      shape: "S12"
                    }
                  }
                }
              }
            }
          }
        },
        S1f: {
          type: "map",
          key: {},
          value: {
            shape: "S6"
          }
        },
        S1j: {
          type: "map",
          key: {},
          value: {
            type: "list",
            member: {
              shape: "S1l"
            }
          }
        },
        S1l: {
          type: "structure",
          members: {
            ItemCollectionKey: {
              type: "map",
              key: {},
              value: {
                shape: "S6"
              }
            },
            SizeEstimateRangeGB: {
              type: "list",
              member: {
                type: "double"
              }
            }
          }
        },
        S1s: {
          type: "structure",
          required: [
            "BackupArn",
            "BackupName",
            "BackupStatus",
            "BackupType",
            "BackupCreationDateTime"
          ],
          members: {
            BackupArn: {},
            BackupName: {},
            BackupSizeBytes: {
              type: "long"
            },
            BackupStatus: {},
            BackupType: {},
            BackupCreationDateTime: {
              type: "timestamp"
            },
            BackupExpiryDateTime: {
              type: "timestamp"
            }
          }
        },
        S20: {
          type: "list",
          member: {
            type: "structure",
            members: {
              RegionName: {}
            }
          }
        },
        S24: {
          type: "structure",
          members: {
            ReplicationGroup: {
              shape: "S25"
            },
            GlobalTableArn: {},
            CreationDateTime: {
              type: "timestamp"
            },
            GlobalTableStatus: {},
            GlobalTableName: {}
          }
        },
        S25: {
          type: "list",
          member: {
            type: "structure",
            members: {
              RegionName: {},
              ReplicaStatus: {},
              ReplicaStatusDescription: {},
              ReplicaStatusPercentProgress: {},
              KMSMasterKeyId: {},
              ProvisionedThroughputOverride: {
                shape: "S2b"
              },
              GlobalSecondaryIndexes: {
                type: "list",
                member: {
                  type: "structure",
                  members: {
                    IndexName: {},
                    ProvisionedThroughputOverride: {
                      shape: "S2b"
                    }
                  }
                }
              },
              ReplicaInaccessibleDateTime: {
                type: "timestamp"
              },
              ReplicaTableClassSummary: {
                shape: "S2f"
              }
            }
          }
        },
        S2b: {
          type: "structure",
          members: {
            ReadCapacityUnits: {
              type: "long"
            }
          }
        },
        S2f: {
          type: "structure",
          members: {
            TableClass: {},
            LastUpdateDateTime: {
              type: "timestamp"
            }
          }
        },
        S2k: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "AttributeName",
              "AttributeType"
            ],
            members: {
              AttributeName: {},
              AttributeType: {}
            }
          }
        },
        S2o: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "AttributeName",
              "KeyType"
            ],
            members: {
              AttributeName: {},
              KeyType: {}
            }
          }
        },
        S2r: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "IndexName",
              "KeySchema",
              "Projection"
            ],
            members: {
              IndexName: {},
              KeySchema: {
                shape: "S2o"
              },
              Projection: {
                shape: "S2t"
              }
            }
          }
        },
        S2t: {
          type: "structure",
          members: {
            ProjectionType: {},
            NonKeyAttributes: {
              type: "list",
              member: {}
            }
          }
        },
        S2x: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "IndexName",
              "KeySchema",
              "Projection"
            ],
            members: {
              IndexName: {},
              KeySchema: {
                shape: "S2o"
              },
              Projection: {
                shape: "S2t"
              },
              ProvisionedThroughput: {
                shape: "S2z"
              }
            }
          }
        },
        S2z: {
          type: "structure",
          required: [
            "ReadCapacityUnits",
            "WriteCapacityUnits"
          ],
          members: {
            ReadCapacityUnits: {
              type: "long"
            },
            WriteCapacityUnits: {
              type: "long"
            }
          }
        },
        S31: {
          type: "structure",
          required: [
            "StreamEnabled"
          ],
          members: {
            StreamEnabled: {
              type: "boolean"
            },
            StreamViewType: {}
          }
        },
        S34: {
          type: "structure",
          members: {
            Enabled: {
              type: "boolean"
            },
            SSEType: {},
            KMSMasterKeyId: {}
          }
        },
        S37: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "Key",
              "Value"
            ],
            members: {
              Key: {},
              Value: {}
            }
          }
        },
        S3c: {
          type: "structure",
          members: {
            AttributeDefinitions: {
              shape: "S2k"
            },
            TableName: {},
            KeySchema: {
              shape: "S2o"
            },
            TableStatus: {},
            CreationDateTime: {
              type: "timestamp"
            },
            ProvisionedThroughput: {
              shape: "S3e"
            },
            TableSizeBytes: {
              type: "long"
            },
            ItemCount: {
              type: "long"
            },
            TableArn: {},
            TableId: {},
            BillingModeSummary: {
              shape: "S3i"
            },
            LocalSecondaryIndexes: {
              type: "list",
              member: {
                type: "structure",
                members: {
                  IndexName: {},
                  KeySchema: {
                    shape: "S2o"
                  },
                  Projection: {
                    shape: "S2t"
                  },
                  IndexSizeBytes: {
                    type: "long"
                  },
                  ItemCount: {
                    type: "long"
                  },
                  IndexArn: {}
                }
              }
            },
            GlobalSecondaryIndexes: {
              type: "list",
              member: {
                type: "structure",
                members: {
                  IndexName: {},
                  KeySchema: {
                    shape: "S2o"
                  },
                  Projection: {
                    shape: "S2t"
                  },
                  IndexStatus: {},
                  Backfilling: {
                    type: "boolean"
                  },
                  ProvisionedThroughput: {
                    shape: "S3e"
                  },
                  IndexSizeBytes: {
                    type: "long"
                  },
                  ItemCount: {
                    type: "long"
                  },
                  IndexArn: {}
                }
              }
            },
            StreamSpecification: {
              shape: "S31"
            },
            LatestStreamLabel: {},
            LatestStreamArn: {},
            GlobalTableVersion: {},
            Replicas: {
              shape: "S25"
            },
            RestoreSummary: {
              type: "structure",
              required: [
                "RestoreDateTime",
                "RestoreInProgress"
              ],
              members: {
                SourceBackupArn: {},
                SourceTableArn: {},
                RestoreDateTime: {
                  type: "timestamp"
                },
                RestoreInProgress: {
                  type: "boolean"
                }
              }
            },
            SSEDescription: {
              shape: "S3t"
            },
            ArchivalSummary: {
              type: "structure",
              members: {
                ArchivalDateTime: {
                  type: "timestamp"
                },
                ArchivalReason: {},
                ArchivalBackupArn: {}
              }
            },
            TableClassSummary: {
              shape: "S2f"
            }
          }
        },
        S3e: {
          type: "structure",
          members: {
            LastIncreaseDateTime: {
              type: "timestamp"
            },
            LastDecreaseDateTime: {
              type: "timestamp"
            },
            NumberOfDecreasesToday: {
              type: "long"
            },
            ReadCapacityUnits: {
              type: "long"
            },
            WriteCapacityUnits: {
              type: "long"
            }
          }
        },
        S3i: {
          type: "structure",
          members: {
            BillingMode: {},
            LastUpdateToPayPerRequestDateTime: {
              type: "timestamp"
            }
          }
        },
        S3t: {
          type: "structure",
          members: {
            Status: {},
            SSEType: {},
            KMSMasterKeyArn: {},
            InaccessibleEncryptionDateTime: {
              type: "timestamp"
            }
          }
        },
        S40: {
          type: "structure",
          members: {
            BackupDetails: {
              shape: "S1s"
            },
            SourceTableDetails: {
              type: "structure",
              required: [
                "TableName",
                "TableId",
                "KeySchema",
                "TableCreationDateTime",
                "ProvisionedThroughput"
              ],
              members: {
                TableName: {},
                TableId: {},
                TableArn: {},
                TableSizeBytes: {
                  type: "long"
                },
                KeySchema: {
                  shape: "S2o"
                },
                TableCreationDateTime: {
                  type: "timestamp"
                },
                ProvisionedThroughput: {
                  shape: "S2z"
                },
                ItemCount: {
                  type: "long"
                },
                BillingMode: {}
              }
            },
            SourceTableFeatureDetails: {
              type: "structure",
              members: {
                LocalSecondaryIndexes: {
                  type: "list",
                  member: {
                    type: "structure",
                    members: {
                      IndexName: {},
                      KeySchema: {
                        shape: "S2o"
                      },
                      Projection: {
                        shape: "S2t"
                      }
                    }
                  }
                },
                GlobalSecondaryIndexes: {
                  type: "list",
                  member: {
                    type: "structure",
                    members: {
                      IndexName: {},
                      KeySchema: {
                        shape: "S2o"
                      },
                      Projection: {
                        shape: "S2t"
                      },
                      ProvisionedThroughput: {
                        shape: "S2z"
                      }
                    }
                  }
                },
                StreamDescription: {
                  shape: "S31"
                },
                TimeToLiveDescription: {
                  shape: "S49"
                },
                SSEDescription: {
                  shape: "S3t"
                }
              }
            }
          }
        },
        S49: {
          type: "structure",
          members: {
            TimeToLiveStatus: {},
            AttributeName: {}
          }
        },
        S4d: {
          type: "map",
          key: {},
          value: {
            type: "structure",
            members: {
              Value: {
                shape: "S6"
              },
              Exists: {
                type: "boolean"
              },
              ComparisonOperator: {},
              AttributeValueList: {
                shape: "S4h"
              }
            }
          }
        },
        S4h: {
          type: "list",
          member: {
            shape: "S6"
          }
        },
        S4l: {
          type: "map",
          key: {},
          value: {
            shape: "S6"
          }
        },
        S4u: {
          type: "structure",
          required: [
            "ContinuousBackupsStatus"
          ],
          members: {
            ContinuousBackupsStatus: {},
            PointInTimeRecoveryDescription: {
              type: "structure",
              members: {
                PointInTimeRecoveryStatus: {},
                EarliestRestorableDateTime: {
                  type: "timestamp"
                },
                LatestRestorableDateTime: {
                  type: "timestamp"
                }
              }
            }
          }
        },
        S5e: {
          type: "structure",
          members: {
            ExportArn: {},
            ExportStatus: {},
            StartTime: {
              type: "timestamp"
            },
            EndTime: {
              type: "timestamp"
            },
            ExportManifest: {},
            TableArn: {},
            TableId: {},
            ExportTime: {
              type: "timestamp"
            },
            ClientToken: {},
            S3Bucket: {},
            S3BucketOwner: {},
            S3Prefix: {},
            S3SseAlgorithm: {},
            S3SseKmsKeyId: {},
            FailureCode: {},
            FailureMessage: {},
            ExportFormat: {},
            BilledSizeBytes: {
              type: "long"
            },
            ItemCount: {
              type: "long"
            }
          }
        },
        S5y: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "RegionName"
            ],
            members: {
              RegionName: {},
              ReplicaStatus: {},
              ReplicaBillingModeSummary: {
                shape: "S3i"
              },
              ReplicaProvisionedReadCapacityUnits: {
                type: "long"
              },
              ReplicaProvisionedReadCapacityAutoScalingSettings: {
                shape: "S60"
              },
              ReplicaProvisionedWriteCapacityUnits: {
                type: "long"
              },
              ReplicaProvisionedWriteCapacityAutoScalingSettings: {
                shape: "S60"
              },
              ReplicaGlobalSecondaryIndexSettings: {
                type: "list",
                member: {
                  type: "structure",
                  required: [
                    "IndexName"
                  ],
                  members: {
                    IndexName: {},
                    IndexStatus: {},
                    ProvisionedReadCapacityUnits: {
                      type: "long"
                    },
                    ProvisionedReadCapacityAutoScalingSettings: {
                      shape: "S60"
                    },
                    ProvisionedWriteCapacityUnits: {
                      type: "long"
                    },
                    ProvisionedWriteCapacityAutoScalingSettings: {
                      shape: "S60"
                    }
                  }
                }
              },
              ReplicaTableClassSummary: {
                shape: "S2f"
              }
            }
          }
        },
        S60: {
          type: "structure",
          members: {
            MinimumUnits: {
              type: "long"
            },
            MaximumUnits: {
              type: "long"
            },
            AutoScalingDisabled: {
              type: "boolean"
            },
            AutoScalingRoleArn: {},
            ScalingPolicies: {
              type: "list",
              member: {
                type: "structure",
                members: {
                  PolicyName: {},
                  TargetTrackingScalingPolicyConfiguration: {
                    type: "structure",
                    required: [
                      "TargetValue"
                    ],
                    members: {
                      DisableScaleIn: {
                        type: "boolean"
                      },
                      ScaleInCooldown: {
                        type: "integer"
                      },
                      ScaleOutCooldown: {
                        type: "integer"
                      },
                      TargetValue: {
                        type: "double"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        S6c: {
          type: "structure",
          members: {
            ImportArn: {},
            ImportStatus: {},
            TableArn: {},
            TableId: {},
            ClientToken: {},
            S3BucketSource: {
              shape: "S6e"
            },
            ErrorCount: {
              type: "long"
            },
            CloudWatchLogGroupArn: {},
            InputFormat: {},
            InputFormatOptions: {
              shape: "S6i"
            },
            InputCompressionType: {},
            TableCreationParameters: {
              shape: "S6o"
            },
            StartTime: {
              type: "timestamp"
            },
            EndTime: {
              type: "timestamp"
            },
            ProcessedSizeBytes: {
              type: "long"
            },
            ProcessedItemCount: {
              type: "long"
            },
            ImportedItemCount: {
              type: "long"
            },
            FailureCode: {},
            FailureMessage: {}
          }
        },
        S6e: {
          type: "structure",
          required: [
            "S3Bucket"
          ],
          members: {
            S3BucketOwner: {},
            S3Bucket: {},
            S3KeyPrefix: {}
          }
        },
        S6i: {
          type: "structure",
          members: {
            Csv: {
              type: "structure",
              members: {
                Delimiter: {},
                HeaderList: {
                  type: "list",
                  member: {}
                }
              }
            }
          }
        },
        S6o: {
          type: "structure",
          required: [
            "TableName",
            "AttributeDefinitions",
            "KeySchema"
          ],
          members: {
            TableName: {},
            AttributeDefinitions: {
              shape: "S2k"
            },
            KeySchema: {
              shape: "S2o"
            },
            BillingMode: {},
            ProvisionedThroughput: {
              shape: "S2z"
            },
            SSESpecification: {
              shape: "S34"
            },
            GlobalSecondaryIndexes: {
              shape: "S2x"
            }
          }
        },
        S74: {
          type: "structure",
          members: {
            TableName: {},
            TableStatus: {},
            Replicas: {
              type: "list",
              member: {
                type: "structure",
                members: {
                  RegionName: {},
                  GlobalSecondaryIndexes: {
                    type: "list",
                    member: {
                      type: "structure",
                      members: {
                        IndexName: {},
                        IndexStatus: {},
                        ProvisionedReadCapacityAutoScalingSettings: {
                          shape: "S60"
                        },
                        ProvisionedWriteCapacityAutoScalingSettings: {
                          shape: "S60"
                        }
                      }
                    }
                  },
                  ReplicaProvisionedReadCapacityAutoScalingSettings: {
                    shape: "S60"
                  },
                  ReplicaProvisionedWriteCapacityAutoScalingSettings: {
                    shape: "S60"
                  },
                  ReplicaStatus: {}
                }
              }
            }
          }
        },
        S7b: {
          type: "structure",
          required: [
            "TableName",
            "StreamArn"
          ],
          members: {
            TableName: {},
            StreamArn: {}
          }
        },
        S7c: {
          type: "structure",
          members: {
            TableName: {},
            StreamArn: {},
            DestinationStatus: {}
          }
        },
        S7m: {
          type: "list",
          member: {
            type: "structure",
            members: {
              Item: {
                shape: "Sr"
              }
            }
          }
        },
        S90: {
          type: "structure",
          required: [
            "ComparisonOperator"
          ],
          members: {
            AttributeValueList: {
              shape: "S4h"
            },
            ComparisonOperator: {}
          }
        },
        S91: {
          type: "map",
          key: {},
          value: {
            shape: "S90"
          }
        },
        Sa8: {
          type: "structure",
          members: {
            MinimumUnits: {
              type: "long"
            },
            MaximumUnits: {
              type: "long"
            },
            AutoScalingDisabled: {
              type: "boolean"
            },
            AutoScalingRoleArn: {},
            ScalingPolicyUpdate: {
              type: "structure",
              required: [
                "TargetTrackingScalingPolicyConfiguration"
              ],
              members: {
                PolicyName: {},
                TargetTrackingScalingPolicyConfiguration: {
                  type: "structure",
                  required: [
                    "TargetValue"
                  ],
                  members: {
                    DisableScaleIn: {
                      type: "boolean"
                    },
                    ScaleInCooldown: {
                      type: "integer"
                    },
                    ScaleOutCooldown: {
                      type: "integer"
                    },
                    TargetValue: {
                      type: "double"
                    }
                  }
                }
              }
            }
          }
        },
        Sax: {
          type: "list",
          member: {
            type: "structure",
            required: [
              "IndexName"
            ],
            members: {
              IndexName: {},
              ProvisionedThroughputOverride: {
                shape: "S2b"
              }
            }
          }
        },
        Sbb: {
          type: "structure",
          required: [
            "Enabled",
            "AttributeName"
          ],
          members: {
            Enabled: {
              type: "boolean"
            },
            AttributeName: {}
          }
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/dynamodb-2012-08-10.paginators.json
var require_dynamodb_2012_08_10_paginators = __commonJS({
  "node_modules/aws-sdk/apis/dynamodb-2012-08-10.paginators.json"(exports2, module2) {
    module2.exports = {
      pagination: {
        BatchGetItem: {
          input_token: "RequestItems",
          output_token: "UnprocessedKeys"
        },
        ListContributorInsights: {
          input_token: "NextToken",
          limit_key: "MaxResults",
          output_token: "NextToken"
        },
        ListExports: {
          input_token: "NextToken",
          limit_key: "MaxResults",
          output_token: "NextToken"
        },
        ListImports: {
          input_token: "NextToken",
          limit_key: "PageSize",
          output_token: "NextToken"
        },
        ListTables: {
          input_token: "ExclusiveStartTableName",
          limit_key: "Limit",
          output_token: "LastEvaluatedTableName",
          result_key: "TableNames"
        },
        Query: {
          input_token: "ExclusiveStartKey",
          limit_key: "Limit",
          output_token: "LastEvaluatedKey",
          result_key: "Items"
        },
        Scan: {
          input_token: "ExclusiveStartKey",
          limit_key: "Limit",
          output_token: "LastEvaluatedKey",
          result_key: "Items"
        }
      }
    };
  }
});

// node_modules/aws-sdk/apis/dynamodb-2012-08-10.waiters2.json
var require_dynamodb_2012_08_10_waiters2 = __commonJS({
  "node_modules/aws-sdk/apis/dynamodb-2012-08-10.waiters2.json"(exports2, module2) {
    module2.exports = {
      version: 2,
      waiters: {
        TableExists: {
          delay: 20,
          operation: "DescribeTable",
          maxAttempts: 25,
          acceptors: [
            {
              expected: "ACTIVE",
              matcher: "path",
              state: "success",
              argument: "Table.TableStatus"
            },
            {
              expected: "ResourceNotFoundException",
              matcher: "error",
              state: "retry"
            }
          ]
        },
        TableNotExists: {
          delay: 20,
          operation: "DescribeTable",
          maxAttempts: 25,
          acceptors: [
            {
              expected: "ResourceNotFoundException",
              matcher: "error",
              state: "success"
            }
          ]
        }
      }
    };
  }
});

// node_modules/aws-sdk/clients/dynamodb.js
var require_dynamodb2 = __commonJS({
  "node_modules/aws-sdk/clients/dynamodb.js"(exports2, module2) {
    require_node_loader();
    var AWS2 = require_core();
    var Service = AWS2.Service;
    var apiLoader = AWS2.apiLoader;
    apiLoader.services["dynamodb"] = {};
    AWS2.DynamoDB = Service.defineService("dynamodb", ["2011-12-05", "2012-08-10"]);
    require_dynamodb();
    Object.defineProperty(apiLoader.services["dynamodb"], "2011-12-05", {
      get: function get() {
        var model = require_dynamodb_2011_12_05_min();
        model.paginators = require_dynamodb_2011_12_05_paginators().pagination;
        model.waiters = require_dynamodb_2011_12_05_waiters2().waiters;
        return model;
      },
      enumerable: true,
      configurable: true
    });
    Object.defineProperty(apiLoader.services["dynamodb"], "2012-08-10", {
      get: function get() {
        var model = require_dynamodb_2012_08_10_min();
        model.paginators = require_dynamodb_2012_08_10_paginators().pagination;
        model.waiters = require_dynamodb_2012_08_10_waiters2().waiters;
        return model;
      },
      enumerable: true,
      configurable: true
    });
    module2.exports = AWS2.DynamoDB;
  }
});

// index.ts
var import_dynamodb = __toESM(require_dynamodb2());
var db = new import_dynamodb.DocumentClient(
  {
    endpoint: "http://localstack:4566"
  }
);
var handler = async (event, context, callback) => {
  if (!event.body) {
    return { statusCode: 400, body: JSON.stringify({ error: "no body" }) };
  }
  const betId = JSON.parse(event.body);
  const params = {
    TableName: "Bets",
    Key: {
      HashKey: "betId"
    }
  };
  try {
    await db.get(params).promise();
  } catch (e) {
    return { statusCode: 500, body: JSON.stringify({ error: "Database Error", message: JSON.stringify(e) }) };
  }
  return { statusCode: 200, body: JSON.stringify({ success: true, data: betData }) };
};
module.exports.handler = handler;
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2pzb24vYnVpbGRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvanNvbi9wYXJzZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3Byb3RvY29sL2hlbHBlcnMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3Byb3RvY29sL2pzb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL21vZGVsL2NvbGxlY3Rpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL21vZGVsL3NoYXBlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9wcm90b2NvbC9xdWVyeS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvcHJvdG9jb2wvcmVzdC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvcHJvdG9jb2wvcmVzdF9qc29uLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9wcm90b2NvbC9yZXN0X3htbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIveG1sL2VzY2FwZS1hdHRyaWJ1dGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3htbC94bWwtbm9kZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIveG1sL2VzY2FwZS1lbGVtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi94bWwveG1sLXRleHQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3htbC9idWlsZGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9tb2RlbC9vcGVyYXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL21vZGVsL3BhZ2luYXRvci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvbW9kZWwvcmVzb3VyY2Vfd2FpdGVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9tb2RlbC9hcGkuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2FwaV9sb2FkZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvdmVuZG9yL2VuZHBvaW50LWNhY2hlL3V0aWxzL0xSVS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay92ZW5kb3IvZW5kcG9pbnQtY2FjaGUvaW5kZXguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3NlcXVlbnRpYWxfZXhlY3V0b3IuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3JlZ2lvbl9jb25maWcuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3JlZ2lvbi91dGlscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2VydmljZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY3JlZGVudGlhbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2NyZWRlbnRpYWxzL2NyZWRlbnRpYWxfcHJvdmlkZXJfY2hhaW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2NvbmZpZy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvaHR0cC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvZGlzY292ZXJfZW5kcG9pbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2V2ZW50X2xpc3RlbmVycy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc3RhdGVfbWFjaGluZS5qcyIsICIuLi9ub2RlX21vZHVsZXMvam1lc3BhdGgvam1lc3BhdGguanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3JlcXVlc3QuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3Jlc3BvbnNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9yZXNvdXJjZV93YWl0ZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3NpZ25lcnMvdjIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3NpZ25lcnMvdjMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3NpZ25lcnMvdjNodHRwcy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2lnbmVycy92NF9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2lnbmVycy92NC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2lnbmVycy9zMy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2lnbmVycy9wcmVzaWduLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9zaWduZXJzL2JlYXJlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2lnbmVycy9yZXF1ZXN0X3NpZ25lci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvcGFyYW1fdmFsaWRhdG9yLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jb3JlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL25vZGVfbW9kdWxlcy91dWlkL2Rpc3Qvcm5nLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvYnl0ZXNUb1V1aWQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC92MS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L3YzNS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L21kNS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L3YzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvdjQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9zaGExLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvdjUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvdXRpbC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvZXZlbnQtc3RyZWFtL2V2ZW50LW1lc3NhZ2UtY2h1bmtlci1zdHJlYW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2V2ZW50LXN0cmVhbS9pbnQ2NC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvZXZlbnQtc3RyZWFtL3NwbGl0LW1lc3NhZ2UuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2V2ZW50LXN0cmVhbS9wYXJzZS1tZXNzYWdlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9ldmVudC1zdHJlYW0vcGFyc2UtZXZlbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLXVubWFyc2hhbGxlci1zdHJlYW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2V2ZW50LXN0cmVhbS9zdHJlYW1pbmctY3JlYXRlLWV2ZW50LXN0cmVhbS5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvZXZlbnQtc3RyZWFtL2V2ZW50LW1lc3NhZ2UtY2h1bmtlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvZXZlbnQtc3RyZWFtL2J1ZmZlcmVkLWNyZWF0ZS1ldmVudC1zdHJlYW0uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3JlYWxjbG9jay9ub2RlQ2xvY2suanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3B1Ymxpc2hlci9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvcHVibGlzaGVyL2NvbmZpZ3VyYXRpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3NoYXJlZC1pbmkvaW5pLWxvYWRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2hhcmVkLWluaS9pbmRleC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY29uZmlnX3JlZ2lvbmFsX2VuZHBvaW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9zZXJ2aWNlcy9zdHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvY2xpZW50cy9zdHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2NyZWRlbnRpYWxzL3RlbXBvcmFyeV9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY3JlZGVudGlhbHMvY2hhaW5hYmxlX3RlbXBvcmFyeV9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY3JlZGVudGlhbHMvd2ViX2lkZW50aXR5X2NyZWRlbnRpYWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2NsaWVudHMvY29nbml0b2lkZW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jcmVkZW50aWFscy9jb2duaXRvX2lkZW50aXR5X2NyZWRlbnRpYWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jcmVkZW50aWFscy9zYW1sX2NyZWRlbnRpYWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jcmVkZW50aWFscy9wcm9jZXNzX2NyZWRlbnRpYWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWwyanMvbGliL2RlZmF1bHRzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9VdGlsaXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxBdHRyaWJ1dGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTEVsZW1lbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTENEYXRhLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxDb21tZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEZWNsYXJhdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRFREQXR0TGlzdC5qcyIsICIuLi9ub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRFRERW50aXR5LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVERFbGVtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEVEROb3RhdGlvbi5qcyIsICIuLi9ub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MRG9jVHlwZS5qcyIsICIuLi9ub2RlX21vZHVsZXMveG1sYnVpbGRlci9saWIvWE1MUmF3LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxUZXh0LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24uanMiLCAiLi4vbm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTE5vZGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTFN0cmluZ2lmaWVyLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxXcml0ZXJCYXNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxTdHJpbmdXcml0ZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL1hNTERvY3VtZW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxEb2N1bWVudENCLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWxidWlsZGVyL2xpYi9YTUxTdHJlYW1Xcml0ZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3htbGJ1aWxkZXIvbGliL2luZGV4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWwyanMvbGliL2J1aWxkZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL3NheC9saWIvc2F4LmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWwyanMvbGliL2JvbS5qcyIsICIuLi9ub2RlX21vZHVsZXMveG1sMmpzL2xpYi9wcm9jZXNzb3JzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy94bWwyanMvbGliL3BhcnNlci5qcyIsICIuLi9ub2RlX21vZHVsZXMveG1sMmpzL2xpYi94bWwyanMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3htbC9ub2RlX3BhcnNlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvaHR0cC9ub2RlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jcmVkZW50aWFscy90b2tlbl9maWxlX3dlYl9pZGVudGl0eV9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvbWV0YWRhdGFfc2VydmljZS9nZXRfZW5kcG9pbnQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL21ldGFkYXRhX3NlcnZpY2UvZ2V0X2VuZHBvaW50X21vZGUuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL21ldGFkYXRhX3NlcnZpY2UvZ2V0X2VuZHBvaW50X2NvbmZpZ19vcHRpb25zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9tZXRhZGF0YV9zZXJ2aWNlL2dldF9lbmRwb2ludF9tb2RlX2NvbmZpZ19vcHRpb25zLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9tZXRhZGF0YV9zZXJ2aWNlL2dldF9tZXRhZGF0YV9zZXJ2aWNlX2VuZHBvaW50LmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9tZXRhZGF0YV9zZXJ2aWNlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jcmVkZW50aWFscy9lYzJfbWV0YWRhdGFfY3JlZGVudGlhbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2NyZWRlbnRpYWxzL3JlbW90ZV9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY3JlZGVudGlhbHMvZWNzX2NyZWRlbnRpYWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9jcmVkZW50aWFscy9lbnZpcm9ubWVudF9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY3JlZGVudGlhbHMvZmlsZV9zeXN0ZW1fY3JlZGVudGlhbHMuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2NyZWRlbnRpYWxzL3NoYXJlZF9pbmlfZmlsZV9jcmVkZW50aWFscy5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvY3JlZGVudGlhbHMvc3NvX2NyZWRlbnRpYWxzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi90b2tlbi5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvdG9rZW4vdG9rZW5fcHJvdmlkZXJfY2hhaW4uanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL3Rva2VuL3Nzb190b2tlbl9wcm92aWRlci5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvbm9kZV9sb2FkZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2R5bmFtb2RiL3R5cGVzLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9keW5hbW9kYi9zZXQuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2R5bmFtb2RiL251bWJlclZhbHVlLmpzIiwgIi4uL25vZGVfbW9kdWxlcy9hd3Mtc2RrL2xpYi9keW5hbW9kYi9jb252ZXJ0ZXIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2R5bmFtb2RiL3RyYW5zbGF0b3IuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvbGliL2R5bmFtb2RiL2RvY3VtZW50X2NsaWVudC5qcyIsICIuLi9ub2RlX21vZHVsZXMvYXdzLXNkay9saWIvc2VydmljZXMvZHluYW1vZGIuanMiLCAiLi4vbm9kZV9tb2R1bGVzL2F3cy1zZGsvY2xpZW50cy9keW5hbW9kYi5qcyIsICIuLi9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsidmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG5cbmZ1bmN0aW9uIEpzb25CdWlsZGVyKCkgeyB9XG5cbkpzb25CdWlsZGVyLnByb3RvdHlwZS5idWlsZCA9IGZ1bmN0aW9uKHZhbHVlLCBzaGFwZSkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodHJhbnNsYXRlKHZhbHVlLCBzaGFwZSkpO1xufTtcblxuZnVuY3Rpb24gdHJhbnNsYXRlKHZhbHVlLCBzaGFwZSkge1xuICBpZiAoIXNoYXBlIHx8IHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgY2FzZSAnc3RydWN0dXJlJzogcmV0dXJuIHRyYW5zbGF0ZVN0cnVjdHVyZSh2YWx1ZSwgc2hhcGUpO1xuICAgIGNhc2UgJ21hcCc6IHJldHVybiB0cmFuc2xhdGVNYXAodmFsdWUsIHNoYXBlKTtcbiAgICBjYXNlICdsaXN0JzogcmV0dXJuIHRyYW5zbGF0ZUxpc3QodmFsdWUsIHNoYXBlKTtcbiAgICBkZWZhdWx0OiByZXR1cm4gdHJhbnNsYXRlU2NhbGFyKHZhbHVlLCBzaGFwZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlU3RydWN0dXJlKHN0cnVjdHVyZSwgc2hhcGUpIHtcbiAgaWYgKHNoYXBlLmlzRG9jdW1lbnQpIHtcbiAgICByZXR1cm4gc3RydWN0dXJlO1xuICB9XG4gIHZhciBzdHJ1Y3QgPSB7fTtcbiAgdXRpbC5lYWNoKHN0cnVjdHVyZSwgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICB2YXIgbWVtYmVyU2hhcGUgPSBzaGFwZS5tZW1iZXJzW25hbWVdO1xuICAgIGlmIChtZW1iZXJTaGFwZSkge1xuICAgICAgaWYgKG1lbWJlclNoYXBlLmxvY2F0aW9uICE9PSAnYm9keScpIHJldHVybjtcbiAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBtZW1iZXJTaGFwZS5pc0xvY2F0aW9uTmFtZSA/IG1lbWJlclNoYXBlLm5hbWUgOiBuYW1lO1xuICAgICAgdmFyIHJlc3VsdCA9IHRyYW5zbGF0ZSh2YWx1ZSwgbWVtYmVyU2hhcGUpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSBzdHJ1Y3RbbG9jYXRpb25OYW1lXSA9IHJlc3VsdDtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3RydWN0O1xufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVMaXN0KGxpc3QsIHNoYXBlKSB7XG4gIHZhciBvdXQgPSBbXTtcbiAgdXRpbC5hcnJheUVhY2gobGlzdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJhbnNsYXRlKHZhbHVlLCBzaGFwZS5tZW1iZXIpO1xuICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgb3V0LnB1c2gocmVzdWx0KTtcbiAgfSk7XG4gIHJldHVybiBvdXQ7XG59XG5cbmZ1bmN0aW9uIHRyYW5zbGF0ZU1hcChtYXAsIHNoYXBlKSB7XG4gIHZhciBvdXQgPSB7fTtcbiAgdXRpbC5lYWNoKG1hcCwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSB0cmFuc2xhdGUodmFsdWUsIHNoYXBlLnZhbHVlKTtcbiAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIG91dFtrZXldID0gcmVzdWx0O1xuICB9KTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlU2NhbGFyKHZhbHVlLCBzaGFwZSkge1xuICByZXR1cm4gc2hhcGUudG9XaXJlRm9ybWF0KHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBKc29uQnVpbGRlcjtcbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcblxuZnVuY3Rpb24gSnNvblBhcnNlcigpIHsgfVxuXG5Kc29uUGFyc2VyLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uKHZhbHVlLCBzaGFwZSkge1xuICByZXR1cm4gdHJhbnNsYXRlKEpTT04ucGFyc2UodmFsdWUpLCBzaGFwZSk7XG59O1xuXG5mdW5jdGlvbiB0cmFuc2xhdGUodmFsdWUsIHNoYXBlKSB7XG4gIGlmICghc2hhcGUgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICBzd2l0Y2ggKHNoYXBlLnR5cGUpIHtcbiAgICBjYXNlICdzdHJ1Y3R1cmUnOiByZXR1cm4gdHJhbnNsYXRlU3RydWN0dXJlKHZhbHVlLCBzaGFwZSk7XG4gICAgY2FzZSAnbWFwJzogcmV0dXJuIHRyYW5zbGF0ZU1hcCh2YWx1ZSwgc2hhcGUpO1xuICAgIGNhc2UgJ2xpc3QnOiByZXR1cm4gdHJhbnNsYXRlTGlzdCh2YWx1ZSwgc2hhcGUpO1xuICAgIGRlZmF1bHQ6IHJldHVybiB0cmFuc2xhdGVTY2FsYXIodmFsdWUsIHNoYXBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiB0cmFuc2xhdGVTdHJ1Y3R1cmUoc3RydWN0dXJlLCBzaGFwZSkge1xuICBpZiAoc3RydWN0dXJlID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG4gIGlmIChzaGFwZS5pc0RvY3VtZW50KSByZXR1cm4gc3RydWN0dXJlO1xuXG4gIHZhciBzdHJ1Y3QgPSB7fTtcbiAgdmFyIHNoYXBlTWVtYmVycyA9IHNoYXBlLm1lbWJlcnM7XG4gIHV0aWwuZWFjaChzaGFwZU1lbWJlcnMsIGZ1bmN0aW9uKG5hbWUsIG1lbWJlclNoYXBlKSB7XG4gICAgdmFyIGxvY2F0aW9uTmFtZSA9IG1lbWJlclNoYXBlLmlzTG9jYXRpb25OYW1lID8gbWVtYmVyU2hhcGUubmFtZSA6IG5hbWU7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdHJ1Y3R1cmUsIGxvY2F0aW9uTmFtZSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHN0cnVjdHVyZVtsb2NhdGlvbk5hbWVdO1xuICAgICAgdmFyIHJlc3VsdCA9IHRyYW5zbGF0ZSh2YWx1ZSwgbWVtYmVyU2hhcGUpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSBzdHJ1Y3RbbmFtZV0gPSByZXN1bHQ7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cnVjdDtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlTGlzdChsaXN0LCBzaGFwZSkge1xuICBpZiAobGlzdCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIHZhciBvdXQgPSBbXTtcbiAgdXRpbC5hcnJheUVhY2gobGlzdCwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgcmVzdWx0ID0gdHJhbnNsYXRlKHZhbHVlLCBzaGFwZS5tZW1iZXIpO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgb3V0LnB1c2gobnVsbCk7XG4gICAgZWxzZSBvdXQucHVzaChyZXN1bHQpO1xuICB9KTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlTWFwKG1hcCwgc2hhcGUpIHtcbiAgaWYgKG1hcCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIHZhciBvdXQgPSB7fTtcbiAgdXRpbC5lYWNoKG1hcCwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSB0cmFuc2xhdGUodmFsdWUsIHNoYXBlLnZhbHVlKTtcbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIG91dFtrZXldID0gbnVsbDtcbiAgICBlbHNlIG91dFtrZXldID0gcmVzdWx0O1xuICB9KTtcbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gdHJhbnNsYXRlU2NhbGFyKHZhbHVlLCBzaGFwZSkge1xuICByZXR1cm4gc2hhcGUudG9UeXBlKHZhbHVlKTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBKc29uUGFyc2VyO1xuIiwgInZhciB1dGlsID0gIHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbi8qKlxuICogUHJlcGVuZCBwcmVmaXggZGVmaW5lZCBieSBBUEkgbW9kZWwgdG8gZW5kcG9pbnQgdGhhdCdzIGFscmVhZHlcbiAqIGNvbnN0cnVjdGVkLiBUaGlzIGZlYXR1cmUgZG9lcyBub3QgYXBwbHkgdG8gb3BlcmF0aW9ucyB1c2luZ1xuICogZW5kcG9pbnQgZGlzY292ZXJ5IGFuZCBjYW4gYmUgZGlzYWJsZWQuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcG9wdWxhdGVIb3N0UHJlZml4KHJlcXVlc3QpICB7XG4gIHZhciBlbmFibGVkID0gcmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5ob3N0UHJlZml4RW5hYmxlZDtcbiAgaWYgKCFlbmFibGVkKSByZXR1cm4gcmVxdWVzdDtcbiAgdmFyIG9wZXJhdGlvbk1vZGVsID0gcmVxdWVzdC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcXVlc3Qub3BlcmF0aW9uXTtcbiAgLy9kb24ndCBtYXJzaGFsIGhvc3QgcHJlZml4IHdoZW4gb3BlcmF0aW9uIGhhcyBlbmRwb2ludCBkaXNjb3ZlcnkgdHJhaXRzXG4gIGlmIChoYXNFbmRwb2ludERpc2NvdmVyKHJlcXVlc3QpKSByZXR1cm4gcmVxdWVzdDtcbiAgaWYgKG9wZXJhdGlvbk1vZGVsLmVuZHBvaW50ICYmIG9wZXJhdGlvbk1vZGVsLmVuZHBvaW50Lmhvc3RQcmVmaXgpIHtcbiAgICB2YXIgaG9zdFByZWZpeE5vdGF0aW9uID0gb3BlcmF0aW9uTW9kZWwuZW5kcG9pbnQuaG9zdFByZWZpeDtcbiAgICB2YXIgaG9zdFByZWZpeCA9IGV4cGFuZEhvc3RQcmVmaXgoaG9zdFByZWZpeE5vdGF0aW9uLCByZXF1ZXN0LnBhcmFtcywgb3BlcmF0aW9uTW9kZWwuaW5wdXQpO1xuICAgIHByZXBlbmRFbmRwb2ludFByZWZpeChyZXF1ZXN0Lmh0dHBSZXF1ZXN0LmVuZHBvaW50LCBob3N0UHJlZml4KTtcbiAgICB2YWxpZGF0ZUhvc3RuYW1lKHJlcXVlc3QuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUpO1xuICB9XG4gIHJldHVybiByZXF1ZXN0O1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBoYXNFbmRwb2ludERpc2NvdmVyKHJlcXVlc3QpIHtcbiAgdmFyIGFwaSA9IHJlcXVlc3Quc2VydmljZS5hcGk7XG4gIHZhciBvcGVyYXRpb25Nb2RlbCA9IGFwaS5vcGVyYXRpb25zW3JlcXVlc3Qub3BlcmF0aW9uXTtcbiAgdmFyIGlzRW5kcG9pbnRPcGVyYXRpb24gPSBhcGkuZW5kcG9pbnRPcGVyYXRpb24gJiYgKGFwaS5lbmRwb2ludE9wZXJhdGlvbiA9PT0gdXRpbC5zdHJpbmcubG93ZXJGaXJzdChvcGVyYXRpb25Nb2RlbC5uYW1lKSk7XG4gIHJldHVybiAob3BlcmF0aW9uTW9kZWwuZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZCAhPT0gJ05VTEwnIHx8IGlzRW5kcG9pbnRPcGVyYXRpb24gPT09IHRydWUpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBleHBhbmRIb3N0UHJlZml4KGhvc3RQcmVmaXhOb3RhdGlvbiwgcGFyYW1zLCBzaGFwZSkge1xuICB1dGlsLmVhY2goc2hhcGUubWVtYmVycywgZnVuY3Rpb24obmFtZSwgbWVtYmVyKSB7XG4gICAgaWYgKG1lbWJlci5ob3N0TGFiZWwgPT09IHRydWUpIHtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zW25hbWVdICE9PSAnc3RyaW5nJyB8fCBwYXJhbXNbbmFtZV0gPT09ICcnKSB7XG4gICAgICAgIHRocm93IHV0aWwuZXJyb3IobmV3IEVycm9yKCksIHtcbiAgICAgICAgICBtZXNzYWdlOiAnUGFyYW1ldGVyICcgKyBuYW1lICsgJyBzaG91bGQgYmUgYSBub24tZW1wdHkgc3RyaW5nLicsXG4gICAgICAgICAgY29kZTogJ0ludmFsaWRQYXJhbWV0ZXInXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXFxcXHsnICsgbmFtZSArICdcXFxcfScsICdnJyk7XG4gICAgICBob3N0UHJlZml4Tm90YXRpb24gPSBob3N0UHJlZml4Tm90YXRpb24ucmVwbGFjZShyZWdleCwgcGFyYW1zW25hbWVdKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaG9zdFByZWZpeE5vdGF0aW9uO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBwcmVwZW5kRW5kcG9pbnRQcmVmaXgoZW5kcG9pbnQsIHByZWZpeCkge1xuICBpZiAoZW5kcG9pbnQuaG9zdCkge1xuICAgIGVuZHBvaW50Lmhvc3QgPSBwcmVmaXggKyBlbmRwb2ludC5ob3N0O1xuICB9XG4gIGlmIChlbmRwb2ludC5ob3N0bmFtZSkge1xuICAgIGVuZHBvaW50Lmhvc3RuYW1lID0gcHJlZml4ICsgZW5kcG9pbnQuaG9zdG5hbWU7XG4gIH1cbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gdmFsaWRhdGVIb3N0bmFtZShob3N0bmFtZSkge1xuICB2YXIgbGFiZWxzID0gaG9zdG5hbWUuc3BsaXQoJy4nKTtcbiAgLy9SZWZlcmVuY2U6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMxMTIzI3NlY3Rpb24tMlxuICB2YXIgaG9zdFBhdHRlcm4gPSAvXlthLXpBLVowLTldezF9JHxeW2EtekEtWjAtOV1bYS16QS1aMC05XFwtXSpbYS16QS1aMC05XSQvO1xuICB1dGlsLmFycmF5RWFjaChsYWJlbHMsIGZ1bmN0aW9uKGxhYmVsKSB7XG4gICAgaWYgKCFsYWJlbC5sZW5ndGggfHwgbGFiZWwubGVuZ3RoIDwgMSB8fCBsYWJlbC5sZW5ndGggPiA2Mykge1xuICAgICAgdGhyb3cgdXRpbC5lcnJvcihuZXcgRXJyb3IoKSwge1xuICAgICAgICBjb2RlOiAnVmFsaWRhdGlvbkVycm9yJyxcbiAgICAgICAgbWVzc2FnZTogJ0hvc3RuYW1lIGxhYmVsIGxlbmd0aCBzaG91bGQgYmUgYmV0d2VlbiAxIHRvIDYzIGNoYXJhY3RlcnMsIGluY2x1c2l2ZS4nXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCFob3N0UGF0dGVybi50ZXN0KGxhYmVsKSkge1xuICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IobmV3IEVycm9yKCksXG4gICAgICAgIHtjb2RlOiAnVmFsaWRhdGlvbkVycm9yJywgbWVzc2FnZTogbGFiZWwgKyAnIGlzIG5vdCBob3N0bmFtZSBjb21wYXRpYmxlLid9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgcG9wdWxhdGVIb3N0UHJlZml4OiBwb3B1bGF0ZUhvc3RQcmVmaXhcbn07XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG52YXIgSnNvbkJ1aWxkZXIgPSByZXF1aXJlKCcuLi9qc29uL2J1aWxkZXInKTtcbnZhciBKc29uUGFyc2VyID0gcmVxdWlyZSgnLi4vanNvbi9wYXJzZXInKTtcbnZhciBwb3B1bGF0ZUhvc3RQcmVmaXggPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5wb3B1bGF0ZUhvc3RQcmVmaXg7XG5cbmZ1bmN0aW9uIGJ1aWxkUmVxdWVzdChyZXEpIHtcbiAgdmFyIGh0dHBSZXF1ZXN0ID0gcmVxLmh0dHBSZXF1ZXN0O1xuICB2YXIgYXBpID0gcmVxLnNlcnZpY2UuYXBpO1xuICB2YXIgdGFyZ2V0ID0gYXBpLnRhcmdldFByZWZpeCArICcuJyArIGFwaS5vcGVyYXRpb25zW3JlcS5vcGVyYXRpb25dLm5hbWU7XG4gIHZhciB2ZXJzaW9uID0gYXBpLmpzb25WZXJzaW9uIHx8ICcxLjAnO1xuICB2YXIgaW5wdXQgPSBhcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXS5pbnB1dDtcbiAgdmFyIGJ1aWxkZXIgPSBuZXcgSnNvbkJ1aWxkZXIoKTtcblxuICBpZiAodmVyc2lvbiA9PT0gMSkgdmVyc2lvbiA9ICcxLjAnO1xuICBodHRwUmVxdWVzdC5ib2R5ID0gYnVpbGRlci5idWlsZChyZXEucGFyYW1zIHx8IHt9LCBpbnB1dCk7XG4gIGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddID0gJ2FwcGxpY2F0aW9uL3gtYW16LWpzb24tJyArIHZlcnNpb247XG4gIGh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1gtQW16LVRhcmdldCddID0gdGFyZ2V0O1xuXG4gIHBvcHVsYXRlSG9zdFByZWZpeChyZXEpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0RXJyb3IocmVzcCkge1xuICB2YXIgZXJyb3IgPSB7fTtcbiAgdmFyIGh0dHBSZXNwb25zZSA9IHJlc3AuaHR0cFJlc3BvbnNlO1xuXG4gIGVycm9yLmNvZGUgPSBodHRwUmVzcG9uc2UuaGVhZGVyc1sneC1hbXpuLWVycm9ydHlwZSddIHx8ICdVbmtub3duRXJyb3InO1xuICBpZiAodHlwZW9mIGVycm9yLmNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgZXJyb3IuY29kZSA9IGVycm9yLmNvZGUuc3BsaXQoJzonKVswXTtcbiAgfVxuXG4gIGlmIChodHRwUmVzcG9uc2UuYm9keS5sZW5ndGggPiAwKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBlID0gSlNPTi5wYXJzZShodHRwUmVzcG9uc2UuYm9keS50b1N0cmluZygpKTtcbiAgICAgIHZhciBjb2RlID0gZS5fX3R5cGUgfHwgZS5jb2RlIHx8IGUuQ29kZTtcbiAgICAgIGlmIChjb2RlKSB7XG4gICAgICAgIGVycm9yLmNvZGUgPSBjb2RlLnNwbGl0KCcjJykucG9wKCk7XG4gICAgICB9XG4gICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1JlcXVlc3RFbnRpdHlUb29MYXJnZScpIHtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9ICdSZXF1ZXN0IGJvZHkgbXVzdCBiZSBsZXNzIHRoYW4gMSBNQic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gKGUubWVzc2FnZSB8fCBlLk1lc3NhZ2UgfHwgbnVsbCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZXJyb3Iuc3RhdHVzQ29kZSA9IGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgZXJyb3IubWVzc2FnZSA9IGh0dHBSZXNwb25zZS5zdGF0dXNNZXNzYWdlO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBlcnJvci5zdGF0dXNDb2RlID0gaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU7XG4gICAgZXJyb3IubWVzc2FnZSA9IGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXNwLmVycm9yID0gdXRpbC5lcnJvcihuZXcgRXJyb3IoKSwgZXJyb3IpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YShyZXNwKSB7XG4gIHZhciBib2R5ID0gcmVzcC5odHRwUmVzcG9uc2UuYm9keS50b1N0cmluZygpIHx8ICd7fSc7XG4gIGlmIChyZXNwLnJlcXVlc3Quc2VydmljZS5jb25maWcuY29udmVydFJlc3BvbnNlVHlwZXMgPT09IGZhbHNlKSB7XG4gICAgcmVzcC5kYXRhID0gSlNPTi5wYXJzZShib2R5KTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgb3BlcmF0aW9uID0gcmVzcC5yZXF1ZXN0LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVzcC5yZXF1ZXN0Lm9wZXJhdGlvbl07XG4gICAgdmFyIHNoYXBlID0gb3BlcmF0aW9uLm91dHB1dCB8fCB7fTtcbiAgICB2YXIgcGFyc2VyID0gbmV3IEpzb25QYXJzZXIoKTtcbiAgICByZXNwLmRhdGEgPSBwYXJzZXIucGFyc2UoYm9keSwgc2hhcGUpO1xuICB9XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBidWlsZFJlcXVlc3Q6IGJ1aWxkUmVxdWVzdCxcbiAgZXh0cmFjdEVycm9yOiBleHRyYWN0RXJyb3IsXG4gIGV4dHJhY3REYXRhOiBleHRyYWN0RGF0YVxufTtcbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcblxuZnVuY3Rpb24gUXVlcnlQYXJhbVNlcmlhbGl6ZXIoKSB7XG59XG5cblF1ZXJ5UGFyYW1TZXJpYWxpemVyLnByb3RvdHlwZS5zZXJpYWxpemUgPSBmdW5jdGlvbihwYXJhbXMsIHNoYXBlLCBmbikge1xuICBzZXJpYWxpemVTdHJ1Y3R1cmUoJycsIHBhcmFtcywgc2hhcGUsIGZuKTtcbn07XG5cbmZ1bmN0aW9uIHVjZmlyc3Qoc2hhcGUpIHtcbiAgaWYgKHNoYXBlLmlzUXVlcnlOYW1lIHx8IHNoYXBlLmFwaS5wcm90b2NvbCAhPT0gJ2VjMicpIHtcbiAgICByZXR1cm4gc2hhcGUubmFtZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gc2hhcGUubmFtZVswXS50b1VwcGVyQ2FzZSgpICsgc2hhcGUubmFtZS5zdWJzdHIoMSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplU3RydWN0dXJlKHByZWZpeCwgc3RydWN0LCBydWxlcywgZm4pIHtcbiAgdXRpbC5lYWNoKHJ1bGVzLm1lbWJlcnMsIGZ1bmN0aW9uKG5hbWUsIG1lbWJlcikge1xuICAgIHZhciB2YWx1ZSA9IHN0cnVjdFtuYW1lXTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgdmFyIG1lbWJlck5hbWUgPSB1Y2ZpcnN0KG1lbWJlcik7XG4gICAgbWVtYmVyTmFtZSA9IHByZWZpeCA/IHByZWZpeCArICcuJyArIG1lbWJlck5hbWUgOiBtZW1iZXJOYW1lO1xuICAgIHNlcmlhbGl6ZU1lbWJlcihtZW1iZXJOYW1lLCB2YWx1ZSwgbWVtYmVyLCBmbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVNYXAobmFtZSwgbWFwLCBydWxlcywgZm4pIHtcbiAgdmFyIGkgPSAxO1xuICB1dGlsLmVhY2gobWFwLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgIHZhciBwcmVmaXggPSBydWxlcy5mbGF0dGVuZWQgPyAnLicgOiAnLmVudHJ5Lic7XG4gICAgdmFyIHBvc2l0aW9uID0gcHJlZml4ICsgKGkrKykgKyAnLic7XG4gICAgdmFyIGtleU5hbWUgPSBwb3NpdGlvbiArIChydWxlcy5rZXkubmFtZSB8fCAna2V5Jyk7XG4gICAgdmFyIHZhbHVlTmFtZSA9IHBvc2l0aW9uICsgKHJ1bGVzLnZhbHVlLm5hbWUgfHwgJ3ZhbHVlJyk7XG4gICAgc2VyaWFsaXplTWVtYmVyKG5hbWUgKyBrZXlOYW1lLCBrZXksIHJ1bGVzLmtleSwgZm4pO1xuICAgIHNlcmlhbGl6ZU1lbWJlcihuYW1lICsgdmFsdWVOYW1lLCB2YWx1ZSwgcnVsZXMudmFsdWUsIGZuKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZUxpc3QobmFtZSwgbGlzdCwgcnVsZXMsIGZuKSB7XG4gIHZhciBtZW1iZXJSdWxlcyA9IHJ1bGVzLm1lbWJlciB8fCB7fTtcblxuICBpZiAobGlzdC5sZW5ndGggPT09IDApIHtcbiAgICBmbi5jYWxsKHRoaXMsIG5hbWUsIG51bGwpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHV0aWwuYXJyYXlFYWNoKGxpc3QsIGZ1bmN0aW9uICh2LCBuKSB7XG4gICAgdmFyIHN1ZmZpeCA9ICcuJyArIChuICsgMSk7XG4gICAgaWYgKHJ1bGVzLmFwaS5wcm90b2NvbCA9PT0gJ2VjMicpIHtcbiAgICAgIC8vIERvIG5vdGhpbmcgZm9yIEVDMlxuICAgICAgc3VmZml4ID0gc3VmZml4ICsgJyc7IC8vIG1ha2UgbGludGVyIGhhcHB5XG4gICAgfSBlbHNlIGlmIChydWxlcy5mbGF0dGVuZWQpIHtcbiAgICAgIGlmIChtZW1iZXJSdWxlcy5uYW1lKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoJy4nKTtcbiAgICAgICAgcGFydHMucG9wKCk7XG4gICAgICAgIHBhcnRzLnB1c2godWNmaXJzdChtZW1iZXJSdWxlcykpO1xuICAgICAgICBuYW1lID0gcGFydHMuam9pbignLicpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdWZmaXggPSAnLicgKyAobWVtYmVyUnVsZXMubmFtZSA/IG1lbWJlclJ1bGVzLm5hbWUgOiAnbWVtYmVyJykgKyBzdWZmaXg7XG4gICAgfVxuICAgIHNlcmlhbGl6ZU1lbWJlcihuYW1lICsgc3VmZml4LCB2LCBtZW1iZXJSdWxlcywgZm4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplTWVtYmVyKG5hbWUsIHZhbHVlLCBydWxlcywgZm4pIHtcbiAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgaWYgKHJ1bGVzLnR5cGUgPT09ICdzdHJ1Y3R1cmUnKSB7XG4gICAgc2VyaWFsaXplU3RydWN0dXJlKG5hbWUsIHZhbHVlLCBydWxlcywgZm4pO1xuICB9IGVsc2UgaWYgKHJ1bGVzLnR5cGUgPT09ICdsaXN0Jykge1xuICAgIHNlcmlhbGl6ZUxpc3QobmFtZSwgdmFsdWUsIHJ1bGVzLCBmbik7XG4gIH0gZWxzZSBpZiAocnVsZXMudHlwZSA9PT0gJ21hcCcpIHtcbiAgICBzZXJpYWxpemVNYXAobmFtZSwgdmFsdWUsIHJ1bGVzLCBmbik7XG4gIH0gZWxzZSB7XG4gICAgZm4obmFtZSwgcnVsZXMudG9XaXJlRm9ybWF0KHZhbHVlKS50b1N0cmluZygpKTtcbiAgfVxufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXJ5UGFyYW1TZXJpYWxpemVyO1xuIiwgInZhciBtZW1vaXplZFByb3BlcnR5ID0gcmVxdWlyZSgnLi4vdXRpbCcpLm1lbW9pemVkUHJvcGVydHk7XG5cbmZ1bmN0aW9uIG1lbW9pemUobmFtZSwgdmFsdWUsIGZhY3RvcnksIG5hbWVUcikge1xuICBtZW1vaXplZFByb3BlcnR5KHRoaXMsIG5hbWVUcihuYW1lKSwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGZhY3RvcnkobmFtZSwgdmFsdWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ29sbGVjdGlvbihpdGVyYWJsZSwgb3B0aW9ucywgZmFjdG9yeSwgbmFtZVRyLCBjYWxsYmFjaykge1xuICBuYW1lVHIgPSBuYW1lVHIgfHwgU3RyaW5nO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgZm9yICh2YXIgaWQgaW4gaXRlcmFibGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZXJhYmxlLCBpZCkpIHtcbiAgICAgIG1lbW9pemUuY2FsbChzZWxmLCBpZCwgaXRlcmFibGVbaWRdLCBmYWN0b3J5LCBuYW1lVHIpO1xuICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhpZCwgaXRlcmFibGVbaWRdKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBDb2xsZWN0aW9uO1xuIiwgInZhciBDb2xsZWN0aW9uID0gcmVxdWlyZSgnLi9jb2xsZWN0aW9uJyk7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpO1xuXG5mdW5jdGlvbiBwcm9wZXJ0eShvYmosIG5hbWUsIHZhbHVlKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdXRpbC5wcm9wZXJ0eS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1lbW9pemVkUHJvcGVydHkob2JqLCBuYW1lKSB7XG4gIGlmICghb2JqLmNvbnN0cnVjdG9yLnByb3RvdHlwZVtuYW1lXSkge1xuICAgIHV0aWwubWVtb2l6ZWRQcm9wZXJ0eS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFNoYXBlKHNoYXBlLCBvcHRpb25zLCBtZW1iZXJOYW1lKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHByb3BlcnR5KHRoaXMsICdzaGFwZScsIHNoYXBlLnNoYXBlKTtcbiAgcHJvcGVydHkodGhpcywgJ2FwaScsIG9wdGlvbnMuYXBpLCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICd0eXBlJywgc2hhcGUudHlwZSk7XG4gIHByb3BlcnR5KHRoaXMsICdlbnVtJywgc2hhcGUuZW51bSk7XG4gIHByb3BlcnR5KHRoaXMsICdtaW4nLCBzaGFwZS5taW4pO1xuICBwcm9wZXJ0eSh0aGlzLCAnbWF4Jywgc2hhcGUubWF4KTtcbiAgcHJvcGVydHkodGhpcywgJ3BhdHRlcm4nLCBzaGFwZS5wYXR0ZXJuKTtcbiAgcHJvcGVydHkodGhpcywgJ2xvY2F0aW9uJywgc2hhcGUubG9jYXRpb24gfHwgdGhpcy5sb2NhdGlvbiB8fCAnYm9keScpO1xuICBwcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHRoaXMubmFtZSB8fCBzaGFwZS54bWxOYW1lIHx8IHNoYXBlLnF1ZXJ5TmFtZSB8fFxuICAgIHNoYXBlLmxvY2F0aW9uTmFtZSB8fCBtZW1iZXJOYW1lKTtcbiAgcHJvcGVydHkodGhpcywgJ2lzU3RyZWFtaW5nJywgc2hhcGUuc3RyZWFtaW5nIHx8IHRoaXMuaXNTdHJlYW1pbmcgfHwgZmFsc2UpO1xuICBwcm9wZXJ0eSh0aGlzLCAncmVxdWlyZXNMZW5ndGgnLCBzaGFwZS5yZXF1aXJlc0xlbmd0aCwgZmFsc2UpO1xuICBwcm9wZXJ0eSh0aGlzLCAnaXNDb21wb3NpdGUnLCBzaGFwZS5pc0NvbXBvc2l0ZSB8fCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICdpc1NoYXBlJywgdHJ1ZSwgZmFsc2UpO1xuICBwcm9wZXJ0eSh0aGlzLCAnaXNRdWVyeU5hbWUnLCBCb29sZWFuKHNoYXBlLnF1ZXJ5TmFtZSksIGZhbHNlKTtcbiAgcHJvcGVydHkodGhpcywgJ2lzTG9jYXRpb25OYW1lJywgQm9vbGVhbihzaGFwZS5sb2NhdGlvbk5hbWUpLCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICdpc0lkZW1wb3RlbnQnLCBzaGFwZS5pZGVtcG90ZW5jeVRva2VuID09PSB0cnVlKTtcbiAgcHJvcGVydHkodGhpcywgJ2lzSnNvblZhbHVlJywgc2hhcGUuanNvbnZhbHVlID09PSB0cnVlKTtcbiAgcHJvcGVydHkodGhpcywgJ2lzU2Vuc2l0aXZlJywgc2hhcGUuc2Vuc2l0aXZlID09PSB0cnVlIHx8IHNoYXBlLnByb3RvdHlwZSAmJiBzaGFwZS5wcm90b3R5cGUuc2Vuc2l0aXZlID09PSB0cnVlKTtcbiAgcHJvcGVydHkodGhpcywgJ2lzRXZlbnRTdHJlYW0nLCBCb29sZWFuKHNoYXBlLmV2ZW50c3RyZWFtKSwgZmFsc2UpO1xuICBwcm9wZXJ0eSh0aGlzLCAnaXNFdmVudCcsIEJvb2xlYW4oc2hhcGUuZXZlbnQpLCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICdpc0V2ZW50UGF5bG9hZCcsIEJvb2xlYW4oc2hhcGUuZXZlbnRwYXlsb2FkKSwgZmFsc2UpO1xuICBwcm9wZXJ0eSh0aGlzLCAnaXNFdmVudEhlYWRlcicsIEJvb2xlYW4oc2hhcGUuZXZlbnRoZWFkZXIpLCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICdpc1RpbWVzdGFtcEZvcm1hdFNldCcsIEJvb2xlYW4oc2hhcGUudGltZXN0YW1wRm9ybWF0KSB8fCBzaGFwZS5wcm90b3R5cGUgJiYgc2hhcGUucHJvdG90eXBlLmlzVGltZXN0YW1wRm9ybWF0U2V0ID09PSB0cnVlLCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICdlbmRwb2ludERpc2NvdmVyeUlkJywgQm9vbGVhbihzaGFwZS5lbmRwb2ludGRpc2NvdmVyeWlkKSwgZmFsc2UpO1xuICBwcm9wZXJ0eSh0aGlzLCAnaG9zdExhYmVsJywgQm9vbGVhbihzaGFwZS5ob3N0TGFiZWwpLCBmYWxzZSk7XG5cbiAgaWYgKG9wdGlvbnMuZG9jdW1lbnRhdGlvbikge1xuICAgIHByb3BlcnR5KHRoaXMsICdkb2N1bWVudGF0aW9uJywgc2hhcGUuZG9jdW1lbnRhdGlvbik7XG4gICAgcHJvcGVydHkodGhpcywgJ2RvY3VtZW50YXRpb25VcmwnLCBzaGFwZS5kb2N1bWVudGF0aW9uVXJsKTtcbiAgfVxuXG4gIGlmIChzaGFwZS54bWxBdHRyaWJ1dGUpIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnaXNYbWxBdHRyaWJ1dGUnLCBzaGFwZS54bWxBdHRyaWJ1dGUgfHwgZmFsc2UpO1xuICB9XG5cbiAgLy8gdHlwZSBjb252ZXJzaW9uIGFuZCBwYXJzaW5nXG4gIHByb3BlcnR5KHRoaXMsICdkZWZhdWx0VmFsdWUnLCBudWxsKTtcbiAgdGhpcy50b1dpcmVGb3JtYXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9O1xuICB0aGlzLnRvVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuU2hhcGUubm9ybWFsaXplZFR5cGVzID0ge1xuICBjaGFyYWN0ZXI6ICdzdHJpbmcnLFxuICBkb3VibGU6ICdmbG9hdCcsXG4gIGxvbmc6ICdpbnRlZ2VyJyxcbiAgc2hvcnQ6ICdpbnRlZ2VyJyxcbiAgYmlnaW50ZWdlcjogJ2ludGVnZXInLFxuICBiaWdkZWNpbWFsOiAnZmxvYXQnLFxuICBibG9iOiAnYmluYXJ5J1xufTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuU2hhcGUudHlwZXMgPSB7XG4gICdzdHJ1Y3R1cmUnOiBTdHJ1Y3R1cmVTaGFwZSxcbiAgJ2xpc3QnOiBMaXN0U2hhcGUsXG4gICdtYXAnOiBNYXBTaGFwZSxcbiAgJ2Jvb2xlYW4nOiBCb29sZWFuU2hhcGUsXG4gICd0aW1lc3RhbXAnOiBUaW1lc3RhbXBTaGFwZSxcbiAgJ2Zsb2F0JzogRmxvYXRTaGFwZSxcbiAgJ2ludGVnZXInOiBJbnRlZ2VyU2hhcGUsXG4gICdzdHJpbmcnOiBTdHJpbmdTaGFwZSxcbiAgJ2Jhc2U2NCc6IEJhc2U2NFNoYXBlLFxuICAnYmluYXJ5JzogQmluYXJ5U2hhcGVcbn07XG5cblNoYXBlLnJlc29sdmUgPSBmdW5jdGlvbiByZXNvbHZlKHNoYXBlLCBvcHRpb25zKSB7XG4gIGlmIChzaGFwZS5zaGFwZSkge1xuICAgIHZhciByZWZTaGFwZSA9IG9wdGlvbnMuYXBpLnNoYXBlc1tzaGFwZS5zaGFwZV07XG4gICAgaWYgKCFyZWZTaGFwZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBzaGFwZSByZWZlcmVuY2U6ICcgKyBzaGFwZS5zaGFwZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlZlNoYXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59O1xuXG5TaGFwZS5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoc2hhcGUsIG9wdGlvbnMsIG1lbWJlck5hbWUpIHtcbiAgaWYgKHNoYXBlLmlzU2hhcGUpIHJldHVybiBzaGFwZTtcblxuICB2YXIgcmVmU2hhcGUgPSBTaGFwZS5yZXNvbHZlKHNoYXBlLCBvcHRpb25zKTtcbiAgaWYgKHJlZlNoYXBlKSB7XG4gICAgdmFyIGZpbHRlcmVkS2V5cyA9IE9iamVjdC5rZXlzKHNoYXBlKTtcbiAgICBpZiAoIW9wdGlvbnMuZG9jdW1lbnRhdGlvbikge1xuICAgICAgZmlsdGVyZWRLZXlzID0gZmlsdGVyZWRLZXlzLmZpbHRlcihmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgIHJldHVybiAhbmFtZS5tYXRjaCgvZG9jdW1lbnRhdGlvbi8pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gY3JlYXRlIGFuIGlubGluZSBzaGFwZSB3aXRoIGV4dHJhIG1lbWJlcnNcbiAgICB2YXIgSW5saW5lU2hhcGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlZlNoYXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgc2hhcGUsIG9wdGlvbnMsIG1lbWJlck5hbWUpO1xuICAgIH07XG4gICAgSW5saW5lU2hhcGUucHJvdG90eXBlID0gcmVmU2hhcGU7XG4gICAgcmV0dXJuIG5ldyBJbmxpbmVTaGFwZSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIHNldCB0eXBlIGlmIG5vdCBzZXRcbiAgICBpZiAoIXNoYXBlLnR5cGUpIHtcbiAgICAgIGlmIChzaGFwZS5tZW1iZXJzKSBzaGFwZS50eXBlID0gJ3N0cnVjdHVyZSc7XG4gICAgICBlbHNlIGlmIChzaGFwZS5tZW1iZXIpIHNoYXBlLnR5cGUgPSAnbGlzdCc7XG4gICAgICBlbHNlIGlmIChzaGFwZS5rZXkpIHNoYXBlLnR5cGUgPSAnbWFwJztcbiAgICAgIGVsc2Ugc2hhcGUudHlwZSA9ICdzdHJpbmcnO1xuICAgIH1cblxuICAgIC8vIG5vcm1hbGl6ZSB0eXBlc1xuICAgIHZhciBvcmlnVHlwZSA9IHNoYXBlLnR5cGU7XG4gICAgaWYgKFNoYXBlLm5vcm1hbGl6ZWRUeXBlc1tzaGFwZS50eXBlXSkge1xuICAgICAgc2hhcGUudHlwZSA9IFNoYXBlLm5vcm1hbGl6ZWRUeXBlc1tzaGFwZS50eXBlXTtcbiAgICB9XG5cbiAgICBpZiAoU2hhcGUudHlwZXNbc2hhcGUudHlwZV0pIHtcbiAgICAgIHJldHVybiBuZXcgU2hhcGUudHlwZXNbc2hhcGUudHlwZV0oc2hhcGUsIG9wdGlvbnMsIG1lbWJlck5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBzaGFwZSB0eXBlOiAnICsgb3JpZ1R5cGUpO1xuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gQ29tcG9zaXRlU2hhcGUoc2hhcGUpIHtcbiAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgcHJvcGVydHkodGhpcywgJ2lzQ29tcG9zaXRlJywgdHJ1ZSk7XG5cbiAgaWYgKHNoYXBlLmZsYXR0ZW5lZCkge1xuICAgIHByb3BlcnR5KHRoaXMsICdmbGF0dGVuZWQnLCBzaGFwZS5mbGF0dGVuZWQgfHwgZmFsc2UpO1xuICB9XG59XG5cbmZ1bmN0aW9uIFN0cnVjdHVyZVNoYXBlKHNoYXBlLCBvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHJlcXVpcmVkTWFwID0gbnVsbCwgZmlyc3RJbml0ID0gIXRoaXMuaXNTaGFwZTtcblxuICBDb21wb3NpdGVTaGFwZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gIGlmIChmaXJzdEluaXQpIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnZGVmYXVsdFZhbHVlJywgZnVuY3Rpb24oKSB7IHJldHVybiB7fTsgfSk7XG4gICAgcHJvcGVydHkodGhpcywgJ21lbWJlcnMnLCB7fSk7XG4gICAgcHJvcGVydHkodGhpcywgJ21lbWJlck5hbWVzJywgW10pO1xuICAgIHByb3BlcnR5KHRoaXMsICdyZXF1aXJlZCcsIFtdKTtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnaXNSZXF1aXJlZCcsIGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH0pO1xuICAgIHByb3BlcnR5KHRoaXMsICdpc0RvY3VtZW50JywgQm9vbGVhbihzaGFwZS5kb2N1bWVudCkpO1xuICB9XG5cbiAgaWYgKHNoYXBlLm1lbWJlcnMpIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnbWVtYmVycycsIG5ldyBDb2xsZWN0aW9uKHNoYXBlLm1lbWJlcnMsIG9wdGlvbnMsIGZ1bmN0aW9uKG5hbWUsIG1lbWJlcikge1xuICAgICAgcmV0dXJuIFNoYXBlLmNyZWF0ZShtZW1iZXIsIG9wdGlvbnMsIG5hbWUpO1xuICAgIH0pKTtcbiAgICBtZW1vaXplZFByb3BlcnR5KHRoaXMsICdtZW1iZXJOYW1lcycsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNoYXBlLnhtbE9yZGVyIHx8IE9iamVjdC5rZXlzKHNoYXBlLm1lbWJlcnMpO1xuICAgIH0pO1xuXG4gICAgaWYgKHNoYXBlLmV2ZW50KSB7XG4gICAgICBtZW1vaXplZFByb3BlcnR5KHRoaXMsICdldmVudFBheWxvYWRNZW1iZXJOYW1lJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZW1iZXJzID0gc2VsZi5tZW1iZXJzO1xuICAgICAgICB2YXIgbWVtYmVyTmFtZXMgPSBzZWxmLm1lbWJlck5hbWVzO1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgbWVtYmVycyB0byBmaW5kIG9uZXMgdGhhdCBhcmUgZXZlbnQgcGF5bG9hZHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlMZW4gPSBtZW1iZXJOYW1lcy5sZW5ndGg7IGkgPCBpTGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAobWVtYmVyc1ttZW1iZXJOYW1lc1tpXV0uaXNFdmVudFBheWxvYWQpIHtcbiAgICAgICAgICAgIHJldHVybiBtZW1iZXJOYW1lc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBtZW1vaXplZFByb3BlcnR5KHRoaXMsICdldmVudEhlYWRlck1lbWJlck5hbWVzJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZW1iZXJzID0gc2VsZi5tZW1iZXJzO1xuICAgICAgICB2YXIgbWVtYmVyTmFtZXMgPSBzZWxmLm1lbWJlck5hbWVzO1xuICAgICAgICB2YXIgZXZlbnRIZWFkZXJNZW1iZXJOYW1lcyA9IFtdO1xuICAgICAgICAvLyBpdGVyYXRlIG92ZXIgbWVtYmVycyB0byBmaW5kIG9uZXMgdGhhdCBhcmUgZXZlbnQgaGVhZGVyc1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaUxlbiA9IG1lbWJlck5hbWVzLmxlbmd0aDsgaSA8IGlMZW47IGkrKykge1xuICAgICAgICAgIGlmIChtZW1iZXJzW21lbWJlck5hbWVzW2ldXS5pc0V2ZW50SGVhZGVyKSB7XG4gICAgICAgICAgICBldmVudEhlYWRlck1lbWJlck5hbWVzLnB1c2gobWVtYmVyTmFtZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXZlbnRIZWFkZXJNZW1iZXJOYW1lcztcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzaGFwZS5yZXF1aXJlZCkge1xuICAgIHByb3BlcnR5KHRoaXMsICdyZXF1aXJlZCcsIHNoYXBlLnJlcXVpcmVkKTtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnaXNSZXF1aXJlZCcsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIGlmICghcmVxdWlyZWRNYXApIHtcbiAgICAgICAgcmVxdWlyZWRNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaGFwZS5yZXF1aXJlZC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHJlcXVpcmVkTWFwW3NoYXBlLnJlcXVpcmVkW2ldXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcXVpcmVkTWFwW25hbWVdO1xuICAgIH0sIGZhbHNlLCB0cnVlKTtcbiAgfVxuXG4gIHByb3BlcnR5KHRoaXMsICdyZXN1bHRXcmFwcGVyJywgc2hhcGUucmVzdWx0V3JhcHBlciB8fCBudWxsKTtcblxuICBpZiAoc2hhcGUucGF5bG9hZCkge1xuICAgIHByb3BlcnR5KHRoaXMsICdwYXlsb2FkJywgc2hhcGUucGF5bG9hZCk7XG4gIH1cblxuICBpZiAodHlwZW9mIHNoYXBlLnhtbE5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAneG1sTmFtZXNwYWNlVXJpJywgc2hhcGUueG1sTmFtZXNwYWNlKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc2hhcGUueG1sTmFtZXNwYWNlID09PSAnb2JqZWN0Jykge1xuICAgIHByb3BlcnR5KHRoaXMsICd4bWxOYW1lc3BhY2VQcmVmaXgnLCBzaGFwZS54bWxOYW1lc3BhY2UucHJlZml4KTtcbiAgICBwcm9wZXJ0eSh0aGlzLCAneG1sTmFtZXNwYWNlVXJpJywgc2hhcGUueG1sTmFtZXNwYWNlLnVyaSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gTGlzdFNoYXBlKHNoYXBlLCBvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcywgZmlyc3RJbml0ID0gIXRoaXMuaXNTaGFwZTtcbiAgQ29tcG9zaXRlU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICBpZiAoZmlyc3RJbml0KSB7XG4gICAgcHJvcGVydHkodGhpcywgJ2RlZmF1bHRWYWx1ZScsIGZ1bmN0aW9uKCkgeyByZXR1cm4gW107IH0pO1xuICB9XG5cbiAgaWYgKHNoYXBlLm1lbWJlcikge1xuICAgIG1lbW9pemVkUHJvcGVydHkodGhpcywgJ21lbWJlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIFNoYXBlLmNyZWF0ZShzaGFwZS5tZW1iZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKHRoaXMuZmxhdHRlbmVkKSB7XG4gICAgdmFyIG9sZE5hbWUgPSB0aGlzLm5hbWU7XG4gICAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHNlbGYubWVtYmVyLm5hbWUgfHwgb2xkTmFtZTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBNYXBTaGFwZShzaGFwZSwgb3B0aW9ucykge1xuICB2YXIgZmlyc3RJbml0ID0gIXRoaXMuaXNTaGFwZTtcbiAgQ29tcG9zaXRlU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICBpZiAoZmlyc3RJbml0KSB7XG4gICAgcHJvcGVydHkodGhpcywgJ2RlZmF1bHRWYWx1ZScsIGZ1bmN0aW9uKCkgeyByZXR1cm4ge307IH0pO1xuICAgIHByb3BlcnR5KHRoaXMsICdrZXknLCBTaGFwZS5jcmVhdGUoe3R5cGU6ICdzdHJpbmcnfSwgb3B0aW9ucykpO1xuICAgIHByb3BlcnR5KHRoaXMsICd2YWx1ZScsIFNoYXBlLmNyZWF0ZSh7dHlwZTogJ3N0cmluZyd9LCBvcHRpb25zKSk7XG4gIH1cblxuICBpZiAoc2hhcGUua2V5KSB7XG4gICAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAna2V5JywgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gU2hhcGUuY3JlYXRlKHNoYXBlLmtleSwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHNoYXBlLnZhbHVlKSB7XG4gICAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAndmFsdWUnLCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBTaGFwZS5jcmVhdGUoc2hhcGUudmFsdWUsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIFRpbWVzdGFtcFNoYXBlKHNoYXBlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICBpZiAoc2hhcGUudGltZXN0YW1wRm9ybWF0KSB7XG4gICAgcHJvcGVydHkodGhpcywgJ3RpbWVzdGFtcEZvcm1hdCcsIHNoYXBlLnRpbWVzdGFtcEZvcm1hdCk7XG4gIH0gZWxzZSBpZiAoc2VsZi5pc1RpbWVzdGFtcEZvcm1hdFNldCAmJiB0aGlzLnRpbWVzdGFtcEZvcm1hdCkge1xuICAgIHByb3BlcnR5KHRoaXMsICd0aW1lc3RhbXBGb3JtYXQnLCB0aGlzLnRpbWVzdGFtcEZvcm1hdCk7XG4gIH0gZWxzZSBpZiAodGhpcy5sb2NhdGlvbiA9PT0gJ2hlYWRlcicpIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAndGltZXN0YW1wRm9ybWF0JywgJ3JmYzgyMicpO1xuICB9IGVsc2UgaWYgKHRoaXMubG9jYXRpb24gPT09ICdxdWVyeXN0cmluZycpIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAndGltZXN0YW1wRm9ybWF0JywgJ2lzbzg2MDEnKTtcbiAgfSBlbHNlIGlmICh0aGlzLmFwaSkge1xuICAgIHN3aXRjaCAodGhpcy5hcGkucHJvdG9jb2wpIHtcbiAgICAgIGNhc2UgJ2pzb24nOlxuICAgICAgY2FzZSAncmVzdC1qc29uJzpcbiAgICAgICAgcHJvcGVydHkodGhpcywgJ3RpbWVzdGFtcEZvcm1hdCcsICd1bml4VGltZXN0YW1wJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVzdC14bWwnOlxuICAgICAgY2FzZSAncXVlcnknOlxuICAgICAgY2FzZSAnZWMyJzpcbiAgICAgICAgcHJvcGVydHkodGhpcywgJ3RpbWVzdGFtcEZvcm1hdCcsICdpc284NjAxJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMudG9UeXBlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG51bGw7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZS50b1VUQ1N0cmluZyA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIHZhbHVlO1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgP1xuICAgICAgICAgICB1dGlsLmRhdGUucGFyc2VUaW1lc3RhbXAodmFsdWUpIDogbnVsbDtcbiAgfTtcblxuICB0aGlzLnRvV2lyZUZvcm1hdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHV0aWwuZGF0ZS5mb3JtYXQodmFsdWUsIHNlbGYudGltZXN0YW1wRm9ybWF0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gU3RyaW5nU2hhcGUoKSB7XG4gIFNoYXBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgdmFyIG51bGxMZXNzUHJvdG9jb2xzID0gWydyZXN0LXhtbCcsICdxdWVyeScsICdlYzInXTtcbiAgdGhpcy50b1R5cGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhbHVlID0gdGhpcy5hcGkgJiYgbnVsbExlc3NQcm90b2NvbHMuaW5kZXhPZih0aGlzLmFwaS5wcm90b2NvbCkgPiAtMSA/XG4gICAgICB2YWx1ZSB8fCAnJyA6IHZhbHVlO1xuICAgIGlmICh0aGlzLmlzSnNvblZhbHVlKSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS50b1N0cmluZyA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICB2YWx1ZS50b1N0cmluZygpIDogdmFsdWU7XG4gIH07XG5cbiAgdGhpcy50b1dpcmVGb3JtYXQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB0aGlzLmlzSnNvblZhbHVlID8gSlNPTi5zdHJpbmdpZnkodmFsdWUpIDogdmFsdWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIEZsb2F0U2hhcGUoKSB7XG4gIFNoYXBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cbiAgdGhpcy50b1R5cGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XG4gIH07XG4gIHRoaXMudG9XaXJlRm9ybWF0ID0gdGhpcy50b1R5cGU7XG59XG5cbmZ1bmN0aW9uIEludGVnZXJTaGFwZSgpIHtcbiAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICB0aGlzLnRvVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICAgIHJldHVybiBwYXJzZUludCh2YWx1ZSwgMTApO1xuICB9O1xuICB0aGlzLnRvV2lyZUZvcm1hdCA9IHRoaXMudG9UeXBlO1xufVxuXG5mdW5jdGlvbiBCaW5hcnlTaGFwZSgpIHtcbiAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgdGhpcy50b1R5cGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciBidWYgPSB1dGlsLmJhc2U2NC5kZWNvZGUodmFsdWUpO1xuICAgIGlmICh0aGlzLmlzU2Vuc2l0aXZlICYmIHV0aWwuaXNOb2RlKCkgJiYgdHlwZW9mIHV0aWwuQnVmZmVyLmFsbG9jID09PSAnZnVuY3Rpb24nKSB7XG4gIC8qIE5vZGUuanMgY2FuIGNyZWF0ZSBhIEJ1ZmZlciB0aGF0IGlzIG5vdCBpc29sYXRlZC5cbiAgICogaS5lLiBidWYuYnl0ZUxlbmd0aCAhPT0gYnVmLmJ1ZmZlci5ieXRlTGVuZ3RoXG4gICAqIFRoaXMgbWVhbnMgdGhhdCB0aGUgc2Vuc2l0aXZlIGRhdGEgaXMgYWNjZXNzaWJsZSB0byBhbnlvbmUgd2l0aCBhY2Nlc3MgdG8gYnVmLmJ1ZmZlci5cbiAgICogSWYgdGhpcyBpcyB0aGUgbm9kZSBzaGFyZWQgQnVmZmVyLCB0aGVuIG90aGVyIGNvZGUgd2l0aGluIHRoaXMgcHJvY2VzcyBfY291bGRfIGZpbmQgdGhpcyBzZWNyZXQuXG4gICAqIENvcHkgc2Vuc2l0aXZlIGRhdGEgdG8gYW4gaXNvbGF0ZWQgQnVmZmVyIGFuZCB6ZXJvIHRoZSBzZW5zaXRpdmUgZGF0YS5cbiAgICogV2hpbGUgdGhpcyBpcyBzYWZlIHRvIGRvIGhlcmUsIGNvcHlpbmcgdGhpcyBjb2RlIHNvbWV3aGVyZSBlbHNlIG1heSBwcm9kdWNlIHVuZXhwZWN0ZWQgcmVzdWx0cy5cbiAgICovXG4gICAgICB2YXIgc2VjdXJlQnVmID0gdXRpbC5CdWZmZXIuYWxsb2MoYnVmLmxlbmd0aCwgYnVmKTtcbiAgICAgIGJ1Zi5maWxsKDApO1xuICAgICAgYnVmID0gc2VjdXJlQnVmO1xuICAgIH1cbiAgICByZXR1cm4gYnVmO1xuICB9O1xuICB0aGlzLnRvV2lyZUZvcm1hdCA9IHV0aWwuYmFzZTY0LmVuY29kZTtcbn1cblxuZnVuY3Rpb24gQmFzZTY0U2hhcGUoKSB7XG4gIEJpbmFyeVNoYXBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmZ1bmN0aW9uIEJvb2xlYW5TaGFwZSgpIHtcbiAgU2hhcGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcblxuICB0aGlzLnRvVHlwZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICB9O1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5TaGFwZS5zaGFwZXMgPSB7XG4gIFN0cnVjdHVyZVNoYXBlOiBTdHJ1Y3R1cmVTaGFwZSxcbiAgTGlzdFNoYXBlOiBMaXN0U2hhcGUsXG4gIE1hcFNoYXBlOiBNYXBTaGFwZSxcbiAgU3RyaW5nU2hhcGU6IFN0cmluZ1NoYXBlLFxuICBCb29sZWFuU2hhcGU6IEJvb2xlYW5TaGFwZSxcbiAgQmFzZTY0U2hhcGU6IEJhc2U2NFNoYXBlXG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFNoYXBlO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBRdWVyeVBhcmFtU2VyaWFsaXplciA9IHJlcXVpcmUoJy4uL3F1ZXJ5L3F1ZXJ5X3BhcmFtX3NlcmlhbGl6ZXInKTtcbnZhciBTaGFwZSA9IHJlcXVpcmUoJy4uL21vZGVsL3NoYXBlJyk7XG52YXIgcG9wdWxhdGVIb3N0UHJlZml4ID0gcmVxdWlyZSgnLi9oZWxwZXJzJykucG9wdWxhdGVIb3N0UHJlZml4O1xuXG5mdW5jdGlvbiBidWlsZFJlcXVlc3QocmVxKSB7XG4gIHZhciBvcGVyYXRpb24gPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXTtcbiAgdmFyIGh0dHBSZXF1ZXN0ID0gcmVxLmh0dHBSZXF1ZXN0O1xuICBodHRwUmVxdWVzdC5oZWFkZXJzWydDb250ZW50LVR5cGUnXSA9XG4gICAgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD11dGYtOCc7XG4gIGh0dHBSZXF1ZXN0LnBhcmFtcyA9IHtcbiAgICBWZXJzaW9uOiByZXEuc2VydmljZS5hcGkuYXBpVmVyc2lvbixcbiAgICBBY3Rpb246IG9wZXJhdGlvbi5uYW1lXG4gIH07XG5cbiAgLy8gY29udmVydCB0aGUgcmVxdWVzdCBwYXJhbWV0ZXJzIGludG8gYSBsaXN0IG9mIHF1ZXJ5IHBhcmFtcyxcbiAgLy8gZS5nLiBEZWVwbHkuTmVzdGVkUGFyYW0uMC5OYW1lPXZhbHVlXG4gIHZhciBidWlsZGVyID0gbmV3IFF1ZXJ5UGFyYW1TZXJpYWxpemVyKCk7XG4gIGJ1aWxkZXIuc2VyaWFsaXplKHJlcS5wYXJhbXMsIG9wZXJhdGlvbi5pbnB1dCwgZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICBodHRwUmVxdWVzdC5wYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgfSk7XG4gIGh0dHBSZXF1ZXN0LmJvZHkgPSB1dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcoaHR0cFJlcXVlc3QucGFyYW1zKTtcblxuICBwb3B1bGF0ZUhvc3RQcmVmaXgocmVxKTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVycm9yKHJlc3ApIHtcbiAgdmFyIGRhdGEsIGJvZHkgPSByZXNwLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCk7XG4gIGlmIChib2R5Lm1hdGNoKCc8VW5rbm93bk9wZXJhdGlvbkV4Y2VwdGlvbicpKSB7XG4gICAgZGF0YSA9IHtcbiAgICAgIENvZGU6ICdVbmtub3duT3BlcmF0aW9uJyxcbiAgICAgIE1lc3NhZ2U6ICdVbmtub3duIG9wZXJhdGlvbiAnICsgcmVzcC5yZXF1ZXN0Lm9wZXJhdGlvblxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgdHJ5IHtcbiAgICAgIGRhdGEgPSBuZXcgQVdTLlhNTC5QYXJzZXIoKS5wYXJzZShib2R5KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBkYXRhID0ge1xuICAgICAgICBDb2RlOiByZXNwLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlLFxuICAgICAgICBNZXNzYWdlOiByZXNwLmh0dHBSZXNwb25zZS5zdGF0dXNNZXNzYWdlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGlmIChkYXRhLnJlcXVlc3RJZCAmJiAhcmVzcC5yZXF1ZXN0SWQpIHJlc3AucmVxdWVzdElkID0gZGF0YS5yZXF1ZXN0SWQ7XG4gIGlmIChkYXRhLkVycm9ycykgZGF0YSA9IGRhdGEuRXJyb3JzO1xuICBpZiAoZGF0YS5FcnJvcikgZGF0YSA9IGRhdGEuRXJyb3I7XG4gIGlmIChkYXRhLkNvZGUpIHtcbiAgICByZXNwLmVycm9yID0gdXRpbC5lcnJvcihuZXcgRXJyb3IoKSwge1xuICAgICAgY29kZTogZGF0YS5Db2RlLFxuICAgICAgbWVzc2FnZTogZGF0YS5NZXNzYWdlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzcC5lcnJvciA9IHV0aWwuZXJyb3IobmV3IEVycm9yKCksIHtcbiAgICAgIGNvZGU6IHJlc3AuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUsXG4gICAgICBtZXNzYWdlOiBudWxsXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFjdERhdGEocmVzcCkge1xuICB2YXIgcmVxID0gcmVzcC5yZXF1ZXN0O1xuICB2YXIgb3BlcmF0aW9uID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl07XG4gIHZhciBzaGFwZSA9IG9wZXJhdGlvbi5vdXRwdXQgfHwge307XG4gIHZhciBvcmlnUnVsZXMgPSBzaGFwZTtcblxuICBpZiAob3JpZ1J1bGVzLnJlc3VsdFdyYXBwZXIpIHtcbiAgICB2YXIgdG1wID0gU2hhcGUuY3JlYXRlKHt0eXBlOiAnc3RydWN0dXJlJ30pO1xuICAgIHRtcC5tZW1iZXJzW29yaWdSdWxlcy5yZXN1bHRXcmFwcGVyXSA9IHNoYXBlO1xuICAgIHRtcC5tZW1iZXJOYW1lcyA9IFtvcmlnUnVsZXMucmVzdWx0V3JhcHBlcl07XG4gICAgdXRpbC5wcm9wZXJ0eShzaGFwZSwgJ25hbWUnLCBzaGFwZS5yZXN1bHRXcmFwcGVyKTtcbiAgICBzaGFwZSA9IHRtcDtcbiAgfVxuXG4gIHZhciBwYXJzZXIgPSBuZXcgQVdTLlhNTC5QYXJzZXIoKTtcblxuICAvLyBUT0RPOiBSZWZhY3RvciBYTUwgUGFyc2VyIHRvIHBhcnNlIFJlcXVlc3RJZCBmcm9tIHJlc3BvbnNlLlxuICBpZiAoc2hhcGUgJiYgc2hhcGUubWVtYmVycyAmJiAhc2hhcGUubWVtYmVycy5fWEFNWlJlcXVlc3RJZCkge1xuICAgIHZhciByZXF1ZXN0SWRTaGFwZSA9IFNoYXBlLmNyZWF0ZShcbiAgICAgIHsgdHlwZTogJ3N0cmluZycgfSxcbiAgICAgIHsgYXBpOiB7IHByb3RvY29sOiAncXVlcnknIH0gfSxcbiAgICAgICdyZXF1ZXN0SWQnXG4gICAgKTtcbiAgICBzaGFwZS5tZW1iZXJzLl9YQU1aUmVxdWVzdElkID0gcmVxdWVzdElkU2hhcGU7XG4gIH1cblxuICB2YXIgZGF0YSA9IHBhcnNlci5wYXJzZShyZXNwLmh0dHBSZXNwb25zZS5ib2R5LnRvU3RyaW5nKCksIHNoYXBlKTtcbiAgcmVzcC5yZXF1ZXN0SWQgPSBkYXRhLl9YQU1aUmVxdWVzdElkIHx8IGRhdGEucmVxdWVzdElkO1xuXG4gIGlmIChkYXRhLl9YQU1aUmVxdWVzdElkKSBkZWxldGUgZGF0YS5fWEFNWlJlcXVlc3RJZDtcblxuICBpZiAob3JpZ1J1bGVzLnJlc3VsdFdyYXBwZXIpIHtcbiAgICBpZiAoZGF0YVtvcmlnUnVsZXMucmVzdWx0V3JhcHBlcl0pIHtcbiAgICAgIHV0aWwudXBkYXRlKGRhdGEsIGRhdGFbb3JpZ1J1bGVzLnJlc3VsdFdyYXBwZXJdKTtcbiAgICAgIGRlbGV0ZSBkYXRhW29yaWdSdWxlcy5yZXN1bHRXcmFwcGVyXTtcbiAgICB9XG4gIH1cblxuICByZXNwLmRhdGEgPSBkYXRhO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYnVpbGRSZXF1ZXN0OiBidWlsZFJlcXVlc3QsXG4gIGV4dHJhY3RFcnJvcjogZXh0cmFjdEVycm9yLFxuICBleHRyYWN0RGF0YTogZXh0cmFjdERhdGFcbn07XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuLi91dGlsJyk7XG52YXIgcG9wdWxhdGVIb3N0UHJlZml4ID0gcmVxdWlyZSgnLi9oZWxwZXJzJykucG9wdWxhdGVIb3N0UHJlZml4O1xuXG5mdW5jdGlvbiBwb3B1bGF0ZU1ldGhvZChyZXEpIHtcbiAgcmVxLmh0dHBSZXF1ZXN0Lm1ldGhvZCA9IHJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcS5vcGVyYXRpb25dLmh0dHBNZXRob2Q7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVVJJKGVuZHBvaW50UGF0aCwgb3BlcmF0aW9uUGF0aCwgaW5wdXQsIHBhcmFtcykge1xuICB2YXIgdXJpID0gW2VuZHBvaW50UGF0aCwgb3BlcmF0aW9uUGF0aF0uam9pbignLycpO1xuICB1cmkgPSB1cmkucmVwbGFjZSgvXFwvKy9nLCAnLycpO1xuXG4gIHZhciBxdWVyeVN0cmluZyA9IHt9LCBxdWVyeVN0cmluZ1NldCA9IGZhbHNlO1xuICB1dGlsLmVhY2goaW5wdXQubWVtYmVycywgZnVuY3Rpb24gKG5hbWUsIG1lbWJlcikge1xuICAgIHZhciBwYXJhbVZhbHVlID0gcGFyYW1zW25hbWVdO1xuICAgIGlmIChwYXJhbVZhbHVlID09PSBudWxsIHx8IHBhcmFtVmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGlmIChtZW1iZXIubG9jYXRpb24gPT09ICd1cmknKSB7XG4gICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCdcXFxceycgKyBtZW1iZXIubmFtZSArICcoXFxcXCspP1xcXFx9Jyk7XG4gICAgICB1cmkgPSB1cmkucmVwbGFjZShyZWdleCwgZnVuY3Rpb24oXywgcGx1cykge1xuICAgICAgICB2YXIgZm4gPSBwbHVzID8gdXRpbC51cmlFc2NhcGVQYXRoIDogdXRpbC51cmlFc2NhcGU7XG4gICAgICAgIHJldHVybiBmbihTdHJpbmcocGFyYW1WYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZW1iZXIubG9jYXRpb24gPT09ICdxdWVyeXN0cmluZycpIHtcbiAgICAgIHF1ZXJ5U3RyaW5nU2V0ID0gdHJ1ZTtcblxuICAgICAgaWYgKG1lbWJlci50eXBlID09PSAnbGlzdCcpIHtcbiAgICAgICAgcXVlcnlTdHJpbmdbbWVtYmVyLm5hbWVdID0gcGFyYW1WYWx1ZS5tYXAoZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgcmV0dXJuIHV0aWwudXJpRXNjYXBlKG1lbWJlci5tZW1iZXIudG9XaXJlRm9ybWF0KHZhbCkudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChtZW1iZXIudHlwZSA9PT0gJ21hcCcpIHtcbiAgICAgICAgdXRpbC5lYWNoKHBhcmFtVmFsdWUsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHF1ZXJ5U3RyaW5nW2tleV0gPSB2YWx1ZS5tYXAoZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIHJldHVybiB1dGlsLnVyaUVzY2FwZShTdHJpbmcodmFsKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcXVlcnlTdHJpbmdba2V5XSA9IHV0aWwudXJpRXNjYXBlKFN0cmluZyh2YWx1ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBxdWVyeVN0cmluZ1ttZW1iZXIubmFtZV0gPSB1dGlsLnVyaUVzY2FwZShtZW1iZXIudG9XaXJlRm9ybWF0KHBhcmFtVmFsdWUpLnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgaWYgKHF1ZXJ5U3RyaW5nU2V0KSB7XG4gICAgdXJpICs9ICh1cmkuaW5kZXhPZignPycpID49IDAgPyAnJicgOiAnPycpO1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgIHV0aWwuYXJyYXlFYWNoKE9iamVjdC5rZXlzKHF1ZXJ5U3RyaW5nKS5zb3J0KCksIGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHF1ZXJ5U3RyaW5nW2tleV0pKSB7XG4gICAgICAgIHF1ZXJ5U3RyaW5nW2tleV0gPSBbcXVlcnlTdHJpbmdba2V5XV07XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHF1ZXJ5U3RyaW5nW2tleV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGFydHMucHVzaCh1dGlsLnVyaUVzY2FwZShTdHJpbmcoa2V5KSkgKyAnPScgKyBxdWVyeVN0cmluZ1trZXldW2ldKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1cmkgKz0gcGFydHMuam9pbignJicpO1xuICB9XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuZnVuY3Rpb24gcG9wdWxhdGVVUkkocmVxKSB7XG4gIHZhciBvcGVyYXRpb24gPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXTtcbiAgdmFyIGlucHV0ID0gb3BlcmF0aW9uLmlucHV0O1xuXG4gIHZhciB1cmkgPSBnZW5lcmF0ZVVSSShyZXEuaHR0cFJlcXVlc3QuZW5kcG9pbnQucGF0aCwgb3BlcmF0aW9uLmh0dHBQYXRoLCBpbnB1dCwgcmVxLnBhcmFtcyk7XG4gIHJlcS5odHRwUmVxdWVzdC5wYXRoID0gdXJpO1xufVxuXG5mdW5jdGlvbiBwb3B1bGF0ZUhlYWRlcnMocmVxKSB7XG4gIHZhciBvcGVyYXRpb24gPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXTtcbiAgdXRpbC5lYWNoKG9wZXJhdGlvbi5pbnB1dC5tZW1iZXJzLCBmdW5jdGlvbiAobmFtZSwgbWVtYmVyKSB7XG4gICAgdmFyIHZhbHVlID0gcmVxLnBhcmFtc1tuYW1lXTtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuXG4gICAgaWYgKG1lbWJlci5sb2NhdGlvbiA9PT0gJ2hlYWRlcnMnICYmIG1lbWJlci50eXBlID09PSAnbWFwJykge1xuICAgICAgdXRpbC5lYWNoKHZhbHVlLCBmdW5jdGlvbihrZXksIG1lbWJlclZhbHVlKSB7XG4gICAgICAgIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzW21lbWJlci5uYW1lICsga2V5XSA9IG1lbWJlclZhbHVlO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChtZW1iZXIubG9jYXRpb24gPT09ICdoZWFkZXInKSB7XG4gICAgICB2YWx1ZSA9IG1lbWJlci50b1dpcmVGb3JtYXQodmFsdWUpLnRvU3RyaW5nKCk7XG4gICAgICBpZiAobWVtYmVyLmlzSnNvblZhbHVlKSB7XG4gICAgICAgIHZhbHVlID0gdXRpbC5iYXNlNjQuZW5jb2RlKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzW21lbWJlci5uYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVxdWVzdChyZXEpIHtcbiAgcG9wdWxhdGVNZXRob2QocmVxKTtcbiAgcG9wdWxhdGVVUkkocmVxKTtcbiAgcG9wdWxhdGVIZWFkZXJzKHJlcSk7XG4gIHBvcHVsYXRlSG9zdFByZWZpeChyZXEpO1xufVxuXG5mdW5jdGlvbiBleHRyYWN0RXJyb3IoKSB7XG59XG5cbmZ1bmN0aW9uIGV4dHJhY3REYXRhKHJlc3ApIHtcbiAgdmFyIHJlcSA9IHJlc3AucmVxdWVzdDtcbiAgdmFyIGRhdGEgPSB7fTtcbiAgdmFyIHIgPSByZXNwLmh0dHBSZXNwb25zZTtcbiAgdmFyIG9wZXJhdGlvbiA9IHJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcS5vcGVyYXRpb25dO1xuICB2YXIgb3V0cHV0ID0gb3BlcmF0aW9uLm91dHB1dDtcblxuICAvLyBub3JtYWxpemUgaGVhZGVycyBuYW1lcyB0byBsb3dlci1jYXNlZCBrZXlzIGZvciBtYXRjaGluZ1xuICB2YXIgaGVhZGVycyA9IHt9O1xuICB1dGlsLmVhY2goci5oZWFkZXJzLCBmdW5jdGlvbiAoaywgdikge1xuICAgIGhlYWRlcnNbay50b0xvd2VyQ2FzZSgpXSA9IHY7XG4gIH0pO1xuXG4gIHV0aWwuZWFjaChvdXRwdXQubWVtYmVycywgZnVuY3Rpb24obmFtZSwgbWVtYmVyKSB7XG4gICAgdmFyIGhlYWRlciA9IChtZW1iZXIubmFtZSB8fCBuYW1lKS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmIChtZW1iZXIubG9jYXRpb24gPT09ICdoZWFkZXJzJyAmJiBtZW1iZXIudHlwZSA9PT0gJ21hcCcpIHtcbiAgICAgIGRhdGFbbmFtZV0gPSB7fTtcbiAgICAgIHZhciBsb2NhdGlvbiA9IG1lbWJlci5pc0xvY2F0aW9uTmFtZSA/IG1lbWJlci5uYW1lIDogJyc7XG4gICAgICB2YXIgcGF0dGVybiA9IG5ldyBSZWdFeHAoJ14nICsgbG9jYXRpb24gKyAnKC4rKScsICdpJyk7XG4gICAgICB1dGlsLmVhY2goci5oZWFkZXJzLCBmdW5jdGlvbiAoaywgdikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gay5tYXRjaChwYXR0ZXJuKTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkge1xuICAgICAgICAgIGRhdGFbbmFtZV1bcmVzdWx0WzFdXSA9IHY7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAobWVtYmVyLmxvY2F0aW9uID09PSAnaGVhZGVyJykge1xuICAgICAgaWYgKGhlYWRlcnNbaGVhZGVyXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG1lbWJlci5pc0pzb25WYWx1ZSA/XG4gICAgICAgICAgdXRpbC5iYXNlNjQuZGVjb2RlKGhlYWRlcnNbaGVhZGVyXSkgOlxuICAgICAgICAgIGhlYWRlcnNbaGVhZGVyXTtcbiAgICAgICAgZGF0YVtuYW1lXSA9IG1lbWJlci50b1R5cGUodmFsdWUpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAobWVtYmVyLmxvY2F0aW9uID09PSAnc3RhdHVzQ29kZScpIHtcbiAgICAgIGRhdGFbbmFtZV0gPSBwYXJzZUludChyLnN0YXR1c0NvZGUsIDEwKTtcbiAgICB9XG4gIH0pO1xuXG4gIHJlc3AuZGF0YSA9IGRhdGE7XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBidWlsZFJlcXVlc3Q6IGJ1aWxkUmVxdWVzdCxcbiAgZXh0cmFjdEVycm9yOiBleHRyYWN0RXJyb3IsXG4gIGV4dHJhY3REYXRhOiBleHRyYWN0RGF0YSxcbiAgZ2VuZXJhdGVVUkk6IGdlbmVyYXRlVVJJXG59O1xuIiwgInZhciB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpO1xudmFyIFJlc3QgPSByZXF1aXJlKCcuL3Jlc3QnKTtcbnZhciBKc29uID0gcmVxdWlyZSgnLi9qc29uJyk7XG52YXIgSnNvbkJ1aWxkZXIgPSByZXF1aXJlKCcuLi9qc29uL2J1aWxkZXInKTtcbnZhciBKc29uUGFyc2VyID0gcmVxdWlyZSgnLi4vanNvbi9wYXJzZXInKTtcblxuZnVuY3Rpb24gcG9wdWxhdGVCb2R5KHJlcSkge1xuICB2YXIgYnVpbGRlciA9IG5ldyBKc29uQnVpbGRlcigpO1xuICB2YXIgaW5wdXQgPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXS5pbnB1dDtcblxuICBpZiAoaW5wdXQucGF5bG9hZCkge1xuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICB2YXIgcGF5bG9hZFNoYXBlID0gaW5wdXQubWVtYmVyc1tpbnB1dC5wYXlsb2FkXTtcbiAgICBwYXJhbXMgPSByZXEucGFyYW1zW2lucHV0LnBheWxvYWRdO1xuXG4gICAgaWYgKHBheWxvYWRTaGFwZS50eXBlID09PSAnc3RydWN0dXJlJykge1xuICAgICAgcmVxLmh0dHBSZXF1ZXN0LmJvZHkgPSBidWlsZGVyLmJ1aWxkKHBhcmFtcyB8fCB7fSwgcGF5bG9hZFNoYXBlKTtcbiAgICAgIGFwcGx5Q29udGVudFR5cGVIZWFkZXIocmVxKTtcbiAgICB9IGVsc2UgaWYgKHBhcmFtcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBub24tSlNPTiBwYXlsb2FkXG4gICAgICByZXEuaHR0cFJlcXVlc3QuYm9keSA9IHBhcmFtcztcbiAgICAgIGlmIChwYXlsb2FkU2hhcGUudHlwZSA9PT0gJ2JpbmFyeScgfHwgcGF5bG9hZFNoYXBlLmlzU3RyZWFtaW5nKSB7XG4gICAgICAgIGFwcGx5Q29udGVudFR5cGVIZWFkZXIocmVxLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVxLmh0dHBSZXF1ZXN0LmJvZHkgPSBidWlsZGVyLmJ1aWxkKHJlcS5wYXJhbXMsIGlucHV0KTtcbiAgICBhcHBseUNvbnRlbnRUeXBlSGVhZGVyKHJlcSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDb250ZW50VHlwZUhlYWRlcihyZXEsIGlzQmluYXJ5KSB7XG4gIGlmICghcmVxLmh0dHBSZXF1ZXN0LmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSB7XG4gICAgdmFyIHR5cGUgPSBpc0JpbmFyeSA/ICdiaW5hcnkvb2N0ZXQtc3RyZWFtJyA6ICdhcHBsaWNhdGlvbi9qc29uJztcbiAgICByZXEuaHR0cFJlcXVlc3QuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSB0eXBlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVxdWVzdChyZXEpIHtcbiAgUmVzdC5idWlsZFJlcXVlc3QocmVxKTtcblxuICAvLyBuZXZlciBzZW5kIGJvZHkgcGF5bG9hZCBvbiBHRVQvSEVBRC9ERUxFVEVcbiAgaWYgKFsnR0VUJywgJ0hFQUQnLCAnREVMRVRFJ10uaW5kZXhPZihyZXEuaHR0cFJlcXVlc3QubWV0aG9kKSA8IDApIHtcbiAgICBwb3B1bGF0ZUJvZHkocmVxKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RXJyb3IocmVzcCkge1xuICBKc29uLmV4dHJhY3RFcnJvcihyZXNwKTtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdERhdGEocmVzcCkge1xuICBSZXN0LmV4dHJhY3REYXRhKHJlc3ApO1xuXG4gIHZhciByZXEgPSByZXNwLnJlcXVlc3Q7XG4gIHZhciBvcGVyYXRpb24gPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXTtcbiAgdmFyIHJ1bGVzID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl0ub3V0cHV0IHx8IHt9O1xuICB2YXIgcGFyc2VyO1xuICB2YXIgaGFzRXZlbnRPdXRwdXQgPSBvcGVyYXRpb24uaGFzRXZlbnRPdXRwdXQ7XG5cbiAgaWYgKHJ1bGVzLnBheWxvYWQpIHtcbiAgICB2YXIgcGF5bG9hZE1lbWJlciA9IHJ1bGVzLm1lbWJlcnNbcnVsZXMucGF5bG9hZF07XG4gICAgdmFyIGJvZHkgPSByZXNwLmh0dHBSZXNwb25zZS5ib2R5O1xuICAgIGlmIChwYXlsb2FkTWVtYmVyLmlzRXZlbnRTdHJlYW0pIHtcbiAgICAgIHBhcnNlciA9IG5ldyBKc29uUGFyc2VyKCk7XG4gICAgICByZXNwLmRhdGFbcGF5bG9hZF0gPSB1dGlsLmNyZWF0ZUV2ZW50U3RyZWFtKFxuICAgICAgICBBV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiA9PT0gMiA/IHJlc3AuaHR0cFJlc3BvbnNlLnN0cmVhbSA6IGJvZHksXG4gICAgICAgIHBhcnNlcixcbiAgICAgICAgcGF5bG9hZE1lbWJlclxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWRNZW1iZXIudHlwZSA9PT0gJ3N0cnVjdHVyZScgfHwgcGF5bG9hZE1lbWJlci50eXBlID09PSAnbGlzdCcpIHtcbiAgICAgIHZhciBwYXJzZXIgPSBuZXcgSnNvblBhcnNlcigpO1xuICAgICAgcmVzcC5kYXRhW3J1bGVzLnBheWxvYWRdID0gcGFyc2VyLnBhcnNlKGJvZHksIHBheWxvYWRNZW1iZXIpO1xuICAgIH0gZWxzZSBpZiAocGF5bG9hZE1lbWJlci50eXBlID09PSAnYmluYXJ5JyB8fCBwYXlsb2FkTWVtYmVyLmlzU3RyZWFtaW5nKSB7XG4gICAgICByZXNwLmRhdGFbcnVsZXMucGF5bG9hZF0gPSBib2R5O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNwLmRhdGFbcnVsZXMucGF5bG9hZF0gPSBwYXlsb2FkTWVtYmVyLnRvVHlwZShib2R5KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdmFyIGRhdGEgPSByZXNwLmRhdGE7XG4gICAgSnNvbi5leHRyYWN0RGF0YShyZXNwKTtcbiAgICByZXNwLmRhdGEgPSB1dGlsLm1lcmdlKGRhdGEsIHJlc3AuZGF0YSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGJ1aWxkUmVxdWVzdDogYnVpbGRSZXF1ZXN0LFxuICBleHRyYWN0RXJyb3I6IGV4dHJhY3RFcnJvcixcbiAgZXh0cmFjdERhdGE6IGV4dHJhY3REYXRhXG59O1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBSZXN0ID0gcmVxdWlyZSgnLi9yZXN0Jyk7XG5cbmZ1bmN0aW9uIHBvcHVsYXRlQm9keShyZXEpIHtcbiAgdmFyIGlucHV0ID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl0uaW5wdXQ7XG4gIHZhciBidWlsZGVyID0gbmV3IEFXUy5YTUwuQnVpbGRlcigpO1xuICB2YXIgcGFyYW1zID0gcmVxLnBhcmFtcztcblxuICB2YXIgcGF5bG9hZCA9IGlucHV0LnBheWxvYWQ7XG4gIGlmIChwYXlsb2FkKSB7XG4gICAgdmFyIHBheWxvYWRNZW1iZXIgPSBpbnB1dC5tZW1iZXJzW3BheWxvYWRdO1xuICAgIHBhcmFtcyA9IHBhcmFtc1twYXlsb2FkXTtcbiAgICBpZiAocGFyYW1zID09PSB1bmRlZmluZWQpIHJldHVybjtcblxuICAgIGlmIChwYXlsb2FkTWVtYmVyLnR5cGUgPT09ICdzdHJ1Y3R1cmUnKSB7XG4gICAgICB2YXIgcm9vdEVsZW1lbnQgPSBwYXlsb2FkTWVtYmVyLm5hbWU7XG4gICAgICByZXEuaHR0cFJlcXVlc3QuYm9keSA9IGJ1aWxkZXIudG9YTUwocGFyYW1zLCBwYXlsb2FkTWVtYmVyLCByb290RWxlbWVudCwgdHJ1ZSk7XG4gICAgfSBlbHNlIHsgLy8gbm9uLXhtbCBwYXlsb2FkXG4gICAgICByZXEuaHR0cFJlcXVlc3QuYm9keSA9IHBhcmFtcztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmVxLmh0dHBSZXF1ZXN0LmJvZHkgPSBidWlsZGVyLnRvWE1MKHBhcmFtcywgaW5wdXQsIGlucHV0Lm5hbWUgfHxcbiAgICAgIGlucHV0LnNoYXBlIHx8IHV0aWwuc3RyaW5nLnVwcGVyRmlyc3QocmVxLm9wZXJhdGlvbikgKyAnUmVxdWVzdCcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJ1aWxkUmVxdWVzdChyZXEpIHtcbiAgUmVzdC5idWlsZFJlcXVlc3QocmVxKTtcblxuICAvLyBuZXZlciBzZW5kIGJvZHkgcGF5bG9hZCBvbiBHRVQvSEVBRFxuICBpZiAoWydHRVQnLCAnSEVBRCddLmluZGV4T2YocmVxLmh0dHBSZXF1ZXN0Lm1ldGhvZCkgPCAwKSB7XG4gICAgcG9wdWxhdGVCb2R5KHJlcSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXh0cmFjdEVycm9yKHJlc3ApIHtcbiAgUmVzdC5leHRyYWN0RXJyb3IocmVzcCk7XG5cbiAgdmFyIGRhdGE7XG4gIHRyeSB7XG4gICAgZGF0YSA9IG5ldyBBV1MuWE1MLlBhcnNlcigpLnBhcnNlKHJlc3AuaHR0cFJlc3BvbnNlLmJvZHkudG9TdHJpbmcoKSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBkYXRhID0ge1xuICAgICAgQ29kZTogcmVzcC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxcbiAgICAgIE1lc3NhZ2U6IHJlc3AuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2VcbiAgICB9O1xuICB9XG5cbiAgaWYgKGRhdGEuRXJyb3JzKSBkYXRhID0gZGF0YS5FcnJvcnM7XG4gIGlmIChkYXRhLkVycm9yKSBkYXRhID0gZGF0YS5FcnJvcjtcbiAgaWYgKGRhdGEuQ29kZSkge1xuICAgIHJlc3AuZXJyb3IgPSB1dGlsLmVycm9yKG5ldyBFcnJvcigpLCB7XG4gICAgICBjb2RlOiBkYXRhLkNvZGUsXG4gICAgICBtZXNzYWdlOiBkYXRhLk1lc3NhZ2VcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXNwLmVycm9yID0gdXRpbC5lcnJvcihuZXcgRXJyb3IoKSwge1xuICAgICAgY29kZTogcmVzcC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSxcbiAgICAgIG1lc3NhZ2U6IG51bGxcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBleHRyYWN0RGF0YShyZXNwKSB7XG4gIFJlc3QuZXh0cmFjdERhdGEocmVzcCk7XG5cbiAgdmFyIHBhcnNlcjtcbiAgdmFyIHJlcSA9IHJlc3AucmVxdWVzdDtcbiAgdmFyIGJvZHkgPSByZXNwLmh0dHBSZXNwb25zZS5ib2R5O1xuICB2YXIgb3BlcmF0aW9uID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl07XG4gIHZhciBvdXRwdXQgPSBvcGVyYXRpb24ub3V0cHV0O1xuXG4gIHZhciBoYXNFdmVudE91dHB1dCA9IG9wZXJhdGlvbi5oYXNFdmVudE91dHB1dDtcblxuICB2YXIgcGF5bG9hZCA9IG91dHB1dC5wYXlsb2FkO1xuICBpZiAocGF5bG9hZCkge1xuICAgIHZhciBwYXlsb2FkTWVtYmVyID0gb3V0cHV0Lm1lbWJlcnNbcGF5bG9hZF07XG4gICAgaWYgKHBheWxvYWRNZW1iZXIuaXNFdmVudFN0cmVhbSkge1xuICAgICAgcGFyc2VyID0gbmV3IEFXUy5YTUwuUGFyc2VyKCk7XG4gICAgICByZXNwLmRhdGFbcGF5bG9hZF0gPSB1dGlsLmNyZWF0ZUV2ZW50U3RyZWFtKFxuICAgICAgICBBV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiA9PT0gMiA/IHJlc3AuaHR0cFJlc3BvbnNlLnN0cmVhbSA6IHJlc3AuaHR0cFJlc3BvbnNlLmJvZHksXG4gICAgICAgIHBhcnNlcixcbiAgICAgICAgcGF5bG9hZE1lbWJlclxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKHBheWxvYWRNZW1iZXIudHlwZSA9PT0gJ3N0cnVjdHVyZScpIHtcbiAgICAgIHBhcnNlciA9IG5ldyBBV1MuWE1MLlBhcnNlcigpO1xuICAgICAgcmVzcC5kYXRhW3BheWxvYWRdID0gcGFyc2VyLnBhcnNlKGJvZHkudG9TdHJpbmcoKSwgcGF5bG9hZE1lbWJlcik7XG4gICAgfSBlbHNlIGlmIChwYXlsb2FkTWVtYmVyLnR5cGUgPT09ICdiaW5hcnknIHx8IHBheWxvYWRNZW1iZXIuaXNTdHJlYW1pbmcpIHtcbiAgICAgIHJlc3AuZGF0YVtwYXlsb2FkXSA9IGJvZHk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3AuZGF0YVtwYXlsb2FkXSA9IHBheWxvYWRNZW1iZXIudG9UeXBlKGJvZHkpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChib2R5Lmxlbmd0aCA+IDApIHtcbiAgICBwYXJzZXIgPSBuZXcgQVdTLlhNTC5QYXJzZXIoKTtcbiAgICB2YXIgZGF0YSA9IHBhcnNlci5wYXJzZShib2R5LnRvU3RyaW5nKCksIG91dHB1dCk7XG4gICAgdXRpbC51cGRhdGUocmVzcC5kYXRhLCBkYXRhKTtcbiAgfVxufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYnVpbGRSZXF1ZXN0OiBidWlsZFJlcXVlc3QsXG4gIGV4dHJhY3RFcnJvcjogZXh0cmFjdEVycm9yLFxuICBleHRyYWN0RGF0YTogZXh0cmFjdERhdGFcbn07XG4iLCAiLyoqXG4gKiBFc2NhcGVzIGNoYXJhY3RlcnMgdGhhdCBjYW4gbm90IGJlIGluIGFuIFhNTCBhdHRyaWJ1dGUuXG4gKi9cbmZ1bmN0aW9uIGVzY2FwZUF0dHJpYnV0ZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZS5yZXBsYWNlKC8mL2csICcmYW1wOycpLnJlcGxhY2UoLycvZywgJyZhcG9zOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7JykucmVwbGFjZSgvXCIvZywgJyZxdW90OycpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBlc2NhcGVBdHRyaWJ1dGU6IGVzY2FwZUF0dHJpYnV0ZVxufTtcbiIsICJ2YXIgZXNjYXBlQXR0cmlidXRlID0gcmVxdWlyZSgnLi9lc2NhcGUtYXR0cmlidXRlJykuZXNjYXBlQXR0cmlidXRlO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gWE1MIG5vZGUuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gWG1sTm9kZShuYW1lLCBjaGlsZHJlbikge1xuICAgIGlmIChjaGlsZHJlbiA9PT0gdm9pZCAwKSB7IGNoaWxkcmVuID0gW107IH1cbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7fTtcbn1cblhtbE5vZGUucHJvdG90eXBlLmFkZEF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgIHRoaXMuYXR0cmlidXRlc1tuYW1lXSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xufTtcblhtbE5vZGUucHJvdG90eXBlLmFkZENoaWxkTm9kZSA9IGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgcmV0dXJuIHRoaXM7XG59O1xuWG1sTm9kZS5wcm90b3R5cGUucmVtb3ZlQXR0cmlidXRlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBkZWxldGUgdGhpcy5hdHRyaWJ1dGVzW25hbWVdO1xuICAgIHJldHVybiB0aGlzO1xufTtcblhtbE5vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBoYXNDaGlsZHJlbiA9IEJvb2xlYW4odGhpcy5jaGlsZHJlbi5sZW5ndGgpO1xuICAgIHZhciB4bWxUZXh0ID0gJzwnICsgdGhpcy5uYW1lO1xuICAgIC8vIGFkZCBhdHRyaWJ1dGVzXG4gICAgdmFyIGF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7XG4gICAgZm9yICh2YXIgaSA9IDAsIGF0dHJpYnV0ZU5hbWVzID0gT2JqZWN0LmtleXMoYXR0cmlidXRlcyk7IGkgPCBhdHRyaWJ1dGVOYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWVzW2ldO1xuICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXTtcbiAgICAgICAgaWYgKHR5cGVvZiBhdHRyaWJ1dGUgIT09ICd1bmRlZmluZWQnICYmIGF0dHJpYnV0ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgeG1sVGV4dCArPSAnICcgKyBhdHRyaWJ1dGVOYW1lICsgJz1cXFwiJyArIGVzY2FwZUF0dHJpYnV0ZSgnJyArIGF0dHJpYnV0ZSkgKyAnXFxcIic7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHhtbFRleHQgKz0gIWhhc0NoaWxkcmVuID8gJy8+JyA6ICc+JyArIHRoaXMuY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnRvU3RyaW5nKCk7IH0pLmpvaW4oJycpICsgJzwvJyArIHRoaXMubmFtZSArICc+Jztcbn07XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIFhtbE5vZGU6IFhtbE5vZGVcbn07XG4iLCAiLyoqXG4gKiBFc2NhcGVzIGNoYXJhY3RlcnMgdGhhdCBjYW4gbm90IGJlIGluIGFuIFhNTCBlbGVtZW50LlxuICovXG5mdW5jdGlvbiBlc2NhcGVFbGVtZW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXHIvZywgJyYjeDBEOycpXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnJiN4MEE7JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx1MDA4NS9nLCAnJiN4ODU7JylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFx1MjAyOC8sICcmI3gyMDI4OycpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBlc2NhcGVFbGVtZW50OiBlc2NhcGVFbGVtZW50XG59O1xuIiwgInZhciBlc2NhcGVFbGVtZW50ID0gcmVxdWlyZSgnLi9lc2NhcGUtZWxlbWVudCcpLmVzY2FwZUVsZW1lbnQ7XG5cbi8qKlxuICogUmVwcmVzZW50cyBhbiBYTUwgdGV4dCB2YWx1ZS5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBYbWxUZXh0KHZhbHVlKSB7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xufVxuXG5YbWxUZXh0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZXNjYXBlRWxlbWVudCgnJyArIHRoaXMudmFsdWUpO1xufTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgWG1sVGV4dDogWG1sVGV4dFxufTtcbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBYbWxOb2RlID0gcmVxdWlyZSgnLi94bWwtbm9kZScpLlhtbE5vZGU7XG52YXIgWG1sVGV4dCA9IHJlcXVpcmUoJy4veG1sLXRleHQnKS5YbWxUZXh0O1xuXG5mdW5jdGlvbiBYbWxCdWlsZGVyKCkgeyB9XG5cblhtbEJ1aWxkZXIucHJvdG90eXBlLnRvWE1MID0gZnVuY3Rpb24ocGFyYW1zLCBzaGFwZSwgcm9vdEVsZW1lbnQsIG5vRW1wdHkpIHtcbiAgdmFyIHhtbCA9IG5ldyBYbWxOb2RlKHJvb3RFbGVtZW50KTtcbiAgYXBwbHlOYW1lc3BhY2VzKHhtbCwgc2hhcGUsIHRydWUpO1xuICBzZXJpYWxpemUoeG1sLCBwYXJhbXMsIHNoYXBlKTtcbiAgcmV0dXJuIHhtbC5jaGlsZHJlbi5sZW5ndGggPiAwIHx8IG5vRW1wdHkgPyB4bWwudG9TdHJpbmcoKSA6ICcnO1xufTtcblxuZnVuY3Rpb24gc2VyaWFsaXplKHhtbCwgdmFsdWUsIHNoYXBlKSB7XG4gIHN3aXRjaCAoc2hhcGUudHlwZSkge1xuICAgIGNhc2UgJ3N0cnVjdHVyZSc6IHJldHVybiBzZXJpYWxpemVTdHJ1Y3R1cmUoeG1sLCB2YWx1ZSwgc2hhcGUpO1xuICAgIGNhc2UgJ21hcCc6IHJldHVybiBzZXJpYWxpemVNYXAoeG1sLCB2YWx1ZSwgc2hhcGUpO1xuICAgIGNhc2UgJ2xpc3QnOiByZXR1cm4gc2VyaWFsaXplTGlzdCh4bWwsIHZhbHVlLCBzaGFwZSk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHNlcmlhbGl6ZVNjYWxhcih4bWwsIHZhbHVlLCBzaGFwZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2VyaWFsaXplU3RydWN0dXJlKHhtbCwgcGFyYW1zLCBzaGFwZSkge1xuICB1dGlsLmFycmF5RWFjaChzaGFwZS5tZW1iZXJOYW1lcywgZnVuY3Rpb24obWVtYmVyTmFtZSkge1xuICAgIHZhciBtZW1iZXJTaGFwZSA9IHNoYXBlLm1lbWJlcnNbbWVtYmVyTmFtZV07XG4gICAgaWYgKG1lbWJlclNoYXBlLmxvY2F0aW9uICE9PSAnYm9keScpIHJldHVybjtcblxuICAgIHZhciB2YWx1ZSA9IHBhcmFtc1ttZW1iZXJOYW1lXTtcbiAgICB2YXIgbmFtZSA9IG1lbWJlclNoYXBlLm5hbWU7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIGlmIChtZW1iZXJTaGFwZS5pc1htbEF0dHJpYnV0ZSkge1xuICAgICAgICB4bWwuYWRkQXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAobWVtYmVyU2hhcGUuZmxhdHRlbmVkKSB7XG4gICAgICAgIHNlcmlhbGl6ZSh4bWwsIHZhbHVlLCBtZW1iZXJTaGFwZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZWxlbWVudCA9IG5ldyBYbWxOb2RlKG5hbWUpO1xuICAgICAgICB4bWwuYWRkQ2hpbGROb2RlKGVsZW1lbnQpO1xuICAgICAgICBhcHBseU5hbWVzcGFjZXMoZWxlbWVudCwgbWVtYmVyU2hhcGUpO1xuICAgICAgICBzZXJpYWxpemUoZWxlbWVudCwgdmFsdWUsIG1lbWJlclNoYXBlKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVNYXAoeG1sLCBtYXAsIHNoYXBlKSB7XG4gIHZhciB4bWxLZXkgPSBzaGFwZS5rZXkubmFtZSB8fCAna2V5JztcbiAgdmFyIHhtbFZhbHVlID0gc2hhcGUudmFsdWUubmFtZSB8fCAndmFsdWUnO1xuXG4gIHV0aWwuZWFjaChtYXAsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZW50cnkgPSBuZXcgWG1sTm9kZShzaGFwZS5mbGF0dGVuZWQgPyBzaGFwZS5uYW1lIDogJ2VudHJ5Jyk7XG4gICAgeG1sLmFkZENoaWxkTm9kZShlbnRyeSk7XG5cbiAgICB2YXIgZW50cnlLZXkgPSBuZXcgWG1sTm9kZSh4bWxLZXkpO1xuICAgIHZhciBlbnRyeVZhbHVlID0gbmV3IFhtbE5vZGUoeG1sVmFsdWUpO1xuICAgIGVudHJ5LmFkZENoaWxkTm9kZShlbnRyeUtleSk7XG4gICAgZW50cnkuYWRkQ2hpbGROb2RlKGVudHJ5VmFsdWUpO1xuXG4gICAgc2VyaWFsaXplKGVudHJ5S2V5LCBrZXksIHNoYXBlLmtleSk7XG4gICAgc2VyaWFsaXplKGVudHJ5VmFsdWUsIHZhbHVlLCBzaGFwZS52YWx1ZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXJpYWxpemVMaXN0KHhtbCwgbGlzdCwgc2hhcGUpIHtcbiAgaWYgKHNoYXBlLmZsYXR0ZW5lZCkge1xuICAgIHV0aWwuYXJyYXlFYWNoKGxpc3QsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgbmFtZSA9IHNoYXBlLm1lbWJlci5uYW1lIHx8IHNoYXBlLm5hbWU7XG4gICAgICB2YXIgZWxlbWVudCA9IG5ldyBYbWxOb2RlKG5hbWUpO1xuICAgICAgeG1sLmFkZENoaWxkTm9kZShlbGVtZW50KTtcbiAgICAgIHNlcmlhbGl6ZShlbGVtZW50LCB2YWx1ZSwgc2hhcGUubWVtYmVyKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB1dGlsLmFycmF5RWFjaChsaXN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5hbWUgPSBzaGFwZS5tZW1iZXIubmFtZSB8fCAnbWVtYmVyJztcbiAgICAgIHZhciBlbGVtZW50ID0gbmV3IFhtbE5vZGUobmFtZSk7XG4gICAgICB4bWwuYWRkQ2hpbGROb2RlKGVsZW1lbnQpO1xuICAgICAgc2VyaWFsaXplKGVsZW1lbnQsIHZhbHVlLCBzaGFwZS5tZW1iZXIpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNlcmlhbGl6ZVNjYWxhcih4bWwsIHZhbHVlLCBzaGFwZSkge1xuICB4bWwuYWRkQ2hpbGROb2RlKFxuICAgIG5ldyBYbWxUZXh0KHNoYXBlLnRvV2lyZUZvcm1hdCh2YWx1ZSkpXG4gICk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5TmFtZXNwYWNlcyh4bWwsIHNoYXBlLCBpc1Jvb3QpIHtcbiAgdmFyIHVyaSwgcHJlZml4ID0gJ3htbG5zJztcbiAgaWYgKHNoYXBlLnhtbE5hbWVzcGFjZVVyaSkge1xuICAgIHVyaSA9IHNoYXBlLnhtbE5hbWVzcGFjZVVyaTtcbiAgICBpZiAoc2hhcGUueG1sTmFtZXNwYWNlUHJlZml4KSBwcmVmaXggKz0gJzonICsgc2hhcGUueG1sTmFtZXNwYWNlUHJlZml4O1xuICB9IGVsc2UgaWYgKGlzUm9vdCAmJiBzaGFwZS5hcGkueG1sTmFtZXNwYWNlVXJpKSB7XG4gICAgdXJpID0gc2hhcGUuYXBpLnhtbE5hbWVzcGFjZVVyaTtcbiAgfVxuXG4gIGlmICh1cmkpIHhtbC5hZGRBdHRyaWJ1dGUocHJlZml4LCB1cmkpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFhtbEJ1aWxkZXI7XG4iLCAidmFyIFNoYXBlID0gcmVxdWlyZSgnLi9zaGFwZScpO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBwcm9wZXJ0eSA9IHV0aWwucHJvcGVydHk7XG52YXIgbWVtb2l6ZWRQcm9wZXJ0eSA9IHV0aWwubWVtb2l6ZWRQcm9wZXJ0eTtcblxuZnVuY3Rpb24gT3BlcmF0aW9uKG5hbWUsIG9wZXJhdGlvbiwgb3B0aW9ucykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHByb3BlcnR5KHRoaXMsICduYW1lJywgb3BlcmF0aW9uLm5hbWUgfHwgbmFtZSk7XG4gIHByb3BlcnR5KHRoaXMsICdhcGknLCBvcHRpb25zLmFwaSwgZmFsc2UpO1xuXG4gIG9wZXJhdGlvbi5odHRwID0gb3BlcmF0aW9uLmh0dHAgfHwge307XG4gIHByb3BlcnR5KHRoaXMsICdlbmRwb2ludCcsIG9wZXJhdGlvbi5lbmRwb2ludCk7XG4gIHByb3BlcnR5KHRoaXMsICdodHRwTWV0aG9kJywgb3BlcmF0aW9uLmh0dHAubWV0aG9kIHx8ICdQT1NUJyk7XG4gIHByb3BlcnR5KHRoaXMsICdodHRwUGF0aCcsIG9wZXJhdGlvbi5odHRwLnJlcXVlc3RVcmkgfHwgJy8nKTtcbiAgcHJvcGVydHkodGhpcywgJ2F1dGh0eXBlJywgb3BlcmF0aW9uLmF1dGh0eXBlIHx8ICcnKTtcbiAgcHJvcGVydHkoXG4gICAgdGhpcyxcbiAgICAnZW5kcG9pbnREaXNjb3ZlcnlSZXF1aXJlZCcsXG4gICAgb3BlcmF0aW9uLmVuZHBvaW50ZGlzY292ZXJ5ID9cbiAgICAgIChvcGVyYXRpb24uZW5kcG9pbnRkaXNjb3ZlcnkucmVxdWlyZWQgPyAnUkVRVUlSRUQnIDogJ09QVElPTkFMJykgOlxuICAgICdOVUxMJ1xuICApO1xuXG4gIC8vIGh0dHBDaGVja3N1bSByZXBsYWNlcyB1c2FnZSBvZiBodHRwQ2hlY2tzdW1SZXF1aXJlZCwgYnV0IHNvbWUgQVBJc1xuICAvLyAoczNjb250cm9sKSBzdGlsbCB1c2VzIG9sZCB0cmFpdC5cbiAgdmFyIGh0dHBDaGVja3N1bVJlcXVpcmVkID0gb3BlcmF0aW9uLmh0dHBDaGVja3N1bVJlcXVpcmVkXG4gICAgfHwgKG9wZXJhdGlvbi5odHRwQ2hlY2tzdW0gJiYgb3BlcmF0aW9uLmh0dHBDaGVja3N1bS5yZXF1ZXN0Q2hlY2tzdW1SZXF1aXJlZCk7XG4gIHByb3BlcnR5KHRoaXMsICdodHRwQ2hlY2tzdW1SZXF1aXJlZCcsIGh0dHBDaGVja3N1bVJlcXVpcmVkLCBmYWxzZSk7XG5cbiAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAnaW5wdXQnLCBmdW5jdGlvbigpIHtcbiAgICBpZiAoIW9wZXJhdGlvbi5pbnB1dCkge1xuICAgICAgcmV0dXJuIG5ldyBTaGFwZS5jcmVhdGUoe3R5cGU6ICdzdHJ1Y3R1cmUnfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIHJldHVybiBTaGFwZS5jcmVhdGUob3BlcmF0aW9uLmlucHV0LCBvcHRpb25zKTtcbiAgfSk7XG5cbiAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAnb3V0cHV0JywgZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFvcGVyYXRpb24ub3V0cHV0KSB7XG4gICAgICByZXR1cm4gbmV3IFNoYXBlLmNyZWF0ZSh7dHlwZTogJ3N0cnVjdHVyZSd9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIFNoYXBlLmNyZWF0ZShvcGVyYXRpb24ub3V0cHV0LCBvcHRpb25zKTtcbiAgfSk7XG5cbiAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAnZXJyb3JzJywgZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxpc3QgPSBbXTtcbiAgICBpZiAoIW9wZXJhdGlvbi5lcnJvcnMpIHJldHVybiBudWxsO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcGVyYXRpb24uZXJyb3JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0LnB1c2goU2hhcGUuY3JlYXRlKG9wZXJhdGlvbi5lcnJvcnNbaV0sIG9wdGlvbnMpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbGlzdDtcbiAgfSk7XG5cbiAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAncGFnaW5hdG9yJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMuYXBpLnBhZ2luYXRvcnNbbmFtZV07XG4gIH0pO1xuXG4gIGlmIChvcHRpb25zLmRvY3VtZW50YXRpb24pIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnZG9jdW1lbnRhdGlvbicsIG9wZXJhdGlvbi5kb2N1bWVudGF0aW9uKTtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnZG9jdW1lbnRhdGlvblVybCcsIG9wZXJhdGlvbi5kb2N1bWVudGF0aW9uVXJsKTtcbiAgfVxuXG4gIC8vIGlkZW1wb3RlbnRNZW1iZXJzIG9ubHkgdHJhY2tzIHRvcC1sZXZlbCBpbnB1dCBzaGFwZXNcbiAgbWVtb2l6ZWRQcm9wZXJ0eSh0aGlzLCAnaWRlbXBvdGVudE1lbWJlcnMnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgaWRlbXBvdGVudE1lbWJlcnMgPSBbXTtcbiAgICB2YXIgaW5wdXQgPSBzZWxmLmlucHV0O1xuICAgIHZhciBtZW1iZXJzID0gaW5wdXQubWVtYmVycztcbiAgICBpZiAoIWlucHV0Lm1lbWJlcnMpIHtcbiAgICAgIHJldHVybiBpZGVtcG90ZW50TWVtYmVycztcbiAgICB9XG4gICAgZm9yICh2YXIgbmFtZSBpbiBtZW1iZXJzKSB7XG4gICAgICBpZiAoIW1lbWJlcnMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAobWVtYmVyc1tuYW1lXS5pc0lkZW1wb3RlbnQgPT09IHRydWUpIHtcbiAgICAgICAgaWRlbXBvdGVudE1lbWJlcnMucHVzaChuYW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlkZW1wb3RlbnRNZW1iZXJzO1xuICB9KTtcblxuICBtZW1vaXplZFByb3BlcnR5KHRoaXMsICdoYXNFdmVudE91dHB1dCcsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBvdXRwdXQgPSBzZWxmLm91dHB1dDtcbiAgICByZXR1cm4gaGFzRXZlbnRTdHJlYW0ob3V0cHV0KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhc0V2ZW50U3RyZWFtKHRvcExldmVsU2hhcGUpIHtcbiAgdmFyIG1lbWJlcnMgPSB0b3BMZXZlbFNoYXBlLm1lbWJlcnM7XG4gIHZhciBwYXlsb2FkID0gdG9wTGV2ZWxTaGFwZS5wYXlsb2FkO1xuXG4gIGlmICghdG9wTGV2ZWxTaGFwZS5tZW1iZXJzKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHBheWxvYWQpIHtcbiAgICB2YXIgcGF5bG9hZE1lbWJlciA9IG1lbWJlcnNbcGF5bG9hZF07XG4gICAgcmV0dXJuIHBheWxvYWRNZW1iZXIuaXNFdmVudFN0cmVhbTtcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIGFueSBtZW1iZXIgaXMgYW4gZXZlbnQgc3RyZWFtXG4gIGZvciAodmFyIG5hbWUgaW4gbWVtYmVycykge1xuICAgIGlmICghbWVtYmVycy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgaWYgKG1lbWJlcnNbbmFtZV0uaXNFdmVudFN0cmVhbSA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IE9wZXJhdGlvbjtcbiIsICJ2YXIgcHJvcGVydHkgPSByZXF1aXJlKCcuLi91dGlsJykucHJvcGVydHk7XG5cbmZ1bmN0aW9uIFBhZ2luYXRvcihuYW1lLCBwYWdpbmF0b3IpIHtcbiAgcHJvcGVydHkodGhpcywgJ2lucHV0VG9rZW4nLCBwYWdpbmF0b3IuaW5wdXRfdG9rZW4pO1xuICBwcm9wZXJ0eSh0aGlzLCAnbGltaXRLZXknLCBwYWdpbmF0b3IubGltaXRfa2V5KTtcbiAgcHJvcGVydHkodGhpcywgJ21vcmVSZXN1bHRzJywgcGFnaW5hdG9yLm1vcmVfcmVzdWx0cyk7XG4gIHByb3BlcnR5KHRoaXMsICdvdXRwdXRUb2tlbicsIHBhZ2luYXRvci5vdXRwdXRfdG9rZW4pO1xuICBwcm9wZXJ0eSh0aGlzLCAncmVzdWx0S2V5JywgcGFnaW5hdG9yLnJlc3VsdF9rZXkpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IFBhZ2luYXRvcjtcbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL3V0aWwnKTtcbnZhciBwcm9wZXJ0eSA9IHV0aWwucHJvcGVydHk7XG5cbmZ1bmN0aW9uIFJlc291cmNlV2FpdGVyKG5hbWUsIHdhaXRlciwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgcHJvcGVydHkodGhpcywgJ25hbWUnLCBuYW1lKTtcbiAgcHJvcGVydHkodGhpcywgJ2FwaScsIG9wdGlvbnMuYXBpLCBmYWxzZSk7XG5cbiAgaWYgKHdhaXRlci5vcGVyYXRpb24pIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnb3BlcmF0aW9uJywgdXRpbC5zdHJpbmcubG93ZXJGaXJzdCh3YWl0ZXIub3BlcmF0aW9uKSk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBrZXlzID0gW1xuICAgICd0eXBlJyxcbiAgICAnZGVzY3JpcHRpb24nLFxuICAgICdkZWxheScsXG4gICAgJ21heEF0dGVtcHRzJyxcbiAgICAnYWNjZXB0b3JzJ1xuICBdO1xuXG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgdmFsdWUgPSB3YWl0ZXJba2V5XTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIHByb3BlcnR5KHNlbGYsIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gUmVzb3VyY2VXYWl0ZXI7XG4iLCAidmFyIENvbGxlY3Rpb24gPSByZXF1aXJlKCcuL2NvbGxlY3Rpb24nKTtcbnZhciBPcGVyYXRpb24gPSByZXF1aXJlKCcuL29wZXJhdGlvbicpO1xudmFyIFNoYXBlID0gcmVxdWlyZSgnLi9zaGFwZScpO1xudmFyIFBhZ2luYXRvciA9IHJlcXVpcmUoJy4vcGFnaW5hdG9yJyk7XG52YXIgUmVzb3VyY2VXYWl0ZXIgPSByZXF1aXJlKCcuL3Jlc291cmNlX3dhaXRlcicpO1xudmFyIG1ldGFkYXRhID0gcmVxdWlyZSgnLi4vLi4vYXBpcy9tZXRhZGF0YS5qc29uJyk7XG5cbnZhciB1dGlsID0gcmVxdWlyZSgnLi4vdXRpbCcpO1xudmFyIHByb3BlcnR5ID0gdXRpbC5wcm9wZXJ0eTtcbnZhciBtZW1vaXplZFByb3BlcnR5ID0gdXRpbC5tZW1vaXplZFByb3BlcnR5O1xuXG5mdW5jdGlvbiBBcGkoYXBpLCBvcHRpb25zKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgYXBpID0gYXBpIHx8IHt9O1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgb3B0aW9ucy5hcGkgPSB0aGlzO1xuXG4gIGFwaS5tZXRhZGF0YSA9IGFwaS5tZXRhZGF0YSB8fCB7fTtcblxuICB2YXIgc2VydmljZUlkZW50aWZpZXIgPSBvcHRpb25zLnNlcnZpY2VJZGVudGlmaWVyO1xuICBkZWxldGUgb3B0aW9ucy5zZXJ2aWNlSWRlbnRpZmllcjtcblxuICBwcm9wZXJ0eSh0aGlzLCAnaXNBcGknLCB0cnVlLCBmYWxzZSk7XG4gIHByb3BlcnR5KHRoaXMsICdhcGlWZXJzaW9uJywgYXBpLm1ldGFkYXRhLmFwaVZlcnNpb24pO1xuICBwcm9wZXJ0eSh0aGlzLCAnZW5kcG9pbnRQcmVmaXgnLCBhcGkubWV0YWRhdGEuZW5kcG9pbnRQcmVmaXgpO1xuICBwcm9wZXJ0eSh0aGlzLCAnc2lnbmluZ05hbWUnLCBhcGkubWV0YWRhdGEuc2lnbmluZ05hbWUpO1xuICBwcm9wZXJ0eSh0aGlzLCAnZ2xvYmFsRW5kcG9pbnQnLCBhcGkubWV0YWRhdGEuZ2xvYmFsRW5kcG9pbnQpO1xuICBwcm9wZXJ0eSh0aGlzLCAnc2lnbmF0dXJlVmVyc2lvbicsIGFwaS5tZXRhZGF0YS5zaWduYXR1cmVWZXJzaW9uKTtcbiAgcHJvcGVydHkodGhpcywgJ2pzb25WZXJzaW9uJywgYXBpLm1ldGFkYXRhLmpzb25WZXJzaW9uKTtcbiAgcHJvcGVydHkodGhpcywgJ3RhcmdldFByZWZpeCcsIGFwaS5tZXRhZGF0YS50YXJnZXRQcmVmaXgpO1xuICBwcm9wZXJ0eSh0aGlzLCAncHJvdG9jb2wnLCBhcGkubWV0YWRhdGEucHJvdG9jb2wpO1xuICBwcm9wZXJ0eSh0aGlzLCAndGltZXN0YW1wRm9ybWF0JywgYXBpLm1ldGFkYXRhLnRpbWVzdGFtcEZvcm1hdCk7XG4gIHByb3BlcnR5KHRoaXMsICd4bWxOYW1lc3BhY2VVcmknLCBhcGkubWV0YWRhdGEueG1sTmFtZXNwYWNlKTtcbiAgcHJvcGVydHkodGhpcywgJ2FiYnJldmlhdGlvbicsIGFwaS5tZXRhZGF0YS5zZXJ2aWNlQWJicmV2aWF0aW9uKTtcbiAgcHJvcGVydHkodGhpcywgJ2Z1bGxOYW1lJywgYXBpLm1ldGFkYXRhLnNlcnZpY2VGdWxsTmFtZSk7XG4gIHByb3BlcnR5KHRoaXMsICdzZXJ2aWNlSWQnLCBhcGkubWV0YWRhdGEuc2VydmljZUlkKTtcbiAgaWYgKHNlcnZpY2VJZGVudGlmaWVyICYmIG1ldGFkYXRhW3NlcnZpY2VJZGVudGlmaWVyXSkge1xuICAgICAgcHJvcGVydHkodGhpcywgJ3htbE5vRGVmYXVsdExpc3RzJywgbWV0YWRhdGFbc2VydmljZUlkZW50aWZpZXJdLnhtbE5vRGVmYXVsdExpc3RzLCBmYWxzZSk7XG4gIH1cblxuICBtZW1vaXplZFByb3BlcnR5KHRoaXMsICdjbGFzc05hbWUnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmFtZSA9IGFwaS5tZXRhZGF0YS5zZXJ2aWNlQWJicmV2aWF0aW9uIHx8IGFwaS5tZXRhZGF0YS5zZXJ2aWNlRnVsbE5hbWU7XG4gICAgaWYgKCFuYW1lKSByZXR1cm4gbnVsbDtcblxuICAgIG5hbWUgPSBuYW1lLnJlcGxhY2UoL15BbWF6b258QVdTXFxzKnxcXCguKnxcXHMrfFxcVysvZywgJycpO1xuICAgIGlmIChuYW1lID09PSAnRWxhc3RpY0xvYWRCYWxhbmNpbmcnKSBuYW1lID0gJ0VMQic7XG4gICAgcmV0dXJuIG5hbWU7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGFkZEVuZHBvaW50T3BlcmF0aW9uKG5hbWUsIG9wZXJhdGlvbikge1xuICAgIGlmIChvcGVyYXRpb24uZW5kcG9pbnRvcGVyYXRpb24gPT09IHRydWUpIHtcbiAgICAgIHByb3BlcnR5KHNlbGYsICdlbmRwb2ludE9wZXJhdGlvbicsIHV0aWwuc3RyaW5nLmxvd2VyRmlyc3QobmFtZSkpO1xuICAgIH1cbiAgICBpZiAob3BlcmF0aW9uLmVuZHBvaW50ZGlzY292ZXJ5ICYmICFzZWxmLmhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3ZlcnkpIHtcbiAgICAgIHByb3BlcnR5KFxuICAgICAgICBzZWxmLFxuICAgICAgICAnaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeScsXG4gICAgICAgIG9wZXJhdGlvbi5lbmRwb2ludGRpc2NvdmVyeS5yZXF1aXJlZCA9PT0gdHJ1ZVxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcm9wZXJ0eSh0aGlzLCAnb3BlcmF0aW9ucycsIG5ldyBDb2xsZWN0aW9uKGFwaS5vcGVyYXRpb25zLCBvcHRpb25zLCBmdW5jdGlvbihuYW1lLCBvcGVyYXRpb24pIHtcbiAgICByZXR1cm4gbmV3IE9wZXJhdGlvbihuYW1lLCBvcGVyYXRpb24sIG9wdGlvbnMpO1xuICB9LCB1dGlsLnN0cmluZy5sb3dlckZpcnN0LCBhZGRFbmRwb2ludE9wZXJhdGlvbikpO1xuXG4gIHByb3BlcnR5KHRoaXMsICdzaGFwZXMnLCBuZXcgQ29sbGVjdGlvbihhcGkuc2hhcGVzLCBvcHRpb25zLCBmdW5jdGlvbihuYW1lLCBzaGFwZSkge1xuICAgIHJldHVybiBTaGFwZS5jcmVhdGUoc2hhcGUsIG9wdGlvbnMpO1xuICB9KSk7XG5cbiAgcHJvcGVydHkodGhpcywgJ3BhZ2luYXRvcnMnLCBuZXcgQ29sbGVjdGlvbihhcGkucGFnaW5hdG9ycywgb3B0aW9ucywgZnVuY3Rpb24obmFtZSwgcGFnaW5hdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBQYWdpbmF0b3IobmFtZSwgcGFnaW5hdG9yLCBvcHRpb25zKTtcbiAgfSkpO1xuXG4gIHByb3BlcnR5KHRoaXMsICd3YWl0ZXJzJywgbmV3IENvbGxlY3Rpb24oYXBpLndhaXRlcnMsIG9wdGlvbnMsIGZ1bmN0aW9uKG5hbWUsIHdhaXRlcikge1xuICAgIHJldHVybiBuZXcgUmVzb3VyY2VXYWl0ZXIobmFtZSwgd2FpdGVyLCBvcHRpb25zKTtcbiAgfSwgdXRpbC5zdHJpbmcubG93ZXJGaXJzdCkpO1xuXG4gIGlmIChvcHRpb25zLmRvY3VtZW50YXRpb24pIHtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnZG9jdW1lbnRhdGlvbicsIGFwaS5kb2N1bWVudGF0aW9uKTtcbiAgICBwcm9wZXJ0eSh0aGlzLCAnZG9jdW1lbnRhdGlvblVybCcsIGFwaS5kb2N1bWVudGF0aW9uVXJsKTtcbiAgfVxuICBwcm9wZXJ0eSh0aGlzLCAnZXJyb3JDb2RlTWFwcGluZycsIGFwaS5hd3NRdWVyeUNvbXBhdGlibGUpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IEFwaTtcbiIsICJmdW5jdGlvbiBhcGlMb2FkZXIoc3ZjLCB2ZXJzaW9uKSB7XG4gIGlmICghYXBpTG9hZGVyLnNlcnZpY2VzLmhhc093blByb3BlcnR5KHN2YykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWRTZXJ2aWNlOiBGYWlsZWQgdG8gbG9hZCBhcGkgZm9yICcgKyBzdmMpO1xuICB9XG4gIHJldHVybiBhcGlMb2FkZXIuc2VydmljZXNbc3ZjXVt2ZXJzaW9uXTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqXG4gKiBUaGlzIG1lbWJlciBvZiBBV1MuYXBpTG9hZGVyIGlzIHByaXZhdGUsIGJ1dCBjaGFuZ2luZyBpdCB3aWxsIG5lY2Vzc2l0YXRlIGFcbiAqIGNoYW5nZSB0byAuLi9zY3JpcHRzL3NlcnZpY2VzLXRhYmxlLWdlbmVyYXRvci50c1xuICovXG5hcGlMb2FkZXIuc2VydmljZXMgPSB7fTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBhcGlMb2FkZXI7XG4iLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTGlua2VkTGlzdE5vZGUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTGlua2VkTGlzdE5vZGUoa2V5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gTGlua2VkTGlzdE5vZGU7XG59KCkpO1xudmFyIExSVUNhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIExSVUNhY2hlKHNpemUpIHtcbiAgICAgICAgdGhpcy5ub2RlTWFwID0ge307XG4gICAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgICAgIGlmICh0eXBlb2Ygc2l6ZSAhPT0gJ251bWJlcicgfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FjaGUgc2l6ZSBjYW4gb25seSBiZSBwb3NpdGl2ZSBudW1iZXInKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNpemVMaW1pdCA9IHNpemU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMUlVDYWNoZS5wcm90b3R5cGUsIFwibGVuZ3RoXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBMUlVDYWNoZS5wcm90b3R5cGUucHJlcGVuZFRvTGlzdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmICghdGhpcy5oZWFkZXJOb2RlKSB7XG4gICAgICAgICAgICB0aGlzLnRhaWxOb2RlID0gbm9kZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyTm9kZS5wcmV2ID0gbm9kZTtcbiAgICAgICAgICAgIG5vZGUubmV4dCA9IHRoaXMuaGVhZGVyTm9kZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmhlYWRlck5vZGUgPSBub2RlO1xuICAgICAgICB0aGlzLnNpemUrKztcbiAgICB9O1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmVGcm9tVGFpbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnRhaWxOb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gdGhpcy50YWlsTm9kZTtcbiAgICAgICAgdmFyIHByZXZOb2RlID0gbm9kZS5wcmV2O1xuICAgICAgICBpZiAocHJldk5vZGUpIHtcbiAgICAgICAgICAgIHByZXZOb2RlLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5wcmV2ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLnRhaWxOb2RlID0gcHJldk5vZGU7XG4gICAgICAgIHRoaXMuc2l6ZS0tO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9O1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5kZXRhY2hGcm9tTGlzdCA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmhlYWRlck5vZGUgPT09IG5vZGUpIHtcbiAgICAgICAgICAgIHRoaXMuaGVhZGVyTm9kZSA9IG5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50YWlsTm9kZSA9PT0gbm9kZSkge1xuICAgICAgICAgICAgdGhpcy50YWlsTm9kZSA9IG5vZGUucHJldjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5wcmV2KSB7XG4gICAgICAgICAgICBub2RlLnByZXYubmV4dCA9IG5vZGUubmV4dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uZXh0KSB7XG4gICAgICAgICAgICBub2RlLm5leHQucHJldiA9IG5vZGUucHJldjtcbiAgICAgICAgfVxuICAgICAgICBub2RlLm5leHQgPSB1bmRlZmluZWQ7XG4gICAgICAgIG5vZGUucHJldiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5zaXplLS07XG4gICAgfTtcbiAgICBMUlVDYWNoZS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAodGhpcy5ub2RlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHZhciBub2RlID0gdGhpcy5ub2RlTWFwW2tleV07XG4gICAgICAgICAgICB0aGlzLmRldGFjaEZyb21MaXN0KG5vZGUpO1xuICAgICAgICAgICAgdGhpcy5wcmVwZW5kVG9MaXN0KG5vZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUudmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICh0aGlzLm5vZGVNYXBba2V5XSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLm5vZGVNYXBba2V5XTtcbiAgICAgICAgICAgIHRoaXMuZGV0YWNoRnJvbUxpc3Qobm9kZSk7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5ub2RlTWFwW2tleV07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIExSVUNhY2hlLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5ub2RlTWFwW2tleV0pIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zaXplID09PSB0aGlzLnNpemVMaW1pdCkge1xuICAgICAgICAgICAgdmFyIHRhaWxOb2RlID0gdGhpcy5yZW1vdmVGcm9tVGFpbCgpO1xuICAgICAgICAgICAgdmFyIGtleV8xID0gdGFpbE5vZGUua2V5O1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubm9kZU1hcFtrZXlfMV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld05vZGUgPSBuZXcgTGlua2VkTGlzdE5vZGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIHRoaXMubm9kZU1hcFtrZXldID0gbmV3Tm9kZTtcbiAgICAgICAgdGhpcy5wcmVwZW5kVG9MaXN0KG5ld05vZGUpO1xuICAgIH07XG4gICAgTFJVQ2FjaGUucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMubm9kZU1hcCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgICB2YXIgbm9kZSA9IHRoaXMubm9kZU1hcFtrZXldO1xuICAgICAgICAgICAgdGhpcy5kZXRhY2hGcm9tTGlzdChub2RlKTtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLm5vZGVNYXBba2V5XTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIExSVUNhY2hlO1xufSgpKTtcbmV4cG9ydHMuTFJVQ2FjaGUgPSBMUlVDYWNoZTsiLCAiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgTFJVXzEgPSByZXF1aXJlKFwiLi91dGlscy9MUlVcIik7XG52YXIgQ0FDSEVfU0laRSA9IDEwMDA7XG4vKipcbiAqIEluc3BpcmVkIG5vZGUtbHJ1LWNhY2hlW2h0dHBzOi8vZ2l0aHViLmNvbS9pc2FhY3Mvbm9kZS1scnUtY2FjaGVdXG4gKi9cbnZhciBFbmRwb2ludENhY2hlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEVuZHBvaW50Q2FjaGUobWF4U2l6ZSkge1xuICAgICAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSBDQUNIRV9TSVpFOyB9XG4gICAgICAgIHRoaXMubWF4U2l6ZSA9IG1heFNpemU7XG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTFJVXzEuTFJVQ2FjaGUobWF4U2l6ZSk7XG4gICAgfVxuICAgIDtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRW5kcG9pbnRDYWNoZS5wcm90b3R5cGUsIFwic2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FjaGUubGVuZ3RoO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBFbmRwb2ludENhY2hlLnByb3RvdHlwZS5wdXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIGtleVN0cmluZyA9IHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnID8gRW5kcG9pbnRDYWNoZS5nZXRLZXlTdHJpbmcoa2V5KSA6IGtleTtcbiAgICAgICAgdmFyIGVuZHBvaW50UmVjb3JkID0gdGhpcy5wb3B1bGF0ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgdGhpcy5jYWNoZS5wdXQoa2V5U3RyaW5nLCBlbmRwb2ludFJlY29yZCk7XG4gICAgfTtcbiAgICBFbmRwb2ludENhY2hlLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIga2V5U3RyaW5nID0gdHlwZW9mIGtleSAhPT0gJ3N0cmluZycgPyBFbmRwb2ludENhY2hlLmdldEtleVN0cmluZyhrZXkpIDoga2V5O1xuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgdmFyIHJlY29yZHMgPSB0aGlzLmNhY2hlLmdldChrZXlTdHJpbmcpO1xuICAgICAgICBpZiAocmVjb3Jkcykge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHJlY29yZHMubGVuZ3RoLTE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlY29yZCA9IHJlY29yZHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKHJlY29yZC5FeHBpcmUgPCBub3cpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3Jkcy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJlY29yZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZS5yZW1vdmUoa2V5U3RyaW5nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZWNvcmRzO1xuICAgIH07XG4gICAgRW5kcG9pbnRDYWNoZS5nZXRLZXlTdHJpbmcgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBpZGVudGlmaWVycyA9IFtdO1xuICAgICAgICB2YXIgaWRlbnRpZmllck5hbWVzID0gT2JqZWN0LmtleXMoa2V5KS5zb3J0KCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaWRlbnRpZmllck5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgaWRlbnRpZmllck5hbWUgPSBpZGVudGlmaWVyTmFtZXNbaV07XG4gICAgICAgICAgICBpZiAoa2V5W2lkZW50aWZpZXJOYW1lXSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWRlbnRpZmllcnMucHVzaChrZXlbaWRlbnRpZmllck5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaWRlbnRpZmllcnMuam9pbignICcpO1xuICAgIH07XG4gICAgRW5kcG9pbnRDYWNoZS5wcm90b3R5cGUucG9wdWxhdGVWYWx1ZSA9IGZ1bmN0aW9uIChlbmRwb2ludHMpIHtcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiBlbmRwb2ludHMubWFwKGZ1bmN0aW9uIChlbmRwb2ludCkgeyByZXR1cm4gKHtcbiAgICAgICAgICAgIEFkZHJlc3M6IGVuZHBvaW50LkFkZHJlc3MgfHwgJycsXG4gICAgICAgICAgICBFeHBpcmU6IG5vdyArIChlbmRwb2ludC5DYWNoZVBlcmlvZEluTWludXRlcyB8fCAxKSAqIDYwICogMTAwMFxuICAgICAgICB9KTsgfSk7XG4gICAgfTtcbiAgICBFbmRwb2ludENhY2hlLnByb3RvdHlwZS5lbXB0eSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jYWNoZS5lbXB0eSgpO1xuICAgIH07XG4gICAgRW5kcG9pbnRDYWNoZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGtleVN0cmluZyA9IHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnID8gRW5kcG9pbnRDYWNoZS5nZXRLZXlTdHJpbmcoa2V5KSA6IGtleTtcbiAgICAgICAgdGhpcy5jYWNoZS5yZW1vdmUoa2V5U3RyaW5nKTtcbiAgICB9O1xuICAgIHJldHVybiBFbmRwb2ludENhY2hlO1xufSgpKTtcbmV4cG9ydHMuRW5kcG9pbnRDYWNoZSA9IEVuZHBvaW50Q2FjaGU7IiwgInZhciBBV1MgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqIEAhbWV0aG9kIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spXG4gKiAgIFJlZ2lzdGVycyBhbiBldmVudCBsaXN0ZW5lciBjYWxsYmFjayBmb3IgdGhlIGV2ZW50IGdpdmVuIGJ5IGBldmVudE5hbWVgLlxuICogICBQYXJhbWV0ZXJzIHBhc3NlZCB0byB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gZGVwZW5kIG9uIHRoZSBpbmRpdmlkdWFsIGV2ZW50XG4gKiAgIGJlaW5nIHRyaWdnZXJlZC4gU2VlIHRoZSBldmVudCBkb2N1bWVudGF0aW9uIGZvciB0aG9zZSBwYXJhbWV0ZXJzLlxuICpcbiAqICAgQHBhcmFtIGV2ZW50TmFtZSBbU3RyaW5nXSB0aGUgZXZlbnQgbmFtZSB0byByZWdpc3RlciB0aGUgbGlzdGVuZXIgZm9yXG4gKiAgIEBwYXJhbSBjYWxsYmFjayBbRnVuY3Rpb25dIHRoZSBsaXN0ZW5lciBjYWxsYmFjayBmdW5jdGlvblxuICogICBAcGFyYW0gdG9IZWFkIFtCb29sZWFuXSBhdHRhY2ggdGhlIGxpc3RlbmVyIGNhbGxiYWNrIHRvIHRoZSBoZWFkIG9mIGNhbGxiYWNrIGFycmF5IGlmIHNldCB0byB0cnVlLlxuICogICAgIERlZmF1bHQgdG8gYmUgZmFsc2UuXG4gKiAgIEByZXR1cm4gW0FXUy5TZXF1ZW50aWFsRXhlY3V0b3JdIHRoZSBzYW1lIG9iamVjdCBmb3IgY2hhaW5pbmdcbiAqL1xuQVdTLlNlcXVlbnRpYWxFeGVjdXRvciA9IEFXUy51dGlsLmluaGVyaXQoe1xuXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBTZXF1ZW50aWFsRXhlY3V0b3IoKSB7XG4gICAgdGhpcy5fZXZlbnRzID0ge307XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbGlzdGVuZXJzOiBmdW5jdGlvbiBsaXN0ZW5lcnMoZXZlbnROYW1lKSB7XG4gICAgcmV0dXJuIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdID8gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV0uc2xpY2UoMCkgOiBbXTtcbiAgfSxcblxuICBvbjogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBsaXN0ZW5lciwgdG9IZWFkKSB7XG4gICAgaWYgKHRoaXMuX2V2ZW50c1tldmVudE5hbWVdKSB7XG4gICAgICB0b0hlYWQgP1xuICAgICAgICB0aGlzLl9ldmVudHNbZXZlbnROYW1lXS51bnNoaWZ0KGxpc3RlbmVyKSA6XG4gICAgICAgIHRoaXMuX2V2ZW50c1tldmVudE5hbWVdLnB1c2gobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ldmVudHNbZXZlbnROYW1lXSA9IFtsaXN0ZW5lcl07XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIG9uQXN5bmM6IGZ1bmN0aW9uIG9uQXN5bmMoZXZlbnROYW1lLCBsaXN0ZW5lciwgdG9IZWFkKSB7XG4gICAgbGlzdGVuZXIuX2lzQXN5bmMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLm9uKGV2ZW50TmFtZSwgbGlzdGVuZXIsIHRvSGVhZCk7XG4gIH0sXG5cbiAgcmVtb3ZlTGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgbGlzdGVuZXIpIHtcbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV07XG4gICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgdmFyIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7XG4gICAgICB2YXIgcG9zaXRpb24gPSAtMTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwb3NpdGlvbiA+IC0xKSB7XG4gICAgICAgIGxpc3RlbmVycy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICByZW1vdmVBbGxMaXN0ZW5lcnM6IGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyhldmVudE5hbWUpIHtcbiAgICBpZiAoZXZlbnROYW1lKSB7XG4gICAgICBkZWxldGUgdGhpcy5fZXZlbnRzW2V2ZW50TmFtZV07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2V2ZW50cyA9IHt9O1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBlbWl0OiBmdW5jdGlvbiBlbWl0KGV2ZW50TmFtZSwgZXZlbnRBcmdzLCBkb25lQ2FsbGJhY2spIHtcbiAgICBpZiAoIWRvbmVDYWxsYmFjaykgZG9uZUNhbGxiYWNrID0gZnVuY3Rpb24oKSB7IH07XG4gICAgdmFyIGxpc3RlbmVycyA9IHRoaXMubGlzdGVuZXJzKGV2ZW50TmFtZSk7XG4gICAgdmFyIGNvdW50ID0gbGlzdGVuZXJzLmxlbmd0aDtcbiAgICB0aGlzLmNhbGxMaXN0ZW5lcnMobGlzdGVuZXJzLCBldmVudEFyZ3MsIGRvbmVDYWxsYmFjayk7XG4gICAgcmV0dXJuIGNvdW50ID4gMDtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjYWxsTGlzdGVuZXJzOiBmdW5jdGlvbiBjYWxsTGlzdGVuZXJzKGxpc3RlbmVycywgYXJncywgZG9uZUNhbGxiYWNrLCBwcmV2RXJyb3IpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGVycm9yID0gcHJldkVycm9yIHx8IG51bGw7XG5cbiAgICBmdW5jdGlvbiBjYWxsTmV4dExpc3RlbmVyKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBlcnJvciA9IEFXUy51dGlsLmVycm9yKGVycm9yIHx8IG5ldyBFcnJvcigpLCBlcnIpO1xuICAgICAgICBpZiAoc2VsZi5faGFsdEhhbmRsZXJzT25FcnJvcikge1xuICAgICAgICAgIHJldHVybiBkb25lQ2FsbGJhY2suY2FsbChzZWxmLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNlbGYuY2FsbExpc3RlbmVycyhsaXN0ZW5lcnMsIGFyZ3MsIGRvbmVDYWxsYmFjaywgZXJyb3IpO1xuICAgIH1cblxuICAgIHdoaWxlIChsaXN0ZW5lcnMubGVuZ3RoID4gMCkge1xuICAgICAgdmFyIGxpc3RlbmVyID0gbGlzdGVuZXJzLnNoaWZ0KCk7XG4gICAgICBpZiAobGlzdGVuZXIuX2lzQXN5bmMpIHsgLy8gYXN5bmNocm9ub3VzIGxpc3RlbmVyXG4gICAgICAgIGxpc3RlbmVyLmFwcGx5KHNlbGYsIGFyZ3MuY29uY2F0KFtjYWxsTmV4dExpc3RlbmVyXSkpO1xuICAgICAgICByZXR1cm47IC8vIHN0b3AgaGVyZSwgY2FsbE5leHRMaXN0ZW5lciB3aWxsIGNvbnRpbnVlXG4gICAgICB9IGVsc2UgeyAvLyBzeW5jaHJvbm91cyBsaXN0ZW5lclxuICAgICAgICB0cnkge1xuICAgICAgICAgIGxpc3RlbmVyLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBlcnJvciA9IEFXUy51dGlsLmVycm9yKGVycm9yIHx8IG5ldyBFcnJvcigpLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvciAmJiBzZWxmLl9oYWx0SGFuZGxlcnNPbkVycm9yKSB7XG4gICAgICAgICAgZG9uZUNhbGxiYWNrLmNhbGwoc2VsZiwgZXJyb3IpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkb25lQ2FsbGJhY2suY2FsbChzZWxmLCBlcnJvcik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFkZHMgb3IgY29waWVzIGEgc2V0IG9mIGxpc3RlbmVycyBmcm9tIGFub3RoZXIgbGlzdCBvZlxuICAgKiBsaXN0ZW5lcnMgb3IgU2VxdWVudGlhbEV4ZWN1dG9yIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIGxpc3RlbmVycyBbbWFwPFN0cmluZyxBcnJheTxGdW5jdGlvbj4+LCBBV1MuU2VxdWVudGlhbEV4ZWN1dG9yXVxuICAgKiAgIGEgbGlzdCBvZiBldmVudHMgYW5kIGNhbGxiYWNrcywgb3IgYW4gZXZlbnQgZW1pdHRlciBvYmplY3RcbiAgICogICBjb250YWluaW5nIGxpc3RlbmVycyB0byBhZGQgdG8gdGhpcyBlbWl0dGVyIG9iamVjdC5cbiAgICogQHJldHVybiBbQVdTLlNlcXVlbnRpYWxFeGVjdXRvcl0gdGhlIGVtaXR0ZXIgb2JqZWN0LCBmb3IgY2hhaW5pbmcuXG4gICAqIEBleGFtcGxlIEFkZGluZyBsaXN0ZW5lcnMgZnJvbSBhIG1hcCBvZiBsaXN0ZW5lcnNcbiAgICogICBlbWl0dGVyLmFkZExpc3RlbmVycyh7XG4gICAqICAgICBldmVudDE6IFtmdW5jdGlvbigpIHsgLi4uIH0sIGZ1bmN0aW9uKCkgeyAuLi4gfV0sXG4gICAqICAgICBldmVudDI6IFtmdW5jdGlvbigpIHsgLi4uIH1dXG4gICAqICAgfSk7XG4gICAqICAgZW1pdHRlci5lbWl0KCdldmVudDEnKTsgLy8gZW1pdHRlciBoYXMgZXZlbnQxXG4gICAqICAgZW1pdHRlci5lbWl0KCdldmVudDInKTsgLy8gZW1pdHRlciBoYXMgZXZlbnQyXG4gICAqIEBleGFtcGxlIEFkZGluZyBsaXN0ZW5lcnMgZnJvbSBhbm90aGVyIGVtaXR0ZXIgb2JqZWN0XG4gICAqICAgdmFyIGVtaXR0ZXIxID0gbmV3IEFXUy5TZXF1ZW50aWFsRXhlY3V0b3IoKTtcbiAgICogICBlbWl0dGVyMS5vbignZXZlbnQxJywgZnVuY3Rpb24oKSB7IC4uLiB9KTtcbiAgICogICBlbWl0dGVyMS5vbignZXZlbnQyJywgZnVuY3Rpb24oKSB7IC4uLiB9KTtcbiAgICogICB2YXIgZW1pdHRlcjIgPSBuZXcgQVdTLlNlcXVlbnRpYWxFeGVjdXRvcigpO1xuICAgKiAgIGVtaXR0ZXIyLmFkZExpc3RlbmVycyhlbWl0dGVyMSk7XG4gICAqICAgZW1pdHRlcjIuZW1pdCgnZXZlbnQxJyk7IC8vIGVtaXR0ZXIyIGhhcyBldmVudDFcbiAgICogICBlbWl0dGVyMi5lbWl0KCdldmVudDInKTsgLy8gZW1pdHRlcjIgaGFzIGV2ZW50MlxuICAgKi9cbiAgYWRkTGlzdGVuZXJzOiBmdW5jdGlvbiBhZGRMaXN0ZW5lcnMobGlzdGVuZXJzKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgLy8gZXh0cmFjdCBsaXN0ZW5lcnMgaWYgcGFyYW1ldGVyIGlzIGFuIFNlcXVlbnRpYWxFeGVjdXRvciBvYmplY3RcbiAgICBpZiAobGlzdGVuZXJzLl9ldmVudHMpIGxpc3RlbmVycyA9IGxpc3RlbmVycy5fZXZlbnRzO1xuXG4gICAgQVdTLnV0aWwuZWFjaChsaXN0ZW5lcnMsIGZ1bmN0aW9uKGV2ZW50LCBjYWxsYmFja3MpIHtcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2tzID09PSAnZnVuY3Rpb24nKSBjYWxsYmFja3MgPSBbY2FsbGJhY2tzXTtcbiAgICAgIEFXUy51dGlsLmFycmF5RWFjaChjYWxsYmFja3MsIGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgIHNlbGYub24oZXZlbnQsIGNhbGxiYWNrKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNlbGY7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZ2lzdGVycyBhbiBldmVudCB3aXRoIHtvbn0gYW5kIHNhdmVzIHRoZSBjYWxsYmFjayBoYW5kbGUgZnVuY3Rpb25cbiAgICogYXMgYSBwcm9wZXJ0eSBvbiB0aGUgZW1pdHRlciBvYmplY3QgdXNpbmcgYSBnaXZlbiBgbmFtZWAuXG4gICAqXG4gICAqIEBwYXJhbSBuYW1lIFtTdHJpbmddIHRoZSBwcm9wZXJ0eSBuYW1lIHRvIHNldCBvbiB0aGlzIG9iamVjdCBjb250YWluaW5nXG4gICAqICAgdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGhhbmRsZSBzbyB0aGF0IHRoZSBsaXN0ZW5lciBjYW4gYmUgcmVtb3ZlZCBpblxuICAgKiAgIHRoZSBmdXR1cmUuXG4gICAqIEBwYXJhbSAoc2VlIG9uKVxuICAgKiBAcmV0dXJuIChzZWUgb24pXG4gICAqIEBleGFtcGxlIEFkZGluZyBhIG5hbWVkIGxpc3RlbmVyIERBVEFfQ0FMTEJBQ0tcbiAgICogICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbigpIHsgZG9Tb21ldGhpbmcoKTsgfTtcbiAgICogICBlbWl0dGVyLmFkZE5hbWVkTGlzdGVuZXIoJ0RBVEFfQ0FMTEJBQ0snLCAnZGF0YScsIGxpc3RlbmVyKTtcbiAgICpcbiAgICogICAvLyB0aGUgZm9sbG93aW5nIHByaW50czogdHJ1ZVxuICAgKiAgIGNvbnNvbGUubG9nKGVtaXR0ZXIuREFUQV9DQUxMQkFDSyA9PSBsaXN0ZW5lcik7XG4gICAqL1xuICBhZGROYW1lZExpc3RlbmVyOiBmdW5jdGlvbiBhZGROYW1lZExpc3RlbmVyKG5hbWUsIGV2ZW50TmFtZSwgY2FsbGJhY2ssIHRvSGVhZCkge1xuICAgIHRoaXNbbmFtZV0gPSBjYWxsYmFjaztcbiAgICB0aGlzLmFkZExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2ssIHRvSGVhZCk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYWRkTmFtZWRBc3luY0xpc3RlbmVyOiBmdW5jdGlvbiBhZGROYW1lZEFzeW5jTGlzdGVuZXIobmFtZSwgZXZlbnROYW1lLCBjYWxsYmFjaywgdG9IZWFkKSB7XG4gICAgY2FsbGJhY2suX2lzQXN5bmMgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLmFkZE5hbWVkTGlzdGVuZXIobmFtZSwgZXZlbnROYW1lLCBjYWxsYmFjaywgdG9IZWFkKTtcbiAgfSxcblxuICAvKipcbiAgICogSGVscGVyIG1ldGhvZCB0byBhZGQgYSBzZXQgb2YgbmFtZWQgbGlzdGVuZXJzIHVzaW5nXG4gICAqIHthZGROYW1lZExpc3RlbmVyfS4gVGhlIGNhbGxiYWNrIGNvbnRhaW5zIGEgcGFyYW1ldGVyXG4gICAqIHdpdGggYSBoYW5kbGUgdG8gdGhlIGBhZGROYW1lZExpc3RlbmVyYCBtZXRob2QuXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihhZGQpXG4gICAqICAgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uIGlzIGNhbGxlZCBpbW1lZGlhdGVseSBpbiBvcmRlciB0byBwcm92aWRlXG4gICAqICAgdGhlIGBhZGRgIGZ1bmN0aW9uIHRvIHRoZSBibG9jay4gVGhpcyBzaW1wbGlmaWVzIHRoZSBhZGRpdGlvbiBvZlxuICAgKiAgIGEgbGFyZ2UgZ3JvdXAgb2YgbmFtZWQgbGlzdGVuZXJzLlxuICAgKiAgIEBwYXJhbSBhZGQgW0Z1bmN0aW9uXSB0aGUge2FkZE5hbWVkTGlzdGVuZXJ9IGZ1bmN0aW9uIHRvIGNhbGxcbiAgICogICAgIHdoZW4gcmVnaXN0ZXJpbmcgbGlzdGVuZXJzLlxuICAgKiBAZXhhbXBsZSBBZGRpbmcgYSBzZXQgb2YgbmFtZWQgbGlzdGVuZXJzXG4gICAqICAgZW1pdHRlci5hZGROYW1lZExpc3RlbmVycyhmdW5jdGlvbihhZGQpIHtcbiAgICogICAgIGFkZCgnREFUQV9DQUxMQkFDSycsICdkYXRhJywgZnVuY3Rpb24oKSB7IC4uLiB9KTtcbiAgICogICAgIGFkZCgnT1RIRVInLCAnb3RoZXJFdmVudCcsIGZ1bmN0aW9uKCkgeyAuLi4gfSk7XG4gICAqICAgICBhZGQoJ0xBU1QnLCAnbGFzdEV2ZW50JywgZnVuY3Rpb24oKSB7IC4uLiB9KTtcbiAgICogICB9KTtcbiAgICpcbiAgICogICAvLyB0aGVzZSBwcm9wZXJ0aWVzIGFyZSBub3cgc2V0OlxuICAgKiAgIGVtaXR0ZXIuREFUQV9DQUxMQkFDSztcbiAgICogICBlbWl0dGVyLk9USEVSO1xuICAgKiAgIGVtaXR0ZXIuTEFTVDtcbiAgICovXG4gIGFkZE5hbWVkTGlzdGVuZXJzOiBmdW5jdGlvbiBhZGROYW1lZExpc3RlbmVycyhjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBjYWxsYmFjayhcbiAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLmFkZE5hbWVkTGlzdGVuZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgIH0sXG4gICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5hZGROYW1lZEFzeW5jTGlzdGVuZXIuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59KTtcblxuLyoqXG4gKiB7b259IGlzIHRoZSBwcmVmZXJlZCBtZXRob2QuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlNlcXVlbnRpYWxFeGVjdXRvci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBBV1MuU2VxdWVudGlhbEV4ZWN1dG9yLnByb3RvdHlwZS5vbjtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBBV1MuU2VxdWVudGlhbEV4ZWN1dG9yO1xuIiwgInZhciB1dGlsID0gcmVxdWlyZSgnLi91dGlsJyk7XG52YXIgcmVnaW9uQ29uZmlnID0gcmVxdWlyZSgnLi9yZWdpb25fY29uZmlnX2RhdGEuanNvbicpO1xuXG5mdW5jdGlvbiBnZW5lcmF0ZVJlZ2lvblByZWZpeChyZWdpb24pIHtcbiAgaWYgKCFyZWdpb24pIHJldHVybiBudWxsO1xuICB2YXIgcGFydHMgPSByZWdpb24uc3BsaXQoJy0nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA8IDMpIHJldHVybiBudWxsO1xuICByZXR1cm4gcGFydHMuc2xpY2UoMCwgcGFydHMubGVuZ3RoIC0gMikuam9pbignLScpICsgJy0qJztcbn1cblxuZnVuY3Rpb24gZGVyaXZlZEtleXMoc2VydmljZSkge1xuICB2YXIgcmVnaW9uID0gc2VydmljZS5jb25maWcucmVnaW9uO1xuICB2YXIgcmVnaW9uUHJlZml4ID0gZ2VuZXJhdGVSZWdpb25QcmVmaXgocmVnaW9uKTtcbiAgdmFyIGVuZHBvaW50UHJlZml4ID0gc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXg7XG5cbiAgcmV0dXJuIFtcbiAgICBbcmVnaW9uLCBlbmRwb2ludFByZWZpeF0sXG4gICAgW3JlZ2lvblByZWZpeCwgZW5kcG9pbnRQcmVmaXhdLFxuICAgIFtyZWdpb24sICcqJ10sXG4gICAgW3JlZ2lvblByZWZpeCwgJyonXSxcbiAgICBbJyonLCBlbmRwb2ludFByZWZpeF0sXG4gICAgWycqJywgJyonXVxuICBdLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgcmV0dXJuIGl0ZW1bMF0gJiYgaXRlbVsxXSA/IGl0ZW0uam9pbignLycpIDogbnVsbDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5Q29uZmlnKHNlcnZpY2UsIGNvbmZpZykge1xuICB1dGlsLmVhY2goY29uZmlnLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgaWYgKGtleSA9PT0gJ2dsb2JhbEVuZHBvaW50JykgcmV0dXJuO1xuICAgIGlmIChzZXJ2aWNlLmNvbmZpZ1trZXldID09PSB1bmRlZmluZWQgfHwgc2VydmljZS5jb25maWdba2V5XSA9PT0gbnVsbCkge1xuICAgICAgc2VydmljZS5jb25maWdba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpZ3VyZUVuZHBvaW50KHNlcnZpY2UpIHtcbiAgdmFyIGtleXMgPSBkZXJpdmVkS2V5cyhzZXJ2aWNlKTtcbiAgdmFyIHVzZUZpcHNFbmRwb2ludCA9IHNlcnZpY2UuY29uZmlnLnVzZUZpcHNFbmRwb2ludDtcbiAgdmFyIHVzZUR1YWxzdGFja0VuZHBvaW50ID0gc2VydmljZS5jb25maWcudXNlRHVhbHN0YWNrRW5kcG9pbnQ7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIGlmICgha2V5KSBjb250aW51ZTtcblxuICAgIHZhciBydWxlcyA9IHVzZUZpcHNFbmRwb2ludFxuICAgICAgPyB1c2VEdWFsc3RhY2tFbmRwb2ludFxuICAgICAgICA/IHJlZ2lvbkNvbmZpZy5kdWFsc3RhY2tGaXBzUnVsZXNcbiAgICAgICAgOiByZWdpb25Db25maWcuZmlwc1J1bGVzXG4gICAgICA6IHVzZUR1YWxzdGFja0VuZHBvaW50XG4gICAgICA/IHJlZ2lvbkNvbmZpZy5kdWFsc3RhY2tSdWxlc1xuICAgICAgOiByZWdpb25Db25maWcucnVsZXM7XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHJ1bGVzLCBrZXkpKSB7XG4gICAgICB2YXIgY29uZmlnID0gcnVsZXNba2V5XTtcbiAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnc3RyaW5nJykge1xuICAgICAgICBjb25maWcgPSByZWdpb25Db25maWcucGF0dGVybnNbY29uZmlnXTtcbiAgICAgIH1cblxuICAgICAgLy8gc2V0IGdsb2JhbCBlbmRwb2ludFxuICAgICAgc2VydmljZS5pc0dsb2JhbEVuZHBvaW50ID0gISFjb25maWcuZ2xvYmFsRW5kcG9pbnQ7XG4gICAgICBpZiAoY29uZmlnLnNpZ25pbmdSZWdpb24pIHtcbiAgICAgICAgc2VydmljZS5zaWduaW5nUmVnaW9uID0gY29uZmlnLnNpZ25pbmdSZWdpb247XG4gICAgICB9XG5cbiAgICAgIC8vIHNpZ25hdHVyZSB2ZXJzaW9uXG4gICAgICBpZiAoIWNvbmZpZy5zaWduYXR1cmVWZXJzaW9uKSBjb25maWcuc2lnbmF0dXJlVmVyc2lvbiA9ICd2NCc7XG5cbiAgICAgIC8vIG1lcmdlIGNvbmZpZ1xuICAgICAgYXBwbHlDb25maWcoc2VydmljZSwgY29uZmlnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0RW5kcG9pbnRTdWZmaXgocmVnaW9uKSB7XG4gIHZhciByZWdpb25SZWdleGVzID0ge1xuICAgICdeKHVzfGV1fGFwfHNhfGNhfG1lKVxcXFwtXFxcXHcrXFxcXC1cXFxcZCskJzogJ2FtYXpvbmF3cy5jb20nLFxuICAgICdeY25cXFxcLVxcXFx3K1xcXFwtXFxcXGQrJCc6ICdhbWF6b25hd3MuY29tLmNuJyxcbiAgICAnXnVzXFxcXC1nb3ZcXFxcLVxcXFx3K1xcXFwtXFxcXGQrJCc6ICdhbWF6b25hd3MuY29tJyxcbiAgICAnXnVzXFxcXC1pc29cXFxcLVxcXFx3K1xcXFwtXFxcXGQrJCc6ICdjMnMuaWMuZ292JyxcbiAgICAnXnVzXFxcXC1pc29iXFxcXC1cXFxcdytcXFxcLVxcXFxkKyQnOiAnc2Mycy5zZ292LmdvdidcbiAgfTtcbiAgdmFyIGRlZmF1bHRTdWZmaXggPSAnYW1hem9uYXdzLmNvbSc7XG4gIHZhciByZWdleGVzID0gT2JqZWN0LmtleXMocmVnaW9uUmVnZXhlcyk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVnZXhlcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciByZWdpb25QYXR0ZXJuID0gUmVnRXhwKHJlZ2V4ZXNbaV0pO1xuICAgIHZhciBkbnNTdWZmaXggPSByZWdpb25SZWdleGVzW3JlZ2V4ZXNbaV1dO1xuICAgIGlmIChyZWdpb25QYXR0ZXJuLnRlc3QocmVnaW9uKSkgcmV0dXJuIGRuc1N1ZmZpeDtcbiAgfVxuICByZXR1cm4gZGVmYXVsdFN1ZmZpeDtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNvbmZpZ3VyZUVuZHBvaW50OiBjb25maWd1cmVFbmRwb2ludCxcbiAgZ2V0RW5kcG9pbnRTdWZmaXg6IGdldEVuZHBvaW50U3VmZml4LFxufTtcbiIsICJmdW5jdGlvbiBpc0ZpcHNSZWdpb24ocmVnaW9uKSB7XG4gIHJldHVybiB0eXBlb2YgcmVnaW9uID09PSAnc3RyaW5nJyAmJiAocmVnaW9uLnN0YXJ0c1dpdGgoJ2ZpcHMtJykgfHwgcmVnaW9uLmVuZHNXaXRoKCctZmlwcycpKTtcbn1cblxuZnVuY3Rpb24gaXNHbG9iYWxSZWdpb24ocmVnaW9uKSB7XG4gIHJldHVybiB0eXBlb2YgcmVnaW9uID09PSAnc3RyaW5nJyAmJiBbJ2F3cy1nbG9iYWwnLCAnYXdzLXVzLWdvdi1nbG9iYWwnXS5pbmNsdWRlcyhyZWdpb24pO1xufVxuXG5mdW5jdGlvbiBnZXRSZWFsUmVnaW9uKHJlZ2lvbikge1xuICByZXR1cm4gWydmaXBzLWF3cy1nbG9iYWwnLCAnYXdzLWZpcHMnLCAnYXdzLWdsb2JhbCddLmluY2x1ZGVzKHJlZ2lvbilcbiAgICAgID8gJ3VzLWVhc3QtMSdcbiAgICAgIDogWydmaXBzLWF3cy11cy1nb3YtZ2xvYmFsJywgJ2F3cy11cy1nb3YtZ2xvYmFsJ10uaW5jbHVkZXMocmVnaW9uKVxuICAgICAgPyAndXMtZ292LXdlc3QtMSdcbiAgICAgIDogcmVnaW9uLnJlcGxhY2UoL2ZpcHMtKGRrci18cHJvZC0pP3wtZmlwcy8sICcnKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzRmlwc1JlZ2lvbjogaXNGaXBzUmVnaW9uLFxuICBpc0dsb2JhbFJlZ2lvbjogaXNHbG9iYWxSZWdpb24sXG4gIGdldFJlYWxSZWdpb246IGdldFJlYWxSZWdpb25cbn07XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4vY29yZScpO1xudmFyIEFwaSA9IHJlcXVpcmUoJy4vbW9kZWwvYXBpJyk7XG52YXIgcmVnaW9uQ29uZmlnID0gcmVxdWlyZSgnLi9yZWdpb25fY29uZmlnJyk7XG5cbnZhciBpbmhlcml0ID0gQVdTLnV0aWwuaW5oZXJpdDtcbnZhciBjbGllbnRDb3VudCA9IDA7XG52YXIgcmVnaW9uX3V0aWxzID0gcmVxdWlyZSgnLi9yZWdpb24vdXRpbHMnKTtcblxuLyoqXG4gKiBUaGUgc2VydmljZSBjbGFzcyByZXByZXNlbnRpbmcgYW4gQVdTIHNlcnZpY2UuXG4gKlxuICogQGNsYXNzX2Fic3RyYWN0IFRoaXMgY2xhc3MgaXMgYW4gYWJzdHJhY3QgY2xhc3MuXG4gKlxuICogQCFhdHRyaWJ1dGUgYXBpVmVyc2lvbnNcbiAqICAgQHJldHVybiBbQXJyYXk8U3RyaW5nPl0gdGhlIGxpc3Qgb2YgQVBJIHZlcnNpb25zIHN1cHBvcnRlZCBieSB0aGlzIHNlcnZpY2UuXG4gKiAgIEByZWFkb25seVxuICovXG5BV1MuU2VydmljZSA9IGluaGVyaXQoe1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IHNlcnZpY2Ugb2JqZWN0IHdpdGggYSBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKlxuICAgKiBAcGFyYW0gY29uZmlnIFttYXBdIGEgbWFwIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFNlcnZpY2UoY29uZmlnKSB7XG4gICAgaWYgKCF0aGlzLmxvYWRTZXJ2aWNlQ2xhc3MpIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcigpLFxuICAgICAgICAnU2VydmljZSBtdXN0IGJlIGNvbnN0cnVjdGVkIHdpdGggYG5ld1xcJyBvcGVyYXRvcicpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcpIHtcbiAgICAgIGlmIChjb25maWcucmVnaW9uKSB7XG4gICAgICAgIHZhciByZWdpb24gPSBjb25maWcucmVnaW9uO1xuICAgICAgICBpZiAocmVnaW9uX3V0aWxzLmlzRmlwc1JlZ2lvbihyZWdpb24pKSB7XG4gICAgICAgICAgY29uZmlnLnJlZ2lvbiA9IHJlZ2lvbl91dGlscy5nZXRSZWFsUmVnaW9uKHJlZ2lvbik7XG4gICAgICAgICAgY29uZmlnLnVzZUZpcHNFbmRwb2ludCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlZ2lvbl91dGlscy5pc0dsb2JhbFJlZ2lvbihyZWdpb24pKSB7XG4gICAgICAgICAgY29uZmlnLnJlZ2lvbiA9IHJlZ2lvbl91dGlscy5nZXRSZWFsUmVnaW9uKHJlZ2lvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgY29uZmlnLnVzZUR1YWxzdGFjayA9PT0gJ2Jvb2xlYW4nXG4gICAgICAgICYmIHR5cGVvZiBjb25maWcudXNlRHVhbHN0YWNrRW5kcG9pbnQgIT09ICdib29sZWFuJykge1xuICAgICAgICBjb25maWcudXNlRHVhbHN0YWNrRW5kcG9pbnQgPSBjb25maWcudXNlRHVhbHN0YWNrO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBTZXJ2aWNlQ2xhc3MgPSB0aGlzLmxvYWRTZXJ2aWNlQ2xhc3MoY29uZmlnIHx8IHt9KTtcbiAgICBpZiAoU2VydmljZUNsYXNzKSB7XG4gICAgICB2YXIgb3JpZ2luYWxDb25maWcgPSBBV1MudXRpbC5jb3B5KGNvbmZpZyk7XG4gICAgICB2YXIgc3ZjID0gbmV3IFNlcnZpY2VDbGFzcyhjb25maWcpO1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHN2YywgJ19vcmlnaW5hbENvbmZpZycsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHsgcmV0dXJuIG9yaWdpbmFsQ29uZmlnOyB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHN2Yy5fY2xpZW50SWQgPSArK2NsaWVudENvdW50O1xuICAgICAgcmV0dXJuIHN2YztcbiAgICB9XG4gICAgdGhpcy5pbml0aWFsaXplKGNvbmZpZyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaW5pdGlhbGl6ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShjb25maWcpIHtcbiAgICB2YXIgc3ZjQ29uZmlnID0gQVdTLmNvbmZpZ1t0aGlzLnNlcnZpY2VJZGVudGlmaWVyXTtcbiAgICB0aGlzLmNvbmZpZyA9IG5ldyBBV1MuQ29uZmlnKEFXUy5jb25maWcpO1xuICAgIGlmIChzdmNDb25maWcpIHRoaXMuY29uZmlnLnVwZGF0ZShzdmNDb25maWcsIHRydWUpO1xuICAgIGlmIChjb25maWcpIHRoaXMuY29uZmlnLnVwZGF0ZShjb25maWcsIHRydWUpO1xuXG4gICAgdGhpcy52YWxpZGF0ZVNlcnZpY2UoKTtcbiAgICBpZiAoIXRoaXMuY29uZmlnLmVuZHBvaW50KSByZWdpb25Db25maWcuY29uZmlndXJlRW5kcG9pbnQodGhpcyk7XG5cbiAgICB0aGlzLmNvbmZpZy5lbmRwb2ludCA9IHRoaXMuZW5kcG9pbnRGcm9tVGVtcGxhdGUodGhpcy5jb25maWcuZW5kcG9pbnQpO1xuICAgIHRoaXMuc2V0RW5kcG9pbnQodGhpcy5jb25maWcuZW5kcG9pbnQpO1xuICAgIC8vZW5hYmxlIGF0dGFjaGluZyBsaXN0ZW5lcnMgdG8gc2VydmljZSBjbGllbnRcbiAgICBBV1MuU2VxdWVudGlhbEV4ZWN1dG9yLmNhbGwodGhpcyk7XG4gICAgQVdTLlNlcnZpY2UuYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnModGhpcyk7XG4gICAgaWYgKCh0aGlzLmNvbmZpZy5jbGllbnRTaWRlTW9uaXRvcmluZyB8fCBBV1MuU2VydmljZS5fY2xpZW50U2lkZU1vbml0b3JpbmcpICYmIHRoaXMucHVibGlzaGVyKSB7XG4gICAgICB2YXIgcHVibGlzaGVyID0gdGhpcy5wdWJsaXNoZXI7XG4gICAgICB0aGlzLmFkZE5hbWVkTGlzdGVuZXIoJ1BVQkxJU0hfQVBJX0NBTEwnLCAnYXBpQ2FsbCcsIGZ1bmN0aW9uIFBVQkxJU0hfQVBJX0NBTEwoZXZlbnQpIHtcbiAgICAgICAgcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpIHtwdWJsaXNoZXIuZXZlbnRIYW5kbGVyKGV2ZW50KTt9KTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5hZGROYW1lZExpc3RlbmVyKCdQVUJMSVNIX0FQSV9BVFRFTVBUJywgJ2FwaUNhbGxBdHRlbXB0JywgZnVuY3Rpb24gUFVCTElTSF9BUElfQVRURU1QVChldmVudCkge1xuICAgICAgICBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCkge3B1Ymxpc2hlci5ldmVudEhhbmRsZXIoZXZlbnQpO30pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHZhbGlkYXRlU2VydmljZTogZnVuY3Rpb24gdmFsaWRhdGVTZXJ2aWNlKCkge1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGxvYWRTZXJ2aWNlQ2xhc3M6IGZ1bmN0aW9uIGxvYWRTZXJ2aWNlQ2xhc3Moc2VydmljZUNvbmZpZykge1xuICAgIHZhciBjb25maWcgPSBzZXJ2aWNlQ29uZmlnO1xuICAgIGlmICghQVdTLnV0aWwuaXNFbXB0eSh0aGlzLmFwaSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSBpZiAoY29uZmlnLmFwaUNvbmZpZykge1xuICAgICAgcmV0dXJuIEFXUy5TZXJ2aWNlLmRlZmluZVNlcnZpY2VBcGkodGhpcy5jb25zdHJ1Y3RvciwgY29uZmlnLmFwaUNvbmZpZyk7XG4gICAgfSBlbHNlIGlmICghdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcykge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbmZpZyA9IG5ldyBBV1MuQ29uZmlnKEFXUy5jb25maWcpO1xuICAgICAgY29uZmlnLnVwZGF0ZShzZXJ2aWNlQ29uZmlnLCB0cnVlKTtcbiAgICAgIHZhciB2ZXJzaW9uID0gY29uZmlnLmFwaVZlcnNpb25zW3RoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXJdO1xuICAgICAgdmVyc2lvbiA9IHZlcnNpb24gfHwgY29uZmlnLmFwaVZlcnNpb247XG4gICAgICByZXR1cm4gdGhpcy5nZXRMYXRlc3RTZXJ2aWNlQ2xhc3ModmVyc2lvbik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldExhdGVzdFNlcnZpY2VDbGFzczogZnVuY3Rpb24gZ2V0TGF0ZXN0U2VydmljZUNsYXNzKHZlcnNpb24pIHtcbiAgICB2ZXJzaW9uID0gdGhpcy5nZXRMYXRlc3RTZXJ2aWNlVmVyc2lvbih2ZXJzaW9uKTtcbiAgICBpZiAodGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc1t2ZXJzaW9uXSA9PT0gbnVsbCkge1xuICAgICAgQVdTLlNlcnZpY2UuZGVmaW5lU2VydmljZUFwaSh0aGlzLmNvbnN0cnVjdG9yLCB2ZXJzaW9uKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlc1t2ZXJzaW9uXTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBnZXRMYXRlc3RTZXJ2aWNlVmVyc2lvbjogZnVuY3Rpb24gZ2V0TGF0ZXN0U2VydmljZVZlcnNpb24odmVyc2lvbikge1xuICAgIGlmICghdGhpcy5jb25zdHJ1Y3Rvci5zZXJ2aWNlcyB8fCB0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZXJ2aWNlcyBkZWZpbmVkIG9uICcgK1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXIpO1xuICAgIH1cblxuICAgIGlmICghdmVyc2lvbikge1xuICAgICAgdmVyc2lvbiA9ICdsYXRlc3QnO1xuICAgIH0gZWxzZSBpZiAoQVdTLnV0aWwuaXNUeXBlKHZlcnNpb24sIERhdGUpKSB7XG4gICAgICB2ZXJzaW9uID0gQVdTLnV0aWwuZGF0ZS5pc284NjAxKHZlcnNpb24pLnNwbGl0KCdUJylbMF07XG4gICAgfVxuXG4gICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eSh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzLCB2ZXJzaW9uKSkge1xuICAgICAgcmV0dXJuIHZlcnNpb247XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbnN0cnVjdG9yLnNlcnZpY2VzKS5zb3J0KCk7XG4gICAgdmFyIHNlbGVjdGVkVmVyc2lvbiA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIC8vIHZlcnNpb25zIHRoYXQgZW5kIGluIFwiKlwiIGFyZSBub3QgYXZhaWxhYmxlIG9uIGRpc2sgYW5kIGNhbiBiZVxuICAgICAgLy8gc2tpcHBlZCwgc28gZG8gbm90IGNob29zZSB0aGVzZSBhcyBzZWxlY3RlZFZlcnNpb25zXG4gICAgICBpZiAoa2V5c1tpXVtrZXlzW2ldLmxlbmd0aCAtIDFdICE9PSAnKicpIHtcbiAgICAgICAgc2VsZWN0ZWRWZXJzaW9uID0ga2V5c1tpXTtcbiAgICAgIH1cbiAgICAgIGlmIChrZXlzW2ldLnN1YnN0cigwLCAxMCkgPD0gdmVyc2lvbikge1xuICAgICAgICByZXR1cm4gc2VsZWN0ZWRWZXJzaW9uO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGZpbmQgJyArIHRoaXMuY29uc3RydWN0b3Iuc2VydmljZUlkZW50aWZpZXIgK1xuICAgICAgICAgICAgICAgICAgICAnIEFQSSB0byBzYXRpc2Z5IHZlcnNpb24gY29uc3RyYWludCBgJyArIHZlcnNpb24gKyAnXFwnJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYXBpOiB7fSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkZWZhdWx0UmV0cnlDb3VudDogMyxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjdXN0b21pemVSZXF1ZXN0czogZnVuY3Rpb24gY3VzdG9taXplUmVxdWVzdHMoY2FsbGJhY2spIHtcbiAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICB0aGlzLmN1c3RvbVJlcXVlc3RIYW5kbGVyID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5jdXN0b21SZXF1ZXN0SGFuZGxlciA9IGNhbGxiYWNrO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY2FsbGJhY2sgdHlwZSBcXCcnICsgdHlwZW9mIGNhbGxiYWNrICsgJ1xcJyBwcm92aWRlZCBpbiBjdXN0b21pemVSZXF1ZXN0cycpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ2FsbHMgYW4gb3BlcmF0aW9uIG9uIGEgc2VydmljZSB3aXRoIHRoZSBnaXZlbiBpbnB1dCBwYXJhbWV0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gb3BlcmF0aW9uIFtTdHJpbmddIHRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb24gdG8gY2FsbCBvbiB0aGUgc2VydmljZS5cbiAgICogQHBhcmFtIHBhcmFtcyBbbWFwXSBhIG1hcCBvZiBpbnB1dCBvcHRpb25zIGZvciB0aGUgb3BlcmF0aW9uXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIsIGRhdGEpXG4gICAqICAgSWYgYSBjYWxsYmFjayBpcyBzdXBwbGllZCwgaXQgaXMgY2FsbGVkIHdoZW4gYSByZXNwb25zZSBpcyByZXR1cm5lZFxuICAgKiAgIGZyb20gdGhlIHNlcnZpY2UuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIHRoZSBlcnJvciBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGUgcmVxdWVzdC5cbiAgICogICAgIFNldCB0byBgbnVsbGAgaWYgdGhlIHJlcXVlc3QgaXMgc3VjY2Vzc2Z1bC5cbiAgICogICBAcGFyYW0gZGF0YSBbT2JqZWN0XSB0aGUgZGUtc2VyaWFsaXplZCBkYXRhIHJldHVybmVkIGZyb21cbiAgICogICAgIHRoZSByZXF1ZXN0LiBTZXQgdG8gYG51bGxgIGlmIGEgcmVxdWVzdCBlcnJvciBvY2N1cnMuXG4gICAqL1xuICBtYWtlUmVxdWVzdDogZnVuY3Rpb24gbWFrZVJlcXVlc3Qob3BlcmF0aW9uLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gcGFyYW1zO1xuICAgICAgcGFyYW1zID0gbnVsbDtcbiAgICB9XG5cbiAgICBwYXJhbXMgPSBwYXJhbXMgfHwge307XG4gICAgaWYgKHRoaXMuY29uZmlnLnBhcmFtcykgeyAvLyBjb3B5IG9ubHkgdG9wbGV2ZWwgYm91bmQgcGFyYW1zXG4gICAgICB2YXIgcnVsZXMgPSB0aGlzLmFwaS5vcGVyYXRpb25zW29wZXJhdGlvbl07XG4gICAgICBpZiAocnVsZXMpIHtcbiAgICAgICAgcGFyYW1zID0gQVdTLnV0aWwuY29weShwYXJhbXMpO1xuICAgICAgICBBV1MudXRpbC5lYWNoKHRoaXMuY29uZmlnLnBhcmFtcywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIGlmIChydWxlcy5pbnB1dC5tZW1iZXJzW2tleV0pIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXNba2V5XSA9PT0gdW5kZWZpbmVkIHx8IHBhcmFtc1trZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIHBhcmFtc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBBV1MuUmVxdWVzdCh0aGlzLCBvcGVyYXRpb24sIHBhcmFtcyk7XG4gICAgdGhpcy5hZGRBbGxSZXF1ZXN0TGlzdGVuZXJzKHJlcXVlc3QpO1xuICAgIHRoaXMuYXR0YWNoTW9uaXRvcmluZ0VtaXR0ZXIocmVxdWVzdCk7XG4gICAgaWYgKGNhbGxiYWNrKSByZXF1ZXN0LnNlbmQoY2FsbGJhY2spO1xuICAgIHJldHVybiByZXF1ZXN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBDYWxscyBhbiBvcGVyYXRpb24gb24gYSBzZXJ2aWNlIHdpdGggdGhlIGdpdmVuIGlucHV0IHBhcmFtZXRlcnMsIHdpdGhvdXRcbiAgICogYW55IGF1dGhlbnRpY2F0aW9uIGRhdGEuIFRoaXMgbWV0aG9kIGlzIHVzZWZ1bCBmb3IgXCJwdWJsaWNcIiBBUEkgb3BlcmF0aW9ucy5cbiAgICpcbiAgICogQHBhcmFtIG9wZXJhdGlvbiBbU3RyaW5nXSB0aGUgbmFtZSBvZiB0aGUgb3BlcmF0aW9uIHRvIGNhbGwgb24gdGhlIHNlcnZpY2UuXG4gICAqIEBwYXJhbSBwYXJhbXMgW21hcF0gYSBtYXAgb2YgaW5wdXQgb3B0aW9ucyBmb3IgdGhlIG9wZXJhdGlvblxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyLCBkYXRhKVxuICAgKiAgIElmIGEgY2FsbGJhY2sgaXMgc3VwcGxpZWQsIGl0IGlzIGNhbGxlZCB3aGVuIGEgcmVzcG9uc2UgaXMgcmV0dXJuZWRcbiAgICogICBmcm9tIHRoZSBzZXJ2aWNlLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSB0aGUgZXJyb3Igb2JqZWN0IHJldHVybmVkIGZyb20gdGhlIHJlcXVlc3QuXG4gICAqICAgICBTZXQgdG8gYG51bGxgIGlmIHRoZSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwuXG4gICAqICAgQHBhcmFtIGRhdGEgW09iamVjdF0gdGhlIGRlLXNlcmlhbGl6ZWQgZGF0YSByZXR1cm5lZCBmcm9tXG4gICAqICAgICB0aGUgcmVxdWVzdC4gU2V0IHRvIGBudWxsYCBpZiBhIHJlcXVlc3QgZXJyb3Igb2NjdXJzLlxuICAgKi9cbiAgbWFrZVVuYXV0aGVudGljYXRlZFJlcXVlc3Q6IGZ1bmN0aW9uIG1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IHBhcmFtcztcbiAgICAgIHBhcmFtcyA9IHt9O1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5tYWtlUmVxdWVzdChvcGVyYXRpb24sIHBhcmFtcykudG9VbmF1dGhlbnRpY2F0ZWQoKTtcbiAgICByZXR1cm4gY2FsbGJhY2sgPyByZXF1ZXN0LnNlbmQoY2FsbGJhY2spIDogcmVxdWVzdDtcbiAgfSxcblxuICAvKipcbiAgICogV2FpdHMgZm9yIGEgZ2l2ZW4gc3RhdGVcbiAgICpcbiAgICogQHBhcmFtIHN0YXRlIFtTdHJpbmddIHRoZSBzdGF0ZSBvbiB0aGUgc2VydmljZSB0byB3YWl0IGZvclxuICAgKiBAcGFyYW0gcGFyYW1zIFttYXBdIGEgbWFwIG9mIHBhcmFtZXRlcnMgdG8gcGFzcyB3aXRoIGVhY2ggcmVxdWVzdFxuICAgKiBAb3B0aW9uIHBhcmFtcyAkd2FpdGVyIFttYXBdIGEgbWFwIG9mIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdGhlIHdhaXRlclxuICAgKiBAb3B0aW9uIHBhcmFtcyAkd2FpdGVyLmRlbGF5IFtOdW1iZXJdIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyB0byB3YWl0IGJldHdlZW5cbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0c1xuICAgKiBAb3B0aW9uIHBhcmFtcyAkd2FpdGVyLm1heEF0dGVtcHRzIFtOdW1iZXJdIFRoZSBtYXhpbXVtIG51bWJlciBvZiByZXF1ZXN0c1xuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvIHNlbmQgd2hpbGUgd2FpdGluZ1xuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyLCBkYXRhKVxuICAgKiAgIElmIGEgY2FsbGJhY2sgaXMgc3VwcGxpZWQsIGl0IGlzIGNhbGxlZCB3aGVuIGEgcmVzcG9uc2UgaXMgcmV0dXJuZWRcbiAgICogICBmcm9tIHRoZSBzZXJ2aWNlLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSB0aGUgZXJyb3Igb2JqZWN0IHJldHVybmVkIGZyb20gdGhlIHJlcXVlc3QuXG4gICAqICAgICBTZXQgdG8gYG51bGxgIGlmIHRoZSByZXF1ZXN0IGlzIHN1Y2Nlc3NmdWwuXG4gICAqICAgQHBhcmFtIGRhdGEgW09iamVjdF0gdGhlIGRlLXNlcmlhbGl6ZWQgZGF0YSByZXR1cm5lZCBmcm9tXG4gICAqICAgICB0aGUgcmVxdWVzdC4gU2V0IHRvIGBudWxsYCBpZiBhIHJlcXVlc3QgZXJyb3Igb2NjdXJzLlxuICAgKi9cbiAgd2FpdEZvcjogZnVuY3Rpb24gd2FpdEZvcihzdGF0ZSwgcGFyYW1zLCBjYWxsYmFjaykge1xuICAgIHZhciB3YWl0ZXIgPSBuZXcgQVdTLlJlc291cmNlV2FpdGVyKHRoaXMsIHN0YXRlKTtcbiAgICByZXR1cm4gd2FpdGVyLndhaXQocGFyYW1zLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYWRkQWxsUmVxdWVzdExpc3RlbmVyczogZnVuY3Rpb24gYWRkQWxsUmVxdWVzdExpc3RlbmVycyhyZXF1ZXN0KSB7XG4gICAgdmFyIGxpc3QgPSBbQVdTLmV2ZW50cywgQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUsIHRoaXMuc2VydmljZUludGVyZmFjZSgpLFxuICAgICAgICAgICAgICAgIEFXUy5FdmVudExpc3RlbmVycy5Db3JlUG9zdF07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAobGlzdFtpXSkgcmVxdWVzdC5hZGRMaXN0ZW5lcnMobGlzdFtpXSk7XG4gICAgfVxuXG4gICAgLy8gZGlzYWJsZSBwYXJhbWV0ZXIgdmFsaWRhdGlvblxuICAgIGlmICghdGhpcy5jb25maWcucGFyYW1WYWxpZGF0aW9uKSB7XG4gICAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKCd2YWxpZGF0ZScsXG4gICAgICAgIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNvbmZpZy5sb2dnZXIpIHsgLy8gYWRkIGxvZ2dpbmcgZXZlbnRzXG4gICAgICByZXF1ZXN0LmFkZExpc3RlbmVycyhBV1MuRXZlbnRMaXN0ZW5lcnMuTG9nZ2VyKTtcbiAgICB9XG5cbiAgICB0aGlzLnNldHVwUmVxdWVzdExpc3RlbmVycyhyZXF1ZXN0KTtcbiAgICAvLyBjYWxsIHByb3RvdHlwZSdzIGN1c3RvbVJlcXVlc3RIYW5kbGVyXG4gICAgaWYgKHR5cGVvZiB0aGlzLmNvbnN0cnVjdG9yLnByb3RvdHlwZS5jdXN0b21SZXF1ZXN0SGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUuY3VzdG9tUmVxdWVzdEhhbmRsZXIocmVxdWVzdCk7XG4gICAgfVxuICAgIC8vIGNhbGwgaW5zdGFuY2UncyBjdXN0b21SZXF1ZXN0SGFuZGxlclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgJ2N1c3RvbVJlcXVlc3RIYW5kbGVyJykgJiYgdHlwZW9mIHRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMuY3VzdG9tUmVxdWVzdEhhbmRsZXIocmVxdWVzdCk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBFdmVudCByZWNvcmRpbmcgbWV0cmljcyBmb3IgYSB3aG9sZSBBUEkgY2FsbC5cbiAgICogQHJldHVybnMge29iamVjdH0gYSBzdWJzZXQgb2YgYXBpIGNhbGwgbWV0cmljc1xuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGFwaUNhbGxFdmVudDogZnVuY3Rpb24gYXBpQ2FsbEV2ZW50KHJlcXVlc3QpIHtcbiAgICB2YXIgYXBpID0gcmVxdWVzdC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcXVlc3Qub3BlcmF0aW9uXTtcbiAgICB2YXIgbW9uaXRvcmluZ0V2ZW50ID0ge1xuICAgICAgVHlwZTogJ0FwaUNhbGwnLFxuICAgICAgQXBpOiBhcGkgPyBhcGkubmFtZSA6IHJlcXVlc3Qub3BlcmF0aW9uLFxuICAgICAgVmVyc2lvbjogMSxcbiAgICAgIFNlcnZpY2U6IHJlcXVlc3Quc2VydmljZS5hcGkuc2VydmljZUlkIHx8IHJlcXVlc3Quc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXgsXG4gICAgICBSZWdpb246IHJlcXVlc3QuaHR0cFJlcXVlc3QucmVnaW9uLFxuICAgICAgTWF4UmV0cmllc0V4Y2VlZGVkOiAwLFxuICAgICAgVXNlckFnZW50OiByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmdldFVzZXJBZ2VudCgpLFxuICAgIH07XG4gICAgdmFyIHJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICBpZiAocmVzcG9uc2UuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUpIHtcbiAgICAgIG1vbml0b3JpbmdFdmVudC5GaW5hbEh0dHBTdGF0dXNDb2RlID0gcmVzcG9uc2UuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGU7XG4gICAgfVxuICAgIGlmIChyZXNwb25zZS5lcnJvcikge1xuICAgICAgdmFyIGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG4gICAgICB2YXIgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgaWYgKHN0YXR1c0NvZGUgPiAyOTkpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUpIG1vbml0b3JpbmdFdmVudC5GaW5hbEF3c0V4Y2VwdGlvbiA9IGVycm9yLmNvZGU7XG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlKSBtb25pdG9yaW5nRXZlbnQuRmluYWxBd3NFeGNlcHRpb25NZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChlcnJvci5jb2RlIHx8IGVycm9yLm5hbWUpIG1vbml0b3JpbmdFdmVudC5GaW5hbFNka0V4Y2VwdGlvbiA9IGVycm9yLmNvZGUgfHwgZXJyb3IubmFtZTtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIG1vbml0b3JpbmdFdmVudC5GaW5hbFNka0V4Y2VwdGlvbk1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbW9uaXRvcmluZ0V2ZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBFdmVudCByZWNvcmRpbmcgbWV0cmljcyBmb3IgYW4gQVBJIGNhbGwgYXR0ZW1wdC5cbiAgICogQHJldHVybnMge29iamVjdH0gYSBzdWJzZXQgb2YgYXBpIGNhbGwgYXR0ZW1wdCBtZXRyaWNzXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYXBpQXR0ZW1wdEV2ZW50OiBmdW5jdGlvbiBhcGlBdHRlbXB0RXZlbnQocmVxdWVzdCkge1xuICAgIHZhciBhcGkgPSByZXF1ZXN0LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxdWVzdC5vcGVyYXRpb25dO1xuICAgIHZhciBtb25pdG9yaW5nRXZlbnQgPSB7XG4gICAgICBUeXBlOiAnQXBpQ2FsbEF0dGVtcHQnLFxuICAgICAgQXBpOiBhcGkgPyBhcGkubmFtZSA6IHJlcXVlc3Qub3BlcmF0aW9uLFxuICAgICAgVmVyc2lvbjogMSxcbiAgICAgIFNlcnZpY2U6IHJlcXVlc3Quc2VydmljZS5hcGkuc2VydmljZUlkIHx8IHJlcXVlc3Quc2VydmljZS5hcGkuZW5kcG9pbnRQcmVmaXgsXG4gICAgICBGcWRuOiByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmVuZHBvaW50Lmhvc3RuYW1lLFxuICAgICAgVXNlckFnZW50OiByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmdldFVzZXJBZ2VudCgpLFxuICAgIH07XG4gICAgdmFyIHJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICBpZiAocmVzcG9uc2UuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUpIHtcbiAgICAgIG1vbml0b3JpbmdFdmVudC5IdHRwU3RhdHVzQ29kZSA9IHJlc3BvbnNlLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICAhcmVxdWVzdC5fdW5BdXRoZW50aWNhdGVkICYmXG4gICAgICByZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzICYmXG4gICAgICByZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkXG4gICAgKSB7XG4gICAgICBtb25pdG9yaW5nRXZlbnQuQWNjZXNzS2V5ID0gcmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZDtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5odHRwUmVzcG9uc2UuaGVhZGVycykgcmV0dXJuIG1vbml0b3JpbmdFdmVudDtcbiAgICBpZiAocmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzWyd4LWFtei1zZWN1cml0eS10b2tlbiddKSB7XG4gICAgICBtb25pdG9yaW5nRXZlbnQuU2Vzc2lvblRva2VuID0gcmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzWyd4LWFtei1zZWN1cml0eS10b2tlbiddO1xuICAgIH1cbiAgICBpZiAocmVzcG9uc2UuaHR0cFJlc3BvbnNlLmhlYWRlcnNbJ3gtYW16bi1yZXF1ZXN0aWQnXSkge1xuICAgICAgbW9uaXRvcmluZ0V2ZW50LlhBbXpuUmVxdWVzdElkID0gcmVzcG9uc2UuaHR0cFJlc3BvbnNlLmhlYWRlcnNbJ3gtYW16bi1yZXF1ZXN0aWQnXTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLmh0dHBSZXNwb25zZS5oZWFkZXJzWyd4LWFtei1yZXF1ZXN0LWlkJ10pIHtcbiAgICAgIG1vbml0b3JpbmdFdmVudC5YQW16UmVxdWVzdElkID0gcmVzcG9uc2UuaHR0cFJlc3BvbnNlLmhlYWRlcnNbJ3gtYW16LXJlcXVlc3QtaWQnXTtcbiAgICB9XG4gICAgaWYgKHJlc3BvbnNlLmh0dHBSZXNwb25zZS5oZWFkZXJzWyd4LWFtei1pZC0yJ10pIHtcbiAgICAgIG1vbml0b3JpbmdFdmVudC5YQW16SWQyID0gcmVzcG9uc2UuaHR0cFJlc3BvbnNlLmhlYWRlcnNbJ3gtYW16LWlkLTInXTtcbiAgICB9XG4gICAgcmV0dXJuIG1vbml0b3JpbmdFdmVudDtcbiAgfSxcblxuICAvKipcbiAgICogQWRkIG1ldHJpY3Mgb2YgZmFpbGVkIHJlcXVlc3QuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYXR0ZW1wdEZhaWxFdmVudDogZnVuY3Rpb24gYXR0ZW1wdEZhaWxFdmVudChyZXF1ZXN0KSB7XG4gICAgdmFyIG1vbml0b3JpbmdFdmVudCA9IHRoaXMuYXBpQXR0ZW1wdEV2ZW50KHJlcXVlc3QpO1xuICAgIHZhciByZXNwb25zZSA9IHJlcXVlc3QucmVzcG9uc2U7XG4gICAgdmFyIGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG4gICAgaWYgKHJlc3BvbnNlLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlID4gMjk5ICkge1xuICAgICAgaWYgKGVycm9yLmNvZGUpIG1vbml0b3JpbmdFdmVudC5Bd3NFeGNlcHRpb24gPSBlcnJvci5jb2RlO1xuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UpIG1vbml0b3JpbmdFdmVudC5Bd3NFeGNlcHRpb25NZXNzYWdlID0gZXJyb3IubWVzc2FnZTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVycm9yLmNvZGUgfHwgZXJyb3IubmFtZSkgbW9uaXRvcmluZ0V2ZW50LlNka0V4Y2VwdGlvbiA9IGVycm9yLmNvZGUgfHwgZXJyb3IubmFtZTtcbiAgICAgIGlmIChlcnJvci5tZXNzYWdlKSBtb25pdG9yaW5nRXZlbnQuU2RrRXhjZXB0aW9uTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIHJldHVybiBtb25pdG9yaW5nRXZlbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEF0dGFjaCBsaXN0ZW5lcnMgdG8gcmVxdWVzdCBvYmplY3QgdG8gZmV0Y2ggbWV0cmljcyBvZiBlYWNoIHJlcXVlc3RcbiAgICogYW5kIGVtaXQgZGF0YSBvYmplY3QgdGhyb3VnaCBcXCdBcGlDYWxsXFwnIGFuZCBcXCdBcGlDYWxsQXR0ZW1wdFxcJyBldmVudHMuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYXR0YWNoTW9uaXRvcmluZ0VtaXR0ZXI6IGZ1bmN0aW9uIGF0dGFjaE1vbml0b3JpbmdFbWl0dGVyKHJlcXVlc3QpIHtcbiAgICB2YXIgYXR0ZW1wdFRpbWVzdGFtcDsgLy90aW1lc3RhbXAgbWFya2luZyB0aGUgYmVnaW5uaW5nIG9mIGEgcmVxdWVzdCBhdHRlbXB0XG4gICAgdmFyIGF0dGVtcHRTdGFydFJlYWxUaW1lOyAvL1N0YXJ0IHRpbWUgb2YgcmVxdWVzdCBhdHRlbXB0LiBVc2VkIHRvIGNhbGN1bGF0aW5nIGF0dGVtcHRMYXRlbmN5XG4gICAgdmFyIGF0dGVtcHRMYXRlbmN5OyAvL2xhdGVuY3kgZnJvbSByZXF1ZXN0IHNlbnQgb3V0IHRvIGh0dHAgcmVzcG9uc2UgcmVhY2hpbmcgU0RLXG4gICAgdmFyIGNhbGxTdGFydFJlYWxUaW1lOyAvL1N0YXJ0IHRpbWUgb2YgQVBJIGNhbGwuIFVzZWQgdG8gY2FsY3VsYXRpbmcgQVBJIGNhbGwgbGF0ZW5jeVxuICAgIHZhciBhdHRlbXB0Q291bnQgPSAwOyAvL3JlcXVlc3QucmV0cnlDb3VudCBpcyBub3QgcmVsaWFibGUgaGVyZVxuICAgIHZhciByZWdpb247IC8vcmVnaW9uIGNhY2hlIHJlZ2lvbiBmb3IgZWFjaCBhdHRlbXB0IHNpbmNlIGl0IGNhbiBiZSB1cGRhdGVkIGluIHBsYXNlIChlLmcuIHMzKVxuICAgIHZhciBjYWxsVGltZXN0YW1wOyAvL3RpbWVzdGFtcCB3aGVuIHRoZSByZXF1ZXN0IGlzIGNyZWF0ZWRcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGFkZFRvSGVhZCA9IHRydWU7XG5cbiAgICByZXF1ZXN0Lm9uKCd2YWxpZGF0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxTdGFydFJlYWxUaW1lID0gQVdTLnV0aWwucmVhbENsb2NrLm5vdygpO1xuICAgICAgY2FsbFRpbWVzdGFtcCA9IERhdGUubm93KCk7XG4gICAgfSwgYWRkVG9IZWFkKTtcbiAgICByZXF1ZXN0Lm9uKCdzaWduJywgZnVuY3Rpb24gKCkge1xuICAgICAgYXR0ZW1wdFN0YXJ0UmVhbFRpbWUgPSBBV1MudXRpbC5yZWFsQ2xvY2subm93KCk7XG4gICAgICBhdHRlbXB0VGltZXN0YW1wID0gRGF0ZS5ub3coKTtcbiAgICAgIHJlZ2lvbiA9IHJlcXVlc3QuaHR0cFJlcXVlc3QucmVnaW9uO1xuICAgICAgYXR0ZW1wdENvdW50Kys7XG4gICAgfSwgYWRkVG9IZWFkKTtcbiAgICByZXF1ZXN0Lm9uKCd2YWxpZGF0ZVJlc3BvbnNlJywgZnVuY3Rpb24oKSB7XG4gICAgICBhdHRlbXB0TGF0ZW5jeSA9IE1hdGgucm91bmQoQVdTLnV0aWwucmVhbENsb2NrLm5vdygpIC0gYXR0ZW1wdFN0YXJ0UmVhbFRpbWUpO1xuICAgIH0pO1xuICAgIHJlcXVlc3QuYWRkTmFtZWRMaXN0ZW5lcignQVBJX0NBTExfQVRURU1QVCcsICdzdWNjZXNzJywgZnVuY3Rpb24gQVBJX0NBTExfQVRURU1QVCgpIHtcbiAgICAgIHZhciBhcGlBdHRlbXB0RXZlbnQgPSBzZWxmLmFwaUF0dGVtcHRFdmVudChyZXF1ZXN0KTtcbiAgICAgIGFwaUF0dGVtcHRFdmVudC5UaW1lc3RhbXAgPSBhdHRlbXB0VGltZXN0YW1wO1xuICAgICAgYXBpQXR0ZW1wdEV2ZW50LkF0dGVtcHRMYXRlbmN5ID0gYXR0ZW1wdExhdGVuY3kgPj0gMCA/IGF0dGVtcHRMYXRlbmN5IDogMDtcbiAgICAgIGFwaUF0dGVtcHRFdmVudC5SZWdpb24gPSByZWdpb247XG4gICAgICBzZWxmLmVtaXQoJ2FwaUNhbGxBdHRlbXB0JywgW2FwaUF0dGVtcHRFdmVudF0pO1xuICAgIH0pO1xuICAgIHJlcXVlc3QuYWRkTmFtZWRMaXN0ZW5lcignQVBJX0NBTExfQVRURU1QVF9SRVRSWScsICdyZXRyeScsIGZ1bmN0aW9uIEFQSV9DQUxMX0FUVEVNUFRfUkVUUlkoKSB7XG4gICAgICB2YXIgYXBpQXR0ZW1wdEV2ZW50ID0gc2VsZi5hdHRlbXB0RmFpbEV2ZW50KHJlcXVlc3QpO1xuICAgICAgYXBpQXR0ZW1wdEV2ZW50LlRpbWVzdGFtcCA9IGF0dGVtcHRUaW1lc3RhbXA7XG4gICAgICAvL2F0dGVtcHRMYXRlbmN5IG1heSBub3QgYmUgYXZhaWxhYmxlIGlmIGZhaWwgYmVmb3JlIHJlc3BvbnNlXG4gICAgICBhdHRlbXB0TGF0ZW5jeSA9IGF0dGVtcHRMYXRlbmN5IHx8XG4gICAgICAgIE1hdGgucm91bmQoQVdTLnV0aWwucmVhbENsb2NrLm5vdygpIC0gYXR0ZW1wdFN0YXJ0UmVhbFRpbWUpO1xuICAgICAgYXBpQXR0ZW1wdEV2ZW50LkF0dGVtcHRMYXRlbmN5ID0gYXR0ZW1wdExhdGVuY3kgPj0gMCA/IGF0dGVtcHRMYXRlbmN5IDogMDtcbiAgICAgIGFwaUF0dGVtcHRFdmVudC5SZWdpb24gPSByZWdpb247XG4gICAgICBzZWxmLmVtaXQoJ2FwaUNhbGxBdHRlbXB0JywgW2FwaUF0dGVtcHRFdmVudF0pO1xuICAgIH0pO1xuICAgIHJlcXVlc3QuYWRkTmFtZWRMaXN0ZW5lcignQVBJX0NBTEwnLCAnY29tcGxldGUnLCBmdW5jdGlvbiBBUElfQ0FMTCgpIHtcbiAgICAgIHZhciBhcGlDYWxsRXZlbnQgPSBzZWxmLmFwaUNhbGxFdmVudChyZXF1ZXN0KTtcbiAgICAgIGFwaUNhbGxFdmVudC5BdHRlbXB0Q291bnQgPSBhdHRlbXB0Q291bnQ7XG4gICAgICBpZiAoYXBpQ2FsbEV2ZW50LkF0dGVtcHRDb3VudCA8PSAwKSByZXR1cm47XG4gICAgICBhcGlDYWxsRXZlbnQuVGltZXN0YW1wID0gY2FsbFRpbWVzdGFtcDtcbiAgICAgIHZhciBsYXRlbmN5ID0gTWF0aC5yb3VuZChBV1MudXRpbC5yZWFsQ2xvY2subm93KCkgLSBjYWxsU3RhcnRSZWFsVGltZSk7XG4gICAgICBhcGlDYWxsRXZlbnQuTGF0ZW5jeSA9IGxhdGVuY3kgPj0gMCA/IGxhdGVuY3kgOiAwO1xuICAgICAgdmFyIHJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIGlmIChcbiAgICAgICAgcmVzcG9uc2UuZXJyb3IgJiZcbiAgICAgICAgcmVzcG9uc2UuZXJyb3IucmV0cnlhYmxlICYmXG4gICAgICAgIHR5cGVvZiByZXNwb25zZS5yZXRyeUNvdW50ID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgcmVzcG9uc2UubWF4UmV0cmllcyA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgKHJlc3BvbnNlLnJldHJ5Q291bnQgPj0gcmVzcG9uc2UubWF4UmV0cmllcylcbiAgICAgICkge1xuICAgICAgICBhcGlDYWxsRXZlbnQuTWF4UmV0cmllc0V4Y2VlZGVkID0gMTtcbiAgICAgIH1cbiAgICAgIHNlbGYuZW1pdCgnYXBpQ2FsbCcsIFthcGlDYWxsRXZlbnRdKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogT3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gc2V0dXAgYW55IGN1c3RvbSByZXF1ZXN0IGxpc3RlbmVycyBmb3IgZWFjaFxuICAgKiBuZXcgcmVxdWVzdCB0byB0aGUgc2VydmljZS5cbiAgICpcbiAgICogQG1ldGhvZF9hYnN0cmFjdCBUaGlzIGlzIGFuIGFic3RyYWN0IG1ldGhvZC5cbiAgICovXG4gIHNldHVwUmVxdWVzdExpc3RlbmVyczogZnVuY3Rpb24gc2V0dXBSZXF1ZXN0TGlzdGVuZXJzKHJlcXVlc3QpIHtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2lnbmluZyBuYW1lIGZvciBhIGdpdmVuIHJlcXVlc3RcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBnZXRTaWduaW5nTmFtZTogZnVuY3Rpb24gZ2V0U2lnbmluZ05hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXBpLnNpZ25pbmdOYW1lIHx8IHRoaXMuYXBpLmVuZHBvaW50UHJlZml4O1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBzaWduZXIgY2xhc3MgZm9yIGEgZ2l2ZW4gcmVxdWVzdFxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldFNpZ25lckNsYXNzOiBmdW5jdGlvbiBnZXRTaWduZXJDbGFzcyhyZXF1ZXN0KSB7XG4gICAgdmFyIHZlcnNpb247XG4gICAgLy8gZ2V0IG9wZXJhdGlvbiBhdXRodHlwZSBpZiBwcmVzZW50XG4gICAgdmFyIG9wZXJhdGlvbiA9IG51bGw7XG4gICAgdmFyIGF1dGh0eXBlID0gJyc7XG4gICAgaWYgKHJlcXVlc3QpIHtcbiAgICAgIHZhciBvcGVyYXRpb25zID0gcmVxdWVzdC5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zIHx8IHt9O1xuICAgICAgb3BlcmF0aW9uID0gb3BlcmF0aW9uc1tyZXF1ZXN0Lm9wZXJhdGlvbl0gfHwgbnVsbDtcbiAgICAgIGF1dGh0eXBlID0gb3BlcmF0aW9uID8gb3BlcmF0aW9uLmF1dGh0eXBlIDogJyc7XG4gICAgfVxuICAgIGlmICh0aGlzLmNvbmZpZy5zaWduYXR1cmVWZXJzaW9uKSB7XG4gICAgICB2ZXJzaW9uID0gdGhpcy5jb25maWcuc2lnbmF0dXJlVmVyc2lvbjtcbiAgICB9IGVsc2UgaWYgKGF1dGh0eXBlID09PSAndjQnIHx8IGF1dGh0eXBlID09PSAndjQtdW5zaWduZWQtYm9keScpIHtcbiAgICAgIHZlcnNpb24gPSAndjQnO1xuICAgIH0gZWxzZSBpZiAoYXV0aHR5cGUgPT09ICdiZWFyZXInKSB7XG4gICAgICB2ZXJzaW9uID0gJ2JlYXJlcic7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZlcnNpb24gPSB0aGlzLmFwaS5zaWduYXR1cmVWZXJzaW9uO1xuICAgIH1cbiAgICByZXR1cm4gQVdTLlNpZ25lcnMuUmVxdWVzdFNpZ25lci5nZXRWZXJzaW9uKHZlcnNpb24pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNlcnZpY2VJbnRlcmZhY2U6IGZ1bmN0aW9uIHNlcnZpY2VJbnRlcmZhY2UoKSB7XG4gICAgc3dpdGNoICh0aGlzLmFwaS5wcm90b2NvbCkge1xuICAgICAgY2FzZSAnZWMyJzogcmV0dXJuIEFXUy5FdmVudExpc3RlbmVycy5RdWVyeTtcbiAgICAgIGNhc2UgJ3F1ZXJ5JzogcmV0dXJuIEFXUy5FdmVudExpc3RlbmVycy5RdWVyeTtcbiAgICAgIGNhc2UgJ2pzb24nOiByZXR1cm4gQVdTLkV2ZW50TGlzdGVuZXJzLkpzb247XG4gICAgICBjYXNlICdyZXN0LWpzb24nOiByZXR1cm4gQVdTLkV2ZW50TGlzdGVuZXJzLlJlc3RKc29uO1xuICAgICAgY2FzZSAncmVzdC14bWwnOiByZXR1cm4gQVdTLkV2ZW50TGlzdGVuZXJzLlJlc3RYbWw7XG4gICAgfVxuICAgIGlmICh0aGlzLmFwaS5wcm90b2NvbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNlcnZpY2UgYHByb3RvY29sXFwnICcgK1xuICAgICAgICB0aGlzLmFwaS5wcm90b2NvbCArICcgaW4gQVBJIGNvbmZpZycpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzdWNjZXNzZnVsUmVzcG9uc2U6IGZ1bmN0aW9uIHN1Y2Nlc3NmdWxSZXNwb25zZShyZXNwKSB7XG4gICAgcmV0dXJuIHJlc3AuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUgPCAzMDA7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEhvdyBtYW55IHRpbWVzIGEgZmFpbGVkIHJlcXVlc3Qgc2hvdWxkIGJlIHJldHJpZWQgYmVmb3JlIGdpdmluZyB1cC5cbiAgICogdGhlIGRlZmF1bHRSZXRyeUNvdW50IGNhbiBiZSBvdmVycmlkZW4gYnkgc2VydmljZSBjbGFzc2VzLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG51bVJldHJpZXM6IGZ1bmN0aW9uIG51bVJldHJpZXMoKSB7XG4gICAgaWYgKHRoaXMuY29uZmlnLm1heFJldHJpZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLm1heFJldHJpZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmRlZmF1bHRSZXRyeUNvdW50O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICByZXRyeURlbGF5czogZnVuY3Rpb24gcmV0cnlEZWxheXMocmV0cnlDb3VudCwgZXJyKSB7XG4gICAgcmV0dXJuIEFXUy51dGlsLmNhbGN1bGF0ZVJldHJ5RGVsYXkocmV0cnlDb3VudCwgdGhpcy5jb25maWcucmV0cnlEZWxheU9wdGlvbnMsIGVycik7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgcmV0cnlhYmxlRXJyb3I6IGZ1bmN0aW9uIHJldHJ5YWJsZUVycm9yKGVycm9yKSB7XG4gICAgaWYgKHRoaXMudGltZW91dEVycm9yKGVycm9yKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHRoaXMubmV0d29ya2luZ0Vycm9yKGVycm9yKSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKHRoaXMuZXhwaXJlZENyZWRlbnRpYWxzRXJyb3IoZXJyb3IpKSByZXR1cm4gdHJ1ZTtcbiAgICBpZiAodGhpcy50aHJvdHRsZWRFcnJvcihlcnJvcikpIHJldHVybiB0cnVlO1xuICAgIGlmIChlcnJvci5zdGF0dXNDb2RlID49IDUwMCkgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG5ldHdvcmtpbmdFcnJvcjogZnVuY3Rpb24gbmV0d29ya2luZ0Vycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLmNvZGUgPT09ICdOZXR3b3JraW5nRXJyb3InO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHRpbWVvdXRFcnJvcjogZnVuY3Rpb24gdGltZW91dEVycm9yKGVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLmNvZGUgPT09ICdUaW1lb3V0RXJyb3InO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGV4cGlyZWRDcmVkZW50aWFsc0Vycm9yOiBmdW5jdGlvbiBleHBpcmVkQ3JlZGVudGlhbHNFcnJvcihlcnJvcikge1xuICAgIC8vIFRPRE8gOiB0aGlzIG9ubHkgaGFuZGxlcyAqb25lKiBvZiB0aGUgZXhwaXJlZCBjcmVkZW50aWFsIGNvZGVzXG4gICAgcmV0dXJuIChlcnJvci5jb2RlID09PSAnRXhwaXJlZFRva2VuRXhjZXB0aW9uJyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY2xvY2tTa2V3RXJyb3I6IGZ1bmN0aW9uIGNsb2NrU2tld0Vycm9yKGVycm9yKSB7XG4gICAgc3dpdGNoIChlcnJvci5jb2RlKSB7XG4gICAgICBjYXNlICdSZXF1ZXN0VGltZVRvb1NrZXdlZCc6XG4gICAgICBjYXNlICdSZXF1ZXN0RXhwaXJlZCc6XG4gICAgICBjYXNlICdJbnZhbGlkU2lnbmF0dXJlRXhjZXB0aW9uJzpcbiAgICAgIGNhc2UgJ1NpZ25hdHVyZURvZXNOb3RNYXRjaCc6XG4gICAgICBjYXNlICdBdXRoRmFpbHVyZSc6XG4gICAgICBjYXNlICdSZXF1ZXN0SW5UaGVGdXR1cmUnOlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIGRlZmF1bHQ6IHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZ2V0U2tld0NvcnJlY3RlZERhdGU6IGZ1bmN0aW9uIGdldFNrZXdDb3JyZWN0ZWREYXRlKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpICsgdGhpcy5jb25maWcuc3lzdGVtQ2xvY2tPZmZzZXQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGFwcGx5Q2xvY2tPZmZzZXQ6IGZ1bmN0aW9uIGFwcGx5Q2xvY2tPZmZzZXQobmV3U2VydmVyVGltZSkge1xuICAgIGlmIChuZXdTZXJ2ZXJUaW1lKSB7XG4gICAgICB0aGlzLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCA9IG5ld1NlcnZlclRpbWUgLSBEYXRlLm5vdygpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBpc0Nsb2NrU2tld2VkOiBmdW5jdGlvbiBpc0Nsb2NrU2tld2VkKG5ld1NlcnZlclRpbWUpIHtcbiAgICBpZiAobmV3U2VydmVyVGltZSkge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHRoaXMuZ2V0U2tld0NvcnJlY3RlZERhdGUoKS5nZXRUaW1lKCkgLSBuZXdTZXJ2ZXJUaW1lKSA+PSAzMDAwMDA7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHRocm90dGxlZEVycm9yOiBmdW5jdGlvbiB0aHJvdHRsZWRFcnJvcihlcnJvcikge1xuICAgIC8vIHRoaXMgbG9naWMgdmFyaWVzIGJldHdlZW4gc2VydmljZXNcbiAgICBpZiAoZXJyb3Iuc3RhdHVzQ29kZSA9PT0gNDI5KSByZXR1cm4gdHJ1ZTtcbiAgICBzd2l0Y2ggKGVycm9yLmNvZGUpIHtcbiAgICAgIGNhc2UgJ1Byb3Zpc2lvbmVkVGhyb3VnaHB1dEV4Y2VlZGVkRXhjZXB0aW9uJzpcbiAgICAgIGNhc2UgJ1Rocm90dGxpbmcnOlxuICAgICAgY2FzZSAnVGhyb3R0bGluZ0V4Y2VwdGlvbic6XG4gICAgICBjYXNlICdSZXF1ZXN0TGltaXRFeGNlZWRlZCc6XG4gICAgICBjYXNlICdSZXF1ZXN0VGhyb3R0bGVkJzpcbiAgICAgIGNhc2UgJ1JlcXVlc3RUaHJvdHRsZWRFeGNlcHRpb24nOlxuICAgICAgY2FzZSAnVG9vTWFueVJlcXVlc3RzRXhjZXB0aW9uJzpcbiAgICAgIGNhc2UgJ1RyYW5zYWN0aW9uSW5Qcm9ncmVzc0V4Y2VwdGlvbic6IC8vZHluYW1vZGJcbiAgICAgIGNhc2UgJ0VDMlRocm90dGxlZEV4Y2VwdGlvbic6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBlbmRwb2ludEZyb21UZW1wbGF0ZTogZnVuY3Rpb24gZW5kcG9pbnRGcm9tVGVtcGxhdGUoZW5kcG9pbnQpIHtcbiAgICBpZiAodHlwZW9mIGVuZHBvaW50ICE9PSAnc3RyaW5nJykgcmV0dXJuIGVuZHBvaW50O1xuXG4gICAgdmFyIGUgPSBlbmRwb2ludDtcbiAgICBlID0gZS5yZXBsYWNlKC9cXHtzZXJ2aWNlXFx9L2csIHRoaXMuYXBpLmVuZHBvaW50UHJlZml4KTtcbiAgICBlID0gZS5yZXBsYWNlKC9cXHtyZWdpb25cXH0vZywgdGhpcy5jb25maWcucmVnaW9uKTtcbiAgICBlID0gZS5yZXBsYWNlKC9cXHtzY2hlbWVcXH0vZywgdGhpcy5jb25maWcuc3NsRW5hYmxlZCA/ICdodHRwcycgOiAnaHR0cCcpO1xuICAgIHJldHVybiBlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNldEVuZHBvaW50OiBmdW5jdGlvbiBzZXRFbmRwb2ludChlbmRwb2ludCkge1xuICAgIHRoaXMuZW5kcG9pbnQgPSBuZXcgQVdTLkVuZHBvaW50KGVuZHBvaW50LCB0aGlzLmNvbmZpZyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgcGFnaW5hdGlvbkNvbmZpZzogZnVuY3Rpb24gcGFnaW5hdGlvbkNvbmZpZyhvcGVyYXRpb24sIHRocm93RXhjZXB0aW9uKSB7XG4gICAgdmFyIHBhZ2luYXRvciA9IHRoaXMuYXBpLm9wZXJhdGlvbnNbb3BlcmF0aW9uXS5wYWdpbmF0b3I7XG4gICAgaWYgKCFwYWdpbmF0b3IpIHtcbiAgICAgIGlmICh0aHJvd0V4Y2VwdGlvbikge1xuICAgICAgICB2YXIgZSA9IG5ldyBFcnJvcigpO1xuICAgICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihlLCAnTm8gcGFnaW5hdGlvbiBjb25maWd1cmF0aW9uIGZvciAnICsgb3BlcmF0aW9uKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiBwYWdpbmF0b3I7XG4gIH1cbn0pO1xuXG5BV1MudXRpbC51cGRhdGUoQVdTLlNlcnZpY2UsIHtcblxuICAvKipcbiAgICogQWRkcyBvbmUgbWV0aG9kIGZvciBlYWNoIG9wZXJhdGlvbiBkZXNjcmliZWQgaW4gdGhlIGFwaSBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZGVmaW5lTWV0aG9kczogZnVuY3Rpb24gZGVmaW5lTWV0aG9kcyhzdmMpIHtcbiAgICBBV1MudXRpbC5lYWNoKHN2Yy5wcm90b3R5cGUuYXBpLm9wZXJhdGlvbnMsIGZ1bmN0aW9uIGl0ZXJhdG9yKG1ldGhvZCkge1xuICAgICAgaWYgKHN2Yy5wcm90b3R5cGVbbWV0aG9kXSkgcmV0dXJuO1xuICAgICAgdmFyIG9wZXJhdGlvbiA9IHN2Yy5wcm90b3R5cGUuYXBpLm9wZXJhdGlvbnNbbWV0aG9kXTtcbiAgICAgIGlmIChvcGVyYXRpb24uYXV0aHR5cGUgPT09ICdub25lJykge1xuICAgICAgICBzdmMucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAocGFyYW1zLCBjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VVbmF1dGhlbnRpY2F0ZWRSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdmMucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbiAocGFyYW1zLCBjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KG1ldGhvZCwgcGFyYW1zLCBjYWxsYmFjayk7XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIERlZmluZXMgYSBuZXcgU2VydmljZSBjbGFzcyB1c2luZyBhIHNlcnZpY2UgaWRlbnRpZmllciBhbmQgbGlzdCBvZiB2ZXJzaW9uc1xuICAgKiBpbmNsdWRpbmcgYW4gb3B0aW9uYWwgc2V0IG9mIGZlYXR1cmVzIChmdW5jdGlvbnMpIHRvIGFwcGx5IHRvIHRoZSBjbGFzc1xuICAgKiBwcm90b3R5cGUuXG4gICAqXG4gICAqIEBwYXJhbSBzZXJ2aWNlSWRlbnRpZmllciBbU3RyaW5nXSB0aGUgaWRlbnRpZmllciBmb3IgdGhlIHNlcnZpY2VcbiAgICogQHBhcmFtIHZlcnNpb25zIFtBcnJheTxTdHJpbmc+XSBhIGxpc3Qgb2YgdmVyc2lvbnMgdGhhdCB3b3JrIHdpdGggdGhpc1xuICAgKiAgIHNlcnZpY2VcbiAgICogQHBhcmFtIGZlYXR1cmVzIFtPYmplY3RdIGFuIG9iamVjdCB0byBhdHRhY2ggdG8gdGhlIHByb3RvdHlwZVxuICAgKiBAcmV0dXJuIFtDbGFzczxTZXJ2aWNlPl0gdGhlIHNlcnZpY2UgY2xhc3MgZGVmaW5lZCBieSB0aGlzIGZ1bmN0aW9uLlxuICAgKi9cbiAgZGVmaW5lU2VydmljZTogZnVuY3Rpb24gZGVmaW5lU2VydmljZShzZXJ2aWNlSWRlbnRpZmllciwgdmVyc2lvbnMsIGZlYXR1cmVzKSB7XG4gICAgQVdTLlNlcnZpY2UuX3NlcnZpY2VNYXBbc2VydmljZUlkZW50aWZpZXJdID0gdHJ1ZTtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmVyc2lvbnMpKSB7XG4gICAgICBmZWF0dXJlcyA9IHZlcnNpb25zO1xuICAgICAgdmVyc2lvbnMgPSBbXTtcbiAgICB9XG5cbiAgICB2YXIgc3ZjID0gaW5oZXJpdChBV1MuU2VydmljZSwgZmVhdHVyZXMgfHwge30pO1xuXG4gICAgaWYgKHR5cGVvZiBzZXJ2aWNlSWRlbnRpZmllciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIEFXUy5TZXJ2aWNlLmFkZFZlcnNpb25zKHN2YywgdmVyc2lvbnMpO1xuXG4gICAgICB2YXIgaWRlbnRpZmllciA9IHN2Yy5zZXJ2aWNlSWRlbnRpZmllciB8fCBzZXJ2aWNlSWRlbnRpZmllcjtcbiAgICAgIHN2Yy5zZXJ2aWNlSWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgfSBlbHNlIHsgLy8gZGVmaW5lU2VydmljZSBjYWxsZWQgd2l0aCBhbiBBUElcbiAgICAgIHN2Yy5wcm90b3R5cGUuYXBpID0gc2VydmljZUlkZW50aWZpZXI7XG4gICAgICBBV1MuU2VydmljZS5kZWZpbmVNZXRob2RzKHN2Yyk7XG4gICAgfVxuICAgIEFXUy5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbCh0aGlzLnByb3RvdHlwZSk7XG4gICAgLy91dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nIGlzIG9ubHkgYXZhaWxhYmxlIGluIG5vZGVcbiAgICBpZiAoIXRoaXMucHJvdG90eXBlLnB1Ymxpc2hlciAmJiBBV1MudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZykge1xuICAgICAgdmFyIFB1Ymxpc2hlciA9IEFXUy51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLlB1Ymxpc2hlcjtcbiAgICAgIHZhciBjb25maWdQcm92aWRlciA9IEFXUy51dGlsLmNsaWVudFNpZGVNb25pdG9yaW5nLmNvbmZpZ1Byb3ZpZGVyO1xuICAgICAgdmFyIHB1Ymxpc2hlckNvbmZpZyA9IGNvbmZpZ1Byb3ZpZGVyKCk7XG4gICAgICB0aGlzLnByb3RvdHlwZS5wdWJsaXNoZXIgPSBuZXcgUHVibGlzaGVyKHB1Ymxpc2hlckNvbmZpZyk7XG4gICAgICBpZiAocHVibGlzaGVyQ29uZmlnLmVuYWJsZWQpIHtcbiAgICAgICAgLy9pZiBjc20gaXMgZW5hYmxlZCBpbiBlbnZpcm9ubWVudCwgU0RLIHNob3VsZCBzZW5kIGFsbCBtZXRyaWNzXG4gICAgICAgIEFXUy5TZXJ2aWNlLl9jbGllbnRTaWRlTW9uaXRvcmluZyA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIEFXUy5TZXF1ZW50aWFsRXhlY3V0b3IuY2FsbChzdmMucHJvdG90eXBlKTtcbiAgICBBV1MuU2VydmljZS5hZGREZWZhdWx0TW9uaXRvcmluZ0xpc3RlbmVycyhzdmMucHJvdG90eXBlKTtcbiAgICByZXR1cm4gc3ZjO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGFkZFZlcnNpb25zOiBmdW5jdGlvbiBhZGRWZXJzaW9ucyhzdmMsIHZlcnNpb25zKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZlcnNpb25zKSkgdmVyc2lvbnMgPSBbdmVyc2lvbnNdO1xuXG4gICAgc3ZjLnNlcnZpY2VzID0gc3ZjLnNlcnZpY2VzIHx8IHt9O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVyc2lvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChzdmMuc2VydmljZXNbdmVyc2lvbnNbaV1dID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgc3ZjLnNlcnZpY2VzW3ZlcnNpb25zW2ldXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgc3ZjLmFwaVZlcnNpb25zID0gT2JqZWN0LmtleXMoc3ZjLnNlcnZpY2VzKS5zb3J0KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZGVmaW5lU2VydmljZUFwaTogZnVuY3Rpb24gZGVmaW5lU2VydmljZUFwaShzdXBlcmNsYXNzLCB2ZXJzaW9uLCBhcGlDb25maWcpIHtcbiAgICB2YXIgc3ZjID0gaW5oZXJpdChzdXBlcmNsYXNzLCB7XG4gICAgICBzZXJ2aWNlSWRlbnRpZmllcjogc3VwZXJjbGFzcy5zZXJ2aWNlSWRlbnRpZmllclxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gc2V0QXBpKGFwaSkge1xuICAgICAgaWYgKGFwaS5pc0FwaSkge1xuICAgICAgICBzdmMucHJvdG90eXBlLmFwaSA9IGFwaTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN2Yy5wcm90b3R5cGUuYXBpID0gbmV3IEFwaShhcGksIHtcbiAgICAgICAgICBzZXJ2aWNlSWRlbnRpZmllcjogc3VwZXJjbGFzcy5zZXJ2aWNlSWRlbnRpZmllclxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHZlcnNpb24gPT09ICdzdHJpbmcnKSB7XG4gICAgICBpZiAoYXBpQ29uZmlnKSB7XG4gICAgICAgIHNldEFwaShhcGlDb25maWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBzZXRBcGkoQVdTLmFwaUxvYWRlcihzdXBlcmNsYXNzLnNlcnZpY2VJZGVudGlmaWVyLCB2ZXJzaW9uKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKGVyciwge1xuICAgICAgICAgICAgbWVzc2FnZTogJ0NvdWxkIG5vdCBmaW5kIEFQSSBjb25maWd1cmF0aW9uICcgK1xuICAgICAgICAgICAgICBzdXBlcmNsYXNzLnNlcnZpY2VJZGVudGlmaWVyICsgJy0nICsgdmVyc2lvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdXBlcmNsYXNzLnNlcnZpY2VzLCB2ZXJzaW9uKSkge1xuICAgICAgICBzdXBlcmNsYXNzLmFwaVZlcnNpb25zID0gc3VwZXJjbGFzcy5hcGlWZXJzaW9ucy5jb25jYXQodmVyc2lvbikuc29ydCgpO1xuICAgICAgfVxuICAgICAgc3VwZXJjbGFzcy5zZXJ2aWNlc1t2ZXJzaW9uXSA9IHN2YztcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0QXBpKHZlcnNpb24pO1xuICAgIH1cblxuICAgIEFXUy5TZXJ2aWNlLmRlZmluZU1ldGhvZHMoc3ZjKTtcbiAgICByZXR1cm4gc3ZjO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGhhc1NlcnZpY2U6IGZ1bmN0aW9uKGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKEFXUy5TZXJ2aWNlLl9zZXJ2aWNlTWFwLCBpZGVudGlmaWVyKTtcbiAgfSxcblxuICAvKipcbiAgICogQHBhcmFtIGF0dGFjaE9uIGF0dGFjaCBkZWZhdWx0IG1vbml0b3JpbmcgbGlzdGVuZXJzIHRvIG9iamVjdFxuICAgKlxuICAgKiBFYWNoIG1vbml0b3JpbmcgZXZlbnQgc2hvdWxkIGJlIGVtaXR0ZWQgZnJvbSBzZXJ2aWNlIGNsaWVudCB0byBzZXJ2aWNlIGNvbnN0cnVjdG9yIHByb3RvdHlwZSBhbmQgdGhlblxuICAgKiB0byBnbG9iYWwgc2VydmljZSBwcm90b3R5cGUgbGlrZSBidWJibGluZyB1cC4gVGhlc2UgZGVmYXVsdCBtb25pdG9yaW5nIGV2ZW50cyBsaXN0ZW5lciB3aWxsIHRyYW5zZmVyXG4gICAqIHRoZSBtb25pdG9yaW5nIGV2ZW50cyB0byB0aGUgdXBwZXIgbGF5ZXIuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYWRkRGVmYXVsdE1vbml0b3JpbmdMaXN0ZW5lcnM6IGZ1bmN0aW9uIGFkZERlZmF1bHRNb25pdG9yaW5nTGlzdGVuZXJzKGF0dGFjaE9uKSB7XG4gICAgYXR0YWNoT24uYWRkTmFtZWRMaXN0ZW5lcignTU9OSVRPUl9FVkVOVFNfQlVCQkxFJywgJ2FwaUNhbGxBdHRlbXB0JywgZnVuY3Rpb24gRVZFTlRTX0JVQkJMRShldmVudCkge1xuICAgICAgdmFyIGJhc2VDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihhdHRhY2hPbik7XG4gICAgICBpZiAoYmFzZUNsYXNzLl9ldmVudHMpIGJhc2VDbGFzcy5lbWl0KCdhcGlDYWxsQXR0ZW1wdCcsIFtldmVudF0pO1xuICAgIH0pO1xuICAgIGF0dGFjaE9uLmFkZE5hbWVkTGlzdGVuZXIoJ0NBTExfRVZFTlRTX0JVQkJMRScsICdhcGlDYWxsJywgZnVuY3Rpb24gQ0FMTF9FVkVOVFNfQlVCQkxFKGV2ZW50KSB7XG4gICAgICB2YXIgYmFzZUNsYXNzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGF0dGFjaE9uKTtcbiAgICAgIGlmIChiYXNlQ2xhc3MuX2V2ZW50cykgYmFzZUNsYXNzLmVtaXQoJ2FwaUNhbGwnLCBbZXZlbnRdKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBfc2VydmljZU1hcDoge31cbn0pO1xuXG5BV1MudXRpbC5taXhpbihBV1MuU2VydmljZSwgQVdTLlNlcXVlbnRpYWxFeGVjdXRvcik7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVdTLlNlcnZpY2U7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4vY29yZScpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgeW91ciBBV1Mgc2VjdXJpdHkgY3JlZGVudGlhbHMsIHNwZWNpZmljYWxseSB0aGVcbiAqIHthY2Nlc3NLZXlJZH0sIHtzZWNyZXRBY2Nlc3NLZXl9LCBhbmQgb3B0aW9uYWwge3Nlc3Npb25Ub2tlbn0uXG4gKiBDcmVhdGluZyBhIGBDcmVkZW50aWFsc2Agb2JqZWN0IGFsbG93cyB5b3UgdG8gcGFzcyBhcm91bmQgeW91clxuICogc2VjdXJpdHkgaW5mb3JtYXRpb24gdG8gY29uZmlndXJhdGlvbiBhbmQgc2VydmljZSBvYmplY3RzLlxuICpcbiAqIE5vdGUgdGhhdCB0aGlzIGNsYXNzIHR5cGljYWxseSBkb2VzIG5vdCBuZWVkIHRvIGJlIGNvbnN0cnVjdGVkIG1hbnVhbGx5LFxuICogYXMgdGhlIHtBV1MuQ29uZmlnfSBhbmQge0FXUy5TZXJ2aWNlfSBjbGFzc2VzIGJvdGggYWNjZXB0IHNpbXBsZVxuICogb3B0aW9ucyBoYXNoZXMgd2l0aCB0aGUgdGhyZWUga2V5cy4gVGhlc2Ugc3RydWN0dXJlcyB3aWxsIGJlIGNvbnZlcnRlZFxuICogaW50byBDcmVkZW50aWFscyBvYmplY3RzIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogIyMgRXhwaXJpbmcgYW5kIFJlZnJlc2hpbmcgQ3JlZGVudGlhbHNcbiAqXG4gKiBPY2Nhc2lvbmFsbHkgY3JlZGVudGlhbHMgY2FuIGV4cGlyZSBpbiB0aGUgbWlkZGxlIG9mIGEgbG9uZy1ydW5uaW5nXG4gKiBhcHBsaWNhdGlvbi4gSW4gdGhpcyBjYXNlLCB0aGUgU0RLIHdpbGwgYXV0b21hdGljYWxseSBhdHRlbXB0IHRvXG4gKiByZWZyZXNoIHRoZSBjcmVkZW50aWFscyBmcm9tIHRoZSBzdG9yYWdlIGxvY2F0aW9uIGlmIHRoZSBDcmVkZW50aWFsc1xuICogY2xhc3MgaW1wbGVtZW50cyB0aGUge3JlZnJlc2h9IG1ldGhvZC5cbiAqXG4gKiBJZiB5b3UgYXJlIGltcGxlbWVudGluZyBhIGNyZWRlbnRpYWwgc3RvcmFnZSBsb2NhdGlvbiwgeW91XG4gKiB3aWxsIHdhbnQgdG8gY3JlYXRlIGEgc3ViY2xhc3Mgb2YgdGhlIGBDcmVkZW50aWFsc2AgY2xhc3MgYW5kXG4gKiBvdmVycmlkZSB0aGUge3JlZnJlc2h9IG1ldGhvZC4gVGhpcyBtZXRob2QgYWxsb3dzIGNyZWRlbnRpYWxzIHRvIGJlXG4gKiByZXRyaWV2ZWQgZnJvbSB0aGUgYmFja2luZyBzdG9yZSwgYmUgaXQgYSBmaWxlIHN5c3RlbSwgZGF0YWJhc2UsIG9yXG4gKiBzb21lIG5ldHdvcmsgc3RvcmFnZS4gVGhlIG1ldGhvZCBzaG91bGQgcmVzZXQgdGhlIGNyZWRlbnRpYWwgYXR0cmlidXRlc1xuICogb24gdGhlIG9iamVjdC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBleHBpcmVkXG4gKiAgIEByZXR1cm4gW0Jvb2xlYW5dIHdoZXRoZXIgdGhlIGNyZWRlbnRpYWxzIGhhdmUgYmVlbiBleHBpcmVkIGFuZFxuICogICAgIHJlcXVpcmUgYSByZWZyZXNoLiBVc2VkIGluIGNvbmp1bmN0aW9uIHdpdGgge2V4cGlyZVRpbWV9LlxuICogQCFhdHRyaWJ1dGUgZXhwaXJlVGltZVxuICogICBAcmV0dXJuIFtEYXRlXSBhIHRpbWUgd2hlbiBjcmVkZW50aWFscyBzaG91bGQgYmUgY29uc2lkZXJlZCBleHBpcmVkLiBVc2VkXG4gKiAgICAgaW4gY29uanVuY3Rpb24gd2l0aCB7ZXhwaXJlZH0uXG4gKiBAIWF0dHJpYnV0ZSBhY2Nlc3NLZXlJZFxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBBV1MgYWNjZXNzIGtleSBJRFxuICogQCFhdHRyaWJ1dGUgc2VjcmV0QWNjZXNzS2V5XG4gKiAgIEByZXR1cm4gW1N0cmluZ10gdGhlIEFXUyBzZWNyZXQgYWNjZXNzIGtleVxuICogQCFhdHRyaWJ1dGUgc2Vzc2lvblRva2VuXG4gKiAgIEByZXR1cm4gW1N0cmluZ10gYW4gb3B0aW9uYWwgQVdTIHNlc3Npb24gdG9rZW5cbiAqL1xuQVdTLkNyZWRlbnRpYWxzID0gQVdTLnV0aWwuaW5oZXJpdCh7XG4gIC8qKlxuICAgKiBBIGNyZWRlbnRpYWxzIG9iamVjdCBjYW4gYmUgY3JlYXRlZCB1c2luZyBwb3NpdGlvbmFsIGFyZ3VtZW50cyBvciBhbiBvcHRpb25zXG4gICAqIGhhc2guXG4gICAqXG4gICAqIEBvdmVybG9hZCBBV1MuQ3JlZGVudGlhbHMoYWNjZXNzS2V5SWQsIHNlY3JldEFjY2Vzc0tleSwgc2Vzc2lvblRva2VuPW51bGwpXG4gICAqICAgQ3JlYXRlcyBhIENyZWRlbnRpYWxzIG9iamVjdCB3aXRoIGEgZ2l2ZW4gc2V0IG9mIGNyZWRlbnRpYWwgaW5mb3JtYXRpb25cbiAgICogICBhcyBwb3NpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICogICBAcGFyYW0gYWNjZXNzS2V5SWQgW1N0cmluZ10gdGhlIEFXUyBhY2Nlc3Mga2V5IElEXG4gICAqICAgQHBhcmFtIHNlY3JldEFjY2Vzc0tleSBbU3RyaW5nXSB0aGUgQVdTIHNlY3JldCBhY2Nlc3Mga2V5XG4gICAqICAgQHBhcmFtIHNlc3Npb25Ub2tlbiBbU3RyaW5nXSB0aGUgb3B0aW9uYWwgQVdTIHNlc3Npb24gdG9rZW5cbiAgICogICBAZXhhbXBsZSBDcmVhdGUgYSBjcmVkZW50aWFscyBvYmplY3Qgd2l0aCBBV1MgY3JlZGVudGlhbHNcbiAgICogICAgIHZhciBjcmVkcyA9IG5ldyBBV1MuQ3JlZGVudGlhbHMoJ2FraWQnLCAnc2VjcmV0JywgJ3Nlc3Npb24nKTtcbiAgICogQG92ZXJsb2FkIEFXUy5DcmVkZW50aWFscyhvcHRpb25zKVxuICAgKiAgIENyZWF0ZXMgYSBDcmVkZW50aWFscyBvYmplY3Qgd2l0aCBhIGdpdmVuIHNldCBvZiBjcmVkZW50aWFsIGluZm9ybWF0aW9uXG4gICAqICAgYXMgYW4gb3B0aW9ucyBoYXNoLlxuICAgKiAgIEBvcHRpb24gb3B0aW9ucyBhY2Nlc3NLZXlJZCBbU3RyaW5nXSB0aGUgQVdTIGFjY2VzcyBrZXkgSURcbiAgICogICBAb3B0aW9uIG9wdGlvbnMgc2VjcmV0QWNjZXNzS2V5IFtTdHJpbmddIHRoZSBBV1Mgc2VjcmV0IGFjY2VzcyBrZXlcbiAgICogICBAb3B0aW9uIG9wdGlvbnMgc2Vzc2lvblRva2VuIFtTdHJpbmddIHRoZSBvcHRpb25hbCBBV1Mgc2Vzc2lvbiB0b2tlblxuICAgKiAgIEBleGFtcGxlIENyZWF0ZSBhIGNyZWRlbnRpYWxzIG9iamVjdCB3aXRoIEFXUyBjcmVkZW50aWFsc1xuICAgKiAgICAgdmFyIGNyZWRzID0gbmV3IEFXUy5DcmVkZW50aWFscyh7XG4gICAqICAgICAgIGFjY2Vzc0tleUlkOiAnYWtpZCcsIHNlY3JldEFjY2Vzc0tleTogJ3NlY3JldCcsIHNlc3Npb25Ub2tlbjogJ3Nlc3Npb24nXG4gICAqICAgICB9KTtcbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBDcmVkZW50aWFscygpIHtcbiAgICAvLyBoaWRlIHNlY3JldEFjY2Vzc0tleSBmcm9tIGJlaW5nIGRpc3BsYXllZCB3aXRoIHV0aWwuaW5zcGVjdFxuICAgIEFXUy51dGlsLmhpZGVQcm9wZXJ0aWVzKHRoaXMsIFsnc2VjcmV0QWNjZXNzS2V5J10pO1xuXG4gICAgdGhpcy5leHBpcmVkID0gZmFsc2U7XG4gICAgdGhpcy5leHBpcmVUaW1lID0gbnVsbDtcbiAgICB0aGlzLnJlZnJlc2hDYWxsYmFja3MgPSBbXTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgdmFyIGNyZWRzID0gYXJndW1lbnRzWzBdLmNyZWRlbnRpYWxzIHx8IGFyZ3VtZW50c1swXTtcbiAgICAgIHRoaXMuYWNjZXNzS2V5SWQgPSBjcmVkcy5hY2Nlc3NLZXlJZDtcbiAgICAgIHRoaXMuc2VjcmV0QWNjZXNzS2V5ID0gY3JlZHMuc2VjcmV0QWNjZXNzS2V5O1xuICAgICAgdGhpcy5zZXNzaW9uVG9rZW4gPSBjcmVkcy5zZXNzaW9uVG9rZW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWNjZXNzS2V5SWQgPSBhcmd1bWVudHNbMF07XG4gICAgICB0aGlzLnNlY3JldEFjY2Vzc0tleSA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIHRoaXMuc2Vzc2lvblRva2VuID0gYXJndW1lbnRzWzJdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQHJldHVybiBbSW50ZWdlcl0gdGhlIG51bWJlciBvZiBzZWNvbmRzIGJlZm9yZSB7ZXhwaXJlVGltZX0gZHVyaW5nIHdoaWNoXG4gICAqICAgdGhlIGNyZWRlbnRpYWxzIHdpbGwgYmUgY29uc2lkZXJlZCBleHBpcmVkLlxuICAgKi9cbiAgZXhwaXJ5V2luZG93OiAxNSxcblxuICAvKipcbiAgICogQHJldHVybiBbQm9vbGVhbl0gd2hldGhlciB0aGUgY3JlZGVudGlhbHMgb2JqZWN0IHNob3VsZCBjYWxsIHtyZWZyZXNofVxuICAgKiBAbm90ZSBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIG1ldGhvZCB0byBwcm92aWRlIGN1c3RvbSByZWZyZXNoXG4gICAqICAgbG9naWMuXG4gICAqL1xuICBuZWVkc1JlZnJlc2g6IGZ1bmN0aW9uIG5lZWRzUmVmcmVzaCgpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSBBV1MudXRpbC5kYXRlLmdldERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIGFkanVzdGVkVGltZSA9IG5ldyBEYXRlKGN1cnJlbnRUaW1lICsgdGhpcy5leHBpcnlXaW5kb3cgKiAxMDAwKTtcblxuICAgIGlmICh0aGlzLmV4cGlyZVRpbWUgJiYgYWRqdXN0ZWRUaW1lID4gdGhpcy5leHBpcmVUaW1lKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuZXhwaXJlZCB8fCAhdGhpcy5hY2Nlc3NLZXlJZCB8fCAhdGhpcy5zZWNyZXRBY2Nlc3NLZXk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBleGlzdGluZyBjcmVkZW50aWFscywgcmVmcmVzaGluZyB0aGVtIGlmIHRoZXkgYXJlIG5vdCB5ZXQgbG9hZGVkXG4gICAqIG9yIGhhdmUgZXhwaXJlZC4gVXNlcnMgc2hvdWxkIGNhbGwgdGhpcyBtZXRob2QgYmVmb3JlIHVzaW5nIHtyZWZyZXNofSxcbiAgICogYXMgdGhpcyB3aWxsIG5vdCBhdHRlbXB0IHRvIHJlbG9hZCBjcmVkZW50aWFscyB3aGVuIHRoZXkgYXJlIGFscmVhZHlcbiAgICogbG9hZGVkIGludG8gdGhlIG9iamVjdC5cbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBXaGVuIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIGl0IG1lYW5zIGVpdGhlciBjcmVkZW50aWFsc1xuICAgKiAgIGRvIG5vdCBuZWVkIHRvIGJlIHJlZnJlc2hlZCBvciByZWZyZXNoZWQgY3JlZGVudGlhbHMgaW5mb3JtYXRpb24gaGFzXG4gICAqICAgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGUgYGFjY2Vzc0tleUlkYCwgYHNlY3JldEFjY2Vzc0tleWAsXG4gICAqICAgYW5kIGBzZXNzaW9uVG9rZW5gIHByb3BlcnRpZXMpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoKCkpIHtcbiAgICAgIHRoaXMucmVmcmVzaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKCFlcnIpIHNlbGYuZXhwaXJlZCA9IGZhbHNlOyAvLyByZXNldCBleHBpcmVkIGZsYWdcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEAhbWV0aG9kICBnZXRQcm9taXNlKClcbiAgICogICBSZXR1cm5zIGEgJ3RoZW5hYmxlJyBwcm9taXNlLlxuICAgKiAgIEdldHMgdGhlIGV4aXN0aW5nIGNyZWRlbnRpYWxzLCByZWZyZXNoaW5nIHRoZW0gaWYgdGhleSBhcmUgbm90IHlldCBsb2FkZWRcbiAgICogICBvciBoYXZlIGV4cGlyZWQuIFVzZXJzIHNob3VsZCBjYWxsIHRoaXMgbWV0aG9kIGJlZm9yZSB1c2luZyB7cmVmcmVzaH0sXG4gICAqICAgYXMgdGhpcyB3aWxsIG5vdCBhdHRlbXB0IHRvIHJlbG9hZCBjcmVkZW50aWFscyB3aGVuIHRoZXkgYXJlIGFscmVhZHlcbiAgICogICBsb2FkZWQgaW50byB0aGUgb2JqZWN0LlxuICAgKlxuICAgKiAgIFR3byBjYWxsYmFja3MgY2FuIGJlIHByb3ZpZGVkIHRvIHRoZSBgdGhlbmAgbWV0aG9kIG9uIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICAgKiAgIFRoZSBmaXJzdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQsIGFuZCB0aGUgc2Vjb25kXG4gICAqICAgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQuXG4gICAqICAgQGNhbGxiYWNrIGZ1bGZpbGxlZENhbGxiYWNrIGZ1bmN0aW9uKClcbiAgICogICAgIENhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQuIFdoZW4gdGhpcyBjYWxsYmFjayBpcyBjYWxsZWQsIGl0XG4gICAqICAgICBtZWFucyBlaXRoZXIgY3JlZGVudGlhbHMgZG8gbm90IG5lZWQgdG8gYmUgcmVmcmVzaGVkIG9yIHJlZnJlc2hlZFxuICAgKiAgICAgY3JlZGVudGlhbHMgaW5mb3JtYXRpb24gaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlXG4gICAqICAgICBgYWNjZXNzS2V5SWRgLCBgc2VjcmV0QWNjZXNzS2V5YCwgYW5kIGBzZXNzaW9uVG9rZW5gIHByb3BlcnRpZXMpLlxuICAgKiAgIEBjYWxsYmFjayByZWplY3RlZENhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICAgIENhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICogICAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKiAgIEByZXR1cm4gW1Byb21pc2VdIEEgcHJvbWlzZSB0aGF0IHJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBgZ2V0YCBjYWxsLlxuICAgKiAgIEBleGFtcGxlIENhbGxpbmcgdGhlIGBnZXRQcm9taXNlYCBtZXRob2QuXG4gICAqICAgICB2YXIgcHJvbWlzZSA9IGNyZWRQcm92aWRlci5nZXRQcm9taXNlKCk7XG4gICAqICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7IC4uLiB9LCBmdW5jdGlvbihlcnIpIHsgLi4uIH0pO1xuICAgKi9cblxuICAvKipcbiAgICogQCFtZXRob2QgIHJlZnJlc2hQcm9taXNlKClcbiAgICogICBSZXR1cm5zIGEgJ3RoZW5hYmxlJyBwcm9taXNlLlxuICAgKiAgIFJlZnJlc2hlcyB0aGUgY3JlZGVudGlhbHMuIFVzZXJzIHNob3VsZCBjYWxsIHtnZXR9IGJlZm9yZSBhdHRlbXB0aW5nXG4gICAqICAgdG8gZm9yY2libHkgcmVmcmVzaCBjcmVkZW50aWFscy5cbiAgICpcbiAgICogICBUd28gY2FsbGJhY2tzIGNhbiBiZSBwcm92aWRlZCB0byB0aGUgYHRoZW5gIG1ldGhvZCBvbiB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICogICBUaGUgZmlyc3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLCBhbmQgdGhlIHNlY29uZFxuICAgKiAgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLlxuICAgKiAgIEBjYWxsYmFjayBmdWxmaWxsZWRDYWxsYmFjayBmdW5jdGlvbigpXG4gICAqICAgICBDYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLiBXaGVuIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLCBpdFxuICAgKiAgICAgbWVhbnMgcmVmcmVzaGVkIGNyZWRlbnRpYWxzIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3RcbiAgICogICAgIChhcyB0aGUgYGFjY2Vzc0tleUlkYCwgYHNlY3JldEFjY2Vzc0tleWAsIGFuZCBgc2Vzc2lvblRva2VuYCBwcm9wZXJ0aWVzKS5cbiAgICogICBAY2FsbGJhY2sgcmVqZWN0ZWRDYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgICBDYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQuXG4gICAqICAgICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWRcbiAgICogICBAcmV0dXJuIFtQcm9taXNlXSBBIHByb21pc2UgdGhhdCByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgYHJlZnJlc2hgIGNhbGwuXG4gICAqICAgQGV4YW1wbGUgQ2FsbGluZyB0aGUgYHJlZnJlc2hQcm9taXNlYCBtZXRob2QuXG4gICAqICAgICB2YXIgcHJvbWlzZSA9IGNyZWRQcm92aWRlci5yZWZyZXNoUHJvbWlzZSgpO1xuICAgKiAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkgeyAuLi4gfSwgZnVuY3Rpb24oZXJyKSB7IC4uLiB9KTtcbiAgICovXG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyB0aGUgY3JlZGVudGlhbHMuIFVzZXJzIHNob3VsZCBjYWxsIHtnZXR9IGJlZm9yZSBhdHRlbXB0aW5nXG4gICAqIHRvIGZvcmNpYmx5IHJlZnJlc2ggY3JlZGVudGlhbHMuXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgV2hlbiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyByZWZyZXNoZWRcbiAgICogICBjcmVkZW50aWFscyBpbmZvcm1hdGlvbiBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGVcbiAgICogICBgYWNjZXNzS2V5SWRgLCBgc2VjcmV0QWNjZXNzS2V5YCwgYW5kIGBzZXNzaW9uVG9rZW5gIHByb3BlcnRpZXMpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKiBAbm90ZSBTdWJjbGFzc2VzIHNob3VsZCBvdmVycmlkZSB0aGlzIGNsYXNzIHRvIHJlc2V0IHRoZVxuICAgKiAgIHthY2Nlc3NLZXlJZH0sIHtzZWNyZXRBY2Nlc3NLZXl9IGFuZCBvcHRpb25hbCB7c2Vzc2lvblRva2VufVxuICAgKiAgIG9uIHRoZSBjcmVkZW50aWFscyBvYmplY3QgYW5kIHRoZW4gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aFxuICAgKiAgIGFueSBlcnJvciBpbmZvcm1hdGlvbi5cbiAgICogQHNlZSBnZXRcbiAgICovXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goY2FsbGJhY2spIHtcbiAgICB0aGlzLmV4cGlyZWQgPSBmYWxzZTtcbiAgICBjYWxsYmFjaygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqL1xuICBjb2FsZXNjZVJlZnJlc2g6IGZ1bmN0aW9uIGNvYWxlc2NlUmVmcmVzaChjYWxsYmFjaywgc3luYykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5yZWZyZXNoQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spID09PSAxKSB7XG4gICAgICBzZWxmLmxvYWQoZnVuY3Rpb24gb25Mb2FkKGVycikge1xuICAgICAgICBBV1MudXRpbC5hcnJheUVhY2goc2VsZi5yZWZyZXNoQ2FsbGJhY2tzLCBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjYWxsYmFjayBjb3VsZCB0aHJvdywgc28gZGVmZXIgdG8gZW5zdXJlIGFsbCBjYWxsYmFja3MgYXJlIG5vdGlmaWVkXG4gICAgICAgICAgICBBV1MudXRpbC5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLnJlZnJlc2hDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuQ3JlZGVudGlhbHMuYWRkUHJvbWlzZXNUb0NsYXNzID0gZnVuY3Rpb24gYWRkUHJvbWlzZXNUb0NsYXNzKFByb21pc2VEZXBlbmRlbmN5KSB7XG4gIHRoaXMucHJvdG90eXBlLmdldFByb21pc2UgPSBBV1MudXRpbC5wcm9taXNpZnlNZXRob2QoJ2dldCcsIFByb21pc2VEZXBlbmRlbmN5KTtcbiAgdGhpcy5wcm90b3R5cGUucmVmcmVzaFByb21pc2UgPSBBV1MudXRpbC5wcm9taXNpZnlNZXRob2QoJ3JlZnJlc2gnLCBQcm9taXNlRGVwZW5kZW5jeSk7XG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuQ3JlZGVudGlhbHMuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MgPSBmdW5jdGlvbiBkZWxldGVQcm9taXNlc0Zyb21DbGFzcygpIHtcbiAgZGVsZXRlIHRoaXMucHJvdG90eXBlLmdldFByb21pc2U7XG4gIGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZTtcbn07XG5cbkFXUy51dGlsLmFkZFByb21pc2VzKEFXUy5DcmVkZW50aWFscyk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgY3JlZGVudGlhbCBwcm92aWRlciBjaGFpbiB0aGF0IHNlYXJjaGVzIGZvciBBV1MgY3JlZGVudGlhbHNcbiAqIGluIGEgbGlzdCBvZiBjcmVkZW50aWFsIHByb3ZpZGVycyBzcGVjaWZpZWQgYnkgdGhlIHtwcm92aWRlcnN9IHByb3BlcnR5LlxuICpcbiAqIEJ5IGRlZmF1bHQsIHRoZSBjaGFpbiB3aWxsIHVzZSB0aGUge2RlZmF1bHRQcm92aWRlcnN9IHRvIHJlc29sdmUgY3JlZGVudGlhbHMuXG4gKiBUaGVzZSBwcm92aWRlcnMgd2lsbCBsb29rIGluIHRoZSBlbnZpcm9ubWVudCB1c2luZyB0aGVcbiAqIHtBV1MuRW52aXJvbm1lbnRDcmVkZW50aWFsc30gY2xhc3Mgd2l0aCB0aGUgJ0FXUycgYW5kICdBTUFaT04nIHByZWZpeGVzLlxuICpcbiAqICMjIFNldHRpbmcgUHJvdmlkZXJzXG4gKlxuICogRWFjaCBwcm92aWRlciBpbiB0aGUge3Byb3ZpZGVyc30gbGlzdCBzaG91bGQgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAqIGEge0FXUy5DcmVkZW50aWFsc30gb2JqZWN0LCBvciBhIGhhcmRjb2RlZCBjcmVkZW50aWFscyBvYmplY3QuIFRoZSBmdW5jdGlvblxuICogZm9ybSBhbGxvd3MgZm9yIGRlbGF5ZWQgZXhlY3V0aW9uIG9mIHRoZSBjcmVkZW50aWFsIGNvbnN0cnVjdGlvbi5cbiAqXG4gKiAjIyBSZXNvbHZpbmcgQ3JlZGVudGlhbHMgZnJvbSBhIENoYWluXG4gKlxuICogQ2FsbCB7cmVzb2x2ZX0gdG8gcmV0dXJuIHRoZSBmaXJzdCB2YWxpZCBjcmVkZW50aWFsIG9iamVjdCB0aGF0IGNhbiBiZVxuICogbG9hZGVkIGJ5IHRoZSBwcm92aWRlciBjaGFpbi5cbiAqXG4gKiBGb3IgZXhhbXBsZSwgdG8gcmVzb2x2ZSBhIGNoYWluIHdpdGggYSBjdXN0b20gcHJvdmlkZXIgdGhhdCBjaGVja3MgYSBmaWxlXG4gKiBvbiBkaXNrIGFmdGVyIHRoZSBzZXQgb2Yge2RlZmF1bHRQcm92aWRlcnN9OlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhciBkaXNrUHJvdmlkZXIgPSBuZXcgQVdTLkZpbGVTeXN0ZW1DcmVkZW50aWFscygnLi9jcmVkcy5qc29uJyk7XG4gKiB2YXIgY2hhaW4gPSBuZXcgQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluKCk7XG4gKiBjaGFpbi5wcm92aWRlcnMucHVzaChkaXNrUHJvdmlkZXIpO1xuICogY2hhaW4ucmVzb2x2ZSgpO1xuICogYGBgXG4gKlxuICogVGhlIGFib3ZlIGNvZGUgd2lsbCByZXR1cm4gdGhlIGBkaXNrUHJvdmlkZXJgIG9iamVjdCBpZiB0aGVcbiAqIGZpbGUgY29udGFpbnMgY3JlZGVudGlhbHMgYW5kIHRoZSBgZGVmYXVsdFByb3ZpZGVyc2AgZG8gbm90IGNvbnRhaW5cbiAqIGFueSBjcmVkZW50aWFsIHNldHRpbmdzLlxuICpcbiAqIEAhYXR0cmlidXRlIHByb3ZpZGVyc1xuICogICBAcmV0dXJuIFtBcnJheTxBV1MuQ3JlZGVudGlhbHMsIEZ1bmN0aW9uPl1cbiAqICAgICBhIGxpc3Qgb2YgY3JlZGVudGlhbHMgb2JqZWN0cyBvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gY3JlZGVudGlhbHNcbiAqICAgICBvYmplY3RzLiBJZiB0aGUgcHJvdmlkZXIgaXMgYSBmdW5jdGlvbiwgdGhlIGZ1bmN0aW9uIHdpbGwgYmVcbiAqICAgICBleGVjdXRlZCBsYXppbHkgd2hlbiB0aGUgcHJvdmlkZXIgbmVlZHMgdG8gYmUgY2hlY2tlZCBmb3IgdmFsaWRcbiAqICAgICBjcmVkZW50aWFscy4gQnkgZGVmYXVsdCwgdGhpcyBvYmplY3Qgd2lsbCBiZSBzZXQgdG8gdGhlXG4gKiAgICAge2RlZmF1bHRQcm92aWRlcnN9LlxuICogICBAc2VlIGRlZmF1bHRQcm92aWRlcnNcbiAqL1xuQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuQ3JlZGVudGlhbHMsIHtcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBDcmVkZW50aWFsUHJvdmlkZXJDaGFpbiB3aXRoIGEgZGVmYXVsdCBzZXQgb2YgcHJvdmlkZXJzXG4gICAqIHNwZWNpZmllZCBieSB7ZGVmYXVsdFByb3ZpZGVyc30uXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4ocHJvdmlkZXJzKSB7XG4gICAgaWYgKHByb3ZpZGVycykge1xuICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvdmlkZXJzID0gQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlZmF1bHRQcm92aWRlcnMuc2xpY2UoMCk7XG4gICAgfVxuICAgIHRoaXMucmVzb2x2ZUNhbGxiYWNrcyA9IFtdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAIW1ldGhvZCAgcmVzb2x2ZVByb21pc2UoKVxuICAgKiAgIFJldHVybnMgYSAndGhlbmFibGUnIHByb21pc2UuXG4gICAqICAgUmVzb2x2ZXMgdGhlIHByb3ZpZGVyIGNoYWluIGJ5IHNlYXJjaGluZyBmb3IgdGhlIGZpcnN0IHNldCBvZlxuICAgKiAgIGNyZWRlbnRpYWxzIGluIHtwcm92aWRlcnN9LlxuICAgKlxuICAgKiAgIFR3byBjYWxsYmFja3MgY2FuIGJlIHByb3ZpZGVkIHRvIHRoZSBgdGhlbmAgbWV0aG9kIG9uIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICAgKiAgIFRoZSBmaXJzdCBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQsIGFuZCB0aGUgc2Vjb25kXG4gICAqICAgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQuXG4gICAqICAgQGNhbGxiYWNrIGZ1bGZpbGxlZENhbGxiYWNrIGZ1bmN0aW9uKGNyZWRlbnRpYWxzKVxuICAgKiAgICAgQ2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCBhbmQgdGhlIHByb3ZpZGVyIHJlc29sdmVzIHRoZSBjaGFpblxuICAgKiAgICAgdG8gYSBjcmVkZW50aWFscyBvYmplY3RcbiAgICogICAgIEBwYXJhbSBjcmVkZW50aWFscyBbQVdTLkNyZWRlbnRpYWxzXSB0aGUgY3JlZGVudGlhbHMgb2JqZWN0IHJlc29sdmVkXG4gICAqICAgICAgIGJ5IHRoZSBwcm92aWRlciBjaGFpbi5cbiAgICogICBAY2FsbGJhY2sgcmVqZWN0ZWRDYWxsYmFjayBmdW5jdGlvbihlcnJvcilcbiAgICogICAgIENhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICogICAgIEBwYXJhbSBlcnIgW0Vycm9yXSB0aGUgZXJyb3Igb2JqZWN0IHJldHVybmVkIGlmIG5vIGNyZWRlbnRpYWxzIGFyZSBmb3VuZC5cbiAgICogICBAcmV0dXJuIFtQcm9taXNlXSBBIHByb21pc2UgdGhhdCByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgYHJlc29sdmVgIG1ldGhvZCBjYWxsLlxuICAgKiAgIEBleGFtcGxlIENhbGxpbmcgdGhlIGByZXNvbHZlUHJvbWlzZWAgbWV0aG9kLlxuICAgKiAgICAgdmFyIHByb21pc2UgPSBjaGFpbi5yZXNvbHZlUHJvbWlzZSgpO1xuICAgKiAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGNyZWRlbnRpYWxzKSB7IC4uLiB9LCBmdW5jdGlvbihlcnIpIHsgLi4uIH0pO1xuICAgKi9cblxuICAvKipcbiAgICogUmVzb2x2ZXMgdGhlIHByb3ZpZGVyIGNoYWluIGJ5IHNlYXJjaGluZyBmb3IgdGhlIGZpcnN0IHNldCBvZlxuICAgKiBjcmVkZW50aWFscyBpbiB7cHJvdmlkZXJzfS5cbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVyciwgY3JlZGVudGlhbHMpXG4gICAqICAgQ2FsbGVkIHdoZW4gdGhlIHByb3ZpZGVyIHJlc29sdmVzIHRoZSBjaGFpbiB0byBhIGNyZWRlbnRpYWxzIG9iamVjdFxuICAgKiAgIG9yIG51bGwgaWYgbm8gY3JlZGVudGlhbHMgY2FuIGJlIGZvdW5kLlxuICAgKlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSB0aGUgZXJyb3Igb2JqZWN0IHJldHVybmVkIGlmIG5vIGNyZWRlbnRpYWxzIGFyZVxuICAgKiAgICAgZm91bmQuXG4gICAqICAgQHBhcmFtIGNyZWRlbnRpYWxzIFtBV1MuQ3JlZGVudGlhbHNdIHRoZSBjcmVkZW50aWFscyBvYmplY3QgcmVzb2x2ZWRcbiAgICogICAgIGJ5IHRoZSBwcm92aWRlciBjaGFpbi5cbiAgICogQHJldHVybiBbQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluXSB0aGUgcHJvdmlkZXIsIGZvciBjaGFpbmluZy5cbiAgICovXG4gIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHNlbGYucHJvdmlkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdObyBwcm92aWRlcnMnKSk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5yZXNvbHZlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spID09PSAxKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHByb3ZpZGVycyA9IHNlbGYucHJvdmlkZXJzLnNsaWNlKDApO1xuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlTmV4dChlcnIsIGNyZWRzKSB7XG4gICAgICAgIGlmICgoIWVyciAmJiBjcmVkcykgfHwgaW5kZXggPT09IHByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBBV1MudXRpbC5hcnJheUVhY2goc2VsZi5yZXNvbHZlQ2FsbGJhY2tzLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgY3JlZHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGYucmVzb2x2ZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1tpbmRleCsrXTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm92aWRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGNyZWRzID0gcHJvdmlkZXIuY2FsbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNyZWRzID0gcHJvdmlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY3JlZHMuZ2V0KSB7XG4gICAgICAgICAgY3JlZHMuZ2V0KGZ1bmN0aW9uIChnZXRFcnIpIHtcbiAgICAgICAgICAgIHJlc29sdmVOZXh0KGdldEVyciwgZ2V0RXJyID8gbnVsbCA6IGNyZWRzKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlTmV4dChudWxsLCBjcmVkcyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZU5leHQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxufSk7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgc2V0IG9mIHByb3ZpZGVycyB1c2VkIGJ5IGEgdmFuaWxsYSBDcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5cbiAqXG4gKiBJbiB0aGUgYnJvd3NlcjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBBV1MuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycyA9IFtdXG4gKiBgYGBcbiAqXG4gKiBJbiBOb2RlLmpzOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEFXUy5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzID0gW1xuICogICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLkVudmlyb25tZW50Q3JlZGVudGlhbHMoJ0FXUycpOyB9LFxuICogICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLkVudmlyb25tZW50Q3JlZGVudGlhbHMoJ0FNQVpPTicpOyB9LFxuICogICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLlNzb0NyZWRlbnRpYWxzKCk7IH0sXG4gKiAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBV1MuU2hhcmVkSW5pRmlsZUNyZWRlbnRpYWxzKCk7IH0sXG4gKiAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBV1MuRUNTQ3JlZGVudGlhbHMoKTsgfSxcbiAqICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFXUy5Qcm9jZXNzQ3JlZGVudGlhbHMoKTsgfSxcbiAqICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFXUy5Ub2tlbkZpbGVXZWJJZGVudGl0eUNyZWRlbnRpYWxzKCk7IH0sXG4gKiAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBV1MuRUMyTWV0YWRhdGFDcmVkZW50aWFscygpIH1cbiAqIF1cbiAqIGBgYFxuICovXG5BV1MuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycyA9IFtdO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uYWRkUHJvbWlzZXNUb0NsYXNzID0gZnVuY3Rpb24gYWRkUHJvbWlzZXNUb0NsYXNzKFByb21pc2VEZXBlbmRlbmN5KSB7XG4gIHRoaXMucHJvdG90eXBlLnJlc29sdmVQcm9taXNlID0gQVdTLnV0aWwucHJvbWlzaWZ5TWV0aG9kKCdyZXNvbHZlJywgUHJvbWlzZURlcGVuZGVuY3kpO1xufTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzID0gZnVuY3Rpb24gZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MoKSB7XG4gIGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZXNvbHZlUHJvbWlzZTtcbn07XG5cbkFXUy51dGlsLmFkZFByb21pc2VzKEFXUy5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbik7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4vY29yZScpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluJyk7XG52YXIgUHJvbWlzZXNEZXBlbmRlbmN5O1xuXG4vKipcbiAqIFRoZSBtYWluIGNvbmZpZ3VyYXRpb24gY2xhc3MgdXNlZCBieSBhbGwgc2VydmljZSBvYmplY3RzIHRvIHNldFxuICogdGhlIHJlZ2lvbiwgY3JlZGVudGlhbHMsIGFuZCBvdGhlciBvcHRpb25zIGZvciByZXF1ZXN0cy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBjcmVkZW50aWFscyBhbmQgcmVnaW9uIHNldHRpbmdzIGFyZSBsZWZ0IHVuY29uZmlndXJlZC5cbiAqIFRoaXMgc2hvdWxkIGJlIGNvbmZpZ3VyZWQgYnkgdGhlIGFwcGxpY2F0aW9uIGJlZm9yZSB1c2luZyBhbnlcbiAqIEFXUyBzZXJ2aWNlIEFQSXMuXG4gKlxuICogSW4gb3JkZXIgdG8gc2V0IGdsb2JhbCBjb25maWd1cmF0aW9uIG9wdGlvbnMsIHByb3BlcnRpZXMgc2hvdWxkXG4gKiBiZSBhc3NpZ25lZCB0byB0aGUgZ2xvYmFsIHtBV1MuY29uZmlnfSBvYmplY3QuXG4gKlxuICogQHNlZSBBV1MuY29uZmlnXG4gKlxuICogQCFncm91cCBHZW5lcmFsIENvbmZpZ3VyYXRpb24gT3B0aW9uc1xuICpcbiAqIEAhYXR0cmlidXRlIGNyZWRlbnRpYWxzXG4gKiAgIEByZXR1cm4gW0FXUy5DcmVkZW50aWFsc10gdGhlIEFXUyBjcmVkZW50aWFscyB0byBzaWduIHJlcXVlc3RzIHdpdGguXG4gKlxuICogQCFhdHRyaWJ1dGUgcmVnaW9uXG4gKiAgIEBleGFtcGxlIFNldCB0aGUgZ2xvYmFsIHJlZ2lvbiBzZXR0aW5nIHRvIHVzLXdlc3QtMlxuICogICAgIEFXUy5jb25maWcudXBkYXRlKHtyZWdpb246ICd1cy13ZXN0LTInfSk7XG4gKiAgIEByZXR1cm4gW0FXUy5DcmVkZW50aWFsc10gVGhlIHJlZ2lvbiB0byBzZW5kIHNlcnZpY2UgcmVxdWVzdHMgdG8uXG4gKiAgIEBzZWUgaHR0cDovL2RvY3MuYW1hem9ud2Vic2VydmljZXMuY29tL2dlbmVyYWwvbGF0ZXN0L2dyL3JhbmRlLmh0bWxcbiAqICAgICBBIGxpc3Qgb2YgYXZhaWxhYmxlIGVuZHBvaW50cyBmb3IgZWFjaCBBV1Mgc2VydmljZVxuICpcbiAqIEAhYXR0cmlidXRlIG1heFJldHJpZXNcbiAqICAgQHJldHVybiBbSW50ZWdlcl0gdGhlIG1heGltdW0gYW1vdW50IG9mIHJldHJpZXMgdG8gcGVyZm9ybSBmb3IgYVxuICogICAgIHNlcnZpY2UgcmVxdWVzdC4gQnkgZGVmYXVsdCB0aGlzIHZhbHVlIGlzIGNhbGN1bGF0ZWQgYnkgdGhlIHNwZWNpZmljXG4gKiAgICAgc2VydmljZSBvYmplY3QgdGhhdCB0aGUgcmVxdWVzdCBpcyBiZWluZyBtYWRlIHRvLlxuICpcbiAqIEAhYXR0cmlidXRlIG1heFJlZGlyZWN0c1xuICogICBAcmV0dXJuIFtJbnRlZ2VyXSB0aGUgbWF4aW11bSBhbW91bnQgb2YgcmVkaXJlY3RzIHRvIGZvbGxvdyBmb3IgYVxuICogICAgIHNlcnZpY2UgcmVxdWVzdC4gRGVmYXVsdHMgdG8gMTAuXG4gKlxuICogQCFhdHRyaWJ1dGUgcGFyYW1WYWxpZGF0aW9uXG4gKiAgIEByZXR1cm4gW0Jvb2xlYW58bWFwXSB3aGV0aGVyIGlucHV0IHBhcmFtZXRlcnMgc2hvdWxkIGJlIHZhbGlkYXRlZCBhZ2FpbnN0XG4gKiAgICAgdGhlIG9wZXJhdGlvbiBkZXNjcmlwdGlvbiBiZWZvcmUgc2VuZGluZyB0aGUgcmVxdWVzdC4gRGVmYXVsdHMgdG8gdHJ1ZS5cbiAqICAgICBQYXNzIGEgbWFwIHRvIGVuYWJsZSBhbnkgb2YgdGhlIGZvbGxvd2luZyBzcGVjaWZpYyB2YWxpZGF0aW9uIGZlYXR1cmVzOlxuICpcbiAqICAgICAqICoqbWluKiogW0Jvb2xlYW5dICZtZGFzaDsgVmFsaWRhdGVzIHRoYXQgYSB2YWx1ZSBtZWV0cyB0aGUgbWluXG4gKiAgICAgICBjb25zdHJhaW50LiBUaGlzIGlzIGVuYWJsZWQgYnkgZGVmYXVsdCB3aGVuIHBhcmFtVmFsaWRhdGlvbiBpcyBzZXRcbiAqICAgICAgIHRvIGB0cnVlYC5cbiAqICAgICAqICoqbWF4KiogW0Jvb2xlYW5dICZtZGFzaDsgVmFsaWRhdGVzIHRoYXQgYSB2YWx1ZSBtZWV0cyB0aGUgbWF4XG4gKiAgICAgICBjb25zdHJhaW50LlxuICogICAgICogKipwYXR0ZXJuKiogW0Jvb2xlYW5dICZtZGFzaDsgVmFsaWRhdGVzIHRoYXQgYSBzdHJpbmcgdmFsdWUgbWF0Y2hlcyBhXG4gKiAgICAgICByZWd1bGFyIGV4cHJlc3Npb24uXG4gKiAgICAgKiAqKmVudW0qKiBbQm9vbGVhbl0gJm1kYXNoOyBWYWxpZGF0ZXMgdGhhdCBhIHN0cmluZyB2YWx1ZSBtYXRjaGVzIG9uZVxuICogICAgICAgb2YgdGhlIGFsbG93YWJsZSBlbnVtIHZhbHVlcy5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBjb21wdXRlQ2hlY2tzdW1zXG4gKiAgIEByZXR1cm4gW0Jvb2xlYW5dIHdoZXRoZXIgdG8gY29tcHV0ZSBjaGVja3N1bXMgZm9yIHBheWxvYWQgYm9kaWVzIHdoZW5cbiAqICAgICB0aGUgc2VydmljZSBhY2NlcHRzIGl0IChjdXJyZW50bHkgc3VwcG9ydGVkIGluIFMzIGFuZCBTUVMgb25seSkuXG4gKlxuICogQCFhdHRyaWJ1dGUgY29udmVydFJlc3BvbnNlVHlwZXNcbiAqICAgQHJldHVybiBbQm9vbGVhbl0gd2hldGhlciB0eXBlcyBhcmUgY29udmVydGVkIHdoZW4gcGFyc2luZyByZXNwb25zZSBkYXRhLlxuICogICAgIEN1cnJlbnRseSBvbmx5IHN1cHBvcnRlZCBmb3IgSlNPTiBiYXNlZCBzZXJ2aWNlcy4gVHVybmluZyB0aGlzIG9mZiBtYXlcbiAqICAgICBpbXByb3ZlIHBlcmZvcm1hbmNlIG9uIGxhcmdlIHJlc3BvbnNlIHBheWxvYWRzLiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKlxuICogQCFhdHRyaWJ1dGUgY29ycmVjdENsb2NrU2tld1xuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRvIGFwcGx5IGEgY2xvY2sgc2tldyBjb3JyZWN0aW9uIGFuZCByZXRyeVxuICogICAgIHJlcXVlc3RzIHRoYXQgZmFpbCBiZWNhdXNlIG9mIGFuIHNrZXdlZCBjbGllbnQgY2xvY2suIERlZmF1bHRzIHRvXG4gKiAgICAgYGZhbHNlYC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBzc2xFbmFibGVkXG4gKiAgIEByZXR1cm4gW0Jvb2xlYW5dIHdoZXRoZXIgU1NMIGlzIGVuYWJsZWQgZm9yIHJlcXVlc3RzXG4gKlxuICogQCFhdHRyaWJ1dGUgczNGb3JjZVBhdGhTdHlsZVxuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRvIGZvcmNlIHBhdGggc3R5bGUgVVJMcyBmb3IgUzMgb2JqZWN0c1xuICpcbiAqIEAhYXR0cmlidXRlIHMzQnVja2V0RW5kcG9pbnRcbiAqICAgQG5vdGUgU2V0dGluZyB0aGlzIGNvbmZpZ3VyYXRpb24gb3B0aW9uIHJlcXVpcmVzIGFuIGBlbmRwb2ludGAgdG8gYmVcbiAqICAgICBwcm92aWRlZCBleHBsaWNpdGx5IHRvIHRoZSBzZXJ2aWNlIGNvbnN0cnVjdG9yLlxuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRoZSBwcm92aWRlZCBlbmRwb2ludCBhZGRyZXNzZXMgYW4gaW5kaXZpZHVhbFxuICogICAgIGJ1Y2tldCAoZmFsc2UgaWYgaXQgYWRkcmVzc2VzIHRoZSByb290IEFQSSBlbmRwb2ludCkuXG4gKlxuICogQCFhdHRyaWJ1dGUgczNEaXNhYmxlQm9keVNpZ25pbmdcbiAqICAgQHJldHVybiBbQm9vbGVhbl0gd2hldGhlciB0byBkaXNhYmxlIFMzIGJvZHkgc2lnbmluZyB3aGVuIHVzaW5nIHNpZ25hdHVyZSB2ZXJzaW9uIGB2NGAuXG4gKiAgICAgQm9keSBzaWduaW5nIGNhbiBvbmx5IGJlIGRpc2FibGVkIHdoZW4gdXNpbmcgaHR0cHMuIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBzM1VzRWFzdDFSZWdpb25hbEVuZHBvaW50XG4gKiAgIEByZXR1cm4gWydsZWdhY3knfCdyZWdpb25hbCddIHdoZW4gcmVnaW9uIGlzIHNldCB0byAndXMtZWFzdC0xJywgd2hldGhlciB0byBzZW5kIHMzXG4gKiAgICAgcmVxdWVzdCB0byBnbG9iYWwgZW5kcG9pbnRzIG9yICd1cy1lYXN0LTEnIHJlZ2lvbmFsIGVuZHBvaW50cy4gVGhpcyBjb25maWcgaXMgb25seVxuICogICAgIGFwcGxpY2FibGUgdG8gUzMgY2xpZW50O1xuICogICAgIERlZmF1bHRzIHRvICdsZWdhY3knXG4gKiBAIWF0dHJpYnV0ZSBzM1VzZUFyblJlZ2lvblxuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRvIG92ZXJyaWRlIHRoZSByZXF1ZXN0IHJlZ2lvbiB3aXRoIHRoZSByZWdpb24gaW5mZXJyZWRcbiAqICAgICBmcm9tIHJlcXVlc3RlZCByZXNvdXJjZSdzIEFSTi4gT25seSBhdmFpbGFibGUgZm9yIFMzIGJ1Y2tldHNcbiAqICAgICBEZWZhdWx0cyB0byBgdHJ1ZWBcbiAqXG4gKiBAIWF0dHJpYnV0ZSB1c2VBY2NlbGVyYXRlRW5kcG9pbnRcbiAqICAgQG5vdGUgVGhpcyBjb25maWd1cmF0aW9uIG9wdGlvbiBpcyBvbmx5IGNvbXBhdGlibGUgd2l0aCBTMyB3aGlsZSBhY2Nlc3NpbmdcbiAqICAgICBkbnMtY29tcGF0aWJsZSBidWNrZXRzLlxuICogICBAcmV0dXJuIFtCb29sZWFuXSBXaGV0aGVyIHRvIHVzZSB0aGUgQWNjZWxlcmF0ZSBlbmRwb2ludCB3aXRoIHRoZSBTMyBzZXJ2aWNlLlxuICogICAgIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gKlxuICogQCFhdHRyaWJ1dGUgcmV0cnlEZWxheU9wdGlvbnNcbiAqICAgQGV4YW1wbGUgU2V0IHRoZSBiYXNlIHJldHJ5IGRlbGF5IGZvciBhbGwgc2VydmljZXMgdG8gMzAwIG1zXG4gKiAgICAgQVdTLmNvbmZpZy51cGRhdGUoe3JldHJ5RGVsYXlPcHRpb25zOiB7YmFzZTogMzAwfX0pO1xuICogICAgIC8vIERlbGF5cyB3aXRoIG1heFJldHJpZXMgPSAzOiAzMDAsIDYwMCwgMTIwMFxuICogICBAZXhhbXBsZSBTZXQgYSBjdXN0b20gYmFja29mZiBmdW5jdGlvbiB0byBwcm92aWRlIGRlbGF5IHZhbHVlcyBvbiByZXRyaWVzXG4gKiAgICAgQVdTLmNvbmZpZy51cGRhdGUoe3JldHJ5RGVsYXlPcHRpb25zOiB7Y3VzdG9tQmFja29mZjogZnVuY3Rpb24ocmV0cnlDb3VudCwgZXJyKSB7XG4gKiAgICAgICAvLyByZXR1cm5zIGRlbGF5IGluIG1zXG4gKiAgICAgfX19KTtcbiAqICAgQHJldHVybiBbbWFwXSBBIHNldCBvZiBvcHRpb25zIHRvIGNvbmZpZ3VyZSB0aGUgcmV0cnkgZGVsYXkgb24gcmV0cnlhYmxlIGVycm9ycy5cbiAqICAgICBDdXJyZW50bHkgc3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICpcbiAqICAgICAqICoqYmFzZSoqIFtJbnRlZ2VyXSAmbWRhc2g7IFRoZSBiYXNlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gdXNlIGluIHRoZVxuICogICAgICAgZXhwb25lbnRpYWwgYmFja29mZiBmb3Igb3BlcmF0aW9uIHJldHJpZXMuIERlZmF1bHRzIHRvIDEwMCBtcyBmb3IgYWxsIHNlcnZpY2VzIGV4Y2VwdFxuICogICAgICAgRHluYW1vREIsIHdoZXJlIGl0IGRlZmF1bHRzIHRvIDUwbXMuXG4gKlxuICogICAgICogKipjdXN0b21CYWNrb2ZmICoqIFtmdW5jdGlvbl0gJm1kYXNoOyBBIGN1c3RvbSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgYVxuICogICAgICAgcmV0cnkgY291bnQgYW5kIGVycm9yIGFuZCByZXR1cm5zIHRoZSBhbW91bnQgb2YgdGltZSB0byBkZWxheSBpblxuICogICAgICAgbWlsbGlzZWNvbmRzLiBJZiB0aGUgcmVzdWx0IGlzIGEgbm9uLXplcm8gbmVnYXRpdmUgdmFsdWUsIG5vIGZ1cnRoZXJcbiAqICAgICAgIHJldHJ5IGF0dGVtcHRzIHdpbGwgYmUgbWFkZS4gVGhlIGBiYXNlYCBvcHRpb24gd2lsbCBiZSBpZ25vcmVkIGlmIHRoaXNcbiAqICAgICAgIG9wdGlvbiBpcyBzdXBwbGllZC4gVGhlIGZ1bmN0aW9uIGlzIG9ubHkgY2FsbGVkIGZvciByZXRyeWFibGUgZXJyb3JzLlxuICpcbiAqIEAhYXR0cmlidXRlIGh0dHBPcHRpb25zXG4gKiAgIEByZXR1cm4gW21hcF0gQSBzZXQgb2Ygb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBsb3ctbGV2ZWwgSFRUUCByZXF1ZXN0LlxuICogICAgIEN1cnJlbnRseSBzdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gKlxuICogICAgICogKipwcm94eSoqIFtTdHJpbmddICZtZGFzaDsgdGhlIFVSTCB0byBwcm94eSByZXF1ZXN0cyB0aHJvdWdoXG4gKiAgICAgKiAqKmFnZW50KiogW2h0dHAuQWdlbnQsIGh0dHBzLkFnZW50XSAmbWRhc2g7IHRoZSBBZ2VudCBvYmplY3QgdG8gcGVyZm9ybVxuICogICAgICAgSFRUUCByZXF1ZXN0cyB3aXRoLiBVc2VkIGZvciBjb25uZWN0aW9uIHBvb2xpbmcuIE5vdGUgdGhhdCBmb3JcbiAqICAgICAgIFNTTCBjb25uZWN0aW9ucywgYSBzcGVjaWFsIEFnZW50IG9iamVjdCBpcyB1c2VkIGluIG9yZGVyIHRvIGVuYWJsZVxuICogICAgICAgcGVlciBjZXJ0aWZpY2F0ZSB2ZXJpZmljYXRpb24uIFRoaXMgZmVhdHVyZSBpcyBvbmx5IHN1cHBvcnRlZCBpbiB0aGVcbiAqICAgICAgIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKiAgICAgKiAqKmNvbm5lY3RUaW1lb3V0KiogW0ludGVnZXJdICZtZGFzaDsgU2V0cyB0aGUgc29ja2V0IHRvIHRpbWVvdXQgYWZ0ZXJcbiAqICAgICAgIGZhaWxpbmcgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBzZXJ2ZXIgYWZ0ZXJcbiAqICAgICAgIGBjb25uZWN0VGltZW91dGAgbWlsbGlzZWNvbmRzLiBUaGlzIHRpbWVvdXQgaGFzIG5vIGVmZmVjdCBvbmNlIGEgc29ja2V0XG4gKiAgICAgICBjb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkLlxuICogICAgICogKip0aW1lb3V0KiogW0ludGVnZXJdICZtZGFzaDsgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYSByZXF1ZXN0IGNhblxuICogICAgICAgdGFrZSBiZWZvcmUgYXV0b21hdGljYWxseSBiZWluZyB0ZXJtaW5hdGVkLlxuICogICAgICAgRGVmYXVsdHMgdG8gdHdvIG1pbnV0ZXMgKDEyMDAwMCkuXG4gKiAgICAgKiAqKnhockFzeW5jKiogW0Jvb2xlYW5dICZtZGFzaDsgV2hldGhlciB0aGUgU0RLIHdpbGwgc2VuZCBhc3luY2hyb25vdXNcbiAqICAgICAgIEhUVFAgcmVxdWVzdHMuIFVzZWQgaW4gdGhlIGJyb3dzZXIgZW52aXJvbm1lbnQgb25seS4gU2V0IHRvIGZhbHNlIHRvXG4gKiAgICAgICBzZW5kIHJlcXVlc3RzIHN5bmNocm9ub3VzbHkuIERlZmF1bHRzIHRvIHRydWUgKGFzeW5jIG9uKS5cbiAqICAgICAqICoqeGhyV2l0aENyZWRlbnRpYWxzKiogW0Jvb2xlYW5dICZtZGFzaDsgU2V0cyB0aGUgXCJ3aXRoQ3JlZGVudGlhbHNcIlxuICogICAgICAgcHJvcGVydHkgb2YgYW4gWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LiBVc2VkIGluIHRoZSBicm93c2VyIGVudmlyb25tZW50XG4gKiAgICAgICBvbmx5LiBEZWZhdWx0cyB0byBmYWxzZS5cbiAqIEAhYXR0cmlidXRlIGxvZ2dlclxuICogICBAcmV0dXJuIFsjd3JpdGUsI2xvZ10gYW4gb2JqZWN0IHRoYXQgcmVzcG9uZHMgdG8gLndyaXRlKCkgKGxpa2UgYSBzdHJlYW0pXG4gKiAgICAgb3IgLmxvZygpIChsaWtlIHRoZSBjb25zb2xlIG9iamVjdCkgaW4gb3JkZXIgdG8gbG9nIGluZm9ybWF0aW9uIGFib3V0XG4gKiAgICAgcmVxdWVzdHNcbiAqXG4gKiBAIWF0dHJpYnV0ZSBzeXN0ZW1DbG9ja09mZnNldFxuICogICBAcmV0dXJuIFtOdW1iZXJdIGFuIG9mZnNldCB2YWx1ZSBpbiBtaWxsaXNlY29uZHMgdG8gYXBwbHkgdG8gYWxsIHNpZ25pbmdcbiAqICAgICB0aW1lcy4gVXNlIHRoaXMgdG8gY29tcGVuc2F0ZSBmb3IgY2xvY2sgc2tldyB3aGVuIHlvdXIgc3lzdGVtIG1heSBiZVxuICogICAgIG91dCBvZiBzeW5jIHdpdGggdGhlIHNlcnZpY2UgdGltZS4gTm90ZSB0aGF0IHRoaXMgY29uZmlndXJhdGlvbiBvcHRpb25cbiAqICAgICBjYW4gb25seSBiZSBhcHBsaWVkIHRvIHRoZSBnbG9iYWwgYEFXUy5jb25maWdgIG9iamVjdCBhbmQgY2Fubm90IGJlXG4gKiAgICAgb3ZlcnJpZGRlbiBpbiBzZXJ2aWNlLXNwZWNpZmljIGNvbmZpZ3VyYXRpb24uIERlZmF1bHRzIHRvIDAgbWlsbGlzZWNvbmRzLlxuICpcbiAqIEAhYXR0cmlidXRlIHNpZ25hdHVyZVZlcnNpb25cbiAqICAgQHJldHVybiBbU3RyaW5nXSB0aGUgc2lnbmF0dXJlIHZlcnNpb24gdG8gc2lnbiByZXF1ZXN0cyB3aXRoIChvdmVycmlkaW5nXG4gKiAgICAgdGhlIEFQSSBjb25maWd1cmF0aW9uKS4gUG9zc2libGUgdmFsdWVzIGFyZTogJ3YyJywgJ3YzJywgJ3Y0Jy5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBzaWduYXR1cmVDYWNoZVxuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRoZSBzaWduYXR1cmUgdG8gc2lnbiByZXF1ZXN0cyB3aXRoIChvdmVycmlkaW5nXG4gKiAgICAgdGhlIEFQSSBjb25maWd1cmF0aW9uKSBpcyBjYWNoZWQuIE9ubHkgYXBwbGllcyB0byB0aGUgc2lnbmF0dXJlIHZlcnNpb24gJ3Y0Jy5cbiAqICAgICBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKlxuICogQCFhdHRyaWJ1dGUgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkXG4gKiAgIEByZXR1cm4gW0Jvb2xlYW58dW5kZWZpbmVkXSB3aGV0aGVyIHRvIGNhbGwgb3BlcmF0aW9ucyB3aXRoIGVuZHBvaW50c1xuICogICAgIGdpdmVuIGJ5IHNlcnZpY2UgZHluYW1pY2FsbHkuIFNldHRpbmcgdGhpcyBjb25maWcgdG8gYHRydWVgIHdpbGwgZW5hYmxlXG4gKiAgICAgZW5kcG9pbnQgZGlzY292ZXJ5IGZvciBhbGwgYXBwbGljYWJsZSBvcGVyYXRpb25zLiBTZXR0aW5nIGl0IHRvIGBmYWxzZWBcbiAqICAgICB3aWxsIGV4cGxpY2l0bHkgZGlzYWJsZSBlbmRwb2ludCBkaXNjb3ZlcnkgZXZlbiB0aG91Z2ggb3BlcmF0aW9ucyB0aGF0XG4gKiAgICAgcmVxdWlyZSBlbmRwb2ludCBkaXNjb3Zlcnkgd2lsbCBwcmVzdW1hYmx5IGZhaWwuIExlYXZpbmcgaXQgdG9cbiAqICAgICBgdW5kZWZpbmVkYCBtZWFucyBTREsgb25seSBkbyBlbmRwb2ludCBkaXNjb3Zlcnkgd2hlbiBpdCdzIHJlcXVpcmVkLlxuICogICAgIERlZmF1bHRzIHRvIGB1bmRlZmluZWRgXG4gKlxuICogQCFhdHRyaWJ1dGUgZW5kcG9pbnRDYWNoZVNpemVcbiAqICAgQHJldHVybiBbTnVtYmVyXSB0aGUgc2l6ZSBvZiB0aGUgZ2xvYmFsIGNhY2hlIHN0b3JpbmcgZW5kcG9pbnRzIGZyb20gZW5kcG9pbnRcbiAqICAgICBkaXNjb3Zlcnkgb3BlcmF0aW9ucy4gT25jZSBlbmRwb2ludCBjYWNoZSBpcyBjcmVhdGVkLCB1cGRhdGluZyB0aGlzIHNldHRpbmdcbiAqICAgICBjYW5ub3QgY2hhbmdlIGV4aXN0aW5nIGNhY2hlIHNpemUuXG4gKiAgICAgRGVmYXVsdHMgdG8gMTAwMFxuICpcbiAqIEAhYXR0cmlidXRlIGhvc3RQcmVmaXhFbmFibGVkXG4gKiAgIEByZXR1cm4gW0Jvb2xlYW5dIHdoZXRoZXIgdG8gbWFyc2hhbCByZXF1ZXN0IHBhcmFtZXRlcnMgdG8gdGhlIHByZWZpeCBvZlxuICogICAgIGhvc3RuYW1lLiBEZWZhdWx0cyB0byBgdHJ1ZWAuXG4gKlxuICogQCFhdHRyaWJ1dGUgc3RzUmVnaW9uYWxFbmRwb2ludHNcbiAqICAgQHJldHVybiBbJ2xlZ2FjeSd8J3JlZ2lvbmFsJ10gd2hldGhlciB0byBzZW5kIHN0cyByZXF1ZXN0IHRvIGdsb2JhbCBlbmRwb2ludHMgb3JcbiAqICAgICByZWdpb25hbCBlbmRwb2ludHMuXG4gKiAgICAgRGVmYXVsdHMgdG8gJ2xlZ2FjeScuXG4gKlxuICogQCFhdHRyaWJ1dGUgdXNlRmlwc0VuZHBvaW50XG4gKiAgIEByZXR1cm4gW0Jvb2xlYW5dIEVuYWJsZXMgRklQUyBjb21wYXRpYmxlIGVuZHBvaW50cy4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSB1c2VEdWFsc3RhY2tFbmRwb2ludFxuICogICBAcmV0dXJuIFtCb29sZWFuXSBFbmFibGVzIElQdjYgZHVhbHN0YWNrIGVuZHBvaW50LiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICovXG5BV1MuQ29uZmlnID0gQVdTLnV0aWwuaW5oZXJpdCh7XG4gIC8qKlxuICAgKiBAIWVuZGdyb3VwXG4gICAqL1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBUaGlzIGlzIHRoZSBvYmplY3QgdGhhdCBwYXNzZXNcbiAgICogb3B0aW9uIGRhdGEgYWxvbmcgdG8gc2VydmljZSByZXF1ZXN0cywgaW5jbHVkaW5nIGNyZWRlbnRpYWxzLCBzZWN1cml0eSxcbiAgICogcmVnaW9uIGluZm9ybWF0aW9uLCBhbmQgc29tZSBzZXJ2aWNlIHNwZWNpZmljIHNldHRpbmdzLlxuICAgKlxuICAgKiBAZXhhbXBsZSBDcmVhdGluZyBhIG5ldyBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIGNyZWRlbnRpYWxzIGFuZCByZWdpb25cbiAgICogICB2YXIgY29uZmlnID0gbmV3IEFXUy5Db25maWcoe1xuICAgKiAgICAgYWNjZXNzS2V5SWQ6ICdBS0lEJywgc2VjcmV0QWNjZXNzS2V5OiAnU0VDUkVUJywgcmVnaW9uOiAndXMtd2VzdC0yJ1xuICAgKiAgIH0pO1xuICAgKiBAb3B0aW9uIG9wdGlvbnMgYWNjZXNzS2V5SWQgW1N0cmluZ10geW91ciBBV1MgYWNjZXNzIGtleSBJRC5cbiAgICogQG9wdGlvbiBvcHRpb25zIHNlY3JldEFjY2Vzc0tleSBbU3RyaW5nXSB5b3VyIEFXUyBzZWNyZXQgYWNjZXNzIGtleS5cbiAgICogQG9wdGlvbiBvcHRpb25zIHNlc3Npb25Ub2tlbiBbQVdTLkNyZWRlbnRpYWxzXSB0aGUgb3B0aW9uYWwgQVdTXG4gICAqICAgc2Vzc2lvbiB0b2tlbiB0byBzaWduIHJlcXVlc3RzIHdpdGguXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjcmVkZW50aWFscyBbQVdTLkNyZWRlbnRpYWxzXSB0aGUgQVdTIGNyZWRlbnRpYWxzXG4gICAqICAgdG8gc2lnbiByZXF1ZXN0cyB3aXRoLiBZb3UgY2FuIGVpdGhlciBzcGVjaWZ5IHRoaXMgb2JqZWN0LCBvclxuICAgKiAgIHNwZWNpZnkgdGhlIGFjY2Vzc0tleUlkIGFuZCBzZWNyZXRBY2Nlc3NLZXkgb3B0aW9ucyBkaXJlY3RseS5cbiAgICogQG9wdGlvbiBvcHRpb25zIGNyZWRlbnRpYWxQcm92aWRlciBbQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluXSB0aGVcbiAgICogICBwcm92aWRlciBjaGFpbiB1c2VkIHRvIHJlc29sdmUgY3JlZGVudGlhbHMgaWYgbm8gc3RhdGljIGBjcmVkZW50aWFsc2BcbiAgICogICBwcm9wZXJ0eSBpcyBzZXQuXG4gICAqIEBvcHRpb24gb3B0aW9ucyByZWdpb24gW1N0cmluZ10gdGhlIHJlZ2lvbiB0byBzZW5kIHNlcnZpY2UgcmVxdWVzdHMgdG8uXG4gICAqICAgU2VlIHtyZWdpb259IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgbWF4UmV0cmllcyBbSW50ZWdlcl0gdGhlIG1heGltdW0gYW1vdW50IG9mIHJldHJpZXMgdG9cbiAgICogICBhdHRlbXB0IHdpdGggYSByZXF1ZXN0LiBTZWUge21heFJldHJpZXN9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgbWF4UmVkaXJlY3RzIFtJbnRlZ2VyXSB0aGUgbWF4aW11bSBhbW91bnQgb2YgcmVkaXJlY3RzIHRvXG4gICAqICAgZm9sbG93IHdpdGggYSByZXF1ZXN0LiBTZWUge21heFJlZGlyZWN0c30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAqIEBvcHRpb24gb3B0aW9ucyBzc2xFbmFibGVkIFtCb29sZWFuXSB3aGV0aGVyIHRvIGVuYWJsZSBTU0wgZm9yXG4gICAqICAgcmVxdWVzdHMuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBwYXJhbVZhbGlkYXRpb24gW0Jvb2xlYW58bWFwXSB3aGV0aGVyIGlucHV0IHBhcmFtZXRlcnNcbiAgICogICBzaG91bGQgYmUgdmFsaWRhdGVkIGFnYWluc3QgdGhlIG9wZXJhdGlvbiBkZXNjcmlwdGlvbiBiZWZvcmUgc2VuZGluZ1xuICAgKiAgIHRoZSByZXF1ZXN0LiBEZWZhdWx0cyB0byB0cnVlLiBQYXNzIGEgbWFwIHRvIGVuYWJsZSBhbnkgb2YgdGhlXG4gICAqICAgZm9sbG93aW5nIHNwZWNpZmljIHZhbGlkYXRpb24gZmVhdHVyZXM6XG4gICAqXG4gICAqICAgKiAqKm1pbioqIFtCb29sZWFuXSAmbWRhc2g7IFZhbGlkYXRlcyB0aGF0IGEgdmFsdWUgbWVldHMgdGhlIG1pblxuICAgKiAgICAgY29uc3RyYWludC4gVGhpcyBpcyBlbmFibGVkIGJ5IGRlZmF1bHQgd2hlbiBwYXJhbVZhbGlkYXRpb24gaXMgc2V0XG4gICAqICAgICB0byBgdHJ1ZWAuXG4gICAqICAgKiAqKm1heCoqIFtCb29sZWFuXSAmbWRhc2g7IFZhbGlkYXRlcyB0aGF0IGEgdmFsdWUgbWVldHMgdGhlIG1heFxuICAgKiAgICAgY29uc3RyYWludC5cbiAgICogICAqICoqcGF0dGVybioqIFtCb29sZWFuXSAmbWRhc2g7IFZhbGlkYXRlcyB0aGF0IGEgc3RyaW5nIHZhbHVlIG1hdGNoZXMgYVxuICAgKiAgICAgcmVndWxhciBleHByZXNzaW9uLlxuICAgKiAgICogKiplbnVtKiogW0Jvb2xlYW5dICZtZGFzaDsgVmFsaWRhdGVzIHRoYXQgYSBzdHJpbmcgdmFsdWUgbWF0Y2hlcyBvbmVcbiAgICogICAgIG9mIHRoZSBhbGxvd2FibGUgZW51bSB2YWx1ZXMuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjb21wdXRlQ2hlY2tzdW1zIFtCb29sZWFuXSB3aGV0aGVyIHRvIGNvbXB1dGUgY2hlY2tzdW1zXG4gICAqICAgZm9yIHBheWxvYWQgYm9kaWVzIHdoZW4gdGhlIHNlcnZpY2UgYWNjZXB0cyBpdCAoY3VycmVudGx5IHN1cHBvcnRlZFxuICAgKiAgIGluIFMzIG9ubHkpXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjb252ZXJ0UmVzcG9uc2VUeXBlcyBbQm9vbGVhbl0gd2hldGhlciB0eXBlcyBhcmUgY29udmVydGVkXG4gICAqICAgICB3aGVuIHBhcnNpbmcgcmVzcG9uc2UgZGF0YS4gQ3VycmVudGx5IG9ubHkgc3VwcG9ydGVkIGZvciBKU09OIGJhc2VkXG4gICAqICAgICBzZXJ2aWNlcy4gVHVybmluZyB0aGlzIG9mZiBtYXkgaW1wcm92ZSBwZXJmb3JtYW5jZSBvbiBsYXJnZSByZXNwb25zZVxuICAgKiAgICAgcGF5bG9hZHMuIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICogQG9wdGlvbiBvcHRpb25zIGNvcnJlY3RDbG9ja1NrZXcgW0Jvb2xlYW5dIHdoZXRoZXIgdG8gYXBwbHkgYSBjbG9jayBza2V3XG4gICAqICAgICBjb3JyZWN0aW9uIGFuZCByZXRyeSByZXF1ZXN0cyB0aGF0IGZhaWwgYmVjYXVzZSBvZiBhbiBza2V3ZWQgY2xpZW50XG4gICAqICAgICBjbG9jay4gRGVmYXVsdHMgdG8gYGZhbHNlYC5cbiAgICogQG9wdGlvbiBvcHRpb25zIHMzRm9yY2VQYXRoU3R5bGUgW0Jvb2xlYW5dIHdoZXRoZXIgdG8gZm9yY2UgcGF0aFxuICAgKiAgIHN0eWxlIFVSTHMgZm9yIFMzIG9iamVjdHMuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBzM0J1Y2tldEVuZHBvaW50IFtCb29sZWFuXSB3aGV0aGVyIHRoZSBwcm92aWRlZCBlbmRwb2ludFxuICAgKiAgIGFkZHJlc3NlcyBhbiBpbmRpdmlkdWFsIGJ1Y2tldCAoZmFsc2UgaWYgaXQgYWRkcmVzc2VzIHRoZSByb290IEFQSVxuICAgKiAgIGVuZHBvaW50KS4gTm90ZSB0aGF0IHNldHRpbmcgdGhpcyBjb25maWd1cmF0aW9uIG9wdGlvbiByZXF1aXJlcyBhblxuICAgKiAgIGBlbmRwb2ludGAgdG8gYmUgcHJvdmlkZWQgZXhwbGljaXRseSB0byB0aGUgc2VydmljZSBjb25zdHJ1Y3Rvci5cbiAgICogQG9wdGlvbiBvcHRpb25zIHMzRGlzYWJsZUJvZHlTaWduaW5nIFtCb29sZWFuXSB3aGV0aGVyIFMzIGJvZHkgc2lnbmluZ1xuICAgKiAgIHNob3VsZCBiZSBkaXNhYmxlZCB3aGVuIHVzaW5nIHNpZ25hdHVyZSB2ZXJzaW9uIGB2NGAuIEJvZHkgc2lnbmluZ1xuICAgKiAgIGNhbiBvbmx5IGJlIGRpc2FibGVkIHdoZW4gdXNpbmcgaHR0cHMuIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICogQG9wdGlvbiBvcHRpb25zIHMzVXNFYXN0MVJlZ2lvbmFsRW5kcG9pbnQgWydsZWdhY3knfCdyZWdpb25hbCddIHdoZW4gcmVnaW9uXG4gICAqICAgaXMgc2V0IHRvICd1cy1lYXN0LTEnLCB3aGV0aGVyIHRvIHNlbmQgczMgcmVxdWVzdCB0byBnbG9iYWwgZW5kcG9pbnRzIG9yXG4gICAqICAgJ3VzLWVhc3QtMScgcmVnaW9uYWwgZW5kcG9pbnRzLiBUaGlzIGNvbmZpZyBpcyBvbmx5IGFwcGxpY2FibGUgdG8gUzMgY2xpZW50LlxuICAgKiAgIERlZmF1bHRzIHRvIGBsZWdhY3lgXG4gICAqIEBvcHRpb24gb3B0aW9ucyBzM1VzZUFyblJlZ2lvbiBbQm9vbGVhbl0gd2hldGhlciB0byBvdmVycmlkZSB0aGUgcmVxdWVzdCByZWdpb25cbiAgICogICB3aXRoIHRoZSByZWdpb24gaW5mZXJyZWQgZnJvbSByZXF1ZXN0ZWQgcmVzb3VyY2UncyBBUk4uIE9ubHkgYXZhaWxhYmxlIGZvciBTMyBidWNrZXRzXG4gICAqICAgRGVmYXVsdHMgdG8gYHRydWVgXG4gICAqXG4gICAqIEBvcHRpb24gb3B0aW9ucyByZXRyeURlbGF5T3B0aW9ucyBbbWFwXSBBIHNldCBvZiBvcHRpb25zIHRvIGNvbmZpZ3VyZVxuICAgKiAgIHRoZSByZXRyeSBkZWxheSBvbiByZXRyeWFibGUgZXJyb3JzLiBDdXJyZW50bHkgc3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICAgKlxuICAgKiAgICogKipiYXNlKiogW0ludGVnZXJdICZtZGFzaDsgVGhlIGJhc2UgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB1c2UgaW4gdGhlXG4gICAqICAgICBleHBvbmVudGlhbCBiYWNrb2ZmIGZvciBvcGVyYXRpb24gcmV0cmllcy4gRGVmYXVsdHMgdG8gMTAwIG1zIGZvciBhbGxcbiAgICogICAgIHNlcnZpY2VzIGV4Y2VwdCBEeW5hbW9EQiwgd2hlcmUgaXQgZGVmYXVsdHMgdG8gNTBtcy5cbiAgICogICAqICoqY3VzdG9tQmFja29mZiAqKiBbZnVuY3Rpb25dICZtZGFzaDsgQSBjdXN0b20gZnVuY3Rpb24gdGhhdCBhY2NlcHRzIGFcbiAgICogICAgIHJldHJ5IGNvdW50IGFuZCBlcnJvciBhbmQgcmV0dXJucyB0aGUgYW1vdW50IG9mIHRpbWUgdG8gZGVsYXkgaW5cbiAgICogICAgIG1pbGxpc2Vjb25kcy4gSWYgdGhlIHJlc3VsdCBpcyBhIG5vbi16ZXJvIG5lZ2F0aXZlIHZhbHVlLCBubyBmdXJ0aGVyXG4gICAqICAgICByZXRyeSBhdHRlbXB0cyB3aWxsIGJlIG1hZGUuIFRoZSBgYmFzZWAgb3B0aW9uIHdpbGwgYmUgaWdub3JlZCBpZiB0aGlzXG4gICAqICAgICBvcHRpb24gaXMgc3VwcGxpZWQuIFRoZSBmdW5jdGlvbiBpcyBvbmx5IGNhbGxlZCBmb3IgcmV0cnlhYmxlIGVycm9ycy5cbiAgICogQG9wdGlvbiBvcHRpb25zIGh0dHBPcHRpb25zIFttYXBdIEEgc2V0IG9mIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgbG93LWxldmVsXG4gICAqICAgSFRUUCByZXF1ZXN0LiBDdXJyZW50bHkgc3VwcG9ydGVkIG9wdGlvbnMgYXJlOlxuICAgKlxuICAgKiAgICogKipwcm94eSoqIFtTdHJpbmddICZtZGFzaDsgdGhlIFVSTCB0byBwcm94eSByZXF1ZXN0cyB0aHJvdWdoXG4gICAqICAgKiAqKmFnZW50KiogW2h0dHAuQWdlbnQsIGh0dHBzLkFnZW50XSAmbWRhc2g7IHRoZSBBZ2VudCBvYmplY3QgdG8gcGVyZm9ybVxuICAgKiAgICAgSFRUUCByZXF1ZXN0cyB3aXRoLiBVc2VkIGZvciBjb25uZWN0aW9uIHBvb2xpbmcuIERlZmF1bHRzIHRvIHRoZSBnbG9iYWxcbiAgICogICAgIGFnZW50IChgaHR0cC5nbG9iYWxBZ2VudGApIGZvciBub24tU1NMIGNvbm5lY3Rpb25zLiBOb3RlIHRoYXQgZm9yXG4gICAqICAgICBTU0wgY29ubmVjdGlvbnMsIGEgc3BlY2lhbCBBZ2VudCBvYmplY3QgaXMgdXNlZCBpbiBvcmRlciB0byBlbmFibGVcbiAgICogICAgIHBlZXIgY2VydGlmaWNhdGUgdmVyaWZpY2F0aW9uLiBUaGlzIGZlYXR1cmUgaXMgb25seSBhdmFpbGFibGUgaW4gdGhlXG4gICAqICAgICBOb2RlLmpzIGVudmlyb25tZW50LlxuICAgKiAgICogKipjb25uZWN0VGltZW91dCoqIFtJbnRlZ2VyXSAmbWRhc2g7IFNldHMgdGhlIHNvY2tldCB0byB0aW1lb3V0IGFmdGVyXG4gICAqICAgICBmYWlsaW5nIHRvIGVzdGFibGlzaCBhIGNvbm5lY3Rpb24gd2l0aCB0aGUgc2VydmVyIGFmdGVyXG4gICAqICAgICBgY29ubmVjdFRpbWVvdXRgIG1pbGxpc2Vjb25kcy4gVGhpcyB0aW1lb3V0IGhhcyBubyBlZmZlY3Qgb25jZSBhIHNvY2tldFxuICAgKiAgICAgY29ubmVjdGlvbiBoYXMgYmVlbiBlc3RhYmxpc2hlZC5cbiAgICogICAqICoqdGltZW91dCoqIFtJbnRlZ2VyXSAmbWRhc2g7IFNldHMgdGhlIHNvY2tldCB0byB0aW1lb3V0IGFmdGVyIHRpbWVvdXRcbiAgICogICAgIG1pbGxpc2Vjb25kcyBvZiBpbmFjdGl2aXR5IG9uIHRoZSBzb2NrZXQuIERlZmF1bHRzIHRvIHR3byBtaW51dGVzXG4gICAqICAgICAoMTIwMDAwKS5cbiAgICogICAqICoqeGhyQXN5bmMqKiBbQm9vbGVhbl0gJm1kYXNoOyBXaGV0aGVyIHRoZSBTREsgd2lsbCBzZW5kIGFzeW5jaHJvbm91c1xuICAgKiAgICAgSFRUUCByZXF1ZXN0cy4gVXNlZCBpbiB0aGUgYnJvd3NlciBlbnZpcm9ubWVudCBvbmx5LiBTZXQgdG8gZmFsc2UgdG9cbiAgICogICAgIHNlbmQgcmVxdWVzdHMgc3luY2hyb25vdXNseS4gRGVmYXVsdHMgdG8gdHJ1ZSAoYXN5bmMgb24pLlxuICAgKiAgICogKip4aHJXaXRoQ3JlZGVudGlhbHMqKiBbQm9vbGVhbl0gJm1kYXNoOyBTZXRzIHRoZSBcIndpdGhDcmVkZW50aWFsc1wiXG4gICAqICAgICBwcm9wZXJ0eSBvZiBhbiBYTUxIdHRwUmVxdWVzdCBvYmplY3QuIFVzZWQgaW4gdGhlIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICogICAgIG9ubHkuIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgYXBpVmVyc2lvbiBbU3RyaW5nLCBEYXRlXSBhIFN0cmluZyBpbiBZWVlZLU1NLUREIGZvcm1hdFxuICAgKiAgIChvciBhIGRhdGUpIHRoYXQgcmVwcmVzZW50cyB0aGUgbGF0ZXN0IHBvc3NpYmxlIEFQSSB2ZXJzaW9uIHRoYXQgY2FuIGJlXG4gICAqICAgdXNlZCBpbiBhbGwgc2VydmljZXMgKHVubGVzcyBvdmVycmlkZGVuIGJ5IGBhcGlWZXJzaW9uc2ApLiBTcGVjaWZ5XG4gICAqICAgJ2xhdGVzdCcgdG8gdXNlIHRoZSBsYXRlc3QgcG9zc2libGUgdmVyc2lvbi5cbiAgICogQG9wdGlvbiBvcHRpb25zIGFwaVZlcnNpb25zIFttYXA8U3RyaW5nLCBTdHJpbmd8RGF0ZT5dIGEgbWFwIG9mIHNlcnZpY2VcbiAgICogICBpZGVudGlmaWVycyAodGhlIGxvd2VyY2FzZSBzZXJ2aWNlIGNsYXNzIG5hbWUpIHdpdGggdGhlIEFQSSB2ZXJzaW9uIHRvXG4gICAqICAgdXNlIHdoZW4gaW5zdGFudGlhdGluZyBhIHNlcnZpY2UuIFNwZWNpZnkgJ2xhdGVzdCcgZm9yIGVhY2ggaW5kaXZpZHVhbFxuICAgKiAgIHRoYXQgY2FuIHVzZSB0aGUgbGF0ZXN0IGF2YWlsYWJsZSB2ZXJzaW9uLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgbG9nZ2VyIFsjd3JpdGUsI2xvZ10gYW4gb2JqZWN0IHRoYXQgcmVzcG9uZHMgdG8gLndyaXRlKClcbiAgICogICAobGlrZSBhIHN0cmVhbSkgb3IgLmxvZygpIChsaWtlIHRoZSBjb25zb2xlIG9iamVjdCkgaW4gb3JkZXIgdG8gbG9nXG4gICAqICAgaW5mb3JtYXRpb24gYWJvdXQgcmVxdWVzdHNcbiAgICogQG9wdGlvbiBvcHRpb25zIHN5c3RlbUNsb2NrT2Zmc2V0IFtOdW1iZXJdIGFuIG9mZnNldCB2YWx1ZSBpbiBtaWxsaXNlY29uZHNcbiAgICogICB0byBhcHBseSB0byBhbGwgc2lnbmluZyB0aW1lcy4gVXNlIHRoaXMgdG8gY29tcGVuc2F0ZSBmb3IgY2xvY2sgc2tld1xuICAgKiAgIHdoZW4geW91ciBzeXN0ZW0gbWF5IGJlIG91dCBvZiBzeW5jIHdpdGggdGhlIHNlcnZpY2UgdGltZS4gTm90ZSB0aGF0XG4gICAqICAgdGhpcyBjb25maWd1cmF0aW9uIG9wdGlvbiBjYW4gb25seSBiZSBhcHBsaWVkIHRvIHRoZSBnbG9iYWwgYEFXUy5jb25maWdgXG4gICAqICAgb2JqZWN0IGFuZCBjYW5ub3QgYmUgb3ZlcnJpZGRlbiBpbiBzZXJ2aWNlLXNwZWNpZmljIGNvbmZpZ3VyYXRpb24uXG4gICAqICAgRGVmYXVsdHMgdG8gMCBtaWxsaXNlY29uZHMuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBzaWduYXR1cmVWZXJzaW9uIFtTdHJpbmddIHRoZSBzaWduYXR1cmUgdmVyc2lvbiB0byBzaWduXG4gICAqICAgcmVxdWVzdHMgd2l0aCAob3ZlcnJpZGluZyB0aGUgQVBJIGNvbmZpZ3VyYXRpb24pLiBQb3NzaWJsZSB2YWx1ZXMgYXJlOlxuICAgKiAgICd2MicsICd2MycsICd2NCcuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBzaWduYXR1cmVDYWNoZSBbQm9vbGVhbl0gd2hldGhlciB0aGUgc2lnbmF0dXJlIHRvIHNpZ25cbiAgICogICByZXF1ZXN0cyB3aXRoIChvdmVycmlkaW5nIHRoZSBBUEkgY29uZmlndXJhdGlvbikgaXMgY2FjaGVkLiBPbmx5IGFwcGxpZXNcbiAgICogICB0byB0aGUgc2lnbmF0dXJlIHZlcnNpb24gJ3Y0Jy4gRGVmYXVsdHMgdG8gYHRydWVgLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgZHluYW1vRGJDcmMzMiBbQm9vbGVhbl0gd2hldGhlciB0byB2YWxpZGF0ZSB0aGUgQ1JDMzJcbiAgICogICBjaGVja3N1bSBvZiBIVFRQIHJlc3BvbnNlIGJvZGllcyByZXR1cm5lZCBieSBEeW5hbW9EQi4gRGVmYXVsdDogYHRydWVgLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgdXNlQWNjZWxlcmF0ZUVuZHBvaW50IFtCb29sZWFuXSBXaGV0aGVyIHRvIHVzZSB0aGVcbiAgICogICBTMyBUcmFuc2ZlciBBY2NlbGVyYXRpb24gZW5kcG9pbnQgd2l0aCB0aGUgUzMgc2VydmljZS4gRGVmYXVsdDogYGZhbHNlYC5cbiAgICogQG9wdGlvbiBvcHRpb25zIGNsaWVudFNpZGVNb25pdG9yaW5nIFtCb29sZWFuXSB3aGV0aGVyIHRvIGNvbGxlY3QgYW5kXG4gICAqICAgcHVibGlzaCB0aGlzIGNsaWVudCdzIHBlcmZvcm1hbmNlIG1ldHJpY3Mgb2YgYWxsIGl0cyBBUEkgcmVxdWVzdHMuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQgW0Jvb2xlYW58dW5kZWZpbmVkXSB3aGV0aGVyIHRvXG4gICAqICAgY2FsbCBvcGVyYXRpb25zIHdpdGggZW5kcG9pbnRzIGdpdmVuIGJ5IHNlcnZpY2UgZHluYW1pY2FsbHkuIFNldHRpbmcgdGhpc1xuICAgKiBjb25maWcgdG8gYHRydWVgIHdpbGwgZW5hYmxlIGVuZHBvaW50IGRpc2NvdmVyeSBmb3IgYWxsIGFwcGxpY2FibGUgb3BlcmF0aW9ucy5cbiAgICogICBTZXR0aW5nIGl0IHRvIGBmYWxzZWAgd2lsbCBleHBsaWNpdGx5IGRpc2FibGUgZW5kcG9pbnQgZGlzY292ZXJ5IGV2ZW4gdGhvdWdoXG4gICAqICAgb3BlcmF0aW9ucyB0aGF0IHJlcXVpcmUgZW5kcG9pbnQgZGlzY292ZXJ5IHdpbGwgcHJlc3VtYWJseSBmYWlsLiBMZWF2aW5nIGl0XG4gICAqICAgdG8gYHVuZGVmaW5lZGAgbWVhbnMgU0RLIHdpbGwgb25seSBkbyBlbmRwb2ludCBkaXNjb3Zlcnkgd2hlbiBpdCdzIHJlcXVpcmVkLlxuICAgKiAgIERlZmF1bHRzIHRvIGB1bmRlZmluZWRgXG4gICAqIEBvcHRpb24gb3B0aW9ucyBlbmRwb2ludENhY2hlU2l6ZSBbTnVtYmVyXSB0aGUgc2l6ZSBvZiB0aGUgZ2xvYmFsIGNhY2hlIHN0b3JpbmdcbiAgICogICBlbmRwb2ludHMgZnJvbSBlbmRwb2ludCBkaXNjb3Zlcnkgb3BlcmF0aW9ucy4gT25jZSBlbmRwb2ludCBjYWNoZSBpcyBjcmVhdGVkLFxuICAgKiAgIHVwZGF0aW5nIHRoaXMgc2V0dGluZyBjYW5ub3QgY2hhbmdlIGV4aXN0aW5nIGNhY2hlIHNpemUuXG4gICAqICAgRGVmYXVsdHMgdG8gMTAwMFxuICAgKiBAb3B0aW9uIG9wdGlvbnMgaG9zdFByZWZpeEVuYWJsZWQgW0Jvb2xlYW5dIHdoZXRoZXIgdG8gbWFyc2hhbCByZXF1ZXN0XG4gICAqICAgcGFyYW1ldGVycyB0byB0aGUgcHJlZml4IG9mIGhvc3RuYW1lLlxuICAgKiAgIERlZmF1bHRzIHRvIGB0cnVlYC5cbiAgICogQG9wdGlvbiBvcHRpb25zIHN0c1JlZ2lvbmFsRW5kcG9pbnRzIFsnbGVnYWN5J3wncmVnaW9uYWwnXSB3aGV0aGVyIHRvIHNlbmQgc3RzIHJlcXVlc3RcbiAgICogICB0byBnbG9iYWwgZW5kcG9pbnRzIG9yIHJlZ2lvbmFsIGVuZHBvaW50cy5cbiAgICogICBEZWZhdWx0cyB0byAnbGVnYWN5Jy5cbiAgICogQG9wdGlvbiBvcHRpb25zIHVzZUZpcHNFbmRwb2ludCBbQm9vbGVhbl0gRW5hYmxlcyBGSVBTIGNvbXBhdGlibGUgZW5kcG9pbnRzLlxuICAgKiAgIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAqIEBvcHRpb24gb3B0aW9ucyB1c2VEdWFsc3RhY2tFbmRwb2ludCBbQm9vbGVhbl0gRW5hYmxlcyBJUHY2IGR1YWxzdGFjayBlbmRwb2ludC5cbiAgICogICBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIENvbmZpZyhvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHVuZGVmaW5lZCkgb3B0aW9ucyA9IHt9O1xuICAgIG9wdGlvbnMgPSB0aGlzLmV4dHJhY3RDcmVkZW50aWFscyhvcHRpb25zKTtcblxuICAgIEFXUy51dGlsLmVhY2guY2FsbCh0aGlzLCB0aGlzLmtleXMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICB0aGlzLnNldChrZXksIG9wdGlvbnNba2V5XSwgdmFsdWUpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAIWdyb3VwIE1hbmFnaW5nIENyZWRlbnRpYWxzXG4gICAqL1xuXG4gIC8qKlxuICAgKiBMb2FkcyBjcmVkZW50aWFscyBmcm9tIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdC4gVGhpcyBpcyB1c2VkIGludGVybmFsbHlcbiAgICogYnkgdGhlIFNESyB0byBlbnN1cmUgdGhhdCByZWZyZXNoYWJsZSB7Q3JlZGVudGlhbHN9IG9iamVjdHMgYXJlIHByb3Blcmx5XG4gICAqIHJlZnJlc2hlZCBhbmQgbG9hZGVkIHdoZW4gc2VuZGluZyBhIHJlcXVlc3QuIElmIHlvdSB3YW50IHRvIGVuc3VyZSB0aGF0XG4gICAqIHlvdXIgY3JlZGVudGlhbHMgYXJlIGxvYWRlZCBwcmlvciB0byBhIHJlcXVlc3QsIHlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kXG4gICAqIGRpcmVjdGx5IHRvIHByb3ZpZGUgYWNjdXJhdGUgY3JlZGVudGlhbCBkYXRhIHN0b3JlZCBpbiB0aGUgb2JqZWN0LlxuICAgKlxuICAgKiBAbm90ZSBJZiB5b3UgY29uZmlndXJlIHRoZSBTREsgd2l0aCBzdGF0aWMgb3IgZW52aXJvbm1lbnQgY3JlZGVudGlhbHMsXG4gICAqICAgdGhlIGNyZWRlbnRpYWwgZGF0YSBzaG91bGQgYWxyZWFkeSBiZSBwcmVzZW50IGluIHtjcmVkZW50aWFsc30gYXR0cmlidXRlLlxuICAgKiAgIFRoaXMgbWV0aG9kIGlzIHByaW1hcmlseSBuZWNlc3NhcnkgdG8gbG9hZCBjcmVkZW50aWFscyBmcm9tIGFzeW5jaHJvbm91c1xuICAgKiAgIHNvdXJjZXMsIG9yIHNvdXJjZXMgdGhhdCBjYW4gcmVmcmVzaCBjcmVkZW50aWFscyBwZXJpb2RpY2FsbHkuXG4gICAqIEBleGFtcGxlIEdldHRpbmcgeW91ciBhY2Nlc3Mga2V5XG4gICAqICAgQVdTLmNvbmZpZy5nZXRDcmVkZW50aWFscyhmdW5jdGlvbihlcnIpIHtcbiAgICogICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVyci5zdGFjayk7IC8vIGNyZWRlbnRpYWxzIG5vdCBsb2FkZWRcbiAgICogICAgIGVsc2UgY29uc29sZS5sb2coXCJBY2Nlc3MgS2V5OlwiLCBBV1MuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkKTtcbiAgICogICB9KVxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyKVxuICAgKiAgIENhbGxlZCB3aGVuIHRoZSB7Y3JlZGVudGlhbHN9IGhhdmUgYmVlbiBwcm9wZXJseSBzZXQgb24gdGhlIGNvbmZpZ3VyYXRpb25cbiAgICogICBvYmplY3QuXG4gICAqXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIHRoaXMgaXMgc2V0LCBjcmVkZW50aWFscyB3ZXJlIG5vdCBzdWNjZXNzZnVsbHlcbiAgICogICAgIGxvYWRlZCBhbmQgdGhpcyBlcnJvciBwcm92aWRlcyBpbmZvcm1hdGlvbiB3aHkuXG4gICAqIEBzZWUgY3JlZGVudGlhbHNcbiAgICogQHNlZSBDcmVkZW50aWFsc1xuICAgKi9cbiAgZ2V0Q3JlZGVudGlhbHM6IGZ1bmN0aW9uIGdldENyZWRlbnRpYWxzKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZmluaXNoKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyLCBlcnIgPyBudWxsIDogc2VsZi5jcmVkZW50aWFscyk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlZEVycm9yKG1zZywgZXJyKSB7XG4gICAgICByZXR1cm4gbmV3IEFXUy51dGlsLmVycm9yKGVyciB8fCBuZXcgRXJyb3IoKSwge1xuICAgICAgICBjb2RlOiAnQ3JlZGVudGlhbHNFcnJvcicsXG4gICAgICAgIG1lc3NhZ2U6IG1zZyxcbiAgICAgICAgbmFtZTogJ0NyZWRlbnRpYWxzRXJyb3InXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRBc3luY0NyZWRlbnRpYWxzKCkge1xuICAgICAgc2VsZi5jcmVkZW50aWFscy5nZXQoZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICB2YXIgbXNnID0gJ0NvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gJyArXG4gICAgICAgICAgICBzZWxmLmNyZWRlbnRpYWxzLmNvbnN0cnVjdG9yLm5hbWU7XG4gICAgICAgICAgZXJyID0gY3JlZEVycm9yKG1zZywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFN0YXRpY0NyZWRlbnRpYWxzKCkge1xuICAgICAgdmFyIGVyciA9IG51bGw7XG4gICAgICBpZiAoIXNlbGYuY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQgfHwgIXNlbGYuY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5KSB7XG4gICAgICAgIGVyciA9IGNyZWRFcnJvcignTWlzc2luZyBjcmVkZW50aWFscycpO1xuICAgICAgfVxuICAgICAgZmluaXNoKGVycik7XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuY3JlZGVudGlhbHMpIHtcbiAgICAgIGlmICh0eXBlb2Ygc2VsZi5jcmVkZW50aWFscy5nZXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZ2V0QXN5bmNDcmVkZW50aWFscygpO1xuICAgICAgfSBlbHNlIHsgLy8gc3RhdGljIGNyZWRlbnRpYWxzXG4gICAgICAgIGdldFN0YXRpY0NyZWRlbnRpYWxzKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzZWxmLmNyZWRlbnRpYWxQcm92aWRlcikge1xuICAgICAgc2VsZi5jcmVkZW50aWFsUHJvdmlkZXIucmVzb2x2ZShmdW5jdGlvbihlcnIsIGNyZWRzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBlcnIgPSBjcmVkRXJyb3IoJ0NvdWxkIG5vdCBsb2FkIGNyZWRlbnRpYWxzIGZyb20gYW55IHByb3ZpZGVycycsIGVycik7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5jcmVkZW50aWFscyA9IGNyZWRzO1xuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5pc2goY3JlZEVycm9yKCdObyBjcmVkZW50aWFscyB0byBsb2FkJykpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTG9hZHMgdG9rZW4gZnJvbSB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QuIFRoaXMgaXMgdXNlZCBpbnRlcm5hbGx5XG4gICAqIGJ5IHRoZSBTREsgdG8gZW5zdXJlIHRoYXQgcmVmcmVzaGFibGUge1Rva2VufSBvYmplY3RzIGFyZSBwcm9wZXJseVxuICAgKiByZWZyZXNoZWQgYW5kIGxvYWRlZCB3aGVuIHNlbmRpbmcgYSByZXF1ZXN0LiBJZiB5b3Ugd2FudCB0byBlbnN1cmUgdGhhdFxuICAgKiB5b3VyIHRva2VuIGlzIGxvYWRlZCBwcmlvciB0byBhIHJlcXVlc3QsIHlvdSBjYW4gdXNlIHRoaXMgbWV0aG9kXG4gICAqIGRpcmVjdGx5IHRvIHByb3ZpZGUgYWNjdXJhdGUgdG9rZW4gZGF0YSBzdG9yZWQgaW4gdGhlIG9iamVjdC5cbiAgICpcbiAgICogQG5vdGUgSWYgeW91IGNvbmZpZ3VyZSB0aGUgU0RLIHdpdGggc3RhdGljIHRva2VuLCB0aGUgdG9rZW4gZGF0YSBzaG91bGRcbiAgICogICBhbHJlYWR5IGJlIHByZXNlbnQgaW4ge3Rva2VufSBhdHRyaWJ1dGUuIFRoaXMgbWV0aG9kIGlzIHByaW1hcmlseSBuZWNlc3NhcnlcbiAgICogICB0byBsb2FkIHRva2VuIGZyb20gYXN5bmNocm9ub3VzIHNvdXJjZXMsIG9yIHNvdXJjZXMgdGhhdCBjYW4gcmVmcmVzaFxuICAgKiAgIHRva2VuIHBlcmlvZGljYWxseS5cbiAgICogQGV4YW1wbGUgR2V0dGluZyB5b3VyIGFjY2VzcyB0b2tlblxuICAgKiAgIEFXUy5jb25maWcuZ2V0VG9rZW4oZnVuY3Rpb24oZXJyKSB7XG4gICAqICAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIuc3RhY2spOyAvLyB0b2tlbiBub3QgbG9hZGVkXG4gICAqICAgICBlbHNlIGNvbnNvbGUubG9nKFwiVG9rZW46XCIsIEFXUy5jb25maWcudG9rZW4udG9rZW4pO1xuICAgKiAgIH0pXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgQ2FsbGVkIHdoZW4gdGhlIHt0b2tlbn0gaGF2ZSBiZWVuIHByb3Blcmx5IHNldCBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QuXG4gICAqXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIHRoaXMgaXMgc2V0LCB0b2tlbiB3YXMgbm90IHN1Y2Nlc3NmdWxseSBsb2FkZWQgYW5kXG4gICAqICAgICB0aGlzIGVycm9yIHByb3ZpZGVzIGluZm9ybWF0aW9uIHdoeS5cbiAgICogQHNlZSB0b2tlblxuICAgKi9cbiAgZ2V0VG9rZW46IGZ1bmN0aW9uIGdldFRva2VuKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZmluaXNoKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyLCBlcnIgPyBudWxsIDogc2VsZi50b2tlbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9rZW5FcnJvcihtc2csIGVycikge1xuICAgICAgcmV0dXJuIG5ldyBBV1MudXRpbC5lcnJvcihlcnIgfHwgbmV3IEVycm9yKCksIHtcbiAgICAgICAgY29kZTogJ1Rva2VuRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiBtc2csXG4gICAgICAgIG5hbWU6ICdUb2tlbkVycm9yJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0QXN5bmNUb2tlbigpIHtcbiAgICAgIHNlbGYudG9rZW4uZ2V0KGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgdmFyIG1zZyA9ICdDb3VsZCBub3QgbG9hZCB0b2tlbiBmcm9tICcgK1xuICAgICAgICAgICAgc2VsZi50b2tlbi5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgIGVyciA9IHRva2VuRXJyb3IobXNnLCBlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmlzaChlcnIpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0U3RhdGljVG9rZW4oKSB7XG4gICAgICB2YXIgZXJyID0gbnVsbDtcbiAgICAgIGlmICghc2VsZi50b2tlbi50b2tlbikge1xuICAgICAgICBlcnIgPSB0b2tlbkVycm9yKCdNaXNzaW5nIHRva2VuJyk7XG4gICAgICB9XG4gICAgICBmaW5pc2goZXJyKTtcbiAgICB9XG5cbiAgICBpZiAoc2VsZi50b2tlbikge1xuICAgICAgaWYgKHR5cGVvZiBzZWxmLnRva2VuLmdldCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBnZXRBc3luY1Rva2VuKCk7XG4gICAgICB9IGVsc2UgeyAvLyBzdGF0aWMgdG9rZW5cbiAgICAgICAgZ2V0U3RhdGljVG9rZW4oKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNlbGYudG9rZW5Qcm92aWRlcikge1xuICAgICAgc2VsZi50b2tlblByb3ZpZGVyLnJlc29sdmUoZnVuY3Rpb24oZXJyLCB0b2tlbikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZXJyID0gdG9rZW5FcnJvcignQ291bGQgbm90IGxvYWQgdG9rZW4gZnJvbSBhbnkgcHJvdmlkZXJzJywgZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnRva2VuID0gdG9rZW47XG4gICAgICAgIGZpbmlzaChlcnIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmlzaCh0b2tlbkVycm9yKCdObyB0b2tlbiB0byBsb2FkJykpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQCFncm91cCBMb2FkaW5nIGFuZCBTZXR0aW5nIENvbmZpZ3VyYXRpb24gT3B0aW9uc1xuICAgKi9cblxuICAvKipcbiAgICogQG92ZXJsb2FkIHVwZGF0ZShvcHRpb25zLCBhbGxvd1Vua25vd25LZXlzID0gZmFsc2UpXG4gICAqICAgVXBkYXRlcyB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uIG9iamVjdCB3aXRoIG5ldyBvcHRpb25zLlxuICAgKlxuICAgKiAgIEBleGFtcGxlIFVwZGF0ZSBtYXhSZXRyaWVzIHByb3BlcnR5IG9mIGEgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICogICAgIGNvbmZpZy51cGRhdGUoe21heFJldHJpZXM6IDEwfSk7XG4gICAqICAgQHBhcmFtIFtPYmplY3RdIG9wdGlvbnMgYSBtYXAgb2Ygb3B0aW9uIGtleXMgYW5kIHZhbHVlcy5cbiAgICogICBAcGFyYW0gW0Jvb2xlYW5dIGFsbG93VW5rbm93bktleXMgd2hldGhlciB1bmtub3duIGtleXMgY2FuIGJlIHNldCBvblxuICAgKiAgICAgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgKiAgIEBzZWUgY29uc3RydWN0b3JcbiAgICovXG4gIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9wdGlvbnMsIGFsbG93VW5rbm93bktleXMpIHtcbiAgICBhbGxvd1Vua25vd25LZXlzID0gYWxsb3dVbmtub3duS2V5cyB8fCBmYWxzZTtcbiAgICBvcHRpb25zID0gdGhpcy5leHRyYWN0Q3JlZGVudGlhbHMob3B0aW9ucyk7XG4gICAgQVdTLnV0aWwuZWFjaC5jYWxsKHRoaXMsIG9wdGlvbnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoYWxsb3dVbmtub3duS2V5cyB8fCBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5rZXlzLCBrZXkpIHx8XG4gICAgICAgICAgQVdTLlNlcnZpY2UuaGFzU2VydmljZShrZXkpKSB7XG4gICAgICAgIHRoaXMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkcyBjb25maWd1cmF0aW9uIGRhdGEgZnJvbSBhIEpTT04gZmlsZSBpbnRvIHRoaXMgY29uZmlnIG9iamVjdC5cbiAgICogQG5vdGUgTG9hZGluZyBjb25maWd1cmF0aW9uIHdpbGwgcmVzZXQgYWxsIGV4aXN0aW5nIGNvbmZpZ3VyYXRpb25cbiAgICogICBvbiB0aGUgb2JqZWN0LlxuICAgKiBAIW1hY3JvIG5vYnJvd3NlclxuICAgKiBAcGFyYW0gcGF0aCBbU3RyaW5nXSB0aGUgcGF0aCByZWxhdGl2ZSB0byB5b3VyIHByb2Nlc3MncyBjdXJyZW50XG4gICAqICAgIHdvcmtpbmcgZGlyZWN0b3J5IHRvIGxvYWQgY29uZmlndXJhdGlvbiBmcm9tLlxuICAgKiBAcmV0dXJuIFtBV1MuQ29uZmlnXSB0aGUgc2FtZSBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgbG9hZEZyb21QYXRoOiBmdW5jdGlvbiBsb2FkRnJvbVBhdGgocGF0aCkge1xuICAgIHRoaXMuY2xlYXIoKTtcblxuICAgIHZhciBvcHRpb25zID0gSlNPTi5wYXJzZShBV1MudXRpbC5yZWFkRmlsZVN5bmMocGF0aCkpO1xuICAgIHZhciBmaWxlU3lzdGVtQ3JlZHMgPSBuZXcgQVdTLkZpbGVTeXN0ZW1DcmVkZW50aWFscyhwYXRoKTtcbiAgICB2YXIgY2hhaW4gPSBuZXcgQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluKCk7XG4gICAgY2hhaW4ucHJvdmlkZXJzLnVuc2hpZnQoZmlsZVN5c3RlbUNyZWRzKTtcbiAgICBjaGFpbi5yZXNvbHZlKGZ1bmN0aW9uIChlcnIsIGNyZWRzKSB7XG4gICAgICBpZiAoZXJyKSB0aHJvdyBlcnI7XG4gICAgICBlbHNlIG9wdGlvbnMuY3JlZGVudGlhbHMgPSBjcmVkcztcbiAgICB9KTtcblxuICAgIHRoaXMuY29uc3RydWN0b3Iob3B0aW9ucyk7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfSxcblxuICAvKipcbiAgICogQ2xlYXJzIGNvbmZpZ3VyYXRpb24gZGF0YSBvbiB0aGlzIG9iamVjdFxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAvKmpzaGludCBmb3JpbjpmYWxzZSAqL1xuICAgIEFXUy51dGlsLmVhY2guY2FsbCh0aGlzLCB0aGlzLmtleXMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGRlbGV0ZSB0aGlzW2tleV07XG4gICAgfSk7XG5cbiAgICAvLyByZXNldCBjcmVkZW50aWFsIHByb3ZpZGVyXG4gICAgdGhpcy5zZXQoJ2NyZWRlbnRpYWxzJywgdW5kZWZpbmVkKTtcbiAgICB0aGlzLnNldCgnY3JlZGVudGlhbFByb3ZpZGVyJywgdW5kZWZpbmVkKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHByb3BlcnR5IG9uIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdCwgYWxsb3dpbmcgZm9yIGFcbiAgICogZGVmYXVsdCB2YWx1ZVxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNldDogZnVuY3Rpb24gc2V0KHByb3BlcnR5LCB2YWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmIChkZWZhdWx0VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkZWZhdWx0VmFsdWUgPSB0aGlzLmtleXNbcHJvcGVydHldO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1twcm9wZXJ0eV0gPSBkZWZhdWx0VmFsdWUuY2FsbCh0aGlzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAocHJvcGVydHkgPT09ICdodHRwT3B0aW9ucycgJiYgdGhpc1twcm9wZXJ0eV0pIHtcbiAgICAgIC8vIGRlZXAgbWVyZ2UgaHR0cE9wdGlvbnNcbiAgICAgIHRoaXNbcHJvcGVydHldID0gQVdTLnV0aWwubWVyZ2UodGhpc1twcm9wZXJ0eV0sIHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFsbCBvZiB0aGUga2V5cyB3aXRoIHRoZWlyIGRlZmF1bHQgdmFsdWVzLlxuICAgKlxuICAgKiBAY29uc3RhbnRcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBrZXlzOiB7XG4gICAgY3JlZGVudGlhbHM6IG51bGwsXG4gICAgY3JlZGVudGlhbFByb3ZpZGVyOiBudWxsLFxuICAgIHJlZ2lvbjogbnVsbCxcbiAgICBsb2dnZXI6IG51bGwsXG4gICAgYXBpVmVyc2lvbnM6IHt9LFxuICAgIGFwaVZlcnNpb246IG51bGwsXG4gICAgZW5kcG9pbnQ6IHVuZGVmaW5lZCxcbiAgICBodHRwT3B0aW9uczoge1xuICAgICAgdGltZW91dDogMTIwMDAwXG4gICAgfSxcbiAgICBtYXhSZXRyaWVzOiB1bmRlZmluZWQsXG4gICAgbWF4UmVkaXJlY3RzOiAxMCxcbiAgICBwYXJhbVZhbGlkYXRpb246IHRydWUsXG4gICAgc3NsRW5hYmxlZDogdHJ1ZSxcbiAgICBzM0ZvcmNlUGF0aFN0eWxlOiBmYWxzZSxcbiAgICBzM0J1Y2tldEVuZHBvaW50OiBmYWxzZSxcbiAgICBzM0Rpc2FibGVCb2R5U2lnbmluZzogdHJ1ZSxcbiAgICBzM1VzRWFzdDFSZWdpb25hbEVuZHBvaW50OiAnbGVnYWN5JyxcbiAgICBzM1VzZUFyblJlZ2lvbjogdW5kZWZpbmVkLFxuICAgIGNvbXB1dGVDaGVja3N1bXM6IHRydWUsXG4gICAgY29udmVydFJlc3BvbnNlVHlwZXM6IHRydWUsXG4gICAgY29ycmVjdENsb2NrU2tldzogZmFsc2UsXG4gICAgY3VzdG9tVXNlckFnZW50OiBudWxsLFxuICAgIGR5bmFtb0RiQ3JjMzI6IHRydWUsXG4gICAgc3lzdGVtQ2xvY2tPZmZzZXQ6IDAsXG4gICAgc2lnbmF0dXJlVmVyc2lvbjogbnVsbCxcbiAgICBzaWduYXR1cmVDYWNoZTogdHJ1ZSxcbiAgICByZXRyeURlbGF5T3B0aW9uczoge30sXG4gICAgdXNlQWNjZWxlcmF0ZUVuZHBvaW50OiBmYWxzZSxcbiAgICBjbGllbnRTaWRlTW9uaXRvcmluZzogZmFsc2UsXG4gICAgZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkOiB1bmRlZmluZWQsXG4gICAgZW5kcG9pbnRDYWNoZVNpemU6IDEwMDAsXG4gICAgaG9zdFByZWZpeEVuYWJsZWQ6IHRydWUsXG4gICAgc3RzUmVnaW9uYWxFbmRwb2ludHM6ICdsZWdhY3knLFxuICAgIHVzZUZpcHNFbmRwb2ludDogZmFsc2UsXG4gICAgdXNlRHVhbHN0YWNrRW5kcG9pbnQ6IGZhbHNlLFxuICAgIHRva2VuOiBudWxsXG4gIH0sXG5cbiAgLyoqXG4gICAqIEV4dHJhY3RzIGFjY2Vzc0tleUlkLCBzZWNyZXRBY2Nlc3NLZXkgYW5kIHNlc3Npb25Ub2tlblxuICAgKiBmcm9tIGEgY29uZmlndXJhdGlvbiBoYXNoLlxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGV4dHJhY3RDcmVkZW50aWFsczogZnVuY3Rpb24gZXh0cmFjdENyZWRlbnRpYWxzKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5hY2Nlc3NLZXlJZCAmJiBvcHRpb25zLnNlY3JldEFjY2Vzc0tleSkge1xuICAgICAgb3B0aW9ucyA9IEFXUy51dGlsLmNvcHkob3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5DcmVkZW50aWFscyhvcHRpb25zKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNldHMgdGhlIHByb21pc2UgZGVwZW5kZW5jeSB0aGUgU0RLIHdpbGwgdXNlIHdoZXJldmVyIFByb21pc2VzIGFyZSByZXR1cm5lZC5cbiAgICogUGFzc2luZyBgbnVsbGAgd2lsbCBmb3JjZSB0aGUgU0RLIHRvIHVzZSBuYXRpdmUgUHJvbWlzZXMgaWYgdGhleSBhcmUgYXZhaWxhYmxlLlxuICAgKiBJZiBuYXRpdmUgUHJvbWlzZXMgYXJlIG5vdCBhdmFpbGFibGUsIHBhc3NpbmcgYG51bGxgIHdpbGwgaGF2ZSBubyBlZmZlY3QuXG4gICAqIEBwYXJhbSBbQ29uc3RydWN0b3JdIGRlcCBBIHJlZmVyZW5jZSB0byBhIFByb21pc2UgY29uc3RydWN0b3JcbiAgICovXG4gIHNldFByb21pc2VzRGVwZW5kZW5jeTogZnVuY3Rpb24gc2V0UHJvbWlzZXNEZXBlbmRlbmN5KGRlcCkge1xuICAgIFByb21pc2VzRGVwZW5kZW5jeSA9IGRlcDtcbiAgICAvLyBpZiBudWxsIHdhcyBwYXNzZWQgaW4sIHdlIHNob3VsZCB0cnkgdG8gdXNlIG5hdGl2ZSBwcm9taXNlc1xuICAgIGlmIChkZXAgPT09IG51bGwgJiYgdHlwZW9mIFByb21pc2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFByb21pc2VzRGVwZW5kZW5jeSA9IFByb21pc2U7XG4gICAgfVxuICAgIHZhciBjb25zdHJ1Y3RvcnMgPSBbQVdTLlJlcXVlc3QsIEFXUy5DcmVkZW50aWFscywgQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluXTtcbiAgICBpZiAoQVdTLlMzKSB7XG4gICAgICBjb25zdHJ1Y3RvcnMucHVzaChBV1MuUzMpO1xuICAgICAgaWYgKEFXUy5TMy5NYW5hZ2VkVXBsb2FkKSB7XG4gICAgICAgIGNvbnN0cnVjdG9ycy5wdXNoKEFXUy5TMy5NYW5hZ2VkVXBsb2FkKTtcbiAgICAgIH1cbiAgICB9XG4gICAgQVdTLnV0aWwuYWRkUHJvbWlzZXMoY29uc3RydWN0b3JzLCBQcm9taXNlc0RlcGVuZGVuY3kpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSBwcm9taXNlIGRlcGVuZGVuY3kgc2V0IGJ5IGBBV1MuY29uZmlnLnNldFByb21pc2VzRGVwZW5kZW5jeWAuXG4gICAqL1xuICBnZXRQcm9taXNlc0RlcGVuZGVuY3k6IGZ1bmN0aW9uIGdldFByb21pc2VzRGVwZW5kZW5jeSgpIHtcbiAgICByZXR1cm4gUHJvbWlzZXNEZXBlbmRlbmN5O1xuICB9XG59KTtcblxuLyoqXG4gKiBAcmV0dXJuIFtBV1MuQ29uZmlnXSBUaGUgZ2xvYmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0IHNpbmdsZXRvbiBpbnN0YW5jZVxuICogQHJlYWRvbmx5XG4gKiBAc2VlIEFXUy5Db25maWdcbiAqL1xuQVdTLmNvbmZpZyA9IG5ldyBBV1MuQ29uZmlnKCk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4vY29yZScpO1xudmFyIGluaGVyaXQgPSBBV1MudXRpbC5pbmhlcml0O1xuXG4vKipcbiAqIFRoZSBlbmRwb2ludCB0aGF0IGEgc2VydmljZSB3aWxsIHRhbGsgdG8sIGZvciBleGFtcGxlLFxuICogYCdodHRwczovL2VjMi5hcC1zb3V0aGVhc3QtMS5hbWF6b25hd3MuY29tJ2AuIElmXG4gKiB5b3UgbmVlZCB0byBvdmVycmlkZSBhbiBlbmRwb2ludCBmb3IgYSBzZXJ2aWNlLCB5b3UgY2FuXG4gKiBzZXQgdGhlIGVuZHBvaW50IG9uIGEgc2VydmljZSBieSBwYXNzaW5nIHRoZSBlbmRwb2ludFxuICogb2JqZWN0IHdpdGggdGhlIGBlbmRwb2ludGAgb3B0aW9uIGtleTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgZXAgPSBuZXcgQVdTLkVuZHBvaW50KCdhd3Nwcm94eS5leGFtcGxlLmNvbScpO1xuICogdmFyIHMzID0gbmV3IEFXUy5TMyh7ZW5kcG9pbnQ6IGVwfSk7XG4gKiBzMy5zZXJ2aWNlLmVuZHBvaW50Lmhvc3RuYW1lID09ICdhd3Nwcm94eS5leGFtcGxlLmNvbSdcbiAqIGBgYFxuICpcbiAqIE5vdGUgdGhhdCBpZiB5b3UgZG8gbm90IHNwZWNpZnkgYSBwcm90b2NvbCwgdGhlIHByb3RvY29sIHdpbGxcbiAqIGJlIHNlbGVjdGVkIGJhc2VkIG9uIHlvdXIgY3VycmVudCB7QVdTLmNvbmZpZ30gY29uZmlndXJhdGlvbi5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBwcm90b2NvbFxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBwcm90b2NvbCAoaHR0cCBvciBodHRwcykgb2YgdGhlIGVuZHBvaW50XG4gKiAgICAgVVJMXG4gKiBAIWF0dHJpYnV0ZSBob3N0bmFtZVxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBob3N0IHBvcnRpb24gb2YgdGhlIGVuZHBvaW50LCBlLmcuLFxuICogICAgIGV4YW1wbGUuY29tXG4gKiBAIWF0dHJpYnV0ZSBob3N0XG4gKiAgIEByZXR1cm4gW1N0cmluZ10gdGhlIGhvc3QgcG9ydGlvbiBvZiB0aGUgZW5kcG9pbnQgaW5jbHVkaW5nXG4gKiAgICAgdGhlIHBvcnQsIGUuZy4sIGV4YW1wbGUuY29tOjgwXG4gKiBAIWF0dHJpYnV0ZSBwb3J0XG4gKiAgIEByZXR1cm4gW0ludGVnZXJdIHRoZSBwb3J0IG9mIHRoZSBlbmRwb2ludFxuICogQCFhdHRyaWJ1dGUgaHJlZlxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBmdWxsIFVSTCBvZiB0aGUgZW5kcG9pbnRcbiAqL1xuQVdTLkVuZHBvaW50ID0gaW5oZXJpdCh7XG5cbiAgLyoqXG4gICAqIEBvdmVybG9hZCBFbmRwb2ludChlbmRwb2ludClcbiAgICogICBDb25zdHJ1Y3RzIGEgbmV3IGVuZHBvaW50IGdpdmVuIGFuIGVuZHBvaW50IFVSTC4gSWYgdGhlXG4gICAqICAgVVJMIG9taXRzIGEgcHJvdG9jb2wgKGh0dHAgb3IgaHR0cHMpLCB0aGUgZGVmYXVsdCBwcm90b2NvbFxuICAgKiAgIHNldCBpbiB0aGUgZ2xvYmFsIHtBV1MuY29uZmlnfSB3aWxsIGJlIHVzZWQuXG4gICAqICAgQHBhcmFtIGVuZHBvaW50IFtTdHJpbmddIHRoZSBVUkwgdG8gY29uc3RydWN0IGFuIGVuZHBvaW50IGZyb21cbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBFbmRwb2ludChlbmRwb2ludCwgY29uZmlnKSB7XG4gICAgQVdTLnV0aWwuaGlkZVByb3BlcnRpZXModGhpcywgWydzbGFzaGVzJywgJ2F1dGgnLCAnaGFzaCcsICdzZWFyY2gnLCAncXVlcnknXSk7XG5cbiAgICBpZiAodHlwZW9mIGVuZHBvaW50ID09PSAndW5kZWZpbmVkJyB8fCBlbmRwb2ludCA9PT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVuZHBvaW50OiAnICsgZW5kcG9pbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVuZHBvaW50ICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIEFXUy51dGlsLmNvcHkoZW5kcG9pbnQpO1xuICAgIH1cblxuICAgIGlmICghZW5kcG9pbnQubWF0Y2goL15odHRwLykpIHtcbiAgICAgIHZhciB1c2VTU0wgPSBjb25maWcgJiYgY29uZmlnLnNzbEVuYWJsZWQgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgIGNvbmZpZy5zc2xFbmFibGVkIDogQVdTLmNvbmZpZy5zc2xFbmFibGVkO1xuICAgICAgZW5kcG9pbnQgPSAodXNlU1NMID8gJ2h0dHBzJyA6ICdodHRwJykgKyAnOi8vJyArIGVuZHBvaW50O1xuICAgIH1cblxuICAgIEFXUy51dGlsLnVwZGF0ZSh0aGlzLCBBV1MudXRpbC51cmxQYXJzZShlbmRwb2ludCkpO1xuXG4gICAgLy8gRW5zdXJlIHRoZSBwb3J0IHByb3BlcnR5IGlzIHNldCBhcyBhbiBpbnRlZ2VyXG4gICAgaWYgKHRoaXMucG9ydCkge1xuICAgICAgdGhpcy5wb3J0ID0gcGFyc2VJbnQodGhpcy5wb3J0LCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucG9ydCA9IHRoaXMucHJvdG9jb2wgPT09ICdodHRwczonID8gNDQzIDogODA7XG4gICAgfVxuICB9XG5cbn0pO1xuXG4vKipcbiAqIFRoZSBsb3cgbGV2ZWwgSFRUUCByZXF1ZXN0IG9iamVjdCwgZW5jYXBzdWxhdGluZyBhbGwgSFRUUCBoZWFkZXJcbiAqIGFuZCBib2R5IGRhdGEgc2VudCBieSBhIHNlcnZpY2UgcmVxdWVzdC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBtZXRob2RcbiAqICAgQHJldHVybiBbU3RyaW5nXSB0aGUgSFRUUCBtZXRob2Qgb2YgdGhlIHJlcXVlc3RcbiAqIEAhYXR0cmlidXRlIHBhdGhcbiAqICAgQHJldHVybiBbU3RyaW5nXSB0aGUgcGF0aCBwb3J0aW9uIG9mIHRoZSBVUkksIGUuZy4sXG4gKiAgICAgXCIvbGlzdC8/c3RhcnQ9NSZudW09MTBcIlxuICogQCFhdHRyaWJ1dGUgaGVhZGVyc1xuICogICBAcmV0dXJuIFttYXA8U3RyaW5nLFN0cmluZz5dXG4gKiAgICAgYSBtYXAgb2YgaGVhZGVyIGtleXMgYW5kIHRoZWlyIHJlc3BlY3RpdmUgdmFsdWVzXG4gKiBAIWF0dHJpYnV0ZSBib2R5XG4gKiAgIEByZXR1cm4gW1N0cmluZ10gdGhlIHJlcXVlc3QgYm9keSBwYXlsb2FkXG4gKiBAIWF0dHJpYnV0ZSBlbmRwb2ludFxuICogICBAcmV0dXJuIFtBV1MuRW5kcG9pbnRdIHRoZSBlbmRwb2ludCBmb3IgdGhlIHJlcXVlc3RcbiAqIEAhYXR0cmlidXRlIHJlZ2lvblxuICogICBAYXBpIHByaXZhdGVcbiAqICAgQHJldHVybiBbU3RyaW5nXSB0aGUgcmVnaW9uLCBmb3Igc2lnbmluZyBwdXJwb3NlcyBvbmx5LlxuICovXG5BV1MuSHR0cFJlcXVlc3QgPSBpbmhlcml0KHtcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gSHR0cFJlcXVlc3QoZW5kcG9pbnQsIHJlZ2lvbikge1xuICAgIGVuZHBvaW50ID0gbmV3IEFXUy5FbmRwb2ludChlbmRwb2ludCk7XG4gICAgdGhpcy5tZXRob2QgPSAnUE9TVCc7XG4gICAgdGhpcy5wYXRoID0gZW5kcG9pbnQucGF0aCB8fCAnLyc7XG4gICAgdGhpcy5oZWFkZXJzID0ge307XG4gICAgdGhpcy5ib2R5ID0gJyc7XG4gICAgdGhpcy5lbmRwb2ludCA9IGVuZHBvaW50O1xuICAgIHRoaXMucmVnaW9uID0gcmVnaW9uO1xuICAgIHRoaXMuX3VzZXJBZ2VudCA9ICcnO1xuICAgIHRoaXMuc2V0VXNlckFnZW50KCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgc2V0VXNlckFnZW50OiBmdW5jdGlvbiBzZXRVc2VyQWdlbnQoKSB7XG4gICAgdGhpcy5fdXNlckFnZW50ID0gdGhpcy5oZWFkZXJzW3RoaXMuZ2V0VXNlckFnZW50SGVhZGVyTmFtZSgpXSA9IEFXUy51dGlsLnVzZXJBZ2VudCgpO1xuICB9LFxuXG4gIGdldFVzZXJBZ2VudEhlYWRlck5hbWU6IGZ1bmN0aW9uIGdldFVzZXJBZ2VudEhlYWRlck5hbWUoKSB7XG4gICAgdmFyIHByZWZpeCA9IEFXUy51dGlsLmlzQnJvd3NlcigpID8gJ1gtQW16LScgOiAnJztcbiAgICByZXR1cm4gcHJlZml4ICsgJ1VzZXItQWdlbnQnO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGFwcGVuZFRvVXNlckFnZW50OiBmdW5jdGlvbiBhcHBlbmRUb1VzZXJBZ2VudChhZ2VudFBhcnRpYWwpIHtcbiAgICBpZiAodHlwZW9mIGFnZW50UGFydGlhbCA9PT0gJ3N0cmluZycgJiYgYWdlbnRQYXJ0aWFsKSB7XG4gICAgICB0aGlzLl91c2VyQWdlbnQgKz0gJyAnICsgYWdlbnRQYXJ0aWFsO1xuICAgIH1cbiAgICB0aGlzLmhlYWRlcnNbdGhpcy5nZXRVc2VyQWdlbnRIZWFkZXJOYW1lKCldID0gdGhpcy5fdXNlckFnZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldFVzZXJBZ2VudDogZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkge1xuICAgIHJldHVybiB0aGlzLl91c2VyQWdlbnQ7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4gW1N0cmluZ10gdGhlIHBhcnQgb2YgdGhlIHtwYXRofSBleGNsdWRpbmcgdGhlXG4gICAqICAgcXVlcnkgc3RyaW5nXG4gICAqL1xuICBwYXRobmFtZTogZnVuY3Rpb24gcGF0aG5hbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMucGF0aC5zcGxpdCgnPycsIDEpWzBdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIFtTdHJpbmddIHRoZSBxdWVyeSBzdHJpbmcgcG9ydGlvbiBvZiB0aGUge3BhdGh9XG4gICAqL1xuICBzZWFyY2g6IGZ1bmN0aW9uIHNlYXJjaCgpIHtcbiAgICB2YXIgcXVlcnkgPSB0aGlzLnBhdGguc3BsaXQoJz8nLCAyKVsxXTtcbiAgICBpZiAocXVlcnkpIHtcbiAgICAgIHF1ZXJ5ID0gQVdTLnV0aWwucXVlcnlTdHJpbmdQYXJzZShxdWVyeSk7XG4gICAgICByZXR1cm4gQVdTLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhxdWVyeSk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIHVwZGF0ZSBodHRwUmVxdWVzdCBlbmRwb2ludCB3aXRoIGVuZHBvaW50IHN0cmluZ1xuICAgKi9cbiAgdXBkYXRlRW5kcG9pbnQ6IGZ1bmN0aW9uIHVwZGF0ZUVuZHBvaW50KGVuZHBvaW50U3RyKSB7XG4gICAgdmFyIG5ld0VuZHBvaW50ID0gbmV3IEFXUy5FbmRwb2ludChlbmRwb2ludFN0cik7XG4gICAgdGhpcy5lbmRwb2ludCA9IG5ld0VuZHBvaW50O1xuICAgIHRoaXMucGF0aCA9IG5ld0VuZHBvaW50LnBhdGggfHwgJy8nO1xuICAgIGlmICh0aGlzLmhlYWRlcnNbJ0hvc3QnXSkge1xuICAgICAgdGhpcy5oZWFkZXJzWydIb3N0J10gPSBuZXdFbmRwb2ludC5ob3N0O1xuICAgIH1cbiAgfVxufSk7XG5cbi8qKlxuICogVGhlIGxvdyBsZXZlbCBIVFRQIHJlc3BvbnNlIG9iamVjdCwgZW5jYXBzdWxhdGluZyBhbGwgSFRUUCBoZWFkZXJcbiAqIGFuZCBib2R5IGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgcmVxdWVzdC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBzdGF0dXNDb2RlXG4gKiAgIEByZXR1cm4gW0ludGVnZXJdIHRoZSBIVFRQIHN0YXR1cyBjb2RlIG9mIHRoZSByZXNwb25zZSAoZS5nLiwgMjAwLCA0MDQpXG4gKiBAIWF0dHJpYnV0ZSBoZWFkZXJzXG4gKiAgIEByZXR1cm4gW21hcDxTdHJpbmcsU3RyaW5nPl1cbiAqICAgICAgYSBtYXAgb2YgcmVzcG9uc2UgaGVhZGVyIGtleXMgYW5kIHRoZWlyIHJlc3BlY3RpdmUgdmFsdWVzXG4gKiBAIWF0dHJpYnV0ZSBib2R5XG4gKiAgIEByZXR1cm4gW1N0cmluZ10gdGhlIHJlc3BvbnNlIGJvZHkgcGF5bG9hZFxuICogQCFhdHRyaWJ1dGUgW3JdIHN0cmVhbWluZ1xuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRoaXMgcmVzcG9uc2UgaXMgYmVpbmcgc3RyZWFtZWQgYXQgYSBsb3ctbGV2ZWwuXG4gKiAgICAgRGVmYXVsdHMgdG8gYGZhbHNlYCAoYnVmZmVyZWQgcmVhZHMpLiBEbyBub3QgbW9kaWZ5IHRoaXMgbWFudWFsbHksIHVzZVxuICogICAgIHtjcmVhdGVVbmJ1ZmZlcmVkU3RyZWFtfSB0byBjb252ZXJ0IHRoZSBzdHJlYW0gdG8gdW5idWZmZXJlZCBtb2RlXG4gKiAgICAgaW5zdGVhZC5cbiAqL1xuQVdTLkh0dHBSZXNwb25zZSA9IGluaGVyaXQoe1xuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBIdHRwUmVzcG9uc2UoKSB7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gdW5kZWZpbmVkO1xuICAgIHRoaXMuaGVhZGVycyA9IHt9O1xuICAgIHRoaXMuYm9keSA9IHVuZGVmaW5lZDtcbiAgICB0aGlzLnN0cmVhbWluZyA9IGZhbHNlO1xuICAgIHRoaXMuc3RyZWFtID0gbnVsbDtcbiAgfSxcblxuICAvKipcbiAgICogRGlzYWJsZXMgYnVmZmVyaW5nIG9uIHRoZSBIVFRQIHJlc3BvbnNlIGFuZCByZXR1cm5zIHRoZSBzdHJlYW0gZm9yIHJlYWRpbmcuXG4gICAqIEByZXR1cm4gW1N0cmVhbSwgWE1MSHR0cFJlcXVlc3QsIG51bGxdIHRoZSB1bmRlcmx5aW5nIHN0cmVhbSBvYmplY3QuXG4gICAqICAgVXNlIHRoaXMgb2JqZWN0IHRvIGRpcmVjdGx5IHJlYWQgZGF0YSBvZmYgb2YgdGhlIHN0cmVhbS5cbiAgICogQG5vdGUgVGhpcyBvYmplY3QgaXMgb25seSBhdmFpbGFibGUgYWZ0ZXIgdGhlIHtBV1MuUmVxdWVzdH5odHRwSGVhZGVyc31cbiAgICogICBldmVudCBoYXMgZmlyZWQuIFRoaXMgbWV0aG9kIG11c3QgYmUgY2FsbGVkIHByaW9yIHRvXG4gICAqICAge0FXUy5SZXF1ZXN0fmh0dHBEYXRhfS5cbiAgICogQGV4YW1wbGUgVGFraW5nIGNvbnRyb2wgb2YgYSBzdHJlYW1cbiAgICogICByZXF1ZXN0Lm9uKCdodHRwSGVhZGVycycsIGZ1bmN0aW9uKHN0YXR1c0NvZGUsIGhlYWRlcnMpIHtcbiAgICogICAgIGlmIChzdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAqICAgICAgIGlmIChoZWFkZXJzLmV0YWcgPT09ICd4eXonKSB7XG4gICAqICAgICAgICAgLy8gcGlwZSB0aGUgc3RyZWFtLCBkaXNhYmxpbmcgYnVmZmVyaW5nXG4gICAqICAgICAgICAgdmFyIHN0cmVhbSA9IHRoaXMucmVzcG9uc2UuaHR0cFJlc3BvbnNlLmNyZWF0ZVVuYnVmZmVyZWRTdHJlYW0oKTtcbiAgICogICAgICAgICBzdHJlYW0ucGlwZShwcm9jZXNzLnN0ZG91dCk7XG4gICAqICAgICAgIH0gZWxzZSB7IC8vIGFib3J0IHRoaXMgcmVxdWVzdCBhbmQgc2V0IGEgYmV0dGVyIGVycm9yIG1lc3NhZ2VcbiAgICogICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAqICAgICAgICAgdGhpcy5yZXNwb25zZS5lcnJvciA9IG5ldyBFcnJvcignSW52YWxpZCBFVGFnJyk7XG4gICAqICAgICAgIH1cbiAgICogICAgIH1cbiAgICogICB9KS5zZW5kKGNvbnNvbGUubG9nKTtcbiAgICovXG4gIGNyZWF0ZVVuYnVmZmVyZWRTdHJlYW06IGZ1bmN0aW9uIGNyZWF0ZVVuYnVmZmVyZWRTdHJlYW0oKSB7XG4gICAgdGhpcy5zdHJlYW1pbmcgPSB0cnVlO1xuICAgIHJldHVybiB0aGlzLnN0cmVhbTtcbiAgfVxufSk7XG5cblxuQVdTLkh0dHBDbGllbnQgPSBpbmhlcml0KHt9KTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2UgPSBmdW5jdGlvbiBnZXRJbnN0YW5jZSgpIHtcbiAgaWYgKHRoaXMuc2luZ2xldG9uID09PSB1bmRlZmluZWQpIHtcbiAgICB0aGlzLnNpbmdsZXRvbiA9IG5ldyB0aGlzKCk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuc2luZ2xldG9uO1xufTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi9jb3JlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xudmFyIGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZEVudnMgPSBbJ0FXU19FTkFCTEVfRU5EUE9JTlRfRElTQ09WRVJZJywgJ0FXU19FTkRQT0lOVF9ESVNDT1ZFUllfRU5BQkxFRCddO1xuXG4vKipcbiAqIEdlbmVyYXRlIGtleSAoZXhjZXB0IHJlc291cmNlcyBhbmQgb3BlcmF0aW9uIHBhcnQpIHRvIGluZGV4IHRoZSBlbmRwb2ludHMgaW4gdGhlIGNhY2hlXG4gKiBJZiBpbnB1dCBzaGFwZSBoYXMgZW5kcG9pbnRkaXNjb3ZlcnlpZCB0cmFpdCB0aGVuIHVzZVxuICogICBhY2Nlc3NLZXkgKyBvcGVyYXRpb24gKyByZXNvdXJjZXMgKyByZWdpb24gKyBzZXJ2aWNlIGFzIGNhY2hlIGtleVxuICogSWYgaW5wdXQgc2hhcGUgZG9lc24ndCBoYXZlIGVuZHBvaW50ZGlzY292ZXJ5aWQgdHJhaXQgdGhlbiB1c2VcbiAqICAgYWNjZXNzS2V5ICsgcmVnaW9uICsgc2VydmljZSBhcyBjYWNoZSBrZXlcbiAqIEByZXR1cm4gW21hcDxTdHJpbmcsU3RyaW5nPl0gb2JqZWN0IHdpdGgga2V5cyB0byBpbmRleCBlbmRwb2ludHMuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZ2V0Q2FjaGVLZXkocmVxdWVzdCkge1xuICB2YXIgc2VydmljZSA9IHJlcXVlc3Quc2VydmljZTtcbiAgdmFyIGFwaSA9IHNlcnZpY2UuYXBpIHx8IHt9O1xuICB2YXIgb3BlcmF0aW9ucyA9IGFwaS5vcGVyYXRpb25zO1xuICB2YXIgaWRlbnRpZmllcnMgPSB7fTtcbiAgaWYgKHNlcnZpY2UuY29uZmlnLnJlZ2lvbikge1xuICAgIGlkZW50aWZpZXJzLnJlZ2lvbiA9IHNlcnZpY2UuY29uZmlnLnJlZ2lvbjtcbiAgfVxuICBpZiAoYXBpLnNlcnZpY2VJZCkge1xuICAgIGlkZW50aWZpZXJzLnNlcnZpY2VJZCA9IGFwaS5zZXJ2aWNlSWQ7XG4gIH1cbiAgaWYgKHNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkKSB7XG4gICAgaWRlbnRpZmllcnMuYWNjZXNzS2V5SWQgPSBzZXJ2aWNlLmNvbmZpZy5jcmVkZW50aWFscy5hY2Nlc3NLZXlJZDtcbiAgfVxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbi8qKlxuICogUmVjdXJzaXZlIGhlbHBlciBmb3IgbWFyc2hhbGxDdXN0b21JZGVudGlmaWVycygpLlxuICogTG9va3MgZm9yIHJlcXVpcmVkIHN0cmluZyBpbnB1dCBtZW1iZXJzIHRoYXQgaGF2ZSAnZW5kcG9pbnRkaXNjb3ZlcnlpZCcgdHJhaXQuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbWFyc2hhbGxDdXN0b21JZGVudGlmaWVyc0hlbHBlcihyZXN1bHQsIHBhcmFtcywgc2hhcGUpIHtcbiAgaWYgKCFzaGFwZSB8fCBwYXJhbXMgPT09IHVuZGVmaW5lZCB8fCBwYXJhbXMgPT09IG51bGwpIHJldHVybjtcbiAgaWYgKHNoYXBlLnR5cGUgPT09ICdzdHJ1Y3R1cmUnICYmIHNoYXBlLnJlcXVpcmVkICYmIHNoYXBlLnJlcXVpcmVkLmxlbmd0aCA+IDApIHtcbiAgICB1dGlsLmFycmF5RWFjaChzaGFwZS5yZXF1aXJlZCwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIG1lbWJlclNoYXBlID0gc2hhcGUubWVtYmVyc1tuYW1lXTtcbiAgICAgIGlmIChtZW1iZXJTaGFwZS5lbmRwb2ludERpc2NvdmVyeUlkID09PSB0cnVlKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbk5hbWUgPSBtZW1iZXJTaGFwZS5pc0xvY2F0aW9uTmFtZSA/IG1lbWJlclNoYXBlLm5hbWUgOiBuYW1lO1xuICAgICAgICByZXN1bHRbbG9jYXRpb25OYW1lXSA9IFN0cmluZyhwYXJhbXNbbmFtZV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWFyc2hhbGxDdXN0b21JZGVudGlmaWVyc0hlbHBlcihyZXN1bHQsIHBhcmFtc1tuYW1lXSwgbWVtYmVyU2hhcGUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGN1c3RvbSBpZGVudGlmaWVycyBmb3IgY2FjaGUga2V5LlxuICogSWRlbnRpZmllcyBjdXN0b20gaWRlbnRpZmllcnMgYnkgY2hlY2tpbmcgZWFjaCBzaGFwZSdzIGBlbmRwb2ludERpc2NvdmVyeUlkYCB0cmFpdC5cbiAqIEBwYXJhbSBbb2JqZWN0XSByZXF1ZXN0IG9iamVjdFxuICogQHBhcmFtIFtvYmplY3RdIGlucHV0IHNoYXBlIG9mIHRoZSBnaXZlbiBvcGVyYXRpb24ncyBhcGlcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBtYXJzaGFsbEN1c3RvbUlkZW50aWZpZXJzKHJlcXVlc3QsIHNoYXBlKSB7XG4gIHZhciBpZGVudGlmaWVycyA9IHt9O1xuICBtYXJzaGFsbEN1c3RvbUlkZW50aWZpZXJzSGVscGVyKGlkZW50aWZpZXJzLCByZXF1ZXN0LnBhcmFtcywgc2hhcGUpO1xuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbi8qKlxuICogQ2FsbCBlbmRwb2ludCBkaXNjb3Zlcnkgb3BlcmF0aW9uIHdoZW4gaXQncyBvcHRpb25hbC5cbiAqIFdoZW4gZW5kcG9pbnQgaXMgYXZhaWxhYmxlIGluIGNhY2hlIHRoZW4gdXNlIHRoZSBjYWNoZWQgZW5kcG9pbnRzLiBJZiBlbmRwb2ludHNcbiAqIGFyZSB1bmF2YWlsYWJsZSB0aGVuIHVzZSByZWdpb25hbCBlbmRwb2ludHMgYW5kIGNhbGwgZW5kcG9pbnQgZGlzY292ZXJ5IG9wZXJhdGlvblxuICogYXN5bmNocm9ub3VzbHkuIFRoaXMgaXMgdHVybmVkIG9mZiBieSBkZWZhdWx0LlxuICogQHBhcmFtIFtvYmplY3RdIHJlcXVlc3Qgb2JqZWN0XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gb3B0aW9uYWxEaXNjb3ZlckVuZHBvaW50KHJlcXVlc3QpIHtcbiAgdmFyIHNlcnZpY2UgPSByZXF1ZXN0LnNlcnZpY2U7XG4gIHZhciBhcGkgPSBzZXJ2aWNlLmFwaTtcbiAgdmFyIG9wZXJhdGlvbk1vZGVsID0gYXBpLm9wZXJhdGlvbnMgPyBhcGkub3BlcmF0aW9uc1tyZXF1ZXN0Lm9wZXJhdGlvbl0gOiB1bmRlZmluZWQ7XG4gIHZhciBpbnB1dFNoYXBlID0gb3BlcmF0aW9uTW9kZWwgPyBvcGVyYXRpb25Nb2RlbC5pbnB1dCA6IHVuZGVmaW5lZDtcblxuICB2YXIgaWRlbnRpZmllcnMgPSBtYXJzaGFsbEN1c3RvbUlkZW50aWZpZXJzKHJlcXVlc3QsIGlucHV0U2hhcGUpO1xuICB2YXIgY2FjaGVLZXkgPSBnZXRDYWNoZUtleShyZXF1ZXN0KTtcbiAgaWYgKE9iamVjdC5rZXlzKGlkZW50aWZpZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgY2FjaGVLZXkgPSB1dGlsLnVwZGF0ZShjYWNoZUtleSwgaWRlbnRpZmllcnMpO1xuICAgIGlmIChvcGVyYXRpb25Nb2RlbCkgY2FjaGVLZXkub3BlcmF0aW9uID0gb3BlcmF0aW9uTW9kZWwubmFtZTtcbiAgfVxuICB2YXIgZW5kcG9pbnRzID0gQVdTLmVuZHBvaW50Q2FjaGUuZ2V0KGNhY2hlS2V5KTtcbiAgaWYgKGVuZHBvaW50cyAmJiBlbmRwb2ludHMubGVuZ3RoID09PSAxICYmIGVuZHBvaW50c1swXS5BZGRyZXNzID09PSAnJykge1xuICAgIC8vZW5kcG9pbnQgb3BlcmF0aW9uIGlzIGJlaW5nIG1hZGUgYnV0IHJlc3BvbnNlIG5vdCB5ZXQgcmVjZWl2ZWRcbiAgICAvL29yIGVuZHBvaW50IG9wZXJhdGlvbiBqdXN0IGZhaWxlZCBpbiAxIG1pbnV0ZVxuICAgIHJldHVybjtcbiAgfSBlbHNlIGlmIChlbmRwb2ludHMgJiYgZW5kcG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAvL2ZvdW5kIGVuZHBvaW50IHJlY29yZCBmcm9tIGNhY2hlXG4gICAgcmVxdWVzdC5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChlbmRwb2ludHNbMF0uQWRkcmVzcyk7XG4gIH0gZWxzZSB7XG4gICAgLy9lbmRwb2ludCByZWNvcmQgbm90IGluIGNhY2hlIG9yIG91dGRhdGVkLiBtYWtlIGRpc2NvdmVyeSBvcGVyYXRpb25cbiAgICB2YXIgZW5kcG9pbnRSZXF1ZXN0ID0gc2VydmljZS5tYWtlUmVxdWVzdChhcGkuZW5kcG9pbnRPcGVyYXRpb24sIHtcbiAgICAgIE9wZXJhdGlvbjogb3BlcmF0aW9uTW9kZWwubmFtZSxcbiAgICAgIElkZW50aWZpZXJzOiBpZGVudGlmaWVycyxcbiAgICB9KTtcbiAgICBhZGRBcGlWZXJzaW9uSGVhZGVyKGVuZHBvaW50UmVxdWVzdCk7XG4gICAgZW5kcG9pbnRSZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKCd2YWxpZGF0ZScsIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1BBUkFNRVRFUlMpO1xuICAgIGVuZHBvaW50UmVxdWVzdC5yZW1vdmVMaXN0ZW5lcigncmV0cnknLCBBV1MuRXZlbnRMaXN0ZW5lcnMuQ29yZS5SRVRSWV9DSEVDSyk7XG4gICAgLy9wdXQgaW4gYSBwbGFjZWhvbGRlciBmb3IgZW5kcG9pbnRzIGFscmVhZHkgcmVxdWVzdGVkLCBwcmV2ZW50XG4gICAgLy90b28gbXVjaCBpbi1mbGlnaHQgY2FsbHNcbiAgICBBV1MuZW5kcG9pbnRDYWNoZS5wdXQoY2FjaGVLZXksIFt7XG4gICAgICBBZGRyZXNzOiAnJyxcbiAgICAgIENhY2hlUGVyaW9kSW5NaW51dGVzOiAxXG4gICAgfV0pO1xuICAgIGVuZHBvaW50UmVxdWVzdC5zZW5kKGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5FbmRwb2ludHMpIHtcbiAgICAgICAgQVdTLmVuZHBvaW50Q2FjaGUucHV0KGNhY2hlS2V5LCBkYXRhLkVuZHBvaW50cyk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICBBV1MuZW5kcG9pbnRDYWNoZS5wdXQoY2FjaGVLZXksIFt7XG4gICAgICAgICAgQWRkcmVzczogJycsXG4gICAgICAgICAgQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6IDEgLy9ub3QgdG8gbWFrZSBtb3JlIGVuZHBvaW50IG9wZXJhdGlvbiBpbiBuZXh0IDEgbWludXRlXG4gICAgICAgIH1dKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG52YXIgcmVxdWVzdFF1ZXVlID0ge307XG5cbi8qKlxuICogQ2FsbCBlbmRwb2ludCBkaXNjb3Zlcnkgb3BlcmF0aW9uIHdoZW4gaXQncyByZXF1aXJlZC5cbiAqIFdoZW4gZW5kcG9pbnQgaXMgYXZhaWxhYmxlIGluIGNhY2hlIHRoZW4gdXNlIGNhY2hlZCBvbmVzLiBJZiBlbmRwb2ludHMgYXJlXG4gKiB1bmF2YWlsYWJsZSB0aGVuIFNESyBzaG91bGQgY2FsbCBlbmRwb2ludCBvcGVyYXRpb24gdGhlbiB1c2UgcmV0dXJuZWQgbmV3XG4gKiBlbmRwb2ludCBmb3IgdGhlIGFwaSBjYWxsLiBTREsgd2lsbCBhdXRvbWF0aWNhbGx5IGF0dGVtcHQgdG8gZG8gZW5kcG9pbnRcbiAqIGRpc2NvdmVyeS4gVGhpcyBpcyB0dXJuZWQgb2ZmIGJ5IGRlZmF1bHRcbiAqIEBwYXJhbSBbb2JqZWN0XSByZXF1ZXN0IG9iamVjdFxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlcXVpcmVkRGlzY292ZXJFbmRwb2ludChyZXF1ZXN0LCBkb25lKSB7XG4gIHZhciBzZXJ2aWNlID0gcmVxdWVzdC5zZXJ2aWNlO1xuICB2YXIgYXBpID0gc2VydmljZS5hcGk7XG4gIHZhciBvcGVyYXRpb25Nb2RlbCA9IGFwaS5vcGVyYXRpb25zID8gYXBpLm9wZXJhdGlvbnNbcmVxdWVzdC5vcGVyYXRpb25dIDogdW5kZWZpbmVkO1xuICB2YXIgaW5wdXRTaGFwZSA9IG9wZXJhdGlvbk1vZGVsID8gb3BlcmF0aW9uTW9kZWwuaW5wdXQgOiB1bmRlZmluZWQ7XG5cbiAgdmFyIGlkZW50aWZpZXJzID0gbWFyc2hhbGxDdXN0b21JZGVudGlmaWVycyhyZXF1ZXN0LCBpbnB1dFNoYXBlKTtcbiAgdmFyIGNhY2hlS2V5ID0gZ2V0Q2FjaGVLZXkocmVxdWVzdCk7XG4gIGlmIChPYmplY3Qua2V5cyhpZGVudGlmaWVycykubGVuZ3RoID4gMCkge1xuICAgIGNhY2hlS2V5ID0gdXRpbC51cGRhdGUoY2FjaGVLZXksIGlkZW50aWZpZXJzKTtcbiAgICBpZiAob3BlcmF0aW9uTW9kZWwpIGNhY2hlS2V5Lm9wZXJhdGlvbiA9IG9wZXJhdGlvbk1vZGVsLm5hbWU7XG4gIH1cbiAgdmFyIGNhY2hlS2V5U3RyID0gQVdTLkVuZHBvaW50Q2FjaGUuZ2V0S2V5U3RyaW5nKGNhY2hlS2V5KTtcbiAgdmFyIGVuZHBvaW50cyA9IEFXUy5lbmRwb2ludENhY2hlLmdldChjYWNoZUtleVN0cik7IC8vZW5kcG9pbnQgY2FjaGUgYWxzbyBhY2NlcHRzIHN0cmluZyBrZXlzXG4gIGlmIChlbmRwb2ludHMgJiYgZW5kcG9pbnRzLmxlbmd0aCA9PT0gMSAmJiBlbmRwb2ludHNbMF0uQWRkcmVzcyA9PT0gJycpIHtcbiAgICAvL2VuZHBvaW50IG9wZXJhdGlvbiBpcyBiZWluZyBtYWRlIGJ1dCByZXNwb25zZSBub3QgeWV0IHJlY2VpdmVkXG4gICAgLy9wdXNoIHJlcXVlc3Qgb2JqZWN0IHRvIGEgcGVuZGluZyBxdWV1ZVxuICAgIGlmICghcmVxdWVzdFF1ZXVlW2NhY2hlS2V5U3RyXSkgcmVxdWVzdFF1ZXVlW2NhY2hlS2V5U3RyXSA9IFtdO1xuICAgIHJlcXVlc3RRdWV1ZVtjYWNoZUtleVN0cl0ucHVzaCh7cmVxdWVzdDogcmVxdWVzdCwgY2FsbGJhY2s6IGRvbmV9KTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoZW5kcG9pbnRzICYmIGVuZHBvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgcmVxdWVzdC5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChlbmRwb2ludHNbMF0uQWRkcmVzcyk7XG4gICAgZG9uZSgpO1xuICB9IGVsc2Uge1xuICAgIHZhciBlbmRwb2ludFJlcXVlc3QgPSBzZXJ2aWNlLm1ha2VSZXF1ZXN0KGFwaS5lbmRwb2ludE9wZXJhdGlvbiwge1xuICAgICAgT3BlcmF0aW9uOiBvcGVyYXRpb25Nb2RlbC5uYW1lLFxuICAgICAgSWRlbnRpZmllcnM6IGlkZW50aWZpZXJzLFxuICAgIH0pO1xuICAgIGVuZHBvaW50UmVxdWVzdC5yZW1vdmVMaXN0ZW5lcigndmFsaWRhdGUnLCBBV1MuRXZlbnRMaXN0ZW5lcnMuQ29yZS5WQUxJREFURV9QQVJBTUVURVJTKTtcbiAgICBhZGRBcGlWZXJzaW9uSGVhZGVyKGVuZHBvaW50UmVxdWVzdCk7XG5cbiAgICAvL3B1dCBpbiBhIHBsYWNlaG9sZGVyIGZvciBlbmRwb2ludHMgYWxyZWFkeSByZXF1ZXN0ZWQsIHByZXZlbnRcbiAgICAvL3RvbyBtdWNoIGluLWZsaWdodCBjYWxsc1xuICAgIEFXUy5lbmRwb2ludENhY2hlLnB1dChjYWNoZUtleVN0ciwgW3tcbiAgICAgIEFkZHJlc3M6ICcnLFxuICAgICAgQ2FjaGVQZXJpb2RJbk1pbnV0ZXM6IDYwIC8vbG9uZy1saXZlIGNhY2hlXG4gICAgfV0pO1xuICAgIGVuZHBvaW50UmVxdWVzdC5zZW5kKGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXF1ZXN0LnJlc3BvbnNlLmVycm9yID0gdXRpbC5lcnJvcihlcnIsIHsgcmV0cnlhYmxlOiBmYWxzZSB9KTtcbiAgICAgICAgQVdTLmVuZHBvaW50Q2FjaGUucmVtb3ZlKGNhY2hlS2V5KTtcblxuICAgICAgICAvL2ZhaWwgYWxsIHRoZSBwZW5kaW5nIHJlcXVlc3RzIGluIGJhdGNoXG4gICAgICAgIGlmIChyZXF1ZXN0UXVldWVbY2FjaGVLZXlTdHJdKSB7XG4gICAgICAgICAgdmFyIHBlbmRpbmdSZXF1ZXN0cyA9IHJlcXVlc3RRdWV1ZVtjYWNoZUtleVN0cl07XG4gICAgICAgICAgdXRpbC5hcnJheUVhY2gocGVuZGluZ1JlcXVlc3RzLCBmdW5jdGlvbihyZXF1ZXN0Q29udGV4dCkge1xuICAgICAgICAgICAgcmVxdWVzdENvbnRleHQucmVxdWVzdC5yZXNwb25zZS5lcnJvciA9IHV0aWwuZXJyb3IoZXJyLCB7IHJldHJ5YWJsZTogZmFsc2UgfSk7XG4gICAgICAgICAgICByZXF1ZXN0Q29udGV4dC5jYWxsYmFjaygpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRlbGV0ZSByZXF1ZXN0UXVldWVbY2FjaGVLZXlTdHJdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRhdGEpIHtcbiAgICAgICAgQVdTLmVuZHBvaW50Q2FjaGUucHV0KGNhY2hlS2V5U3RyLCBkYXRhLkVuZHBvaW50cyk7XG4gICAgICAgIHJlcXVlc3QuaHR0cFJlcXVlc3QudXBkYXRlRW5kcG9pbnQoZGF0YS5FbmRwb2ludHNbMF0uQWRkcmVzcyk7XG5cbiAgICAgICAgLy91cGRhdGUgdGhlIGVuZHBvaW50IGZvciBhbGwgdGhlIHBlbmRpbmcgcmVxdWVzdHMgaW4gYmF0Y2hcbiAgICAgICAgaWYgKHJlcXVlc3RRdWV1ZVtjYWNoZUtleVN0cl0pIHtcbiAgICAgICAgICB2YXIgcGVuZGluZ1JlcXVlc3RzID0gcmVxdWVzdFF1ZXVlW2NhY2hlS2V5U3RyXTtcbiAgICAgICAgICB1dGlsLmFycmF5RWFjaChwZW5kaW5nUmVxdWVzdHMsIGZ1bmN0aW9uKHJlcXVlc3RDb250ZXh0KSB7XG4gICAgICAgICAgICByZXF1ZXN0Q29udGV4dC5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnVwZGF0ZUVuZHBvaW50KGRhdGEuRW5kcG9pbnRzWzBdLkFkZHJlc3MpO1xuICAgICAgICAgICAgcmVxdWVzdENvbnRleHQuY2FsbGJhY2soKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBkZWxldGUgcmVxdWVzdFF1ZXVlW2NhY2hlS2V5U3RyXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZG9uZSgpO1xuICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogYWRkIGFwaSB2ZXJzaW9uIGhlYWRlciB0byBlbmRwb2ludCBvcGVyYXRpb25cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBhZGRBcGlWZXJzaW9uSGVhZGVyKGVuZHBvaW50UmVxdWVzdCkge1xuICB2YXIgYXBpID0gZW5kcG9pbnRSZXF1ZXN0LnNlcnZpY2UuYXBpO1xuICB2YXIgYXBpVmVyc2lvbiA9IGFwaS5hcGlWZXJzaW9uO1xuICBpZiAoYXBpVmVyc2lvbiAmJiAhZW5kcG9pbnRSZXF1ZXN0Lmh0dHBSZXF1ZXN0LmhlYWRlcnNbJ3gtYW16LWFwaS12ZXJzaW9uJ10pIHtcbiAgICBlbmRwb2ludFJlcXVlc3QuaHR0cFJlcXVlc3QuaGVhZGVyc1sneC1hbXotYXBpLXZlcnNpb24nXSA9IGFwaVZlcnNpb247XG4gIH1cbn1cblxuLyoqXG4gKiBJZiBhcGkgY2FsbCBnZXRzIGludmFsaWQgZW5kcG9pbnQgZXhjZXB0aW9uLCBTREsgc2hvdWxkIGF0dGVtcHQgdG8gcmVtb3ZlIHRoZSBpbnZhbGlkXG4gKiBlbmRwb2ludCBmcm9tIGNhY2hlLlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGludmFsaWRhdGVDYWNoZWRFbmRwb2ludHMocmVzcG9uc2UpIHtcbiAgdmFyIGVycm9yID0gcmVzcG9uc2UuZXJyb3I7XG4gIHZhciBodHRwUmVzcG9uc2UgPSByZXNwb25zZS5odHRwUmVzcG9uc2U7XG4gIGlmIChlcnJvciAmJlxuICAgIChlcnJvci5jb2RlID09PSAnSW52YWxpZEVuZHBvaW50RXhjZXB0aW9uJyB8fCBodHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gNDIxKVxuICApIHtcbiAgICB2YXIgcmVxdWVzdCA9IHJlc3BvbnNlLnJlcXVlc3Q7XG4gICAgdmFyIG9wZXJhdGlvbnMgPSByZXF1ZXN0LnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMgfHwge307XG4gICAgdmFyIGlucHV0U2hhcGUgPSBvcGVyYXRpb25zW3JlcXVlc3Qub3BlcmF0aW9uXSA/IG9wZXJhdGlvbnNbcmVxdWVzdC5vcGVyYXRpb25dLmlucHV0IDogdW5kZWZpbmVkO1xuICAgIHZhciBpZGVudGlmaWVycyA9IG1hcnNoYWxsQ3VzdG9tSWRlbnRpZmllcnMocmVxdWVzdCwgaW5wdXRTaGFwZSk7XG4gICAgdmFyIGNhY2hlS2V5ID0gZ2V0Q2FjaGVLZXkocmVxdWVzdCk7XG4gICAgaWYgKE9iamVjdC5rZXlzKGlkZW50aWZpZXJzKS5sZW5ndGggPiAwKSB7XG4gICAgICBjYWNoZUtleSA9IHV0aWwudXBkYXRlKGNhY2hlS2V5LCBpZGVudGlmaWVycyk7XG4gICAgICBpZiAob3BlcmF0aW9uc1tyZXF1ZXN0Lm9wZXJhdGlvbl0pIGNhY2hlS2V5Lm9wZXJhdGlvbiA9IG9wZXJhdGlvbnNbcmVxdWVzdC5vcGVyYXRpb25dLm5hbWU7XG4gICAgfVxuICAgIEFXUy5lbmRwb2ludENhY2hlLnJlbW92ZShjYWNoZUtleSk7XG4gIH1cbn1cblxuLyoqXG4gKiBJZiBlbmRwb2ludCBpcyBleHBsaWNpdGx5IGNvbmZpZ3VyZWQsIFNESyBzaG91bGQgbm90IGRvIGVuZHBvaW50IGRpc2NvdmVyeSBpbiBhbnl0aW1lLlxuICogQHBhcmFtIFtvYmplY3RdIGNsaWVudCBTZXJ2aWNlIGNsaWVudCBvYmplY3QuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaGFzQ3VzdG9tRW5kcG9pbnQoY2xpZW50KSB7XG4gIC8vaWYgc2V0IGVuZHBvaW50IGlzIHNldCBmb3Igc3BlY2lmaWMgY2xpZW50LCBlbmFibGUgZW5kcG9pbnQgZGlzY292ZXJ5IHdpbGwgcmFpc2UgYW4gZXJyb3IuXG4gIGlmIChjbGllbnQuX29yaWdpbmFsQ29uZmlnICYmIGNsaWVudC5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnQgJiYgY2xpZW50Ll9vcmlnaW5hbENvbmZpZy5lbmRwb2ludERpc2NvdmVyeUVuYWJsZWQgPT09IHRydWUpIHtcbiAgICB0aHJvdyB1dGlsLmVycm9yKG5ldyBFcnJvcigpLCB7XG4gICAgICBjb2RlOiAnQ29uZmlndXJhdGlvbkV4Y2VwdGlvbicsXG4gICAgICBtZXNzYWdlOiAnQ3VzdG9tIGVuZHBvaW50IGlzIHN1cHBsaWVkOyBlbmRwb2ludERpc2NvdmVyeUVuYWJsZWQgbXVzdCBub3QgYmUgdHJ1ZS4nXG4gICAgfSk7XG4gIH07XG4gIHZhciBzdmNDb25maWcgPSBBV1MuY29uZmlnW2NsaWVudC5zZXJ2aWNlSWRlbnRpZmllcl0gfHwge307XG4gIHJldHVybiBCb29sZWFuKEFXUy5jb25maWcuZW5kcG9pbnQgfHwgc3ZjQ29uZmlnLmVuZHBvaW50IHx8IChjbGllbnQuX29yaWdpbmFsQ29uZmlnICYmIGNsaWVudC5fb3JpZ2luYWxDb25maWcuZW5kcG9pbnQpKTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gaXNGYWxzeSh2YWx1ZSkge1xuICByZXR1cm4gWydmYWxzZScsICcwJ10uaW5kZXhPZih2YWx1ZSkgPj0gMDtcbn1cblxuLyoqXG4gKiBJZiBlbmRwb2ludCBkaXNjb3Zlcnkgc2hvdWxkIHBlcmZvcm0gZm9yIHRoaXMgcmVxdWVzdCB3aGVuIG5vIG9wZXJhdGlvbiByZXF1aXJlcyBlbmRwb2ludFxuICogZGlzY292ZXJ5IGZvciB0aGUgZ2l2ZW4gc2VydmljZS5cbiAqIFNESyBwZXJmb3JtcyBjb25maWcgcmVzb2x1dGlvbiBpbiBvcmRlciBsaWtlIGJlbG93OlxuICogMS4gSWYgc2V0IGluIGNsaWVudCBjb25maWd1cmF0aW9uLlxuICogMi4gSWYgc2V0IGluIGVudiBBV1NfRU5BQkxFX0VORFBPSU5UX0RJU0NPVkVSWS5cbiAqIDMuIElmIHNldCBpbiBzaGFyZWQgaW5pIGNvbmZpZyBmaWxlIHdpdGgga2V5ICdlbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCcuXG4gKiBAcGFyYW0gW29iamVjdF0gcmVxdWVzdCByZXF1ZXN0IG9iamVjdC5cbiAqIEByZXR1cm5zIFtib29sZWFufHVuZGVmaW5lZF0gaWYgZW5kcG9pbnQgZGlzY292ZXJ5IGNvbmZpZyBpcyBub3Qgc2V0IGluIGFueSBzb3VyY2UsIHRoaXNcbiAqICBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZFxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHJlc29sdmVFbmRwb2ludERpc2NvdmVyeUNvbmZpZyhyZXF1ZXN0KSB7XG4gIHZhciBzZXJ2aWNlID0gcmVxdWVzdC5zZXJ2aWNlIHx8IHt9O1xuICBpZiAoc2VydmljZS5jb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gc2VydmljZS5jb25maWcuZW5kcG9pbnREaXNjb3ZlcnlFbmFibGVkO1xuICB9XG5cbiAgLy9zaGFyZWQgaW5pIGZpbGUgaXMgb25seSBhdmFpbGFibGUgaW4gTm9kZVxuICAvL25vdCB0byBjaGVjayBlbnYgaW4gYnJvd3NlclxuICBpZiAodXRpbC5pc0Jyb3dzZXIoKSkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICAvLyBJZiBhbnkgb2YgcmVjb2duaXplZCBlbmRwb2ludCBkaXNjb3ZlcnkgY29uZmlnIGVudiBpcyBzZXRcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbmRwb2ludERpc2NvdmVyeUVuYWJsZWRFbnZzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGVudiA9IGVuZHBvaW50RGlzY292ZXJ5RW5hYmxlZEVudnNbaV07XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9jZXNzLmVudiwgZW52KSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52W2Vudl0gPT09ICcnIHx8IHByb2Nlc3MuZW52W2Vudl0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyB1dGlsLmVycm9yKG5ldyBFcnJvcigpLCB7XG4gICAgICAgICAgY29kZTogJ0NvbmZpZ3VyYXRpb25FeGNlcHRpb24nLFxuICAgICAgICAgIG1lc3NhZ2U6ICdlbnZpcm9ubWVudGFsIHZhcmlhYmxlICcgKyBlbnYgKyAnIGNhbm5vdCBiZSBzZXQgdG8gbm90aGluZydcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gIWlzRmFsc3kocHJvY2Vzcy5lbnZbZW52XSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbmZpZ0ZpbGUgPSB7fTtcbiAgdHJ5IHtcbiAgICBjb25maWdGaWxlID0gQVdTLnV0aWwuaW5pTG9hZGVyID8gQVdTLnV0aWwuaW5pTG9hZGVyLmxvYWRGcm9tKHtcbiAgICAgIGlzQ29uZmlnOiB0cnVlLFxuICAgICAgZmlsZW5hbWU6IHByb2Nlc3MuZW52W0FXUy51dGlsLnNoYXJlZENvbmZpZ0ZpbGVFbnZdXG4gICAgfSkgOiB7fTtcbiAgfSBjYXRjaCAoZSkge31cbiAgdmFyIHNoYXJlZEZpbGVDb25maWcgPSBjb25maWdGaWxlW1xuICAgIHByb2Nlc3MuZW52LkFXU19QUk9GSUxFIHx8IEFXUy51dGlsLmRlZmF1bHRQcm9maWxlXG4gIF0gfHwge307XG4gIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2hhcmVkRmlsZUNvbmZpZywgJ2VuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkJykpIHtcbiAgICBpZiAoc2hhcmVkRmlsZUNvbmZpZy5lbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyB1dGlsLmVycm9yKG5ldyBFcnJvcigpLCB7XG4gICAgICAgIGNvZGU6ICdDb25maWd1cmF0aW9uRXhjZXB0aW9uJyxcbiAgICAgICAgbWVzc2FnZTogJ2NvbmZpZyBmaWxlIGVudHJ5IFxcJ2VuZHBvaW50X2Rpc2NvdmVyeV9lbmFibGVkXFwnIGNhbm5vdCBiZSBzZXQgdG8gbm90aGluZydcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gIWlzRmFsc3koc2hhcmVkRmlsZUNvbmZpZy5lbmRwb2ludF9kaXNjb3ZlcnlfZW5hYmxlZCk7XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBhdHRhY2ggZW5kcG9pbnQgZGlzY292ZXJ5IGxvZ2ljIHRvIHJlcXVlc3Qgb2JqZWN0XG4gKiBAcGFyYW0gW29iamVjdF0gcmVxdWVzdFxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGRpc2NvdmVyRW5kcG9pbnQocmVxdWVzdCwgZG9uZSkge1xuICB2YXIgc2VydmljZSA9IHJlcXVlc3Quc2VydmljZSB8fCB7fTtcbiAgaWYgKGhhc0N1c3RvbUVuZHBvaW50KHNlcnZpY2UpIHx8IHJlcXVlc3QuaXNQcmVzaWduZWQoKSkgcmV0dXJuIGRvbmUoKTtcblxuICB2YXIgb3BlcmF0aW9ucyA9IHNlcnZpY2UuYXBpLm9wZXJhdGlvbnMgfHwge307XG4gIHZhciBvcGVyYXRpb25Nb2RlbCA9IG9wZXJhdGlvbnNbcmVxdWVzdC5vcGVyYXRpb25dO1xuICB2YXIgaXNFbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkID0gb3BlcmF0aW9uTW9kZWwgPyBvcGVyYXRpb25Nb2RlbC5lbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkIDogJ05VTEwnO1xuICB2YXIgaXNFbmFibGVkID0gcmVzb2x2ZUVuZHBvaW50RGlzY292ZXJ5Q29uZmlnKHJlcXVlc3QpO1xuICB2YXIgaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSA9IHNlcnZpY2UuYXBpLmhhc1JlcXVpcmVkRW5kcG9pbnREaXNjb3Zlcnk7XG4gIGlmIChpc0VuYWJsZWQgfHwgaGFzUmVxdWlyZWRFbmRwb2ludERpc2NvdmVyeSkge1xuICAgIC8vIE9uY2UgYSBjdXN0b21lciBlbmFibGVzIGVuZHBvaW50IGRpc2NvdmVyeSwgdGhlIFNESyBzaG91bGQgc3RhcnQgYXBwZW5kaW5nXG4gICAgLy8gdGhlIHN0cmluZyBlbmRwb2ludC1kaXNjb3ZlcnkgdG8gdGhlIHVzZXItYWdlbnQgb24gYWxsIHJlcXVlc3RzLlxuICAgIHJlcXVlc3QuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoJ2VuZHBvaW50LWRpc2NvdmVyeScpO1xuICB9XG4gIHN3aXRjaCAoaXNFbmRwb2ludERpc2NvdmVyeVJlcXVpcmVkKSB7XG4gICAgY2FzZSAnT1BUSU9OQUwnOlxuICAgICAgaWYgKGlzRW5hYmxlZCB8fCBoYXNSZXF1aXJlZEVuZHBvaW50RGlzY292ZXJ5KSB7XG4gICAgICAgIC8vIEZvciBhIGdpdmVuIHNlcnZpY2U7IGlmIGF0IGxlYXN0IG9uZSBvcGVyYXRpb24gcmVxdWlyZXMgZW5kcG9pbnQgZGlzY292ZXJ5IHRoZW4gdGhlIFNESyBtdXN0IGVuYWJsZSBlbmRwb2ludCBkaXNjb3ZlcnlcbiAgICAgICAgLy8gYnkgZGVmYXVsdCBmb3IgYWxsIG9wZXJhdGlvbnMgb2YgdGhhdCBzZXJ2aWNlLCBpbmNsdWRpbmcgb3BlcmF0aW9ucyB3aGVyZSBlbmRwb2ludCBkaXNjb3ZlcnkgaXMgb3B0aW9uYWwuXG4gICAgICAgIG9wdGlvbmFsRGlzY292ZXJFbmRwb2ludChyZXF1ZXN0KTtcbiAgICAgICAgcmVxdWVzdC5hZGROYW1lZExpc3RlbmVyKCdJTlZBTElEQVRFX0NBQ0hFRF9FTkRQT0lOVFMnLCAnZXh0cmFjdEVycm9yJywgaW52YWxpZGF0ZUNhY2hlZEVuZHBvaW50cyk7XG4gICAgICB9XG4gICAgICBkb25lKCk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdSRVFVSVJFRCc6XG4gICAgICBpZiAoaXNFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAvLyBGb3IgYSBnaXZlbiBvcGVyYXRpb247IGlmIGVuZHBvaW50IGRpc2NvdmVyeSBpcyByZXF1aXJlZCBhbmQgaXQgaGFzIGJlZW4gZGlzYWJsZWQgb24gdGhlIFNESyBjbGllbnQsXG4gICAgICAgIC8vIHRoZW4gdGhlIFNESyBtdXN0IHJldHVybiBhIGNsZWFyIGFuZCBhY3Rpb25hYmxlIGV4Y2VwdGlvbi5cbiAgICAgICAgcmVxdWVzdC5yZXNwb25zZS5lcnJvciA9IHV0aWwuZXJyb3IobmV3IEVycm9yKCksIHtcbiAgICAgICAgICBjb2RlOiAnQ29uZmlndXJhdGlvbkV4Y2VwdGlvbicsXG4gICAgICAgICAgbWVzc2FnZTogJ0VuZHBvaW50IERpc2NvdmVyeSBpcyBkaXNhYmxlZCBidXQgJyArIHNlcnZpY2UuYXBpLmNsYXNzTmFtZSArICcuJyArIHJlcXVlc3Qub3BlcmF0aW9uICtcbiAgICAgICAgICAgICAgICAgICAgJygpIHJlcXVpcmVzIGl0LiBQbGVhc2UgY2hlY2sgeW91ciBjb25maWd1cmF0aW9ucy4nXG4gICAgICAgIH0pO1xuICAgICAgICBkb25lKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmVxdWVzdC5hZGROYW1lZExpc3RlbmVyKCdJTlZBTElEQVRFX0NBQ0hFRF9FTkRQT0lOVFMnLCAnZXh0cmFjdEVycm9yJywgaW52YWxpZGF0ZUNhY2hlZEVuZHBvaW50cyk7XG4gICAgICByZXF1aXJlZERpc2NvdmVyRW5kcG9pbnQocmVxdWVzdCwgZG9uZSk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdOVUxMJzpcbiAgICBkZWZhdWx0OlxuICAgICAgZG9uZSgpO1xuICAgICAgYnJlYWs7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRpc2NvdmVyRW5kcG9pbnQ6IGRpc2NvdmVyRW5kcG9pbnQsXG4gIHJlcXVpcmVkRGlzY292ZXJFbmRwb2ludDogcmVxdWlyZWREaXNjb3ZlckVuZHBvaW50LFxuICBvcHRpb25hbERpc2NvdmVyRW5kcG9pbnQ6IG9wdGlvbmFsRGlzY292ZXJFbmRwb2ludCxcbiAgbWFyc2hhbGxDdXN0b21JZGVudGlmaWVyczogbWFyc2hhbGxDdXN0b21JZGVudGlmaWVycyxcbiAgZ2V0Q2FjaGVLZXk6IGdldENhY2hlS2V5LFxuICBpbnZhbGlkYXRlQ2FjaGVkRW5kcG9pbnQ6IGludmFsaWRhdGVDYWNoZWRFbmRwb2ludHMsXG59O1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuL2NvcmUnKTtcbnZhciBTZXF1ZW50aWFsRXhlY3V0b3IgPSByZXF1aXJlKCcuL3NlcXVlbnRpYWxfZXhlY3V0b3InKTtcbnZhciBESVNDT1ZFUl9FTkRQT0lOVCA9IHJlcXVpcmUoJy4vZGlzY292ZXJfZW5kcG9pbnQnKS5kaXNjb3ZlckVuZHBvaW50O1xuLyoqXG4gKiBUaGUgbmFtZXNwYWNlIHVzZWQgdG8gcmVnaXN0ZXIgZ2xvYmFsIGV2ZW50IGxpc3RlbmVycyBmb3IgcmVxdWVzdCBidWlsZGluZ1xuICogYW5kIHNlbmRpbmcuXG4gKi9cbkFXUy5FdmVudExpc3RlbmVycyA9IHtcbiAgLyoqXG4gICAqIEAhYXR0cmlidXRlIFZBTElEQVRFX0NSRURFTlRJQUxTXG4gICAqICAgQSByZXF1ZXN0IGxpc3RlbmVyIHRoYXQgdmFsaWRhdGVzIHdoZXRoZXIgdGhlIHJlcXVlc3QgaXMgYmVpbmdcbiAgICogICBzZW50IHdpdGggY3JlZGVudGlhbHMuXG4gICAqICAgSGFuZGxlcyB0aGUge0FXUy5SZXF1ZXN0fnZhbGlkYXRlICd2YWxpZGF0ZScgUmVxdWVzdCBldmVudH1cbiAgICogICBAZXhhbXBsZSBTZW5kaW5nIGEgcmVxdWVzdCB3aXRob3V0IHZhbGlkYXRpbmcgY3JlZGVudGlhbHNcbiAgICogICAgIHZhciBsaXN0ZW5lciA9IEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX0NSRURFTlRJQUxTO1xuICAgKiAgICAgcmVxdWVzdC5yZW1vdmVMaXN0ZW5lcigndmFsaWRhdGUnLCBsaXN0ZW5lcik7XG4gICAqICAgQHJlYWRvbmx5XG4gICAqICAgQHJldHVybiBbRnVuY3Rpb25dXG4gICAqIEAhYXR0cmlidXRlIFZBTElEQVRFX1JFR0lPTlxuICAgKiAgIEEgcmVxdWVzdCBsaXN0ZW5lciB0aGF0IHZhbGlkYXRlcyB3aGV0aGVyIHRoZSByZWdpb24gaXMgc2V0XG4gICAqICAgZm9yIGEgcmVxdWVzdC5cbiAgICogICBIYW5kbGVzIHRoZSB7QVdTLlJlcXVlc3R+dmFsaWRhdGUgJ3ZhbGlkYXRlJyBSZXF1ZXN0IGV2ZW50fVxuICAgKiAgIEBleGFtcGxlIFNlbmRpbmcgYSByZXF1ZXN0IHdpdGhvdXQgdmFsaWRhdGluZyByZWdpb24gY29uZmlndXJhdGlvblxuICAgKiAgICAgdmFyIGxpc3RlbmVyID0gQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUkVHSU9OO1xuICAgKiAgICAgcmVxdWVzdC5yZW1vdmVMaXN0ZW5lcigndmFsaWRhdGUnLCBsaXN0ZW5lcik7XG4gICAqICAgQHJlYWRvbmx5XG4gICAqICAgQHJldHVybiBbRnVuY3Rpb25dXG4gICAqIEAhYXR0cmlidXRlIFZBTElEQVRFX1BBUkFNRVRFUlNcbiAgICogICBBIHJlcXVlc3QgbGlzdGVuZXIgdGhhdCB2YWxpZGF0ZXMgaW5wdXQgcGFyYW1ldGVycyBpbiBhIHJlcXVlc3QuXG4gICAqICAgSGFuZGxlcyB0aGUge0FXUy5SZXF1ZXN0fnZhbGlkYXRlICd2YWxpZGF0ZScgUmVxdWVzdCBldmVudH1cbiAgICogICBAZXhhbXBsZSBTZW5kaW5nIGEgcmVxdWVzdCB3aXRob3V0IHZhbGlkYXRpbmcgcGFyYW1ldGVyc1xuICAgKiAgICAgdmFyIGxpc3RlbmVyID0gQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUEFSQU1FVEVSUztcbiAgICogICAgIHJlcXVlc3QucmVtb3ZlTGlzdGVuZXIoJ3ZhbGlkYXRlJywgbGlzdGVuZXIpO1xuICAgKiAgIEBleGFtcGxlIERpc2FibGUgcGFyYW1ldGVyIHZhbGlkYXRpb24gZ2xvYmFsbHlcbiAgICogICAgIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLnJlbW92ZUxpc3RlbmVyKCd2YWxpZGF0ZScsXG4gICAqICAgICAgIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX1JFR0lPTik7XG4gICAqICAgQHJlYWRvbmx5XG4gICAqICAgQHJldHVybiBbRnVuY3Rpb25dXG4gICAqIEAhYXR0cmlidXRlIFNFTkRcbiAgICogICBBIHJlcXVlc3QgbGlzdGVuZXIgdGhhdCBpbml0aWF0ZXMgdGhlIEhUVFAgY29ubmVjdGlvbiBmb3IgYVxuICAgKiAgIHJlcXVlc3QgYmVpbmcgc2VudC4gSGFuZGxlcyB0aGUge0FXUy5SZXF1ZXN0fnNlbmQgJ3NlbmQnIFJlcXVlc3QgZXZlbnR9XG4gICAqICAgQGV4YW1wbGUgUmVwbGFjaW5nIHRoZSBIVFRQIGhhbmRsZXJcbiAgICogICAgIHZhciBsaXN0ZW5lciA9IEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlNFTkQ7XG4gICAqICAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKCdzZW5kJywgbGlzdGVuZXIpO1xuICAgKiAgICAgcmVxdWVzdC5vbignc2VuZCcsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAqICAgICAgIGN1c3RvbUhhbmRsZXIuc2VuZChyZXNwb25zZSk7XG4gICAqICAgICB9KTtcbiAgICogICBAcmV0dXJuIFtGdW5jdGlvbl1cbiAgICogICBAcmVhZG9ubHlcbiAgICogQCFhdHRyaWJ1dGUgSFRUUF9EQVRBXG4gICAqICAgQSByZXF1ZXN0IGxpc3RlbmVyIHRoYXQgcmVhZHMgZGF0YSBmcm9tIHRoZSBIVFRQIGNvbm5lY3Rpb24gaW4gb3JkZXJcbiAgICogICB0byBidWlsZCB0aGUgcmVzcG9uc2UgZGF0YS5cbiAgICogICBIYW5kbGVzIHRoZSB7QVdTLlJlcXVlc3R+aHR0cERhdGEgJ2h0dHBEYXRhJyBSZXF1ZXN0IGV2ZW50fS5cbiAgICogICBSZW1vdmUgdGhpcyBoYW5kbGVyIGlmIHlvdSBhcmUgb3ZlcnJpZGluZyB0aGUgJ2h0dHBEYXRhJyBldmVudCBhbmRcbiAgICogICBkbyBub3Qgd2FudCBleHRyYSBkYXRhIHByb2Nlc3NpbmcgYW5kIGJ1ZmZlcmluZyBvdmVyaGVhZC5cbiAgICogICBAZXhhbXBsZSBEaXNhYmxpbmcgZGVmYXVsdCBkYXRhIHByb2Nlc3NpbmdcbiAgICogICAgIHZhciBsaXN0ZW5lciA9IEFXUy5FdmVudExpc3RlbmVycy5Db3JlLkhUVFBfREFUQTtcbiAgICogICAgIHJlcXVlc3QucmVtb3ZlTGlzdGVuZXIoJ2h0dHBEYXRhJywgbGlzdGVuZXIpO1xuICAgKiAgIEByZXR1cm4gW0Z1bmN0aW9uXVxuICAgKiAgIEByZWFkb25seVxuICAgKi9cbiAgQ29yZToge30gLyogZG9jIGhhY2sgKi9cbn07XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGdldE9wZXJhdGlvbkF1dGh0eXBlKHJlcSkge1xuICBpZiAoIXJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHZhciBvcGVyYXRpb24gPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXTtcbiAgcmV0dXJuIG9wZXJhdGlvbiA/IG9wZXJhdGlvbi5hdXRodHlwZSA6ICcnO1xufVxuXG5BV1MuRXZlbnRMaXN0ZW5lcnMgPSB7XG4gIENvcmU6IG5ldyBTZXF1ZW50aWFsRXhlY3V0b3IoKS5hZGROYW1lZExpc3RlbmVycyhmdW5jdGlvbihhZGQsIGFkZEFzeW5jKSB7XG4gICAgYWRkQXN5bmMoJ1ZBTElEQVRFX0NSRURFTlRJQUxTJywgJ3ZhbGlkYXRlJyxcbiAgICAgICAgZnVuY3Rpb24gVkFMSURBVEVfQ1JFREVOVElBTFMocmVxLCBkb25lKSB7XG4gICAgICBpZiAoIXJlcS5zZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uICYmICFyZXEuc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbikgcmV0dXJuIGRvbmUoKTsgLy8gbm9uZVxuICAgICAgcmVxLnNlcnZpY2UuY29uZmlnLmdldENyZWRlbnRpYWxzKGZ1bmN0aW9uKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVxLnJlc3BvbnNlLmVycm9yID0gQVdTLnV0aWwuZXJyb3IoZXJyLFxuICAgICAgICAgICAge2NvZGU6ICdDcmVkZW50aWFsc0Vycm9yJywgbWVzc2FnZTogJ01pc3NpbmcgY3JlZGVudGlhbHMgaW4gY29uZmlnLCBpZiB1c2luZyBBV1NfQ09ORklHX0ZJTEUsIHNldCBBV1NfU0RLX0xPQURfQ09ORklHPTEnfSk7XG4gICAgICAgIH1cbiAgICAgICAgZG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBhZGQoJ1ZBTElEQVRFX1JFR0lPTicsICd2YWxpZGF0ZScsIGZ1bmN0aW9uIFZBTElEQVRFX1JFR0lPTihyZXEpIHtcbiAgICAgIGlmICghcmVxLnNlcnZpY2UuaXNHbG9iYWxFbmRwb2ludCkge1xuICAgICAgICB2YXIgZG5zSG9zdFJlZ2V4ID0gbmV3IFJlZ0V4cCgvXihbYS16QS1aMC05XXxbYS16QS1aMC05XVthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKSQvKTtcbiAgICAgICAgaWYgKCFyZXEuc2VydmljZS5jb25maWcucmVnaW9uKSB7XG4gICAgICAgICAgcmVxLnJlc3BvbnNlLmVycm9yID0gQVdTLnV0aWwuZXJyb3IobmV3IEVycm9yKCksXG4gICAgICAgICAgICB7Y29kZTogJ0NvbmZpZ0Vycm9yJywgbWVzc2FnZTogJ01pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyd9KTtcbiAgICAgICAgfSBlbHNlIGlmICghZG5zSG9zdFJlZ2V4LnRlc3QocmVxLnNlcnZpY2UuY29uZmlnLnJlZ2lvbikpIHtcbiAgICAgICAgICByZXEucmVzcG9uc2UuZXJyb3IgPSBBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IoKSxcbiAgICAgICAgICAgIHtjb2RlOiAnQ29uZmlnRXJyb3InLCBtZXNzYWdlOiAnSW52YWxpZCByZWdpb24gaW4gY29uZmlnJ30pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGQoJ0JVSUxEX0lERU1QT1RFTkNZX1RPS0VOUycsICd2YWxpZGF0ZScsIGZ1bmN0aW9uIEJVSUxEX0lERU1QT1RFTkNZX1RPS0VOUyhyZXEpIHtcbiAgICAgIGlmICghcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIG9wZXJhdGlvbiA9IHJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcS5vcGVyYXRpb25dO1xuICAgICAgaWYgKCFvcGVyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGlkZW1wb3RlbnRNZW1iZXJzID0gb3BlcmF0aW9uLmlkZW1wb3RlbnRNZW1iZXJzO1xuICAgICAgaWYgKCFpZGVtcG90ZW50TWVtYmVycy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gY3JlYXRlcyBhIGNvcHkgb2YgcGFyYW1zIHNvIHVzZXIncyBwYXJhbSBvYmplY3QgaXNuJ3QgbXV0YXRlZFxuICAgICAgdmFyIHBhcmFtcyA9IEFXUy51dGlsLmNvcHkocmVxLnBhcmFtcyk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgaUxlbiA9IGlkZW1wb3RlbnRNZW1iZXJzLmxlbmd0aDsgaSA8IGlMZW47IGkrKykge1xuICAgICAgICBpZiAoIXBhcmFtc1tpZGVtcG90ZW50TWVtYmVyc1tpXV0pIHtcbiAgICAgICAgICAvLyBhZGQgdGhlIG1lbWJlclxuICAgICAgICAgIHBhcmFtc1tpZGVtcG90ZW50TWVtYmVyc1tpXV0gPSBBV1MudXRpbC51dWlkLnY0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlcS5wYXJhbXMgPSBwYXJhbXM7XG4gICAgfSk7XG5cbiAgICBhZGQoJ1ZBTElEQVRFX1BBUkFNRVRFUlMnLCAndmFsaWRhdGUnLCBmdW5jdGlvbiBWQUxJREFURV9QQVJBTUVURVJTKHJlcSkge1xuICAgICAgaWYgKCFyZXEuc2VydmljZS5hcGkub3BlcmF0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcnVsZXMgPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXS5pbnB1dDtcbiAgICAgIHZhciB2YWxpZGF0aW9uID0gcmVxLnNlcnZpY2UuY29uZmlnLnBhcmFtVmFsaWRhdGlvbjtcbiAgICAgIG5ldyBBV1MuUGFyYW1WYWxpZGF0b3IodmFsaWRhdGlvbikudmFsaWRhdGUocnVsZXMsIHJlcS5wYXJhbXMpO1xuICAgIH0pO1xuXG4gICAgYWRkKCdDT01QVVRFX0NIRUNLU1VNJywgJ2FmdGVyQnVpbGQnLCBmdW5jdGlvbiBDT01QVVRFX0NIRUNLU1VNKHJlcSkge1xuICAgICAgaWYgKCFyZXEuc2VydmljZS5hcGkub3BlcmF0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgb3BlcmF0aW9uID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl07XG4gICAgICBpZiAoIW9wZXJhdGlvbikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgYm9keSA9IHJlcS5odHRwUmVxdWVzdC5ib2R5O1xuICAgICAgdmFyIGlzTm9uU3RyZWFtaW5nUGF5bG9hZCA9IGJvZHkgJiYgKEFXUy51dGlsLkJ1ZmZlci5pc0J1ZmZlcihib2R5KSB8fCB0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpO1xuICAgICAgdmFyIGhlYWRlcnMgPSByZXEuaHR0cFJlcXVlc3QuaGVhZGVycztcbiAgICAgIGlmIChcbiAgICAgICAgb3BlcmF0aW9uLmh0dHBDaGVja3N1bVJlcXVpcmVkICYmXG4gICAgICAgIHJlcS5zZXJ2aWNlLmNvbmZpZy5jb21wdXRlQ2hlY2tzdW1zICYmXG4gICAgICAgIGlzTm9uU3RyZWFtaW5nUGF5bG9hZCAmJlxuICAgICAgICAhaGVhZGVyc1snQ29udGVudC1NRDUnXVxuICAgICAgKSB7XG4gICAgICAgIHZhciBtZDUgPSBBV1MudXRpbC5jcnlwdG8ubWQ1KGJvZHksICdiYXNlNjQnKTtcbiAgICAgICAgaGVhZGVyc1snQ29udGVudC1NRDUnXSA9IG1kNTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZEFzeW5jKCdDT01QVVRFX1NIQTI1NicsICdhZnRlckJ1aWxkJywgZnVuY3Rpb24gQ09NUFVURV9TSEEyNTYocmVxLCBkb25lKSB7XG4gICAgICByZXEuaGFsdEhhbmRsZXJzT25FcnJvcigpO1xuICAgICAgaWYgKCFyZXEuc2VydmljZS5hcGkub3BlcmF0aW9ucykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgb3BlcmF0aW9uID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl07XG4gICAgICB2YXIgYXV0aHR5cGUgPSBvcGVyYXRpb24gPyBvcGVyYXRpb24uYXV0aHR5cGUgOiAnJztcbiAgICAgIGlmICghcmVxLnNlcnZpY2UuYXBpLnNpZ25hdHVyZVZlcnNpb24gJiYgIWF1dGh0eXBlICYmICFyZXEuc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbikgcmV0dXJuIGRvbmUoKTsgLy8gbm9uZVxuICAgICAgaWYgKHJlcS5zZXJ2aWNlLmdldFNpZ25lckNsYXNzKHJlcSkgPT09IEFXUy5TaWduZXJzLlY0KSB7XG4gICAgICAgIHZhciBib2R5ID0gcmVxLmh0dHBSZXF1ZXN0LmJvZHkgfHwgJyc7XG4gICAgICAgIGlmIChhdXRodHlwZS5pbmRleE9mKCd1bnNpZ25lZC1ib2R5JykgPj0gMCkge1xuICAgICAgICAgIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzWydYLUFtei1Db250ZW50LVNoYTI1NiddID0gJ1VOU0lHTkVELVBBWUxPQUQnO1xuICAgICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICAgIH1cbiAgICAgICAgQVdTLnV0aWwuY29tcHV0ZVNoYTI1Nihib2R5LCBmdW5jdGlvbihlcnIsIHNoYSkge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGRvbmUoZXJyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXEuaHR0cFJlcXVlc3QuaGVhZGVyc1snWC1BbXotQ29udGVudC1TaGEyNTYnXSA9IHNoYTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkKCdTRVRfQ09OVEVOVF9MRU5HVEgnLCAnYWZ0ZXJCdWlsZCcsIGZ1bmN0aW9uIFNFVF9DT05URU5UX0xFTkdUSChyZXEpIHtcbiAgICAgIHZhciBhdXRodHlwZSA9IGdldE9wZXJhdGlvbkF1dGh0eXBlKHJlcSk7XG4gICAgICB2YXIgcGF5bG9hZE1lbWJlciA9IEFXUy51dGlsLmdldFJlcXVlc3RQYXlsb2FkU2hhcGUocmVxKTtcbiAgICAgIGlmIChyZXEuaHR0cFJlcXVlc3QuaGVhZGVyc1snQ29udGVudC1MZW5ndGgnXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIGxlbmd0aCA9IEFXUy51dGlsLnN0cmluZy5ieXRlTGVuZ3RoKHJlcS5odHRwUmVxdWVzdC5ib2R5KTtcbiAgICAgICAgICByZXEuaHR0cFJlcXVlc3QuaGVhZGVyc1snQ29udGVudC1MZW5ndGgnXSA9IGxlbmd0aDtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgaWYgKHBheWxvYWRNZW1iZXIgJiYgcGF5bG9hZE1lbWJlci5pc1N0cmVhbWluZykge1xuICAgICAgICAgICAgaWYgKHBheWxvYWRNZW1iZXIucmVxdWlyZXNMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy9zdHJlYW1pbmcgcGF5bG9hZCByZXF1aXJlcyBsZW5ndGgoczMsIGdsYWNpZXIpXG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXV0aHR5cGUuaW5kZXhPZigndW5zaWduZWQtYm9keScpID49IDApIHtcbiAgICAgICAgICAgICAgLy91bmJvdW5kZWQgc3RyZWFtaW5nIHBheWxvYWQobGV4LCBtZWRpYXN0b3JlKVxuICAgICAgICAgICAgICByZXEuaHR0cFJlcXVlc3QuaGVhZGVyc1snVHJhbnNmZXItRW5jb2RpbmcnXSA9ICdjaHVua2VkJztcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZCgnU0VUX0hUVFBfSE9TVCcsICdhZnRlckJ1aWxkJywgZnVuY3Rpb24gU0VUX0hUVFBfSE9TVChyZXEpIHtcbiAgICAgIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzWydIb3N0J10gPSByZXEuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdDtcbiAgICB9KTtcblxuICAgIGFkZCgnU0VUX1RSQUNFX0lEJywgJ2FmdGVyQnVpbGQnLCBmdW5jdGlvbiBTRVRfVFJBQ0VfSUQocmVxKSB7XG4gICAgICB2YXIgdHJhY2VJZEhlYWRlck5hbWUgPSAnWC1BbXpuLVRyYWNlLUlkJztcbiAgICAgIGlmIChBV1MudXRpbC5pc05vZGUoKSAmJiAhT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocmVxLmh0dHBSZXF1ZXN0LmhlYWRlcnMsIHRyYWNlSWRIZWFkZXJOYW1lKSkge1xuICAgICAgICB2YXIgRU5WX0xBTUJEQV9GVU5DVElPTl9OQU1FID0gJ0FXU19MQU1CREFfRlVOQ1RJT05fTkFNRSc7XG4gICAgICAgIHZhciBFTlZfVFJBQ0VfSUQgPSAnX1hfQU1aTl9UUkFDRV9JRCc7XG4gICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBwcm9jZXNzLmVudltFTlZfTEFNQkRBX0ZVTkNUSU9OX05BTUVdO1xuICAgICAgICB2YXIgdHJhY2VJZCA9IHByb2Nlc3MuZW52W0VOVl9UUkFDRV9JRF07XG4gICAgICAgIGlmIChcbiAgICAgICAgICB0eXBlb2YgZnVuY3Rpb25OYW1lID09PSAnc3RyaW5nJyAmJlxuICAgICAgICAgIGZ1bmN0aW9uTmFtZS5sZW5ndGggPiAwICYmXG4gICAgICAgICAgdHlwZW9mIHRyYWNlSWQgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgdHJhY2VJZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzW3RyYWNlSWRIZWFkZXJOYW1lXSA9IHRyYWNlSWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZCgnUkVTVEFSVCcsICdyZXN0YXJ0JywgZnVuY3Rpb24gUkVTVEFSVCgpIHtcbiAgICAgIHZhciBlcnIgPSB0aGlzLnJlc3BvbnNlLmVycm9yO1xuICAgICAgaWYgKCFlcnIgfHwgIWVyci5yZXRyeWFibGUpIHJldHVybjtcblxuICAgICAgdGhpcy5odHRwUmVxdWVzdCA9IG5ldyBBV1MuSHR0cFJlcXVlc3QoXG4gICAgICAgIHRoaXMuc2VydmljZS5lbmRwb2ludCxcbiAgICAgICAgdGhpcy5zZXJ2aWNlLnJlZ2lvblxuICAgICAgKTtcblxuICAgICAgaWYgKHRoaXMucmVzcG9uc2UucmV0cnlDb3VudCA8IHRoaXMuc2VydmljZS5jb25maWcubWF4UmV0cmllcykge1xuICAgICAgICB0aGlzLnJlc3BvbnNlLnJldHJ5Q291bnQrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucmVzcG9uc2UuZXJyb3IgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGFkZFRvSGVhZCA9IHRydWU7XG4gICAgYWRkQXN5bmMoJ0RJU0NPVkVSX0VORFBPSU5UJywgJ3NpZ24nLCBESVNDT1ZFUl9FTkRQT0lOVCwgYWRkVG9IZWFkKTtcblxuICAgIGFkZEFzeW5jKCdTSUdOJywgJ3NpZ24nLCBmdW5jdGlvbiBTSUdOKHJlcSwgZG9uZSkge1xuICAgICAgdmFyIHNlcnZpY2UgPSByZXEuc2VydmljZTtcbiAgICAgIHZhciBvcGVyYXRpb25zID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMgfHwge307XG4gICAgICB2YXIgb3BlcmF0aW9uID0gb3BlcmF0aW9uc1tyZXEub3BlcmF0aW9uXTtcbiAgICAgIHZhciBhdXRodHlwZSA9IG9wZXJhdGlvbiA/IG9wZXJhdGlvbi5hdXRodHlwZSA6ICcnO1xuICAgICAgaWYgKCFzZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uICYmICFhdXRodHlwZSAmJiAhc2VydmljZS5jb25maWcuc2lnbmF0dXJlVmVyc2lvbikgcmV0dXJuIGRvbmUoKTsgLy8gbm9uZVxuXG4gICAgICBpZiAoYXV0aHR5cGUgPT09ICdiZWFyZXInIHx8IHNlcnZpY2UuY29uZmlnLnNpZ25hdHVyZVZlcnNpb24gPT09ICdiZWFyZXInKSB7XG4gICAgICAgIHNlcnZpY2UuY29uZmlnLmdldFRva2VuKGZ1bmN0aW9uIChlcnIsIHRva2VuKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVxLnJlc3BvbnNlLmVycm9yID0gZXJyO1xuICAgICAgICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIFNpZ25lckNsYXNzID0gc2VydmljZS5nZXRTaWduZXJDbGFzcyhyZXEpO1xuICAgICAgICAgICAgdmFyIHNpZ25lciA9IG5ldyBTaWduZXJDbGFzcyhyZXEuaHR0cFJlcXVlc3QpO1xuICAgICAgICAgICAgc2lnbmVyLmFkZEF1dGhvcml6YXRpb24odG9rZW4pO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlcS5yZXNwb25zZS5lcnJvciA9IGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXJ2aWNlLmNvbmZpZy5nZXRDcmVkZW50aWFscyhmdW5jdGlvbiAoZXJyLCBjcmVkZW50aWFscykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlcS5yZXNwb25zZS5lcnJvciA9IGVycjtcbiAgICAgICAgICAgIHJldHVybiBkb25lKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpO1xuICAgICAgICAgICAgdmFyIFNpZ25lckNsYXNzID0gc2VydmljZS5nZXRTaWduZXJDbGFzcyhyZXEpO1xuICAgICAgICAgICAgdmFyIHNpZ25lciA9IG5ldyBTaWduZXJDbGFzcyhyZXEuaHR0cFJlcXVlc3QsXG4gICAgICAgICAgICAgIHNlcnZpY2UuZ2V0U2lnbmluZ05hbWUocmVxKSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNpZ25hdHVyZUNhY2hlOiBzZXJ2aWNlLmNvbmZpZy5zaWduYXR1cmVDYWNoZSxcbiAgICAgICAgICAgICAgICBvcGVyYXRpb246IG9wZXJhdGlvbixcbiAgICAgICAgICAgICAgICBzaWduYXR1cmVWZXJzaW9uOiBzZXJ2aWNlLmFwaS5zaWduYXR1cmVWZXJzaW9uXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2lnbmVyLnNldFNlcnZpY2VDbGllbnRJZChzZXJ2aWNlLl9jbGllbnRJZCk7XG5cbiAgICAgICAgICAgIC8vIGNsZWFyIG9sZCBhdXRob3JpemF0aW9uIGhlYWRlcnNcbiAgICAgICAgICAgIGRlbGV0ZSByZXEuaHR0cFJlcXVlc3QuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddO1xuICAgICAgICAgICAgZGVsZXRlIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzWydEYXRlJ107XG4gICAgICAgICAgICBkZWxldGUgcmVxLmh0dHBSZXF1ZXN0LmhlYWRlcnNbJ1gtQW16LURhdGUnXTtcblxuICAgICAgICAgICAgLy8gYWRkIG5ldyBhdXRob3JpemF0aW9uXG4gICAgICAgICAgICBzaWduZXIuYWRkQXV0aG9yaXphdGlvbihjcmVkZW50aWFscywgZGF0ZSk7XG4gICAgICAgICAgICByZXEuc2lnbmVkQXQgPSBkYXRlO1xuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJlcS5yZXNwb25zZS5lcnJvciA9IGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZCgnVkFMSURBVEVfUkVTUE9OU0UnLCAndmFsaWRhdGVSZXNwb25zZScsIGZ1bmN0aW9uIFZBTElEQVRFX1JFU1BPTlNFKHJlc3ApIHtcbiAgICAgIGlmICh0aGlzLnNlcnZpY2Uuc3VjY2Vzc2Z1bFJlc3BvbnNlKHJlc3AsIHRoaXMpKSB7XG4gICAgICAgIHJlc3AuZGF0YSA9IHt9O1xuICAgICAgICByZXNwLmVycm9yID0gbnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3AuZGF0YSA9IG51bGw7XG4gICAgICAgIHJlc3AuZXJyb3IgPSBBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IoKSxcbiAgICAgICAgICB7Y29kZTogJ1Vua25vd25FcnJvcicsIG1lc3NhZ2U6ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkLid9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZCgnRVJST1InLCAnZXJyb3InLCBmdW5jdGlvbiBFUlJPUihlcnIsIHJlc3ApIHtcbiAgICAgIHZhciBlcnJvckNvZGVNYXBwaW5nID0gcmVzcC5yZXF1ZXN0LnNlcnZpY2UuYXBpLmVycm9yQ29kZU1hcHBpbmc7XG4gICAgICBpZiAoZXJyb3JDb2RlTWFwcGluZyAmJiBlcnIgJiYgZXJyLmNvZGUpIHtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBlcnJvckNvZGVNYXBwaW5nW2Vyci5jb2RlXTtcbiAgICAgICAgaWYgKG1hcHBpbmcpIHtcbiAgICAgICAgICByZXNwLmVycm9yLmNvZGUgPSBtYXBwaW5nLmNvZGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0cnVlKTtcblxuICAgIGFkZEFzeW5jKCdTRU5EJywgJ3NlbmQnLCBmdW5jdGlvbiBTRU5EKHJlc3AsIGRvbmUpIHtcbiAgICAgIHJlc3AuaHR0cFJlc3BvbnNlLl9hYm9ydENhbGxiYWNrID0gZG9uZTtcbiAgICAgIHJlc3AuZXJyb3IgPSBudWxsO1xuICAgICAgcmVzcC5kYXRhID0gbnVsbDtcblxuICAgICAgZnVuY3Rpb24gY2FsbGJhY2soaHR0cFJlc3ApIHtcbiAgICAgICAgcmVzcC5odHRwUmVzcG9uc2Uuc3RyZWFtID0gaHR0cFJlc3A7XG4gICAgICAgIHZhciBzdHJlYW0gPSByZXNwLnJlcXVlc3QuaHR0cFJlcXVlc3Quc3RyZWFtO1xuICAgICAgICB2YXIgc2VydmljZSA9IHJlc3AucmVxdWVzdC5zZXJ2aWNlO1xuICAgICAgICB2YXIgYXBpID0gc2VydmljZS5hcGk7XG4gICAgICAgIHZhciBvcGVyYXRpb25OYW1lID0gcmVzcC5yZXF1ZXN0Lm9wZXJhdGlvbjtcbiAgICAgICAgdmFyIG9wZXJhdGlvbiA9IGFwaS5vcGVyYXRpb25zW29wZXJhdGlvbk5hbWVdIHx8IHt9O1xuXG4gICAgICAgIGh0dHBSZXNwLm9uKCdoZWFkZXJzJywgZnVuY3Rpb24gb25IZWFkZXJzKHN0YXR1c0NvZGUsIGhlYWRlcnMsIHN0YXR1c01lc3NhZ2UpIHtcbiAgICAgICAgICByZXNwLnJlcXVlc3QuZW1pdChcbiAgICAgICAgICAgICdodHRwSGVhZGVycycsXG4gICAgICAgICAgICBbc3RhdHVzQ29kZSwgaGVhZGVycywgcmVzcCwgc3RhdHVzTWVzc2FnZV1cbiAgICAgICAgICApO1xuXG4gICAgICAgICAgaWYgKCFyZXNwLmh0dHBSZXNwb25zZS5zdHJlYW1pbmcpIHtcbiAgICAgICAgICAgIGlmIChBV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiA9PT0gMikgeyAvLyBzdHJlYW1zMiBBUEkgY2hlY2tcbiAgICAgICAgICAgICAgLy8gaWYgd2UgZGV0ZWN0IGV2ZW50IHN0cmVhbXMsIHdlJ3JlIGdvaW5nIHRvIGhhdmUgdG9cbiAgICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBzdHJlYW0gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgaWYgKG9wZXJhdGlvbi5oYXNFdmVudE91dHB1dCAmJiBzZXJ2aWNlLnN1Y2Nlc3NmdWxSZXNwb25zZShyZXNwKSkge1xuICAgICAgICAgICAgICAgIC8vIHNraXAgcmVhZGluZyB0aGUgSW5jb21pbmdTdHJlYW1cbiAgICAgICAgICAgICAgICByZXNwLnJlcXVlc3QuZW1pdCgnaHR0cERvbmUnKTtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaHR0cFJlc3Aub24oJ3JlYWRhYmxlJywgZnVuY3Rpb24gb25SZWFkYWJsZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IGh0dHBSZXNwLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVzcC5yZXF1ZXN0LmVtaXQoJ2h0dHBEYXRhJywgW2RhdGEsIHJlc3BdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHsgLy8gbGVnYWN5IHN0cmVhbXMgQVBJXG4gICAgICAgICAgICAgIGh0dHBSZXNwLm9uKCdkYXRhJywgZnVuY3Rpb24gb25EYXRhKGRhdGEpIHtcbiAgICAgICAgICAgICAgICByZXNwLnJlcXVlc3QuZW1pdCgnaHR0cERhdGEnLCBbZGF0YSwgcmVzcF0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGh0dHBSZXNwLm9uKCdlbmQnLCBmdW5jdGlvbiBvbkVuZCgpIHtcbiAgICAgICAgICBpZiAoIXN0cmVhbSB8fCAhc3RyZWFtLmRpZENhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoQVdTLkh0dHBDbGllbnQuc3RyZWFtc0FwaVZlcnNpb24gPT09IDIgJiYgKG9wZXJhdGlvbi5oYXNFdmVudE91dHB1dCAmJiBzZXJ2aWNlLnN1Y2Nlc3NmdWxSZXNwb25zZShyZXNwKSkpIHtcbiAgICAgICAgICAgICAgLy8gZG9uJ3QgY29uY2F0ZW5hdGUgcmVzcG9uc2UgY2h1bmtzIHdoZW4gc3RyZWFtaW5nIGV2ZW50IHN0cmVhbSBkYXRhIHdoZW4gcmVzcG9uc2UgaXMgc3VjY2Vzc2Z1bFxuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXNwLnJlcXVlc3QuZW1pdCgnaHR0cERvbmUnKTtcbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBwcm9ncmVzcyhodHRwUmVzcCkge1xuICAgICAgICBodHRwUmVzcC5vbignc2VuZFByb2dyZXNzJywgZnVuY3Rpb24gb25TZW5kUHJvZ3Jlc3ModmFsdWUpIHtcbiAgICAgICAgICByZXNwLnJlcXVlc3QuZW1pdCgnaHR0cFVwbG9hZFByb2dyZXNzJywgW3ZhbHVlLCByZXNwXSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGh0dHBSZXNwLm9uKCdyZWNlaXZlUHJvZ3Jlc3MnLCBmdW5jdGlvbiBvblJlY2VpdmVQcm9ncmVzcyh2YWx1ZSkge1xuICAgICAgICAgIHJlc3AucmVxdWVzdC5lbWl0KCdodHRwRG93bmxvYWRQcm9ncmVzcycsIFt2YWx1ZSwgcmVzcF0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZXJyb3IoZXJyKSB7XG4gICAgICAgIGlmIChlcnIuY29kZSAhPT0gJ1JlcXVlc3RBYm9ydGVkRXJyb3InKSB7XG4gICAgICAgICAgdmFyIGVyckNvZGUgPSBlcnIuY29kZSA9PT0gJ1RpbWVvdXRFcnJvcicgPyBlcnIuY29kZSA6ICdOZXR3b3JraW5nRXJyb3InO1xuICAgICAgICAgIGVyciA9IEFXUy51dGlsLmVycm9yKGVyciwge1xuICAgICAgICAgICAgY29kZTogZXJyQ29kZSxcbiAgICAgICAgICAgIHJlZ2lvbjogcmVzcC5yZXF1ZXN0Lmh0dHBSZXF1ZXN0LnJlZ2lvbixcbiAgICAgICAgICAgIGhvc3RuYW1lOiByZXNwLnJlcXVlc3QuaHR0cFJlcXVlc3QuZW5kcG9pbnQuaG9zdG5hbWUsXG4gICAgICAgICAgICByZXRyeWFibGU6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXNwLmVycm9yID0gZXJyO1xuICAgICAgICByZXNwLnJlcXVlc3QuZW1pdCgnaHR0cEVycm9yJywgW3Jlc3AuZXJyb3IsIHJlc3BdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICBkb25lKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBleGVjdXRlU2VuZCgpIHtcbiAgICAgICAgdmFyIGh0dHAgPSBBV1MuSHR0cENsaWVudC5nZXRJbnN0YW5jZSgpO1xuICAgICAgICB2YXIgaHR0cE9wdGlvbnMgPSByZXNwLnJlcXVlc3Quc2VydmljZS5jb25maWcuaHR0cE9wdGlvbnMgfHwge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFyIHN0cmVhbSA9IGh0dHAuaGFuZGxlUmVxdWVzdChyZXNwLnJlcXVlc3QuaHR0cFJlcXVlc3QsIGh0dHBPcHRpb25zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2ssIGVycm9yKTtcbiAgICAgICAgICBwcm9ncmVzcyhzdHJlYW0pO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBlcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgdGltZURpZmYgPSAocmVzcC5yZXF1ZXN0LnNlcnZpY2UuZ2V0U2tld0NvcnJlY3RlZERhdGUoKSAtIHRoaXMuc2lnbmVkQXQpIC8gMTAwMDtcbiAgICAgIGlmICh0aW1lRGlmZiA+PSA2MCAqIDEwKSB7IC8vIGlmIHdlIHNpZ25lZCAxMG1pbiBhZ28sIHJlLXNpZ25cbiAgICAgICAgdGhpcy5lbWl0KCdzaWduJywgW3RoaXNdLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBpZiAoZXJyKSBkb25lKGVycik7XG4gICAgICAgICAgZWxzZSBleGVjdXRlU2VuZCgpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGV4ZWN1dGVTZW5kKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGQoJ0hUVFBfSEVBREVSUycsICdodHRwSGVhZGVycycsXG4gICAgICAgIGZ1bmN0aW9uIEhUVFBfSEVBREVSUyhzdGF0dXNDb2RlLCBoZWFkZXJzLCByZXNwLCBzdGF0dXNNZXNzYWdlKSB7XG4gICAgICByZXNwLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICAgIHJlc3AuaHR0cFJlc3BvbnNlLnN0YXR1c01lc3NhZ2UgPSBzdGF0dXNNZXNzYWdlO1xuICAgICAgcmVzcC5odHRwUmVzcG9uc2UuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICByZXNwLmh0dHBSZXNwb25zZS5ib2R5ID0gQVdTLnV0aWwuYnVmZmVyLnRvQnVmZmVyKCcnKTtcbiAgICAgIHJlc3AuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMgPSBbXTtcbiAgICAgIHJlc3AuaHR0cFJlc3BvbnNlLm51bUJ5dGVzID0gMDtcbiAgICAgIHZhciBkYXRlSGVhZGVyID0gaGVhZGVycy5kYXRlIHx8IGhlYWRlcnMuRGF0ZTtcbiAgICAgIHZhciBzZXJ2aWNlID0gcmVzcC5yZXF1ZXN0LnNlcnZpY2U7XG4gICAgICBpZiAoZGF0ZUhlYWRlcikge1xuICAgICAgICB2YXIgc2VydmVyVGltZSA9IERhdGUucGFyc2UoZGF0ZUhlYWRlcik7XG4gICAgICAgIGlmIChzZXJ2aWNlLmNvbmZpZy5jb3JyZWN0Q2xvY2tTa2V3XG4gICAgICAgICAgICAmJiBzZXJ2aWNlLmlzQ2xvY2tTa2V3ZWQoc2VydmVyVGltZSkpIHtcbiAgICAgICAgICBzZXJ2aWNlLmFwcGx5Q2xvY2tPZmZzZXQoc2VydmVyVGltZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZCgnSFRUUF9EQVRBJywgJ2h0dHBEYXRhJywgZnVuY3Rpb24gSFRUUF9EQVRBKGNodW5rLCByZXNwKSB7XG4gICAgICBpZiAoY2h1bmspIHtcbiAgICAgICAgaWYgKEFXUy51dGlsLmlzTm9kZSgpKSB7XG4gICAgICAgICAgcmVzcC5odHRwUmVzcG9uc2UubnVtQnl0ZXMgKz0gY2h1bmsubGVuZ3RoO1xuXG4gICAgICAgICAgdmFyIHRvdGFsID0gcmVzcC5odHRwUmVzcG9uc2UuaGVhZGVyc1snY29udGVudC1sZW5ndGgnXTtcbiAgICAgICAgICB2YXIgcHJvZ3Jlc3MgPSB7IGxvYWRlZDogcmVzcC5odHRwUmVzcG9uc2UubnVtQnl0ZXMsIHRvdGFsOiB0b3RhbCB9O1xuICAgICAgICAgIHJlc3AucmVxdWVzdC5lbWl0KCdodHRwRG93bmxvYWRQcm9ncmVzcycsIFtwcm9ncmVzcywgcmVzcF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzcC5odHRwUmVzcG9uc2UuYnVmZmVycy5wdXNoKEFXUy51dGlsLmJ1ZmZlci50b0J1ZmZlcihjaHVuaykpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkKCdIVFRQX0RPTkUnLCAnaHR0cERvbmUnLCBmdW5jdGlvbiBIVFRQX0RPTkUocmVzcCkge1xuICAgICAgLy8gY29udmVydCBidWZmZXJzIGFycmF5IGludG8gc2luZ2xlIGJ1ZmZlclxuICAgICAgaWYgKHJlc3AuaHR0cFJlc3BvbnNlLmJ1ZmZlcnMgJiYgcmVzcC5odHRwUmVzcG9uc2UuYnVmZmVycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBib2R5ID0gQVdTLnV0aWwuYnVmZmVyLmNvbmNhdChyZXNwLmh0dHBSZXNwb25zZS5idWZmZXJzKTtcbiAgICAgICAgcmVzcC5odHRwUmVzcG9uc2UuYm9keSA9IGJvZHk7XG4gICAgICB9XG4gICAgICBkZWxldGUgcmVzcC5odHRwUmVzcG9uc2UubnVtQnl0ZXM7XG4gICAgICBkZWxldGUgcmVzcC5odHRwUmVzcG9uc2UuYnVmZmVycztcbiAgICB9KTtcblxuICAgIGFkZCgnRklOQUxJWkVfRVJST1InLCAncmV0cnknLCBmdW5jdGlvbiBGSU5BTElaRV9FUlJPUihyZXNwKSB7XG4gICAgICBpZiAocmVzcC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZSkge1xuICAgICAgICByZXNwLmVycm9yLnN0YXR1c0NvZGUgPSByZXNwLmh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICBpZiAocmVzcC5lcnJvci5yZXRyeWFibGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3AuZXJyb3IucmV0cnlhYmxlID0gdGhpcy5zZXJ2aWNlLnJldHJ5YWJsZUVycm9yKHJlc3AuZXJyb3IsIHRoaXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGQoJ0lOVkFMSURBVEVfQ1JFREVOVElBTFMnLCAncmV0cnknLCBmdW5jdGlvbiBJTlZBTElEQVRFX0NSRURFTlRJQUxTKHJlc3ApIHtcbiAgICAgIGlmICghcmVzcC5lcnJvcikgcmV0dXJuO1xuICAgICAgc3dpdGNoIChyZXNwLmVycm9yLmNvZGUpIHtcbiAgICAgICAgY2FzZSAnUmVxdWVzdEV4cGlyZWQnOiAvLyBFQzIgb25seVxuICAgICAgICBjYXNlICdFeHBpcmVkVG9rZW5FeGNlcHRpb24nOlxuICAgICAgICBjYXNlICdFeHBpcmVkVG9rZW4nOlxuICAgICAgICAgIHJlc3AuZXJyb3IucmV0cnlhYmxlID0gdHJ1ZTtcbiAgICAgICAgICByZXNwLnJlcXVlc3Quc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMuZXhwaXJlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGQoJ0VYUElSRURfU0lHTkFUVVJFJywgJ3JldHJ5JywgZnVuY3Rpb24gRVhQSVJFRF9TSUdOQVRVUkUocmVzcCkge1xuICAgICAgdmFyIGVyciA9IHJlc3AuZXJyb3I7XG4gICAgICBpZiAoIWVycikgcmV0dXJuO1xuICAgICAgaWYgKHR5cGVvZiBlcnIuY29kZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGVyci5tZXNzYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoZXJyLmNvZGUubWF0Y2goL1NpZ25hdHVyZS8pICYmIGVyci5tZXNzYWdlLm1hdGNoKC9leHBpcmVkLykpIHtcbiAgICAgICAgICByZXNwLmVycm9yLnJldHJ5YWJsZSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGFkZCgnQ0xPQ0tfU0tFV0VEJywgJ3JldHJ5JywgZnVuY3Rpb24gQ0xPQ0tfU0tFV0VEKHJlc3ApIHtcbiAgICAgIGlmICghcmVzcC5lcnJvcikgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuc2VydmljZS5jbG9ja1NrZXdFcnJvcihyZXNwLmVycm9yKVxuICAgICAgICAgICYmIHRoaXMuc2VydmljZS5jb25maWcuY29ycmVjdENsb2NrU2tldykge1xuICAgICAgICByZXNwLmVycm9yLnJldHJ5YWJsZSA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGQoJ1JFRElSRUNUJywgJ3JldHJ5JywgZnVuY3Rpb24gUkVESVJFQ1QocmVzcCkge1xuICAgICAgaWYgKHJlc3AuZXJyb3IgJiYgcmVzcC5lcnJvci5zdGF0dXNDb2RlID49IDMwMCAmJlxuICAgICAgICAgIHJlc3AuZXJyb3Iuc3RhdHVzQ29kZSA8IDQwMCAmJiByZXNwLmh0dHBSZXNwb25zZS5oZWFkZXJzWydsb2NhdGlvbiddKSB7XG4gICAgICAgIHRoaXMuaHR0cFJlcXVlc3QuZW5kcG9pbnQgPVxuICAgICAgICAgIG5ldyBBV1MuRW5kcG9pbnQocmVzcC5odHRwUmVzcG9uc2UuaGVhZGVyc1snbG9jYXRpb24nXSk7XG4gICAgICAgIHRoaXMuaHR0cFJlcXVlc3QuaGVhZGVyc1snSG9zdCddID0gdGhpcy5odHRwUmVxdWVzdC5lbmRwb2ludC5ob3N0O1xuICAgICAgICByZXNwLmVycm9yLnJlZGlyZWN0ID0gdHJ1ZTtcbiAgICAgICAgcmVzcC5lcnJvci5yZXRyeWFibGUgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgYWRkKCdSRVRSWV9DSEVDSycsICdyZXRyeScsIGZ1bmN0aW9uIFJFVFJZX0NIRUNLKHJlc3ApIHtcbiAgICAgIGlmIChyZXNwLmVycm9yKSB7XG4gICAgICAgIGlmIChyZXNwLmVycm9yLnJlZGlyZWN0ICYmIHJlc3AucmVkaXJlY3RDb3VudCA8IHJlc3AubWF4UmVkaXJlY3RzKSB7XG4gICAgICAgICAgcmVzcC5lcnJvci5yZXRyeURlbGF5ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwLnJldHJ5Q291bnQgPCByZXNwLm1heFJldHJpZXMpIHtcbiAgICAgICAgICByZXNwLmVycm9yLnJldHJ5RGVsYXkgPSB0aGlzLnNlcnZpY2UucmV0cnlEZWxheXMocmVzcC5yZXRyeUNvdW50LCByZXNwLmVycm9yKSB8fCAwO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGRBc3luYygnUkVTRVRfUkVUUllfU1RBVEUnLCAnYWZ0ZXJSZXRyeScsIGZ1bmN0aW9uIFJFU0VUX1JFVFJZX1NUQVRFKHJlc3AsIGRvbmUpIHtcbiAgICAgIHZhciBkZWxheSwgd2lsbFJldHJ5ID0gZmFsc2U7XG5cbiAgICAgIGlmIChyZXNwLmVycm9yKSB7XG4gICAgICAgIGRlbGF5ID0gcmVzcC5lcnJvci5yZXRyeURlbGF5IHx8IDA7XG4gICAgICAgIGlmIChyZXNwLmVycm9yLnJldHJ5YWJsZSAmJiByZXNwLnJldHJ5Q291bnQgPCByZXNwLm1heFJldHJpZXMpIHtcbiAgICAgICAgICByZXNwLnJldHJ5Q291bnQrKztcbiAgICAgICAgICB3aWxsUmV0cnkgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHJlc3AuZXJyb3IucmVkaXJlY3QgJiYgcmVzcC5yZWRpcmVjdENvdW50IDwgcmVzcC5tYXhSZWRpcmVjdHMpIHtcbiAgICAgICAgICByZXNwLnJlZGlyZWN0Q291bnQrKztcbiAgICAgICAgICB3aWxsUmV0cnkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGRlbGF5IDwgMCBpcyBhIHNpZ25hbCBmcm9tIGN1c3RvbUJhY2tvZmYgdG8gc2tpcCByZXRyaWVzXG4gICAgICBpZiAod2lsbFJldHJ5ICYmIGRlbGF5ID49IDApIHtcbiAgICAgICAgcmVzcC5lcnJvciA9IG51bGw7XG4gICAgICAgIHNldFRpbWVvdXQoZG9uZSwgZGVsYXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KSxcblxuICBDb3JlUG9zdDogbmV3IFNlcXVlbnRpYWxFeGVjdXRvcigpLmFkZE5hbWVkTGlzdGVuZXJzKGZ1bmN0aW9uKGFkZCkge1xuICAgIGFkZCgnRVhUUkFDVF9SRVFVRVNUX0lEJywgJ2V4dHJhY3REYXRhJywgQVdTLnV0aWwuZXh0cmFjdFJlcXVlc3RJZCk7XG4gICAgYWRkKCdFWFRSQUNUX1JFUVVFU1RfSUQnLCAnZXh0cmFjdEVycm9yJywgQVdTLnV0aWwuZXh0cmFjdFJlcXVlc3RJZCk7XG5cbiAgICBhZGQoJ0VOT1RGT1VORF9FUlJPUicsICdodHRwRXJyb3InLCBmdW5jdGlvbiBFTk9URk9VTkRfRVJST1IoZXJyKSB7XG4gICAgICBmdW5jdGlvbiBpc0ROU0Vycm9yKGVycikge1xuICAgICAgICByZXR1cm4gZXJyLmVycm5vID09PSAnRU5PVEZPVU5EJyB8fFxuICAgICAgICAgIHR5cGVvZiBlcnIuZXJybm8gPT09ICdudW1iZXInICYmXG4gICAgICAgICAgdHlwZW9mIEFXUy51dGlsLmdldFN5c3RlbUVycm9yTmFtZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIFsnRUFJX05PTkFNRScsICdFQUlfTk9EQVRBJ10uaW5kZXhPZihBV1MudXRpbC5nZXRTeXN0ZW1FcnJvck5hbWUoZXJyLmVycm5vKSA+PSAwKTtcbiAgICAgIH1cbiAgICAgIGlmIChlcnIuY29kZSA9PT0gJ05ldHdvcmtpbmdFcnJvcicgJiYgaXNETlNFcnJvcihlcnIpKSB7XG4gICAgICAgIHZhciBtZXNzYWdlID0gJ0luYWNjZXNzaWJsZSBob3N0OiBgJyArIGVyci5ob3N0bmFtZSArICdcXCcgYXQgcG9ydCBgJyArIGVyci5wb3J0ICtcbiAgICAgICAgICAnXFwnLiBUaGlzIHNlcnZpY2UgbWF5IG5vdCBiZSBhdmFpbGFibGUgaW4gdGhlIGAnICsgZXJyLnJlZ2lvbiArXG4gICAgICAgICAgJ1xcJyByZWdpb24uJztcbiAgICAgICAgdGhpcy5yZXNwb25zZS5lcnJvciA9IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcihtZXNzYWdlKSwge1xuICAgICAgICAgIGNvZGU6ICdVbmtub3duRW5kcG9pbnQnLFxuICAgICAgICAgIHJlZ2lvbjogZXJyLnJlZ2lvbixcbiAgICAgICAgICBob3N0bmFtZTogZXJyLmhvc3RuYW1lLFxuICAgICAgICAgIHJldHJ5YWJsZTogdHJ1ZSxcbiAgICAgICAgICBvcmlnaW5hbEVycm9yOiBlcnJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLFxuXG4gIExvZ2dlcjogbmV3IFNlcXVlbnRpYWxFeGVjdXRvcigpLmFkZE5hbWVkTGlzdGVuZXJzKGZ1bmN0aW9uKGFkZCkge1xuICAgIGFkZCgnTE9HX1JFUVVFU1QnLCAnY29tcGxldGUnLCBmdW5jdGlvbiBMT0dfUkVRVUVTVChyZXNwKSB7XG4gICAgICB2YXIgcmVxID0gcmVzcC5yZXF1ZXN0O1xuICAgICAgdmFyIGxvZ2dlciA9IHJlcS5zZXJ2aWNlLmNvbmZpZy5sb2dnZXI7XG4gICAgICBpZiAoIWxvZ2dlcikgcmV0dXJuO1xuICAgICAgZnVuY3Rpb24gZmlsdGVyU2Vuc2l0aXZlTG9nKGlucHV0U2hhcGUsIHNoYXBlKSB7XG4gICAgICAgIGlmICghc2hhcGUpIHtcbiAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0U2hhcGUuaXNTZW5zaXRpdmUpIHtcbiAgICAgICAgICByZXR1cm4gJyoqKlNlbnNpdGl2ZUluZm9ybWF0aW9uKioqJztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGlucHV0U2hhcGUudHlwZSkge1xuICAgICAgICAgIGNhc2UgJ3N0cnVjdHVyZSc6XG4gICAgICAgICAgICB2YXIgc3RydWN0ID0ge307XG4gICAgICAgICAgICBBV1MudXRpbC5lYWNoKHNoYXBlLCBmdW5jdGlvbihzdWJTaGFwZU5hbWUsIHN1YlNoYXBlKSB7XG4gICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5wdXRTaGFwZS5tZW1iZXJzLCBzdWJTaGFwZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgc3RydWN0W3N1YlNoYXBlTmFtZV0gPSBmaWx0ZXJTZW5zaXRpdmVMb2coaW5wdXRTaGFwZS5tZW1iZXJzW3N1YlNoYXBlTmFtZV0sIHN1YlNoYXBlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJ1Y3Rbc3ViU2hhcGVOYW1lXSA9IHN1YlNoYXBlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdHJ1Y3Q7XG4gICAgICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgICAgICB2YXIgbGlzdCA9IFtdO1xuICAgICAgICAgICAgQVdTLnV0aWwuYXJyYXlFYWNoKHNoYXBlLCBmdW5jdGlvbihzdWJTaGFwZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgbGlzdC5wdXNoKGZpbHRlclNlbnNpdGl2ZUxvZyhpbnB1dFNoYXBlLm1lbWJlciwgc3ViU2hhcGUpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICAgICAgY2FzZSAnbWFwJzpcbiAgICAgICAgICAgIHZhciBtYXAgPSB7fTtcbiAgICAgICAgICAgIEFXUy51dGlsLmVhY2goc2hhcGUsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgbWFwW2tleV0gPSBmaWx0ZXJTZW5zaXRpdmVMb2coaW5wdXRTaGFwZS52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gYnVpbGRNZXNzYWdlKCkge1xuICAgICAgICB2YXIgdGltZSA9IHJlc3AucmVxdWVzdC5zZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICB2YXIgZGVsdGEgPSAodGltZSAtIHJlcS5zdGFydFRpbWUuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgIHZhciBhbnNpID0gbG9nZ2VyLmlzVFRZID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICB2YXIgc3RhdHVzID0gcmVzcC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgdmFyIGNlbnNvcmVkUGFyYW1zID0gcmVxLnBhcmFtcztcbiAgICAgICAgaWYgKFxuICAgICAgICAgIHJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zICYmXG4gICAgICAgICAgICAgIHJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcS5vcGVyYXRpb25dICYmXG4gICAgICAgICAgICAgIHJlcS5zZXJ2aWNlLmFwaS5vcGVyYXRpb25zW3JlcS5vcGVyYXRpb25dLmlucHV0XG4gICAgICAgICkge1xuICAgICAgICAgIHZhciBpbnB1dFNoYXBlID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxLm9wZXJhdGlvbl0uaW5wdXQ7XG4gICAgICAgICAgY2Vuc29yZWRQYXJhbXMgPSBmaWx0ZXJTZW5zaXRpdmVMb2coaW5wdXRTaGFwZSwgcmVxLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmFtcyA9IHJlcXVpcmUoJ3V0aWwnKS5pbnNwZWN0KGNlbnNvcmVkUGFyYW1zLCB0cnVlLCBudWxsKTtcbiAgICAgICAgdmFyIG1lc3NhZ2UgPSAnJztcbiAgICAgICAgaWYgKGFuc2kpIG1lc3NhZ2UgKz0gJ1xceDFCWzMzbSc7XG4gICAgICAgIG1lc3NhZ2UgKz0gJ1tBV1MgJyArIHJlcS5zZXJ2aWNlLnNlcnZpY2VJZGVudGlmaWVyICsgJyAnICsgc3RhdHVzO1xuICAgICAgICBtZXNzYWdlICs9ICcgJyArIGRlbHRhLnRvU3RyaW5nKCkgKyAncyAnICsgcmVzcC5yZXRyeUNvdW50ICsgJyByZXRyaWVzXSc7XG4gICAgICAgIGlmIChhbnNpKSBtZXNzYWdlICs9ICdcXHgxQlswOzFtJztcbiAgICAgICAgbWVzc2FnZSArPSAnICcgKyBBV1MudXRpbC5zdHJpbmcubG93ZXJGaXJzdChyZXEub3BlcmF0aW9uKTtcbiAgICAgICAgbWVzc2FnZSArPSAnKCcgKyBwYXJhbXMgKyAnKSc7XG4gICAgICAgIGlmIChhbnNpKSBtZXNzYWdlICs9ICdcXHgxQlswbSc7XG4gICAgICAgIHJldHVybiBtZXNzYWdlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbGluZSA9IGJ1aWxkTWVzc2FnZSgpO1xuICAgICAgaWYgKHR5cGVvZiBsb2dnZXIubG9nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGxvZ2dlci5sb2cobGluZSk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsb2dnZXIud3JpdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgbG9nZ2VyLndyaXRlKGxpbmUgKyAnXFxuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLFxuXG4gIEpzb246IG5ldyBTZXF1ZW50aWFsRXhlY3V0b3IoKS5hZGROYW1lZExpc3RlbmVycyhmdW5jdGlvbihhZGQpIHtcbiAgICB2YXIgc3ZjID0gcmVxdWlyZSgnLi9wcm90b2NvbC9qc29uJyk7XG4gICAgYWRkKCdCVUlMRCcsICdidWlsZCcsIHN2Yy5idWlsZFJlcXVlc3QpO1xuICAgIGFkZCgnRVhUUkFDVF9EQVRBJywgJ2V4dHJhY3REYXRhJywgc3ZjLmV4dHJhY3REYXRhKTtcbiAgICBhZGQoJ0VYVFJBQ1RfRVJST1InLCAnZXh0cmFjdEVycm9yJywgc3ZjLmV4dHJhY3RFcnJvcik7XG4gIH0pLFxuXG4gIFJlc3Q6IG5ldyBTZXF1ZW50aWFsRXhlY3V0b3IoKS5hZGROYW1lZExpc3RlbmVycyhmdW5jdGlvbihhZGQpIHtcbiAgICB2YXIgc3ZjID0gcmVxdWlyZSgnLi9wcm90b2NvbC9yZXN0Jyk7XG4gICAgYWRkKCdCVUlMRCcsICdidWlsZCcsIHN2Yy5idWlsZFJlcXVlc3QpO1xuICAgIGFkZCgnRVhUUkFDVF9EQVRBJywgJ2V4dHJhY3REYXRhJywgc3ZjLmV4dHJhY3REYXRhKTtcbiAgICBhZGQoJ0VYVFJBQ1RfRVJST1InLCAnZXh0cmFjdEVycm9yJywgc3ZjLmV4dHJhY3RFcnJvcik7XG4gIH0pLFxuXG4gIFJlc3RKc29uOiBuZXcgU2VxdWVudGlhbEV4ZWN1dG9yKCkuYWRkTmFtZWRMaXN0ZW5lcnMoZnVuY3Rpb24oYWRkKSB7XG4gICAgdmFyIHN2YyA9IHJlcXVpcmUoJy4vcHJvdG9jb2wvcmVzdF9qc29uJyk7XG4gICAgYWRkKCdCVUlMRCcsICdidWlsZCcsIHN2Yy5idWlsZFJlcXVlc3QpO1xuICAgIGFkZCgnRVhUUkFDVF9EQVRBJywgJ2V4dHJhY3REYXRhJywgc3ZjLmV4dHJhY3REYXRhKTtcbiAgICBhZGQoJ0VYVFJBQ1RfRVJST1InLCAnZXh0cmFjdEVycm9yJywgc3ZjLmV4dHJhY3RFcnJvcik7XG4gIH0pLFxuXG4gIFJlc3RYbWw6IG5ldyBTZXF1ZW50aWFsRXhlY3V0b3IoKS5hZGROYW1lZExpc3RlbmVycyhmdW5jdGlvbihhZGQpIHtcbiAgICB2YXIgc3ZjID0gcmVxdWlyZSgnLi9wcm90b2NvbC9yZXN0X3htbCcpO1xuICAgIGFkZCgnQlVJTEQnLCAnYnVpbGQnLCBzdmMuYnVpbGRSZXF1ZXN0KTtcbiAgICBhZGQoJ0VYVFJBQ1RfREFUQScsICdleHRyYWN0RGF0YScsIHN2Yy5leHRyYWN0RGF0YSk7XG4gICAgYWRkKCdFWFRSQUNUX0VSUk9SJywgJ2V4dHJhY3RFcnJvcicsIHN2Yy5leHRyYWN0RXJyb3IpO1xuICB9KSxcblxuICBRdWVyeTogbmV3IFNlcXVlbnRpYWxFeGVjdXRvcigpLmFkZE5hbWVkTGlzdGVuZXJzKGZ1bmN0aW9uKGFkZCkge1xuICAgIHZhciBzdmMgPSByZXF1aXJlKCcuL3Byb3RvY29sL3F1ZXJ5Jyk7XG4gICAgYWRkKCdCVUlMRCcsICdidWlsZCcsIHN2Yy5idWlsZFJlcXVlc3QpO1xuICAgIGFkZCgnRVhUUkFDVF9EQVRBJywgJ2V4dHJhY3REYXRhJywgc3ZjLmV4dHJhY3REYXRhKTtcbiAgICBhZGQoJ0VYVFJBQ1RfRVJST1InLCAnZXh0cmFjdEVycm9yJywgc3ZjLmV4dHJhY3RFcnJvcik7XG4gIH0pXG59O1xuIiwgImZ1bmN0aW9uIEFjY2VwdG9yU3RhdGVNYWNoaW5lKHN0YXRlcywgc3RhdGUpIHtcbiAgdGhpcy5jdXJyZW50U3RhdGUgPSBzdGF0ZSB8fCBudWxsO1xuICB0aGlzLnN0YXRlcyA9IHN0YXRlcyB8fCB7fTtcbn1cblxuQWNjZXB0b3JTdGF0ZU1hY2hpbmUucHJvdG90eXBlLnJ1blRvID0gZnVuY3Rpb24gcnVuVG8oZmluYWxTdGF0ZSwgZG9uZSwgYmluZE9iamVjdCwgaW5wdXRFcnJvcikge1xuICBpZiAodHlwZW9mIGZpbmFsU3RhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpbnB1dEVycm9yID0gYmluZE9iamVjdDsgYmluZE9iamVjdCA9IGRvbmU7XG4gICAgZG9uZSA9IGZpbmFsU3RhdGU7IGZpbmFsU3RhdGUgPSBudWxsO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgc3RhdGUgPSBzZWxmLnN0YXRlc1tzZWxmLmN1cnJlbnRTdGF0ZV07XG4gIHN0YXRlLmZuLmNhbGwoYmluZE9iamVjdCB8fCBzZWxmLCBpbnB1dEVycm9yLCBmdW5jdGlvbihlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpZiAoc3RhdGUuZmFpbCkgc2VsZi5jdXJyZW50U3RhdGUgPSBzdGF0ZS5mYWlsO1xuICAgICAgZWxzZSByZXR1cm4gZG9uZSA/IGRvbmUuY2FsbChiaW5kT2JqZWN0LCBlcnIpIDogbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXRlLmFjY2VwdCkgc2VsZi5jdXJyZW50U3RhdGUgPSBzdGF0ZS5hY2NlcHQ7XG4gICAgICBlbHNlIHJldHVybiBkb25lID8gZG9uZS5jYWxsKGJpbmRPYmplY3QpIDogbnVsbDtcbiAgICB9XG4gICAgaWYgKHNlbGYuY3VycmVudFN0YXRlID09PSBmaW5hbFN0YXRlKSB7XG4gICAgICByZXR1cm4gZG9uZSA/IGRvbmUuY2FsbChiaW5kT2JqZWN0LCBlcnIpIDogbnVsbDtcbiAgICB9XG5cbiAgICBzZWxmLnJ1blRvKGZpbmFsU3RhdGUsIGRvbmUsIGJpbmRPYmplY3QsIGVycik7XG4gIH0pO1xufTtcblxuQWNjZXB0b3JTdGF0ZU1hY2hpbmUucHJvdG90eXBlLmFkZFN0YXRlID0gZnVuY3Rpb24gYWRkU3RhdGUobmFtZSwgYWNjZXB0U3RhdGUsIGZhaWxTdGF0ZSwgZm4pIHtcbiAgaWYgKHR5cGVvZiBhY2NlcHRTdGF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZuID0gYWNjZXB0U3RhdGU7IGFjY2VwdFN0YXRlID0gbnVsbDsgZmFpbFN0YXRlID0gbnVsbDtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZmFpbFN0YXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZm4gPSBmYWlsU3RhdGU7IGZhaWxTdGF0ZSA9IG51bGw7XG4gIH1cblxuICBpZiAoIXRoaXMuY3VycmVudFN0YXRlKSB0aGlzLmN1cnJlbnRTdGF0ZSA9IG5hbWU7XG4gIHRoaXMuc3RhdGVzW25hbWVdID0geyBhY2NlcHQ6IGFjY2VwdFN0YXRlLCBmYWlsOiBmYWlsU3RhdGUsIGZuOiBmbiB9O1xuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQWNjZXB0b3JTdGF0ZU1hY2hpbmU7XG4iLCAiKGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgZnVuY3Rpb24gaXNBcnJheShvYmopIHtcbiAgICBpZiAob2JqICE9PSBudWxsKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09IFwiW29iamVjdCBBcnJheV1cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGlzT2JqZWN0KG9iaikge1xuICAgIGlmIChvYmogIT09IG51bGwpIHtcbiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gXCJbb2JqZWN0IE9iamVjdF1cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0cmljdERlZXBFcXVhbChmaXJzdCwgc2Vjb25kKSB7XG4gICAgLy8gQ2hlY2sgdGhlIHNjYWxhciBjYXNlIGZpcnN0LlxuICAgIGlmIChmaXJzdCA9PT0gc2Vjb25kKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGV5IGFyZSB0aGUgc2FtZSB0eXBlLlxuICAgIHZhciBmaXJzdFR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZmlyc3QpO1xuICAgIGlmIChmaXJzdFR5cGUgIT09IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChzZWNvbmQpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIFdlIGtub3cgdGhhdCBmaXJzdCBhbmQgc2Vjb25kIGhhdmUgdGhlIHNhbWUgdHlwZSBzbyB3ZSBjYW4ganVzdCBjaGVjayB0aGVcbiAgICAvLyBmaXJzdCB0eXBlIGZyb20gbm93IG9uLlxuICAgIGlmIChpc0FycmF5KGZpcnN0KSA9PT0gdHJ1ZSkge1xuICAgICAgLy8gU2hvcnQgY2lyY3VpdCBpZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSBsZW5ndGg7XG4gICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmlyc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHN0cmljdERlZXBFcXVhbChmaXJzdFtpXSwgc2Vjb25kW2ldKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoaXNPYmplY3QoZmlyc3QpID09PSB0cnVlKSB7XG4gICAgICAvLyBBbiBvYmplY3QgaXMgZXF1YWwgaWYgaXQgaGFzIHRoZSBzYW1lIGtleS92YWx1ZSBwYWlycy5cbiAgICAgIHZhciBrZXlzU2VlbiA9IHt9O1xuICAgICAgZm9yICh2YXIga2V5IGluIGZpcnN0KSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGZpcnN0LCBrZXkpKSB7XG4gICAgICAgICAgaWYgKHN0cmljdERlZXBFcXVhbChmaXJzdFtrZXldLCBzZWNvbmRba2V5XSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIGtleXNTZWVuW2tleV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBOb3cgY2hlY2sgdGhhdCB0aGVyZSBhcmVuJ3QgYW55IGtleXMgaW4gc2Vjb25kIHRoYXQgd2VyZW4ndFxuICAgICAgLy8gaW4gZmlyc3QuXG4gICAgICBmb3IgKHZhciBrZXkyIGluIHNlY29uZCkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzZWNvbmQsIGtleTIpKSB7XG4gICAgICAgICAgaWYgKGtleXNTZWVuW2tleTJdICE9PSB0cnVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNGYWxzZShvYmopIHtcbiAgICAvLyBGcm9tIHRoZSBzcGVjOlxuICAgIC8vIEEgZmFsc2UgdmFsdWUgY29ycmVzcG9uZHMgdG8gdGhlIGZvbGxvd2luZyB2YWx1ZXM6XG4gICAgLy8gRW1wdHkgbGlzdFxuICAgIC8vIEVtcHR5IG9iamVjdFxuICAgIC8vIEVtcHR5IHN0cmluZ1xuICAgIC8vIEZhbHNlIGJvb2xlYW5cbiAgICAvLyBudWxsIHZhbHVlXG5cbiAgICAvLyBGaXJzdCBjaGVjayB0aGUgc2NhbGFyIHZhbHVlcy5cbiAgICBpZiAob2JqID09PSBcIlwiIHx8IG9iaiA9PT0gZmFsc2UgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopICYmIG9iai5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFuIGVtcHR5IGFycmF5LlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG9iaikpIHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFuIGVtcHR5IG9iamVjdC5cbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFueSBrZXlzLCB0aGVuXG4gICAgICAgICAgICAvLyB0aGUgb2JqZWN0IGlzIG5vdCBlbXB0eSBzbyB0aGUgb2JqZWN0XG4gICAgICAgICAgICAvLyBpcyBub3QgZmFsc2UuXG4gICAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvYmpWYWx1ZXMob2JqKSB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhbHVlcy5wdXNoKG9ialtrZXlzW2ldXSk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG4gIH1cblxuICBmdW5jdGlvbiBtZXJnZShhLCBiKSB7XG4gICAgICB2YXIgbWVyZ2VkID0ge307XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYSkge1xuICAgICAgICAgIG1lcmdlZFtrZXldID0gYVtrZXldO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5MiBpbiBiKSB7XG4gICAgICAgICAgbWVyZ2VkW2tleTJdID0gYltrZXkyXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtZXJnZWQ7XG4gIH1cblxuICB2YXIgdHJpbUxlZnQ7XG4gIGlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50cmltTGVmdCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdHJpbUxlZnQgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHJldHVybiBzdHIudHJpbUxlZnQoKTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHRyaW1MZWZ0ID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyLm1hdGNoKC9eXFxzKiguKikvKVsxXTtcbiAgICB9O1xuICB9XG5cbiAgLy8gVHlwZSBjb25zdGFudHMgdXNlZCB0byBkZWZpbmUgZnVuY3Rpb25zLlxuICB2YXIgVFlQRV9OVU1CRVIgPSAwO1xuICB2YXIgVFlQRV9BTlkgPSAxO1xuICB2YXIgVFlQRV9TVFJJTkcgPSAyO1xuICB2YXIgVFlQRV9BUlJBWSA9IDM7XG4gIHZhciBUWVBFX09CSkVDVCA9IDQ7XG4gIHZhciBUWVBFX0JPT0xFQU4gPSA1O1xuICB2YXIgVFlQRV9FWFBSRUYgPSA2O1xuICB2YXIgVFlQRV9OVUxMID0gNztcbiAgdmFyIFRZUEVfQVJSQVlfTlVNQkVSID0gODtcbiAgdmFyIFRZUEVfQVJSQVlfU1RSSU5HID0gOTtcbiAgdmFyIFRZUEVfTkFNRV9UQUJMRSA9IHtcbiAgICAwOiAnbnVtYmVyJyxcbiAgICAxOiAnYW55JyxcbiAgICAyOiAnc3RyaW5nJyxcbiAgICAzOiAnYXJyYXknLFxuICAgIDQ6ICdvYmplY3QnLFxuICAgIDU6ICdib29sZWFuJyxcbiAgICA2OiAnZXhwcmVzc2lvbicsXG4gICAgNzogJ251bGwnLFxuICAgIDg6ICdBcnJheTxudW1iZXI+JyxcbiAgICA5OiAnQXJyYXk8c3RyaW5nPidcbiAgfTtcblxuICB2YXIgVE9LX0VPRiA9IFwiRU9GXCI7XG4gIHZhciBUT0tfVU5RVU9URURJREVOVElGSUVSID0gXCJVbnF1b3RlZElkZW50aWZpZXJcIjtcbiAgdmFyIFRPS19RVU9URURJREVOVElGSUVSID0gXCJRdW90ZWRJZGVudGlmaWVyXCI7XG4gIHZhciBUT0tfUkJSQUNLRVQgPSBcIlJicmFja2V0XCI7XG4gIHZhciBUT0tfUlBBUkVOID0gXCJScGFyZW5cIjtcbiAgdmFyIFRPS19DT01NQSA9IFwiQ29tbWFcIjtcbiAgdmFyIFRPS19DT0xPTiA9IFwiQ29sb25cIjtcbiAgdmFyIFRPS19SQlJBQ0UgPSBcIlJicmFjZVwiO1xuICB2YXIgVE9LX05VTUJFUiA9IFwiTnVtYmVyXCI7XG4gIHZhciBUT0tfQ1VSUkVOVCA9IFwiQ3VycmVudFwiO1xuICB2YXIgVE9LX0VYUFJFRiA9IFwiRXhwcmVmXCI7XG4gIHZhciBUT0tfUElQRSA9IFwiUGlwZVwiO1xuICB2YXIgVE9LX09SID0gXCJPclwiO1xuICB2YXIgVE9LX0FORCA9IFwiQW5kXCI7XG4gIHZhciBUT0tfRVEgPSBcIkVRXCI7XG4gIHZhciBUT0tfR1QgPSBcIkdUXCI7XG4gIHZhciBUT0tfTFQgPSBcIkxUXCI7XG4gIHZhciBUT0tfR1RFID0gXCJHVEVcIjtcbiAgdmFyIFRPS19MVEUgPSBcIkxURVwiO1xuICB2YXIgVE9LX05FID0gXCJORVwiO1xuICB2YXIgVE9LX0ZMQVRURU4gPSBcIkZsYXR0ZW5cIjtcbiAgdmFyIFRPS19TVEFSID0gXCJTdGFyXCI7XG4gIHZhciBUT0tfRklMVEVSID0gXCJGaWx0ZXJcIjtcbiAgdmFyIFRPS19ET1QgPSBcIkRvdFwiO1xuICB2YXIgVE9LX05PVCA9IFwiTm90XCI7XG4gIHZhciBUT0tfTEJSQUNFID0gXCJMYnJhY2VcIjtcbiAgdmFyIFRPS19MQlJBQ0tFVCA9IFwiTGJyYWNrZXRcIjtcbiAgdmFyIFRPS19MUEFSRU49IFwiTHBhcmVuXCI7XG4gIHZhciBUT0tfTElURVJBTD0gXCJMaXRlcmFsXCI7XG5cbiAgLy8gVGhlIFwiJlwiLCBcIltcIiwgXCI8XCIsIFwiPlwiIHRva2Vuc1xuICAvLyBhcmUgbm90IGluIGJhc2ljVG9rZW4gYmVjYXVzZVxuICAvLyB0aGVyZSBhcmUgdHdvIHRva2VuIHZhcmlhbnRzXG4gIC8vIChcIiYmXCIsIFwiWz9cIiwgXCI8PVwiLCBcIj49XCIpLiAgVGhpcyBpcyBzcGVjaWFsbHkgaGFuZGxlZFxuICAvLyBiZWxvdy5cblxuICB2YXIgYmFzaWNUb2tlbnMgPSB7XG4gICAgXCIuXCI6IFRPS19ET1QsXG4gICAgXCIqXCI6IFRPS19TVEFSLFxuICAgIFwiLFwiOiBUT0tfQ09NTUEsXG4gICAgXCI6XCI6IFRPS19DT0xPTixcbiAgICBcIntcIjogVE9LX0xCUkFDRSxcbiAgICBcIn1cIjogVE9LX1JCUkFDRSxcbiAgICBcIl1cIjogVE9LX1JCUkFDS0VULFxuICAgIFwiKFwiOiBUT0tfTFBBUkVOLFxuICAgIFwiKVwiOiBUT0tfUlBBUkVOLFxuICAgIFwiQFwiOiBUT0tfQ1VSUkVOVFxuICB9O1xuXG4gIHZhciBvcGVyYXRvclN0YXJ0VG9rZW4gPSB7XG4gICAgICBcIjxcIjogdHJ1ZSxcbiAgICAgIFwiPlwiOiB0cnVlLFxuICAgICAgXCI9XCI6IHRydWUsXG4gICAgICBcIiFcIjogdHJ1ZVxuICB9O1xuXG4gIHZhciBza2lwQ2hhcnMgPSB7XG4gICAgICBcIiBcIjogdHJ1ZSxcbiAgICAgIFwiXFx0XCI6IHRydWUsXG4gICAgICBcIlxcblwiOiB0cnVlXG4gIH07XG5cblxuICBmdW5jdGlvbiBpc0FscGhhKGNoKSB7XG4gICAgICByZXR1cm4gKGNoID49IFwiYVwiICYmIGNoIDw9IFwielwiKSB8fFxuICAgICAgICAgICAgIChjaCA+PSBcIkFcIiAmJiBjaCA8PSBcIlpcIikgfHxcbiAgICAgICAgICAgICBjaCA9PT0gXCJfXCI7XG4gIH1cblxuICBmdW5jdGlvbiBpc051bShjaCkge1xuICAgICAgcmV0dXJuIChjaCA+PSBcIjBcIiAmJiBjaCA8PSBcIjlcIikgfHxcbiAgICAgICAgICAgICBjaCA9PT0gXCItXCI7XG4gIH1cbiAgZnVuY3Rpb24gaXNBbHBoYU51bShjaCkge1xuICAgICAgcmV0dXJuIChjaCA+PSBcImFcIiAmJiBjaCA8PSBcInpcIikgfHxcbiAgICAgICAgICAgICAoY2ggPj0gXCJBXCIgJiYgY2ggPD0gXCJaXCIpIHx8XG4gICAgICAgICAgICAgKGNoID49IFwiMFwiICYmIGNoIDw9IFwiOVwiKSB8fFxuICAgICAgICAgICAgIGNoID09PSBcIl9cIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIExleGVyKCkge1xuICB9XG4gIExleGVyLnByb3RvdHlwZSA9IHtcbiAgICAgIHRva2VuaXplOiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICB2YXIgdG9rZW5zID0gW107XG4gICAgICAgICAgdGhpcy5fY3VycmVudCA9IDA7XG4gICAgICAgICAgdmFyIHN0YXJ0O1xuICAgICAgICAgIHZhciBpZGVudGlmaWVyO1xuICAgICAgICAgIHZhciB0b2tlbjtcbiAgICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudCA8IHN0cmVhbS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKGlzQWxwaGEoc3RyZWFtW3RoaXMuX2N1cnJlbnRdKSkge1xuICAgICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLl9jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgaWRlbnRpZmllciA9IHRoaXMuX2NvbnN1bWVVbnF1b3RlZElkZW50aWZpZXIoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHt0eXBlOiBUT0tfVU5RVU9URURJREVOVElGSUVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJhc2ljVG9rZW5zW3N0cmVhbVt0aGlzLl9jdXJyZW50XV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IGJhc2ljVG9rZW5zW3N0cmVhbVt0aGlzLl9jdXJyZW50XV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogc3RyZWFtW3RoaXMuX2N1cnJlbnRdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMuX2N1cnJlbnR9KTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc051bShzdHJlYW1bdGhpcy5fY3VycmVudF0pKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuX2NvbnN1bWVOdW1iZXIoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHRva2VuKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW1bdGhpcy5fY3VycmVudF0gPT09IFwiW1wiKSB7XG4gICAgICAgICAgICAgICAgICAvLyBObyBuZWVkIHRvIGluY3JlbWVudCB0aGlzLl9jdXJyZW50LiAgVGhpcyBoYXBwZW5zXG4gICAgICAgICAgICAgICAgICAvLyBpbiBfY29uc3VtZUxCcmFja2V0XG4gICAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMuX2NvbnN1bWVMQnJhY2tldChzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2godG9rZW4pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbVt0aGlzLl9jdXJyZW50XSA9PT0gXCJcXFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSB0aGlzLl9jb25zdW1lUXVvdGVkSWRlbnRpZmllcihzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IFRPS19RVU9URURJREVOVElGSUVSLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbVt0aGlzLl9jdXJyZW50XSA9PT0gXCInXCIpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICAgICAgICAgIGlkZW50aWZpZXIgPSB0aGlzLl9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbChzdHJlYW0pO1xuICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IFRPS19MSVRFUkFMLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbVt0aGlzLl9jdXJyZW50XSA9PT0gXCJgXCIpIHtcbiAgICAgICAgICAgICAgICAgIHN0YXJ0ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICAgICAgICAgIHZhciBsaXRlcmFsID0gdGhpcy5fY29uc3VtZUxpdGVyYWwoc3RyZWFtKTtcbiAgICAgICAgICAgICAgICAgIHRva2Vucy5wdXNoKHt0eXBlOiBUT0tfTElURVJBTCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbGl0ZXJhbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogc3RhcnR9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvclN0YXJ0VG9rZW5bc3RyZWFtW3RoaXMuX2N1cnJlbnRdXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh0aGlzLl9jb25zdW1lT3BlcmF0b3Ioc3RyZWFtKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2tpcENoYXJzW3N0cmVhbVt0aGlzLl9jdXJyZW50XV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIHdoaXRlc3BhY2UuXG4gICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtW3RoaXMuX2N1cnJlbnRdID09PSBcIiZcIikge1xuICAgICAgICAgICAgICAgICAgc3RhcnQgPSB0aGlzLl9jdXJyZW50O1xuICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgaWYgKHN0cmVhbVt0aGlzLl9jdXJyZW50XSA9PT0gXCImXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IFRPS19BTkQsIHZhbHVlOiBcIiYmXCIsIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7dHlwZTogVE9LX0VYUFJFRiwgdmFsdWU6IFwiJlwiLCBzdGFydDogc3RhcnR9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW1bdGhpcy5fY3VycmVudF0gPT09IFwifFwiKSB7XG4gICAgICAgICAgICAgICAgICBzdGFydCA9IHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgICAgICAgICBpZiAoc3RyZWFtW3RoaXMuX2N1cnJlbnRdID09PSBcInxcIikge1xuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICAgICAgICAgICAgICB0b2tlbnMucHVzaCh7dHlwZTogVE9LX09SLCB2YWx1ZTogXCJ8fFwiLCBzdGFydDogc3RhcnR9KTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgdG9rZW5zLnB1c2goe3R5cGU6IFRPS19QSVBFLCB2YWx1ZTogXCJ8XCIsIHN0YXJ0OiBzdGFydH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiVW5rbm93biBjaGFyYWN0ZXI6XCIgKyBzdHJlYW1bdGhpcy5fY3VycmVudF0pO1xuICAgICAgICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiTGV4ZXJFcnJvclwiO1xuICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRva2VucztcbiAgICAgIH0sXG5cbiAgICAgIF9jb25zdW1lVW5xdW90ZWRJZGVudGlmaWVyOiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLl9jdXJyZW50O1xuICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICB3aGlsZSAodGhpcy5fY3VycmVudCA8IHN0cmVhbS5sZW5ndGggJiYgaXNBbHBoYU51bShzdHJlYW1bdGhpcy5fY3VycmVudF0pKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN0cmVhbS5zbGljZShzdGFydCwgdGhpcy5fY3VycmVudCk7XG4gICAgICB9LFxuXG4gICAgICBfY29uc3VtZVF1b3RlZElkZW50aWZpZXI6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgIHZhciBtYXhMZW5ndGggPSBzdHJlYW0ubGVuZ3RoO1xuICAgICAgICAgIHdoaWxlIChzdHJlYW1bdGhpcy5fY3VycmVudF0gIT09IFwiXFxcIlwiICYmIHRoaXMuX2N1cnJlbnQgPCBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgLy8gWW91IGNhbiBlc2NhcGUgYSBkb3VibGUgcXVvdGUgYW5kIHlvdSBjYW4gZXNjYXBlIGFuIGVzY2FwZS5cbiAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSB0aGlzLl9jdXJyZW50O1xuICAgICAgICAgICAgICBpZiAoc3RyZWFtW2N1cnJlbnRdID09PSBcIlxcXFxcIiAmJiAoc3RyZWFtW2N1cnJlbnQgKyAxXSA9PT0gXCJcXFxcXCIgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWFtW2N1cnJlbnQgKyAxXSA9PT0gXCJcXFwiXCIpKSB7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50ICs9IDI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjdXJyZW50Kys7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShzdHJlYW0uc2xpY2Uoc3RhcnQsIHRoaXMuX2N1cnJlbnQpKTtcbiAgICAgIH0sXG5cbiAgICAgIF9jb25zdW1lUmF3U3RyaW5nTGl0ZXJhbDogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgdmFyIG1heExlbmd0aCA9IHN0cmVhbS5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHN0cmVhbVt0aGlzLl9jdXJyZW50XSAhPT0gXCInXCIgJiYgdGhpcy5fY3VycmVudCA8IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBZb3UgY2FuIGVzY2FwZSBhIHNpbmdsZSBxdW90ZSBhbmQgeW91IGNhbiBlc2NhcGUgYW4gZXNjYXBlLlxuICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgICAgIGlmIChzdHJlYW1bY3VycmVudF0gPT09IFwiXFxcXFwiICYmIChzdHJlYW1bY3VycmVudCArIDFdID09PSBcIlxcXFxcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1bY3VycmVudCArIDFdID09PSBcIidcIikpIHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgKz0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gY3VycmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgIHZhciBsaXRlcmFsID0gc3RyZWFtLnNsaWNlKHN0YXJ0ICsgMSwgdGhpcy5fY3VycmVudCAtIDEpO1xuICAgICAgICAgIHJldHVybiBsaXRlcmFsLnJlcGxhY2UoXCJcXFxcJ1wiLCBcIidcIik7XG4gICAgICB9LFxuXG4gICAgICBfY29uc3VtZU51bWJlcjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgdmFyIG1heExlbmd0aCA9IHN0cmVhbS5sZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKGlzTnVtKHN0cmVhbVt0aGlzLl9jdXJyZW50XSkgJiYgdGhpcy5fY3VycmVudCA8IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciB2YWx1ZSA9IHBhcnNlSW50KHN0cmVhbS5zbGljZShzdGFydCwgdGhpcy5fY3VycmVudCkpO1xuICAgICAgICAgIHJldHVybiB7dHlwZTogVE9LX05VTUJFUiwgdmFsdWU6IHZhbHVlLCBzdGFydDogc3RhcnR9O1xuICAgICAgfSxcblxuICAgICAgX2NvbnN1bWVMQnJhY2tldDogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5fY3VycmVudDtcbiAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgaWYgKHN0cmVhbVt0aGlzLl9jdXJyZW50XSA9PT0gXCI/XCIpIHtcbiAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRPS19GSUxURVIsIHZhbHVlOiBcIls/XCIsIHN0YXJ0OiBzdGFydH07XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW1bdGhpcy5fY3VycmVudF0gPT09IFwiXVwiKSB7XG4gICAgICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfRkxBVFRFTiwgdmFsdWU6IFwiW11cIiwgc3RhcnQ6IHN0YXJ0fTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRPS19MQlJBQ0tFVCwgdmFsdWU6IFwiW1wiLCBzdGFydDogc3RhcnR9O1xuICAgICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9jb25zdW1lT3BlcmF0b3I6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgIHZhciBzdGFydCA9IHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgdmFyIHN0YXJ0aW5nQ2hhciA9IHN0cmVhbVtzdGFydF07XG4gICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgIGlmIChzdGFydGluZ0NoYXIgPT09IFwiIVwiKSB7XG4gICAgICAgICAgICAgIGlmIChzdHJlYW1bdGhpcy5fY3VycmVudF0gPT09IFwiPVwiKSB7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRPS19ORSwgdmFsdWU6IFwiIT1cIiwgc3RhcnQ6IHN0YXJ0fTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRPS19OT1QsIHZhbHVlOiBcIiFcIiwgc3RhcnQ6IHN0YXJ0fTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRpbmdDaGFyID09PSBcIjxcIikge1xuICAgICAgICAgICAgICBpZiAoc3RyZWFtW3RoaXMuX2N1cnJlbnRdID09PSBcIj1cIikge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfTFRFLCB2YWx1ZTogXCI8PVwiLCBzdGFydDogc3RhcnR9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfTFQsIHZhbHVlOiBcIjxcIiwgc3RhcnQ6IHN0YXJ0fTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRpbmdDaGFyID09PSBcIj5cIikge1xuICAgICAgICAgICAgICBpZiAoc3RyZWFtW3RoaXMuX2N1cnJlbnRdID09PSBcIj1cIikge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfR1RFLCB2YWx1ZTogXCI+PVwiLCBzdGFydDogc3RhcnR9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfR1QsIHZhbHVlOiBcIj5cIiwgc3RhcnQ6IHN0YXJ0fTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhcnRpbmdDaGFyID09PSBcIj1cIikge1xuICAgICAgICAgICAgICBpZiAoc3RyZWFtW3RoaXMuX2N1cnJlbnRdID09PSBcIj1cIikge1xuICAgICAgICAgICAgICAgICAgdGhpcy5fY3VycmVudCsrO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfRVEsIHZhbHVlOiBcIj09XCIsIHN0YXJ0OiBzdGFydH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfY29uc3VtZUxpdGVyYWw6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAgIHRoaXMuX2N1cnJlbnQrKztcbiAgICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLl9jdXJyZW50O1xuICAgICAgICAgIHZhciBtYXhMZW5ndGggPSBzdHJlYW0ubGVuZ3RoO1xuICAgICAgICAgIHZhciBsaXRlcmFsO1xuICAgICAgICAgIHdoaWxlKHN0cmVhbVt0aGlzLl9jdXJyZW50XSAhPT0gXCJgXCIgJiYgdGhpcy5fY3VycmVudCA8IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAvLyBZb3UgY2FuIGVzY2FwZSBhIGxpdGVyYWwgY2hhciBvciB5b3UgY2FuIGVzY2FwZSB0aGUgZXNjYXBlLlxuICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXMuX2N1cnJlbnQ7XG4gICAgICAgICAgICAgIGlmIChzdHJlYW1bY3VycmVudF0gPT09IFwiXFxcXFwiICYmIChzdHJlYW1bY3VycmVudCArIDFdID09PSBcIlxcXFxcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlYW1bY3VycmVudCArIDFdID09PSBcImBcIikpIHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQgKz0gMjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGN1cnJlbnQrKztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0aGlzLl9jdXJyZW50ID0gY3VycmVudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGxpdGVyYWxTdHJpbmcgPSB0cmltTGVmdChzdHJlYW0uc2xpY2Uoc3RhcnQsIHRoaXMuX2N1cnJlbnQpKTtcbiAgICAgICAgICBsaXRlcmFsU3RyaW5nID0gbGl0ZXJhbFN0cmluZy5yZXBsYWNlKFwiXFxcXGBcIiwgXCJgXCIpO1xuICAgICAgICAgIGlmICh0aGlzLl9sb29rc0xpa2VKU09OKGxpdGVyYWxTdHJpbmcpKSB7XG4gICAgICAgICAgICAgIGxpdGVyYWwgPSBKU09OLnBhcnNlKGxpdGVyYWxTdHJpbmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFRyeSB0byBKU09OIHBhcnNlIGl0IGFzIFwiPGxpdGVyYWw+XCJcbiAgICAgICAgICAgICAgbGl0ZXJhbCA9IEpTT04ucGFyc2UoXCJcXFwiXCIgKyBsaXRlcmFsU3RyaW5nICsgXCJcXFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyArMSBnZXRzIHVzIHRvIHRoZSBlbmRpbmcgXCJgXCIsICsxIHRvIG1vdmUgb24gdG8gdGhlIG5leHQgY2hhci5cbiAgICAgICAgICB0aGlzLl9jdXJyZW50Kys7XG4gICAgICAgICAgcmV0dXJuIGxpdGVyYWw7XG4gICAgICB9LFxuXG4gICAgICBfbG9va3NMaWtlSlNPTjogZnVuY3Rpb24obGl0ZXJhbFN0cmluZykge1xuICAgICAgICAgIHZhciBzdGFydGluZ0NoYXJzID0gXCJbe1xcXCJcIjtcbiAgICAgICAgICB2YXIganNvbkxpdGVyYWxzID0gW1widHJ1ZVwiLCBcImZhbHNlXCIsIFwibnVsbFwiXTtcbiAgICAgICAgICB2YXIgbnVtYmVyTG9va2luZyA9IFwiLTAxMjM0NTY3ODlcIjtcblxuICAgICAgICAgIGlmIChsaXRlcmFsU3RyaW5nID09PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXJ0aW5nQ2hhcnMuaW5kZXhPZihsaXRlcmFsU3RyaW5nWzBdKSA+PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gZWxzZSBpZiAoanNvbkxpdGVyYWxzLmluZGV4T2YobGl0ZXJhbFN0cmluZykgPj0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG51bWJlckxvb2tpbmcuaW5kZXhPZihsaXRlcmFsU3RyaW5nWzBdKSA+PSAwKSB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICBKU09OLnBhcnNlKGxpdGVyYWxTdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgfVxuICB9O1xuXG4gICAgICB2YXIgYmluZGluZ1Bvd2VyID0ge307XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX0VPRl0gPSAwO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19VTlFVT1RFRElERU5USUZJRVJdID0gMDtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfUVVPVEVESURFTlRJRklFUl0gPSAwO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19SQlJBQ0tFVF0gPSAwO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19SUEFSRU5dID0gMDtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfQ09NTUFdID0gMDtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfUkJSQUNFXSA9IDA7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX05VTUJFUl0gPSAwO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19DVVJSRU5UXSA9IDA7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX0VYUFJFRl0gPSAwO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19QSVBFXSA9IDE7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX09SXSA9IDI7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX0FORF0gPSAzO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19FUV0gPSA1O1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19HVF0gPSA1O1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19MVF0gPSA1O1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19HVEVdID0gNTtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfTFRFXSA9IDU7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX05FXSA9IDU7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX0ZMQVRURU5dID0gOTtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfU1RBUl0gPSAyMDtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfRklMVEVSXSA9IDIxO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19ET1RdID0gNDA7XG4gICAgICBiaW5kaW5nUG93ZXJbVE9LX05PVF0gPSA0NTtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfTEJSQUNFXSA9IDUwO1xuICAgICAgYmluZGluZ1Bvd2VyW1RPS19MQlJBQ0tFVF0gPSA1NTtcbiAgICAgIGJpbmRpbmdQb3dlcltUT0tfTFBBUkVOXSA9IDYwO1xuXG4gIGZ1bmN0aW9uIFBhcnNlcigpIHtcbiAgfVxuXG4gIFBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgICBwYXJzZTogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgICAgICAgIHRoaXMuX2xvYWRUb2tlbnMoZXhwcmVzc2lvbik7XG4gICAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgICAgdmFyIGFzdCA9IHRoaXMuZXhwcmVzc2lvbigwKTtcbiAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApICE9PSBUT0tfRU9GKSB7XG4gICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5fbG9va2FoZWFkVG9rZW4oMCk7XG4gICAgICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVW5leHBlY3RlZCB0b2tlbiB0eXBlOiBcIiArIHQudHlwZSArIFwiLCB2YWx1ZTogXCIgKyB0LnZhbHVlKTtcbiAgICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiUGFyc2VyRXJyb3JcIjtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhc3Q7XG4gICAgICB9LFxuXG4gICAgICBfbG9hZFRva2VuczogZnVuY3Rpb24oZXhwcmVzc2lvbikge1xuICAgICAgICAgIHZhciBsZXhlciA9IG5ldyBMZXhlcigpO1xuICAgICAgICAgIHZhciB0b2tlbnMgPSBsZXhlci50b2tlbml6ZShleHByZXNzaW9uKTtcbiAgICAgICAgICB0b2tlbnMucHVzaCh7dHlwZTogVE9LX0VPRiwgdmFsdWU6IFwiXCIsIHN0YXJ0OiBleHByZXNzaW9uLmxlbmd0aH0pO1xuICAgICAgICAgIHRoaXMudG9rZW5zID0gdG9rZW5zO1xuICAgICAgfSxcblxuICAgICAgZXhwcmVzc2lvbjogZnVuY3Rpb24ocmJwKSB7XG4gICAgICAgICAgdmFyIGxlZnRUb2tlbiA9IHRoaXMuX2xvb2thaGVhZFRva2VuKDApO1xuICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICB2YXIgbGVmdCA9IHRoaXMubnVkKGxlZnRUb2tlbik7XG4gICAgICAgICAgdmFyIGN1cnJlbnRUb2tlbiA9IHRoaXMuX2xvb2thaGVhZCgwKTtcbiAgICAgICAgICB3aGlsZSAocmJwIDwgYmluZGluZ1Bvd2VyW2N1cnJlbnRUb2tlbl0pIHtcbiAgICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgICBsZWZ0ID0gdGhpcy5sZWQoY3VycmVudFRva2VuLCBsZWZ0KTtcbiAgICAgICAgICAgICAgY3VycmVudFRva2VuID0gdGhpcy5fbG9va2FoZWFkKDApO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbGVmdDtcbiAgICAgIH0sXG5cbiAgICAgIF9sb29rYWhlYWQ6IGZ1bmN0aW9uKG51bWJlcikge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRva2Vuc1t0aGlzLmluZGV4ICsgbnVtYmVyXS50eXBlO1xuICAgICAgfSxcblxuICAgICAgX2xvb2thaGVhZFRva2VuOiBmdW5jdGlvbihudW1iZXIpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy50b2tlbnNbdGhpcy5pbmRleCArIG51bWJlcl07XG4gICAgICB9LFxuXG4gICAgICBfYWR2YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdGhpcy5pbmRleCsrO1xuICAgICAgfSxcblxuICAgICAgbnVkOiBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICB2YXIgbGVmdDtcbiAgICAgICAgdmFyIHJpZ2h0O1xuICAgICAgICB2YXIgZXhwcmVzc2lvbjtcbiAgICAgICAgc3dpdGNoICh0b2tlbi50eXBlKSB7XG4gICAgICAgICAgY2FzZSBUT0tfTElURVJBTDpcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJMaXRlcmFsXCIsIHZhbHVlOiB0b2tlbi52YWx1ZX07XG4gICAgICAgICAgY2FzZSBUT0tfVU5RVU9URURJREVOVElGSUVSOlxuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcIkZpZWxkXCIsIG5hbWU6IHRva2VuLnZhbHVlfTtcbiAgICAgICAgICBjYXNlIFRPS19RVU9URURJREVOVElGSUVSOlxuICAgICAgICAgICAgdmFyIG5vZGUgPSB7dHlwZTogXCJGaWVsZFwiLCBuYW1lOiB0b2tlbi52YWx1ZX07XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfTFBBUkVOKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUXVvdGVkIGlkZW50aWZpZXIgbm90IGFsbG93ZWQgZm9yIGZ1bmN0aW9uIG5hbWVzLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIGNhc2UgVE9LX05PVDpcbiAgICAgICAgICAgIHJpZ2h0ID0gdGhpcy5leHByZXNzaW9uKGJpbmRpbmdQb3dlci5Ob3QpO1xuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcIk5vdEV4cHJlc3Npb25cIiwgY2hpbGRyZW46IFtyaWdodF19O1xuICAgICAgICAgIGNhc2UgVE9LX1NUQVI6XG4gICAgICAgICAgICBsZWZ0ID0ge3R5cGU6IFwiSWRlbnRpdHlcIn07XG4gICAgICAgICAgICByaWdodCA9IG51bGw7XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfUkJSQUNLRVQpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaW4gYSBtdWx0aXNlbGVjdCxcbiAgICAgICAgICAgICAgICAvLyBbYSwgYiwgKl1cbiAgICAgICAgICAgICAgICByaWdodCA9IHt0eXBlOiBcIklkZW50aXR5XCJ9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhiaW5kaW5nUG93ZXIuU3Rhcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFwiVmFsdWVQcm9qZWN0aW9uXCIsIGNoaWxkcmVuOiBbbGVmdCwgcmlnaHRdfTtcbiAgICAgICAgICBjYXNlIFRPS19GSUxURVI6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5sZWQodG9rZW4udHlwZSwge3R5cGU6IFwiSWRlbnRpdHlcIn0pO1xuICAgICAgICAgIGNhc2UgVE9LX0xCUkFDRTpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wYXJzZU11bHRpc2VsZWN0SGFzaCgpO1xuICAgICAgICAgIGNhc2UgVE9LX0ZMQVRURU46XG4gICAgICAgICAgICBsZWZ0ID0ge3R5cGU6IFRPS19GTEFUVEVOLCBjaGlsZHJlbjogW3t0eXBlOiBcIklkZW50aXR5XCJ9XX07XG4gICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhiaW5kaW5nUG93ZXIuRmxhdHRlbik7XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFwiUHJvamVjdGlvblwiLCBjaGlsZHJlbjogW2xlZnQsIHJpZ2h0XX07XG4gICAgICAgICAgY2FzZSBUT0tfTEJSQUNLRVQ6XG4gICAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfTlVNQkVSIHx8IHRoaXMuX2xvb2thaGVhZCgwKSA9PT0gVE9LX0NPTE9OKSB7XG4gICAgICAgICAgICAgICAgcmlnaHQgPSB0aGlzLl9wYXJzZUluZGV4RXhwcmVzc2lvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcm9qZWN0SWZTbGljZSh7dHlwZTogXCJJZGVudGl0eVwifSwgcmlnaHQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IFRPS19TVEFSICYmXG4gICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2xvb2thaGVhZCgxKSA9PT0gVE9LX1JCUkFDS0VUKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhiaW5kaW5nUG93ZXIuU3Rhcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcIlByb2plY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbe3R5cGU6IFwiSWRlbnRpdHlcIn0sIHJpZ2h0XX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VNdWx0aXNlbGVjdExpc3QoKTtcbiAgICAgICAgICBjYXNlIFRPS19DVVJSRU5UOlxuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBUT0tfQ1VSUkVOVH07XG4gICAgICAgICAgY2FzZSBUT0tfRVhQUkVGOlxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMuZXhwcmVzc2lvbihiaW5kaW5nUG93ZXIuRXhwcmVmKTtcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJFeHByZXNzaW9uUmVmZXJlbmNlXCIsIGNoaWxkcmVuOiBbZXhwcmVzc2lvbl19O1xuICAgICAgICAgIGNhc2UgVE9LX0xQQVJFTjpcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fbG9va2FoZWFkKDApICE9PSBUT0tfUlBBUkVOKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IFRPS19DVVJSRU5UKSB7XG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHt0eXBlOiBUT0tfQ1VSUkVOVH07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmV4cHJlc3Npb24oMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYXJncy5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fbWF0Y2goVE9LX1JQQVJFTik7XG4gICAgICAgICAgICByZXR1cm4gYXJnc1swXTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgdGhpcy5fZXJyb3JUb2tlbih0b2tlbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIGxlZDogZnVuY3Rpb24odG9rZW5OYW1lLCBsZWZ0KSB7XG4gICAgICAgIHZhciByaWdodDtcbiAgICAgICAgc3dpdGNoKHRva2VuTmFtZSkge1xuICAgICAgICAgIGNhc2UgVE9LX0RPVDpcbiAgICAgICAgICAgIHZhciByYnAgPSBiaW5kaW5nUG93ZXIuRG90O1xuICAgICAgICAgICAgaWYgKHRoaXMuX2xvb2thaGVhZCgwKSAhPT0gVE9LX1NUQVIpIHtcbiAgICAgICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlRG90UkhTKHJicCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcIlN1YmV4cHJlc3Npb25cIiwgY2hpbGRyZW46IFtsZWZ0LCByaWdodF19O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQ3JlYXRpbmcgYSBwcm9qZWN0aW9uLlxuICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgcmlnaHQgPSB0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMocmJwKTtcbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJWYWx1ZVByb2plY3Rpb25cIiwgY2hpbGRyZW46IFtsZWZ0LCByaWdodF19O1xuICAgICAgICAgIGNhc2UgVE9LX1BJUEU6XG4gICAgICAgICAgICByaWdodCA9IHRoaXMuZXhwcmVzc2lvbihiaW5kaW5nUG93ZXIuUGlwZSk7XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFRPS19QSVBFLCBjaGlsZHJlbjogW2xlZnQsIHJpZ2h0XX07XG4gICAgICAgICAgY2FzZSBUT0tfT1I6XG4gICAgICAgICAgICByaWdodCA9IHRoaXMuZXhwcmVzc2lvbihiaW5kaW5nUG93ZXIuT3IpO1xuICAgICAgICAgICAgcmV0dXJuIHt0eXBlOiBcIk9yRXhwcmVzc2lvblwiLCBjaGlsZHJlbjogW2xlZnQsIHJpZ2h0XX07XG4gICAgICAgICAgY2FzZSBUT0tfQU5EOlxuICAgICAgICAgICAgcmlnaHQgPSB0aGlzLmV4cHJlc3Npb24oYmluZGluZ1Bvd2VyLkFuZCk7XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFwiQW5kRXhwcmVzc2lvblwiLCBjaGlsZHJlbjogW2xlZnQsIHJpZ2h0XX07XG4gICAgICAgICAgY2FzZSBUT0tfTFBBUkVOOlxuICAgICAgICAgICAgdmFyIG5hbWUgPSBsZWZ0Lm5hbWU7XG4gICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICAgICAgdmFyIGV4cHJlc3Npb24sIG5vZGU7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fbG9va2FoZWFkKDApICE9PSBUT0tfUlBBUkVOKSB7XG4gICAgICAgICAgICAgIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IFRPS19DVVJSRU5UKSB7XG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHt0eXBlOiBUT0tfQ1VSUkVOVH07XG4gICAgICAgICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmV4cHJlc3Npb24oMCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKHRoaXMuX2xvb2thaGVhZCgwKSA9PT0gVE9LX0NPTU1BKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWF0Y2goVE9LX0NPTU1BKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBhcmdzLnB1c2goZXhwcmVzc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9tYXRjaChUT0tfUlBBUkVOKTtcbiAgICAgICAgICAgIG5vZGUgPSB7dHlwZTogXCJGdW5jdGlvblwiLCBuYW1lOiBuYW1lLCBjaGlsZHJlbjogYXJnc307XG4gICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICBjYXNlIFRPS19GSUxURVI6XG4gICAgICAgICAgICB2YXIgY29uZGl0aW9uID0gdGhpcy5leHByZXNzaW9uKDApO1xuICAgICAgICAgICAgdGhpcy5fbWF0Y2goVE9LX1JCUkFDS0VUKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IFRPS19GTEFUVEVOKSB7XG4gICAgICAgICAgICAgIHJpZ2h0ID0ge3R5cGU6IFwiSWRlbnRpdHlcIn07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhiaW5kaW5nUG93ZXIuRmlsdGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7dHlwZTogXCJGaWx0ZXJQcm9qZWN0aW9uXCIsIGNoaWxkcmVuOiBbbGVmdCwgcmlnaHQsIGNvbmRpdGlvbl19O1xuICAgICAgICAgIGNhc2UgVE9LX0ZMQVRURU46XG4gICAgICAgICAgICB2YXIgbGVmdE5vZGUgPSB7dHlwZTogVE9LX0ZMQVRURU4sIGNoaWxkcmVuOiBbbGVmdF19O1xuICAgICAgICAgICAgdmFyIHJpZ2h0Tm9kZSA9IHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhiaW5kaW5nUG93ZXIuRmxhdHRlbik7XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFwiUHJvamVjdGlvblwiLCBjaGlsZHJlbjogW2xlZnROb2RlLCByaWdodE5vZGVdfTtcbiAgICAgICAgICBjYXNlIFRPS19FUTpcbiAgICAgICAgICBjYXNlIFRPS19ORTpcbiAgICAgICAgICBjYXNlIFRPS19HVDpcbiAgICAgICAgICBjYXNlIFRPS19HVEU6XG4gICAgICAgICAgY2FzZSBUT0tfTFQ6XG4gICAgICAgICAgY2FzZSBUT0tfTFRFOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlQ29tcGFyYXRvcihsZWZ0LCB0b2tlbk5hbWUpO1xuICAgICAgICAgIGNhc2UgVE9LX0xCUkFDS0VUOlxuICAgICAgICAgICAgdmFyIHRva2VuID0gdGhpcy5fbG9va2FoZWFkVG9rZW4oMCk7XG4gICAgICAgICAgICBpZiAodG9rZW4udHlwZSA9PT0gVE9LX05VTUJFUiB8fCB0b2tlbi50eXBlID09PSBUT0tfQ09MT04pIHtcbiAgICAgICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlSW5kZXhFeHByZXNzaW9uKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Byb2plY3RJZlNsaWNlKGxlZnQsIHJpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX21hdGNoKFRPS19TVEFSKTtcbiAgICAgICAgICAgIHRoaXMuX21hdGNoKFRPS19SQlJBQ0tFVCk7XG4gICAgICAgICAgICByaWdodCA9IHRoaXMuX3BhcnNlUHJvamVjdGlvblJIUyhiaW5kaW5nUG93ZXIuU3Rhcik7XG4gICAgICAgICAgICByZXR1cm4ge3R5cGU6IFwiUHJvamVjdGlvblwiLCBjaGlsZHJlbjogW2xlZnQsIHJpZ2h0XX07XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yVG9rZW4odGhpcy5fbG9va2FoZWFkVG9rZW4oMCkpO1xuICAgICAgICB9XG4gICAgICB9LFxuXG4gICAgICBfbWF0Y2g6IGZ1bmN0aW9uKHRva2VuVHlwZSkge1xuICAgICAgICAgIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IHRva2VuVHlwZSkge1xuICAgICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIHQgPSB0aGlzLl9sb29rYWhlYWRUb2tlbigwKTtcbiAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiRXhwZWN0ZWQgXCIgKyB0b2tlblR5cGUgKyBcIiwgZ290OiBcIiArIHQudHlwZSk7XG4gICAgICAgICAgICAgIGVycm9yLm5hbWUgPSBcIlBhcnNlckVycm9yXCI7XG4gICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9lcnJvclRva2VuOiBmdW5jdGlvbih0b2tlbikge1xuICAgICAgICAgIHZhciBlcnJvciA9IG5ldyBFcnJvcihcIkludmFsaWQgdG9rZW4gKFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4udHlwZSArIFwiKTogXFxcIlwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW4udmFsdWUgKyBcIlxcXCJcIik7XG4gICAgICAgICAgZXJyb3IubmFtZSA9IFwiUGFyc2VyRXJyb3JcIjtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0sXG5cblxuICAgICAgX3BhcnNlSW5kZXhFeHByZXNzaW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfQ09MT04gfHwgdGhpcy5fbG9va2FoZWFkKDEpID09PSBUT0tfQ09MT04pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlU2xpY2VFeHByZXNzaW9uKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIG5vZGUgPSB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcIkluZGV4XCIsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5fbG9va2FoZWFkVG9rZW4oMCkudmFsdWV9O1xuICAgICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICAgIHRoaXMuX21hdGNoKFRPS19SQlJBQ0tFVCk7XG4gICAgICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIF9wcm9qZWN0SWZTbGljZTogZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgICAgICB2YXIgaW5kZXhFeHByID0ge3R5cGU6IFwiSW5kZXhFeHByZXNzaW9uXCIsIGNoaWxkcmVuOiBbbGVmdCwgcmlnaHRdfTtcbiAgICAgICAgICBpZiAocmlnaHQudHlwZSA9PT0gXCJTbGljZVwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcIlByb2plY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbaW5kZXhFeHByLCB0aGlzLl9wYXJzZVByb2plY3Rpb25SSFMoYmluZGluZ1Bvd2VyLlN0YXIpXVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBpbmRleEV4cHI7XG4gICAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX3BhcnNlU2xpY2VFeHByZXNzaW9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAvLyBbc3RhcnQ6ZW5kOnN0ZXBdIHdoZXJlIGVhY2ggcGFydCBpcyBvcHRpb25hbCwgYXMgd2VsbCBhcyB0aGUgbGFzdFxuICAgICAgICAgIC8vIGNvbG9uLlxuICAgICAgICAgIHZhciBwYXJ0cyA9IFtudWxsLCBudWxsLCBudWxsXTtcbiAgICAgICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgICAgIHZhciBjdXJyZW50VG9rZW4gPSB0aGlzLl9sb29rYWhlYWQoMCk7XG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnRUb2tlbiAhPT0gVE9LX1JCUkFDS0VUICYmIGluZGV4IDwgMykge1xuICAgICAgICAgICAgICBpZiAoY3VycmVudFRva2VuID09PSBUT0tfQ09MT04pIHtcbiAgICAgICAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgICAgICAgICAgICB0aGlzLl9hZHZhbmNlKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRva2VuID09PSBUT0tfTlVNQkVSKSB7XG4gICAgICAgICAgICAgICAgICBwYXJ0c1tpbmRleF0gPSB0aGlzLl9sb29rYWhlYWRUb2tlbigwKS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2FkdmFuY2UoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIHZhciB0ID0gdGhpcy5fbG9va2FoZWFkKDApO1xuICAgICAgICAgICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiU3ludGF4IGVycm9yLCB1bmV4cGVjdGVkIHRva2VuOiBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdC52YWx1ZSArIFwiKFwiICsgdC50eXBlICsgXCIpXCIpO1xuICAgICAgICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiUGFyc2VyZXJyb3JcIjtcbiAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGN1cnJlbnRUb2tlbiA9IHRoaXMuX2xvb2thaGVhZCgwKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdGhpcy5fbWF0Y2goVE9LX1JCUkFDS0VUKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICB0eXBlOiBcIlNsaWNlXCIsXG4gICAgICAgICAgICAgIGNoaWxkcmVuOiBwYXJ0c1xuICAgICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICBfcGFyc2VDb21wYXJhdG9yOiBmdW5jdGlvbihsZWZ0LCBjb21wYXJhdG9yKSB7XG4gICAgICAgIHZhciByaWdodCA9IHRoaXMuZXhwcmVzc2lvbihiaW5kaW5nUG93ZXJbY29tcGFyYXRvcl0pO1xuICAgICAgICByZXR1cm4ge3R5cGU6IFwiQ29tcGFyYXRvclwiLCBuYW1lOiBjb21wYXJhdG9yLCBjaGlsZHJlbjogW2xlZnQsIHJpZ2h0XX07XG4gICAgICB9LFxuXG4gICAgICBfcGFyc2VEb3RSSFM6IGZ1bmN0aW9uKHJicCkge1xuICAgICAgICAgIHZhciBsb29rYWhlYWQgPSB0aGlzLl9sb29rYWhlYWQoMCk7XG4gICAgICAgICAgdmFyIGV4cHJUb2tlbnMgPSBbVE9LX1VOUVVPVEVESURFTlRJRklFUiwgVE9LX1FVT1RFRElERU5USUZJRVIsIFRPS19TVEFSXTtcbiAgICAgICAgICBpZiAoZXhwclRva2Vucy5pbmRleE9mKGxvb2thaGVhZCkgPj0gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5leHByZXNzaW9uKHJicCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChsb29rYWhlYWQgPT09IFRPS19MQlJBQ0tFVCkge1xuICAgICAgICAgICAgICB0aGlzLl9tYXRjaChUT0tfTEJSQUNLRVQpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fcGFyc2VNdWx0aXNlbGVjdExpc3QoKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGxvb2thaGVhZCA9PT0gVE9LX0xCUkFDRSkge1xuICAgICAgICAgICAgICB0aGlzLl9tYXRjaChUT0tfTEJSQUNFKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3BhcnNlTXVsdGlzZWxlY3RIYXNoKCk7XG4gICAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgX3BhcnNlUHJvamVjdGlvblJIUzogZnVuY3Rpb24ocmJwKSB7XG4gICAgICAgICAgdmFyIHJpZ2h0O1xuICAgICAgICAgIGlmIChiaW5kaW5nUG93ZXJbdGhpcy5fbG9va2FoZWFkKDApXSA8IDEwKSB7XG4gICAgICAgICAgICAgIHJpZ2h0ID0ge3R5cGU6IFwiSWRlbnRpdHlcIn07XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IFRPS19MQlJBQ0tFVCkge1xuICAgICAgICAgICAgICByaWdodCA9IHRoaXMuZXhwcmVzc2lvbihyYnApO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfRklMVEVSKSB7XG4gICAgICAgICAgICAgIHJpZ2h0ID0gdGhpcy5leHByZXNzaW9uKHJicCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9sb29rYWhlYWQoMCkgPT09IFRPS19ET1QpIHtcbiAgICAgICAgICAgICAgdGhpcy5fbWF0Y2goVE9LX0RPVCk7XG4gICAgICAgICAgICAgIHJpZ2h0ID0gdGhpcy5fcGFyc2VEb3RSSFMocmJwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgdCA9IHRoaXMuX2xvb2thaGVhZFRva2VuKDApO1xuICAgICAgICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoXCJTeXRhbnggZXJyb3IsIHVuZXhwZWN0ZWQgdG9rZW46IFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQudmFsdWUgKyBcIihcIiArIHQudHlwZSArIFwiKVwiKTtcbiAgICAgICAgICAgICAgZXJyb3IubmFtZSA9IFwiUGFyc2VyRXJyb3JcIjtcbiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByaWdodDtcbiAgICAgIH0sXG5cbiAgICAgIF9wYXJzZU11bHRpc2VsZWN0TGlzdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGV4cHJlc3Npb25zID0gW107XG4gICAgICAgICAgd2hpbGUgKHRoaXMuX2xvb2thaGVhZCgwKSAhPT0gVE9LX1JCUkFDS0VUKSB7XG4gICAgICAgICAgICAgIHZhciBleHByZXNzaW9uID0gdGhpcy5leHByZXNzaW9uKDApO1xuICAgICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cHJlc3Npb24pO1xuICAgICAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfQ09NTUEpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuX21hdGNoKFRPS19DT01NQSk7XG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfUkJSQUNLRVQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCB0b2tlbiBSYnJhY2tldFwiKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLl9tYXRjaChUT0tfUkJSQUNLRVQpO1xuICAgICAgICAgIHJldHVybiB7dHlwZTogXCJNdWx0aVNlbGVjdExpc3RcIiwgY2hpbGRyZW46IGV4cHJlc3Npb25zfTtcbiAgICAgIH0sXG5cbiAgICAgIF9wYXJzZU11bHRpc2VsZWN0SGFzaDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBwYWlycyA9IFtdO1xuICAgICAgICB2YXIgaWRlbnRpZmllclR5cGVzID0gW1RPS19VTlFVT1RFRElERU5USUZJRVIsIFRPS19RVU9URURJREVOVElGSUVSXTtcbiAgICAgICAgdmFyIGtleVRva2VuLCBrZXlOYW1lLCB2YWx1ZSwgbm9kZTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgIGtleVRva2VuID0gdGhpcy5fbG9va2FoZWFkVG9rZW4oMCk7XG4gICAgICAgICAgaWYgKGlkZW50aWZpZXJUeXBlcy5pbmRleE9mKGtleVRva2VuLnR5cGUpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXhwZWN0aW5nIGFuIGlkZW50aWZpZXIgdG9rZW4sIGdvdDogXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleVRva2VuLnR5cGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrZXlOYW1lID0ga2V5VG9rZW4udmFsdWU7XG4gICAgICAgICAgdGhpcy5fYWR2YW5jZSgpO1xuICAgICAgICAgIHRoaXMuX21hdGNoKFRPS19DT0xPTik7XG4gICAgICAgICAgdmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oMCk7XG4gICAgICAgICAgbm9kZSA9IHt0eXBlOiBcIktleVZhbHVlUGFpclwiLCBuYW1lOiBrZXlOYW1lLCB2YWx1ZTogdmFsdWV9O1xuICAgICAgICAgIHBhaXJzLnB1c2gobm9kZSk7XG4gICAgICAgICAgaWYgKHRoaXMuX2xvb2thaGVhZCgwKSA9PT0gVE9LX0NPTU1BKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRjaChUT0tfQ09NTUEpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5fbG9va2FoZWFkKDApID09PSBUT0tfUkJSQUNFKSB7XG4gICAgICAgICAgICB0aGlzLl9tYXRjaChUT0tfUkJSQUNFKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge3R5cGU6IFwiTXVsdGlTZWxlY3RIYXNoXCIsIGNoaWxkcmVuOiBwYWlyc307XG4gICAgICB9XG4gIH07XG5cblxuICBmdW5jdGlvbiBUcmVlSW50ZXJwcmV0ZXIocnVudGltZSkge1xuICAgIHRoaXMucnVudGltZSA9IHJ1bnRpbWU7XG4gIH1cblxuICBUcmVlSW50ZXJwcmV0ZXIucHJvdG90eXBlID0ge1xuICAgICAgc2VhcmNoOiBmdW5jdGlvbihub2RlLCB2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0KG5vZGUsIHZhbHVlKTtcbiAgICAgIH0sXG5cbiAgICAgIHZpc2l0OiBmdW5jdGlvbihub2RlLCB2YWx1ZSkge1xuICAgICAgICAgIHZhciBtYXRjaGVkLCBjdXJyZW50LCByZXN1bHQsIGZpcnN0LCBzZWNvbmQsIGZpZWxkLCBsZWZ0LCByaWdodCwgY29sbGVjdGVkLCBpO1xuICAgICAgICAgIHN3aXRjaCAobm9kZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwiRmllbGRcIjpcbiAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBudWxsICYmIGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgICAgZmllbGQgPSB2YWx1ZVtub2RlLm5hbWVdO1xuICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY2FzZSBcIlN1YmV4cHJlc3Npb25cIjpcbiAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy52aXNpdChub2RlLmNoaWxkcmVuWzBdLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMV0sIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIGNhc2UgXCJJbmRleEV4cHJlc3Npb25cIjpcbiAgICAgICAgICAgICAgbGVmdCA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblswXSwgdmFsdWUpO1xuICAgICAgICAgICAgICByaWdodCA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblsxXSwgbGVmdCk7XG4gICAgICAgICAgICAgIHJldHVybiByaWdodDtcbiAgICAgICAgICAgIGNhc2UgXCJJbmRleFwiOlxuICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIGluZGV4ID0gbm9kZS52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gdmFsdWUubGVuZ3RoICsgaW5kZXg7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWVbaW5kZXhdO1xuICAgICAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICBjYXNlIFwiU2xpY2VcIjpcbiAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBzbGljZVBhcmFtcyA9IG5vZGUuY2hpbGRyZW4uc2xpY2UoMCk7XG4gICAgICAgICAgICAgIHZhciBjb21wdXRlZCA9IHRoaXMuY29tcHV0ZVNsaWNlUGFyYW1zKHZhbHVlLmxlbmd0aCwgc2xpY2VQYXJhbXMpO1xuICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBjb21wdXRlZFswXTtcbiAgICAgICAgICAgICAgdmFyIHN0b3AgPSBjb21wdXRlZFsxXTtcbiAgICAgICAgICAgICAgdmFyIHN0ZXAgPSBjb21wdXRlZFsyXTtcbiAgICAgICAgICAgICAgcmVzdWx0ID0gW107XG4gICAgICAgICAgICAgIGlmIChzdGVwID4gMCkge1xuICAgICAgICAgICAgICAgICAgZm9yIChpID0gc3RhcnQ7IGkgPCBzdG9wOyBpICs9IHN0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZVtpXSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA+IHN0b3A7IGkgKz0gc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlW2ldKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgY2FzZSBcIlByb2plY3Rpb25cIjpcbiAgICAgICAgICAgICAgLy8gRXZhbHVhdGUgbGVmdCBjaGlsZC5cbiAgICAgICAgICAgICAgdmFyIGJhc2UgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMF0sIHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKCFpc0FycmF5KGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29sbGVjdGVkID0gW107XG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBiYXNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudCA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblsxXSwgYmFzZVtpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3RlZC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGVkO1xuICAgICAgICAgICAgY2FzZSBcIlZhbHVlUHJvamVjdGlvblwiOlxuICAgICAgICAgICAgICAvLyBFdmFsdWF0ZSBsZWZ0IGNoaWxkLlxuICAgICAgICAgICAgICBiYXNlID0gdGhpcy52aXNpdChub2RlLmNoaWxkcmVuWzBdLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIGlmICghaXNPYmplY3QoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb2xsZWN0ZWQgPSBbXTtcbiAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG9ialZhbHVlcyhiYXNlKTtcbiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMV0sIHZhbHVlc1tpXSk7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3RlZC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gY29sbGVjdGVkO1xuICAgICAgICAgICAgY2FzZSBcIkZpbHRlclByb2plY3Rpb25cIjpcbiAgICAgICAgICAgICAgYmFzZSA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblswXSwgdmFsdWUpO1xuICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBbXTtcbiAgICAgICAgICAgICAgdmFyIGZpbmFsUmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYmFzZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG1hdGNoZWQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMl0sIGJhc2VbaV0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNGYWxzZShtYXRjaGVkKSkge1xuICAgICAgICAgICAgICAgICAgZmlsdGVyZWQucHVzaChiYXNlW2ldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBmaWx0ZXJlZC5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGN1cnJlbnQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMV0sIGZpbHRlcmVkW2pdKTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgZmluYWxSZXN1bHRzLnB1c2goY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICAgICAgICBjYXNlIFwiQ29tcGFyYXRvclwiOlxuICAgICAgICAgICAgICBmaXJzdCA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblswXSwgdmFsdWUpO1xuICAgICAgICAgICAgICBzZWNvbmQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMV0sIHZhbHVlKTtcbiAgICAgICAgICAgICAgc3dpdGNoKG5vZGUubmFtZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgVE9LX0VROlxuICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gc3RyaWN0RGVlcEVxdWFsKGZpcnN0LCBzZWNvbmQpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBUT0tfTkU6XG4gICAgICAgICAgICAgICAgICByZXN1bHQgPSAhc3RyaWN0RGVlcEVxdWFsKGZpcnN0LCBzZWNvbmQpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBUT0tfR1Q6XG4gICAgICAgICAgICAgICAgICByZXN1bHQgPSBmaXJzdCA+IHNlY29uZDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVE9LX0dURTpcbiAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZpcnN0ID49IHNlY29uZDtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVE9LX0xUOlxuICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gZmlyc3QgPCBzZWNvbmQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRPS19MVEU6XG4gICAgICAgICAgICAgICAgICByZXN1bHQgPSBmaXJzdCA8PSBzZWNvbmQ7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb21wYXJhdG9yOiBcIiArIG5vZGUubmFtZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIGNhc2UgVE9LX0ZMQVRURU46XG4gICAgICAgICAgICAgIHZhciBvcmlnaW5hbCA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblswXSwgdmFsdWUpO1xuICAgICAgICAgICAgICBpZiAoIWlzQXJyYXkob3JpZ2luYWwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IFtdO1xuICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgb3JpZ2luYWwubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50ID0gb3JpZ2luYWxbaV07XG4gICAgICAgICAgICAgICAgaWYgKGlzQXJyYXkoY3VycmVudCkpIHtcbiAgICAgICAgICAgICAgICAgIG1lcmdlZC5wdXNoLmFwcGx5KG1lcmdlZCwgY3VycmVudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIG1lcmdlZC5wdXNoKGN1cnJlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgICAgICAgICAgY2FzZSBcIklkZW50aXR5XCI6XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJNdWx0aVNlbGVjdExpc3RcIjpcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29sbGVjdGVkID0gW107XG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0ZWQucHVzaCh0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5baV0sIHZhbHVlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIGNvbGxlY3RlZDtcbiAgICAgICAgICAgIGNhc2UgXCJNdWx0aVNlbGVjdEhhc2hcIjpcbiAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29sbGVjdGVkID0ge307XG4gICAgICAgICAgICAgIHZhciBjaGlsZDtcbiAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgICAgICAgICAgICAgY29sbGVjdGVkW2NoaWxkLm5hbWVdID0gdGhpcy52aXNpdChjaGlsZC52YWx1ZSwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBjb2xsZWN0ZWQ7XG4gICAgICAgICAgICBjYXNlIFwiT3JFeHByZXNzaW9uXCI6XG4gICAgICAgICAgICAgIG1hdGNoZWQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMF0sIHZhbHVlKTtcbiAgICAgICAgICAgICAgaWYgKGlzRmFsc2UobWF0Y2hlZCkpIHtcbiAgICAgICAgICAgICAgICAgIG1hdGNoZWQgPSB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMV0sIHZhbHVlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hlZDtcbiAgICAgICAgICAgIGNhc2UgXCJBbmRFeHByZXNzaW9uXCI6XG4gICAgICAgICAgICAgIGZpcnN0ID0gdGhpcy52aXNpdChub2RlLmNoaWxkcmVuWzBdLCB2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgaWYgKGlzRmFsc2UoZmlyc3QpID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpcnN0O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5bMV0sIHZhbHVlKTtcbiAgICAgICAgICAgIGNhc2UgXCJOb3RFeHByZXNzaW9uXCI6XG4gICAgICAgICAgICAgIGZpcnN0ID0gdGhpcy52aXNpdChub2RlLmNoaWxkcmVuWzBdLCB2YWx1ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBpc0ZhbHNlKGZpcnN0KTtcbiAgICAgICAgICAgIGNhc2UgXCJMaXRlcmFsXCI6XG4gICAgICAgICAgICAgIHJldHVybiBub2RlLnZhbHVlO1xuICAgICAgICAgICAgY2FzZSBUT0tfUElQRTpcbiAgICAgICAgICAgICAgbGVmdCA9IHRoaXMudmlzaXQobm9kZS5jaGlsZHJlblswXSwgdmFsdWUpO1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aXNpdChub2RlLmNoaWxkcmVuWzFdLCBsZWZ0KTtcbiAgICAgICAgICAgIGNhc2UgVE9LX0NVUlJFTlQ6XG4gICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIGNhc2UgXCJGdW5jdGlvblwiOlxuICAgICAgICAgICAgICB2YXIgcmVzb2x2ZWRBcmdzID0gW107XG4gICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICByZXNvbHZlZEFyZ3MucHVzaCh0aGlzLnZpc2l0KG5vZGUuY2hpbGRyZW5baV0sIHZhbHVlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucnVudGltZS5jYWxsRnVuY3Rpb24obm9kZS5uYW1lLCByZXNvbHZlZEFyZ3MpO1xuICAgICAgICAgICAgY2FzZSBcIkV4cHJlc3Npb25SZWZlcmVuY2VcIjpcbiAgICAgICAgICAgICAgdmFyIHJlZk5vZGUgPSBub2RlLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAvLyBUYWcgdGhlIG5vZGUgd2l0aCBhIHNwZWNpZmljIGF0dHJpYnV0ZSBzbyB0aGUgdHlwZVxuICAgICAgICAgICAgICAvLyBjaGVja2VyIHZlcmlmeSB0aGUgdHlwZS5cbiAgICAgICAgICAgICAgcmVmTm9kZS5qbWVzcGF0aFR5cGUgPSBUT0tfRVhQUkVGO1xuICAgICAgICAgICAgICByZXR1cm4gcmVmTm9kZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gbm9kZSB0eXBlOiBcIiArIG5vZGUudHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgfSxcblxuICAgICAgY29tcHV0ZVNsaWNlUGFyYW1zOiBmdW5jdGlvbihhcnJheUxlbmd0aCwgc2xpY2VQYXJhbXMpIHtcbiAgICAgICAgdmFyIHN0YXJ0ID0gc2xpY2VQYXJhbXNbMF07XG4gICAgICAgIHZhciBzdG9wID0gc2xpY2VQYXJhbXNbMV07XG4gICAgICAgIHZhciBzdGVwID0gc2xpY2VQYXJhbXNbMl07XG4gICAgICAgIHZhciBjb21wdXRlZCA9IFtudWxsLCBudWxsLCBudWxsXTtcbiAgICAgICAgaWYgKHN0ZXAgPT09IG51bGwpIHtcbiAgICAgICAgICBzdGVwID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGVwID09PSAwKSB7XG4gICAgICAgICAgdmFyIGVycm9yID0gbmV3IEVycm9yKFwiSW52YWxpZCBzbGljZSwgc3RlcCBjYW5ub3QgYmUgMFwiKTtcbiAgICAgICAgICBlcnJvci5uYW1lID0gXCJSdW50aW1lRXJyb3JcIjtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RlcFZhbHVlTmVnYXRpdmUgPSBzdGVwIDwgMCA/IHRydWUgOiBmYWxzZTtcblxuICAgICAgICBpZiAoc3RhcnQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0YXJ0ID0gc3RlcFZhbHVlTmVnYXRpdmUgPyBhcnJheUxlbmd0aCAtIDEgOiAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhcnQgPSB0aGlzLmNhcFNsaWNlUmFuZ2UoYXJyYXlMZW5ndGgsIHN0YXJ0LCBzdGVwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdG9wID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdG9wID0gc3RlcFZhbHVlTmVnYXRpdmUgPyAtMSA6IGFycmF5TGVuZ3RoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RvcCA9IHRoaXMuY2FwU2xpY2VSYW5nZShhcnJheUxlbmd0aCwgc3RvcCwgc3RlcCk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcHV0ZWRbMF0gPSBzdGFydDtcbiAgICAgICAgY29tcHV0ZWRbMV0gPSBzdG9wO1xuICAgICAgICBjb21wdXRlZFsyXSA9IHN0ZXA7XG4gICAgICAgIHJldHVybiBjb21wdXRlZDtcbiAgICAgIH0sXG5cbiAgICAgIGNhcFNsaWNlUmFuZ2U6IGZ1bmN0aW9uKGFycmF5TGVuZ3RoLCBhY3R1YWxWYWx1ZSwgc3RlcCkge1xuICAgICAgICAgIGlmIChhY3R1YWxWYWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgYWN0dWFsVmFsdWUgKz0gYXJyYXlMZW5ndGg7XG4gICAgICAgICAgICAgIGlmIChhY3R1YWxWYWx1ZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gc3RlcCA8IDAgPyAtMSA6IDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGFjdHVhbFZhbHVlID49IGFycmF5TGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGFjdHVhbFZhbHVlID0gc3RlcCA8IDAgPyBhcnJheUxlbmd0aCAtIDEgOiBhcnJheUxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFjdHVhbFZhbHVlO1xuICAgICAgfVxuXG4gIH07XG5cbiAgZnVuY3Rpb24gUnVudGltZShpbnRlcnByZXRlcikge1xuICAgIHRoaXMuX2ludGVycHJldGVyID0gaW50ZXJwcmV0ZXI7XG4gICAgdGhpcy5mdW5jdGlvblRhYmxlID0ge1xuICAgICAgICAvLyBuYW1lOiBbZnVuY3Rpb24sIDxzaWduYXR1cmU+XVxuICAgICAgICAvLyBUaGUgPHNpZ25hdHVyZT4gY2FuIGJlOlxuICAgICAgICAvL1xuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgYXJnczogW1t0eXBlMSwgdHlwZTJdLCBbdHlwZTEsIHR5cGUyXV0sXG4gICAgICAgIC8vICAgdmFyaWFkaWM6IHRydWV8ZmFsc2VcbiAgICAgICAgLy8gfVxuICAgICAgICAvL1xuICAgICAgICAvLyBFYWNoIGFyZyBpbiB0aGUgYXJnIGxpc3QgaXMgYSBsaXN0IG9mIHZhbGlkIHR5cGVzXG4gICAgICAgIC8vIChpZiB0aGUgZnVuY3Rpb24gaXMgb3ZlcmxvYWRlZCBhbmQgc3VwcG9ydHMgbXVsdGlwbGVcbiAgICAgICAgLy8gdHlwZXMuICBJZiB0aGUgdHlwZSBpcyBcImFueVwiIHRoZW4gbm8gdHlwZSBjaGVja2luZ1xuICAgICAgICAvLyBvY2N1cnMgb24gdGhlIGFyZ3VtZW50LiAgVmFyaWFkaWMgaXMgb3B0aW9uYWxcbiAgICAgICAgLy8gYW5kIGlmIG5vdCBwcm92aWRlZCBpcyBhc3N1bWVkIHRvIGJlIGZhbHNlLlxuICAgICAgICBhYnM6IHtfZnVuYzogdGhpcy5fZnVuY3Rpb25BYnMsIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX05VTUJFUl19XX0sXG4gICAgICAgIGF2Zzoge19mdW5jOiB0aGlzLl9mdW5jdGlvbkF2ZywgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfQVJSQVlfTlVNQkVSXX1dfSxcbiAgICAgICAgY2VpbDoge19mdW5jOiB0aGlzLl9mdW5jdGlvbkNlaWwsIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX05VTUJFUl19XX0sXG4gICAgICAgIGNvbnRhaW5zOiB7XG4gICAgICAgICAgICBfZnVuYzogdGhpcy5fZnVuY3Rpb25Db250YWlucyxcbiAgICAgICAgICAgIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX1NUUklORywgVFlQRV9BUlJBWV19LFxuICAgICAgICAgICAgICAgICAgICAgICAge3R5cGVzOiBbVFlQRV9BTlldfV19LFxuICAgICAgICBcImVuZHNfd2l0aFwiOiB7XG4gICAgICAgICAgICBfZnVuYzogdGhpcy5fZnVuY3Rpb25FbmRzV2l0aCxcbiAgICAgICAgICAgIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX1NUUklOR119LCB7dHlwZXM6IFtUWVBFX1NUUklOR119XX0sXG4gICAgICAgIGZsb29yOiB7X2Z1bmM6IHRoaXMuX2Z1bmN0aW9uRmxvb3IsIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX05VTUJFUl19XX0sXG4gICAgICAgIGxlbmd0aDoge1xuICAgICAgICAgICAgX2Z1bmM6IHRoaXMuX2Z1bmN0aW9uTGVuZ3RoLFxuICAgICAgICAgICAgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfU1RSSU5HLCBUWVBFX0FSUkFZLCBUWVBFX09CSkVDVF19XX0sXG4gICAgICAgIG1hcDoge1xuICAgICAgICAgICAgX2Z1bmM6IHRoaXMuX2Z1bmN0aW9uTWFwLFxuICAgICAgICAgICAgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfRVhQUkVGXX0sIHt0eXBlczogW1RZUEVfQVJSQVldfV19LFxuICAgICAgICBtYXg6IHtcbiAgICAgICAgICAgIF9mdW5jOiB0aGlzLl9mdW5jdGlvbk1heCxcbiAgICAgICAgICAgIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX0FSUkFZX05VTUJFUiwgVFlQRV9BUlJBWV9TVFJJTkddfV19LFxuICAgICAgICBcIm1lcmdlXCI6IHtcbiAgICAgICAgICAgIF9mdW5jOiB0aGlzLl9mdW5jdGlvbk1lcmdlLFxuICAgICAgICAgICAgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfT0JKRUNUXSwgdmFyaWFkaWM6IHRydWV9XVxuICAgICAgICB9LFxuICAgICAgICBcIm1heF9ieVwiOiB7XG4gICAgICAgICAgX2Z1bmM6IHRoaXMuX2Z1bmN0aW9uTWF4QnksXG4gICAgICAgICAgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfQVJSQVldfSwge3R5cGVzOiBbVFlQRV9FWFBSRUZdfV1cbiAgICAgICAgfSxcbiAgICAgICAgc3VtOiB7X2Z1bmM6IHRoaXMuX2Z1bmN0aW9uU3VtLCBfc2lnbmF0dXJlOiBbe3R5cGVzOiBbVFlQRV9BUlJBWV9OVU1CRVJdfV19LFxuICAgICAgICBcInN0YXJ0c193aXRoXCI6IHtcbiAgICAgICAgICAgIF9mdW5jOiB0aGlzLl9mdW5jdGlvblN0YXJ0c1dpdGgsXG4gICAgICAgICAgICBfc2lnbmF0dXJlOiBbe3R5cGVzOiBbVFlQRV9TVFJJTkddfSwge3R5cGVzOiBbVFlQRV9TVFJJTkddfV19LFxuICAgICAgICBtaW46IHtcbiAgICAgICAgICAgIF9mdW5jOiB0aGlzLl9mdW5jdGlvbk1pbixcbiAgICAgICAgICAgIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX0FSUkFZX05VTUJFUiwgVFlQRV9BUlJBWV9TVFJJTkddfV19LFxuICAgICAgICBcIm1pbl9ieVwiOiB7XG4gICAgICAgICAgX2Z1bmM6IHRoaXMuX2Z1bmN0aW9uTWluQnksXG4gICAgICAgICAgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfQVJSQVldfSwge3R5cGVzOiBbVFlQRV9FWFBSRUZdfV1cbiAgICAgICAgfSxcbiAgICAgICAgdHlwZToge19mdW5jOiB0aGlzLl9mdW5jdGlvblR5cGUsIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX0FOWV19XX0sXG4gICAgICAgIGtleXM6IHtfZnVuYzogdGhpcy5fZnVuY3Rpb25LZXlzLCBfc2lnbmF0dXJlOiBbe3R5cGVzOiBbVFlQRV9PQkpFQ1RdfV19LFxuICAgICAgICB2YWx1ZXM6IHtfZnVuYzogdGhpcy5fZnVuY3Rpb25WYWx1ZXMsIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX09CSkVDVF19XX0sXG4gICAgICAgIHNvcnQ6IHtfZnVuYzogdGhpcy5fZnVuY3Rpb25Tb3J0LCBfc2lnbmF0dXJlOiBbe3R5cGVzOiBbVFlQRV9BUlJBWV9TVFJJTkcsIFRZUEVfQVJSQVlfTlVNQkVSXX1dfSxcbiAgICAgICAgXCJzb3J0X2J5XCI6IHtcbiAgICAgICAgICBfZnVuYzogdGhpcy5fZnVuY3Rpb25Tb3J0QnksXG4gICAgICAgICAgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfQVJSQVldfSwge3R5cGVzOiBbVFlQRV9FWFBSRUZdfV1cbiAgICAgICAgfSxcbiAgICAgICAgam9pbjoge1xuICAgICAgICAgICAgX2Z1bmM6IHRoaXMuX2Z1bmN0aW9uSm9pbixcbiAgICAgICAgICAgIF9zaWduYXR1cmU6IFtcbiAgICAgICAgICAgICAgICB7dHlwZXM6IFtUWVBFX1NUUklOR119LFxuICAgICAgICAgICAgICAgIHt0eXBlczogW1RZUEVfQVJSQVlfU1RSSU5HXX1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgcmV2ZXJzZToge1xuICAgICAgICAgICAgX2Z1bmM6IHRoaXMuX2Z1bmN0aW9uUmV2ZXJzZSxcbiAgICAgICAgICAgIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX1NUUklORywgVFlQRV9BUlJBWV19XX0sXG4gICAgICAgIFwidG9fYXJyYXlcIjoge19mdW5jOiB0aGlzLl9mdW5jdGlvblRvQXJyYXksIF9zaWduYXR1cmU6IFt7dHlwZXM6IFtUWVBFX0FOWV19XX0sXG4gICAgICAgIFwidG9fc3RyaW5nXCI6IHtfZnVuYzogdGhpcy5fZnVuY3Rpb25Ub1N0cmluZywgX3NpZ25hdHVyZTogW3t0eXBlczogW1RZUEVfQU5ZXX1dfSxcbiAgICAgICAgXCJ0b19udW1iZXJcIjoge19mdW5jOiB0aGlzLl9mdW5jdGlvblRvTnVtYmVyLCBfc2lnbmF0dXJlOiBbe3R5cGVzOiBbVFlQRV9BTlldfV19LFxuICAgICAgICBcIm5vdF9udWxsXCI6IHtcbiAgICAgICAgICAgIF9mdW5jOiB0aGlzLl9mdW5jdGlvbk5vdE51bGwsXG4gICAgICAgICAgICBfc2lnbmF0dXJlOiBbe3R5cGVzOiBbVFlQRV9BTlldLCB2YXJpYWRpYzogdHJ1ZX1dXG4gICAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgUnVudGltZS5wcm90b3R5cGUgPSB7XG4gICAgY2FsbEZ1bmN0aW9uOiBmdW5jdGlvbihuYW1lLCByZXNvbHZlZEFyZ3MpIHtcbiAgICAgIHZhciBmdW5jdGlvbkVudHJ5ID0gdGhpcy5mdW5jdGlvblRhYmxlW25hbWVdO1xuICAgICAgaWYgKGZ1bmN0aW9uRW50cnkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gZnVuY3Rpb246IFwiICsgbmFtZSArIFwiKClcIik7XG4gICAgICB9XG4gICAgICB0aGlzLl92YWxpZGF0ZUFyZ3MobmFtZSwgcmVzb2x2ZWRBcmdzLCBmdW5jdGlvbkVudHJ5Ll9zaWduYXR1cmUpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uRW50cnkuX2Z1bmMuY2FsbCh0aGlzLCByZXNvbHZlZEFyZ3MpO1xuICAgIH0sXG5cbiAgICBfdmFsaWRhdGVBcmdzOiBmdW5jdGlvbihuYW1lLCBhcmdzLCBzaWduYXR1cmUpIHtcbiAgICAgICAgLy8gVmFsaWRhdGluZyB0aGUgYXJncyByZXF1aXJlcyB2YWxpZGF0aW5nXG4gICAgICAgIC8vIHRoZSBjb3JyZWN0IGFyaXR5IGFuZCB0aGUgY29ycmVjdCB0eXBlIG9mIGVhY2ggYXJnLlxuICAgICAgICAvLyBJZiB0aGUgbGFzdCBhcmd1bWVudCBpcyBkZWNsYXJlZCBhcyB2YXJpYWRpYywgdGhlbiB3ZSBuZWVkXG4gICAgICAgIC8vIGEgbWluaW11bSBudW1iZXIgb2YgYXJncyB0byBiZSByZXF1aXJlZC4gIE90aGVyd2lzZSBpdCBoYXMgdG9cbiAgICAgICAgLy8gYmUgYW4gZXhhY3QgYW1vdW50LlxuICAgICAgICB2YXIgcGx1cmFsaXplZDtcbiAgICAgICAgaWYgKHNpZ25hdHVyZVtzaWduYXR1cmUubGVuZ3RoIC0gMV0udmFyaWFkaWMpIHtcbiAgICAgICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IHNpZ25hdHVyZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBwbHVyYWxpemVkID0gc2lnbmF0dXJlLmxlbmd0aCA9PT0gMSA/IFwiIGFyZ3VtZW50XCIgOiBcIiBhcmd1bWVudHNcIjtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBcmd1bWVudEVycm9yOiBcIiArIG5hbWUgKyBcIigpIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWtlcyBhdCBsZWFzdFwiICsgc2lnbmF0dXJlLmxlbmd0aCArIHBsdXJhbGl6ZWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBidXQgcmVjZWl2ZWQgXCIgKyBhcmdzLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoYXJncy5sZW5ndGggIT09IHNpZ25hdHVyZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBsdXJhbGl6ZWQgPSBzaWduYXR1cmUubGVuZ3RoID09PSAxID8gXCIgYXJndW1lbnRcIiA6IFwiIGFyZ3VtZW50c1wiO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXJndW1lbnRFcnJvcjogXCIgKyBuYW1lICsgXCIoKSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0YWtlcyBcIiArIHNpZ25hdHVyZS5sZW5ndGggKyBwbHVyYWxpemVkICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBidXQgcmVjZWl2ZWQgXCIgKyBhcmdzLmxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGN1cnJlbnRTcGVjO1xuICAgICAgICB2YXIgYWN0dWFsVHlwZTtcbiAgICAgICAgdmFyIHR5cGVNYXRjaGVkO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZ25hdHVyZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdHlwZU1hdGNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGN1cnJlbnRTcGVjID0gc2lnbmF0dXJlW2ldLnR5cGVzO1xuICAgICAgICAgICAgYWN0dWFsVHlwZSA9IHRoaXMuX2dldFR5cGVOYW1lKGFyZ3NbaV0pO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjdXJyZW50U3BlYy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl90eXBlTWF0Y2hlcyhhY3R1YWxUeXBlLCBjdXJyZW50U3BlY1tqXSwgYXJnc1tpXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZU1hdGNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXR5cGVNYXRjaGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV4cGVjdGVkID0gY3VycmVudFNwZWNcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbih0eXBlSWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRZUEVfTkFNRV9UQUJMRVt0eXBlSWRlbnRpZmllcl07XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcsJyk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHlwZUVycm9yOiBcIiArIG5hbWUgKyBcIigpIFwiICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJleHBlY3RlZCBhcmd1bWVudCBcIiArIChpICsgMSkgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiB0byBiZSB0eXBlIFwiICsgZXhwZWN0ZWQgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIiBidXQgcmVjZWl2ZWQgdHlwZSBcIiArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRZUEVfTkFNRV9UQUJMRVthY3R1YWxUeXBlXSArIFwiIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF90eXBlTWF0Y2hlczogZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCwgYXJnVmFsdWUpIHtcbiAgICAgICAgaWYgKGV4cGVjdGVkID09PSBUWVBFX0FOWSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV4cGVjdGVkID09PSBUWVBFX0FSUkFZX1NUUklORyB8fFxuICAgICAgICAgICAgZXhwZWN0ZWQgPT09IFRZUEVfQVJSQVlfTlVNQkVSIHx8XG4gICAgICAgICAgICBleHBlY3RlZCA9PT0gVFlQRV9BUlJBWSkge1xuICAgICAgICAgICAgLy8gVGhlIGV4cGVjdGVkIHR5cGUgY2FuIGVpdGhlciBqdXN0IGJlIGFycmF5LFxuICAgICAgICAgICAgLy8gb3IgaXQgY2FuIHJlcXVpcmUgYSBzcGVjaWZpYyBzdWJ0eXBlIChhcnJheSBvZiBudW1iZXJzKS5cbiAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAvLyBUaGUgc2ltcGxlc3QgY2FzZSBpcyBpZiBcImFycmF5XCIgd2l0aCBubyBzdWJ0eXBlIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICAgIGlmIChleHBlY3RlZCA9PT0gVFlQRV9BUlJBWSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhY3R1YWwgPT09IFRZUEVfQVJSQVk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFjdHVhbCA9PT0gVFlQRV9BUlJBWSkge1xuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSB3ZSBuZWVkIHRvIGNoZWNrIHN1YnR5cGVzLlxuICAgICAgICAgICAgICAgIC8vIEkgdGhpbmsgdGhpcyBoYXMgcG90ZW50aWFsIHRvIGJlIGltcHJvdmVkLlxuICAgICAgICAgICAgICAgIHZhciBzdWJ0eXBlO1xuICAgICAgICAgICAgICAgIGlmIChleHBlY3RlZCA9PT0gVFlQRV9BUlJBWV9OVU1CRVIpIHtcbiAgICAgICAgICAgICAgICAgIHN1YnR5cGUgPSBUWVBFX05VTUJFUjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV4cGVjdGVkID09PSBUWVBFX0FSUkFZX1NUUklORykge1xuICAgICAgICAgICAgICAgICAgc3VidHlwZSA9IFRZUEVfU1RSSU5HO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ1ZhbHVlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5fdHlwZU1hdGNoZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZ2V0VHlwZU5hbWUoYXJnVmFsdWVbaV0pLCBzdWJ0eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJnVmFsdWVbaV0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0dWFsID09PSBleHBlY3RlZDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgX2dldFR5cGVOYW1lOiBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgc3dpdGNoIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkge1xuICAgICAgICAgICAgY2FzZSBcIltvYmplY3QgU3RyaW5nXVwiOlxuICAgICAgICAgICAgICByZXR1cm4gVFlQRV9TVFJJTkc7XG4gICAgICAgICAgICBjYXNlIFwiW29iamVjdCBOdW1iZXJdXCI6XG4gICAgICAgICAgICAgIHJldHVybiBUWVBFX05VTUJFUjtcbiAgICAgICAgICAgIGNhc2UgXCJbb2JqZWN0IEFycmF5XVwiOlxuICAgICAgICAgICAgICByZXR1cm4gVFlQRV9BUlJBWTtcbiAgICAgICAgICAgIGNhc2UgXCJbb2JqZWN0IEJvb2xlYW5dXCI6XG4gICAgICAgICAgICAgIHJldHVybiBUWVBFX0JPT0xFQU47XG4gICAgICAgICAgICBjYXNlIFwiW29iamVjdCBOdWxsXVwiOlxuICAgICAgICAgICAgICByZXR1cm4gVFlQRV9OVUxMO1xuICAgICAgICAgICAgY2FzZSBcIltvYmplY3QgT2JqZWN0XVwiOlxuICAgICAgICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGFuIGV4cHJlZi4gIElmIGl0IGhhcywgaXQncyBiZWVuXG4gICAgICAgICAgICAgIC8vIHRhZ2dlZCB3aXRoIGEgam1lc3BhdGhUeXBlIGF0dHIgb2YgJ0V4cHJlZic7XG4gICAgICAgICAgICAgIGlmIChvYmouam1lc3BhdGhUeXBlID09PSBUT0tfRVhQUkVGKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFRZUEVfRVhQUkVGO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBUWVBFX09CSkVDVDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIF9mdW5jdGlvblN0YXJ0c1dpdGg6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZWRBcmdzWzBdLmxhc3RJbmRleE9mKHJlc29sdmVkQXJnc1sxXSkgPT09IDA7XG4gICAgfSxcblxuICAgIF9mdW5jdGlvbkVuZHNXaXRoOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgdmFyIHNlYXJjaFN0ciA9IHJlc29sdmVkQXJnc1swXTtcbiAgICAgICAgdmFyIHN1ZmZpeCA9IHJlc29sdmVkQXJnc1sxXTtcbiAgICAgICAgcmV0dXJuIHNlYXJjaFN0ci5pbmRleE9mKHN1ZmZpeCwgc2VhcmNoU3RyLmxlbmd0aCAtIHN1ZmZpeC5sZW5ndGgpICE9PSAtMTtcbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uUmV2ZXJzZTogZnVuY3Rpb24ocmVzb2x2ZWRBcmdzKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZSA9IHRoaXMuX2dldFR5cGVOYW1lKHJlc29sdmVkQXJnc1swXSk7XG4gICAgICAgIGlmICh0eXBlTmFtZSA9PT0gVFlQRV9TVFJJTkcpIHtcbiAgICAgICAgICB2YXIgb3JpZ2luYWxTdHIgPSByZXNvbHZlZEFyZ3NbMF07XG4gICAgICAgICAgdmFyIHJldmVyc2VkU3RyID0gXCJcIjtcbiAgICAgICAgICBmb3IgKHZhciBpID0gb3JpZ2luYWxTdHIubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgcmV2ZXJzZWRTdHIgKz0gb3JpZ2luYWxTdHJbaV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXZlcnNlZFN0cjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgcmV2ZXJzZWRBcnJheSA9IHJlc29sdmVkQXJnc1swXS5zbGljZSgwKTtcbiAgICAgICAgICByZXZlcnNlZEFycmF5LnJldmVyc2UoKTtcbiAgICAgICAgICByZXR1cm4gcmV2ZXJzZWRBcnJheTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25BYnM6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgcmV0dXJuIE1hdGguYWJzKHJlc29sdmVkQXJnc1swXSk7XG4gICAgfSxcblxuICAgIF9mdW5jdGlvbkNlaWw6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKHJlc29sdmVkQXJnc1swXSk7XG4gICAgfSxcblxuICAgIF9mdW5jdGlvbkF2ZzogZnVuY3Rpb24ocmVzb2x2ZWRBcmdzKSB7XG4gICAgICAgIHZhciBzdW0gPSAwO1xuICAgICAgICB2YXIgaW5wdXRBcnJheSA9IHJlc29sdmVkQXJnc1swXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbnB1dEFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdW0gKz0gaW5wdXRBcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VtIC8gaW5wdXRBcnJheS5sZW5ndGg7XG4gICAgfSxcblxuICAgIF9mdW5jdGlvbkNvbnRhaW5zOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmVkQXJnc1swXS5pbmRleE9mKHJlc29sdmVkQXJnc1sxXSkgPj0gMDtcbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uRmxvb3I6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihyZXNvbHZlZEFyZ3NbMF0pO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25MZW5ndGg6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgIGlmICghaXNPYmplY3QocmVzb2x2ZWRBcmdzWzBdKSkge1xuICAgICAgICAgcmV0dXJuIHJlc29sdmVkQXJnc1swXS5sZW5ndGg7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIC8vIEFzIGZhciBhcyBJIGNhbiB0ZWxsLCB0aGVyZSdzIG5vIHdheSB0byBnZXQgdGhlIGxlbmd0aFxuICAgICAgICAgLy8gb2YgYW4gb2JqZWN0IHdpdGhvdXQgTyhuKSBpdGVyYXRpb24gdGhyb3VnaCB0aGUgb2JqZWN0LlxuICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHJlc29sdmVkQXJnc1swXSkubGVuZ3RoO1xuICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uTWFwOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBbXTtcbiAgICAgIHZhciBpbnRlcnByZXRlciA9IHRoaXMuX2ludGVycHJldGVyO1xuICAgICAgdmFyIGV4cHJlZk5vZGUgPSByZXNvbHZlZEFyZ3NbMF07XG4gICAgICB2YXIgZWxlbWVudHMgPSByZXNvbHZlZEFyZ3NbMV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWFwcGVkLnB1c2goaW50ZXJwcmV0ZXIudmlzaXQoZXhwcmVmTm9kZSwgZWxlbWVudHNbaV0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfSxcblxuICAgIF9mdW5jdGlvbk1lcmdlOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgIHZhciBtZXJnZWQgPSB7fTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb2x2ZWRBcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50ID0gcmVzb2x2ZWRBcmdzW2ldO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gY3VycmVudCkge1xuICAgICAgICAgIG1lcmdlZFtrZXldID0gY3VycmVudFtrZXldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25NYXg6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgaWYgKHJlc29sdmVkQXJnc1swXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZSA9IHRoaXMuX2dldFR5cGVOYW1lKHJlc29sdmVkQXJnc1swXVswXSk7XG4gICAgICAgIGlmICh0eXBlTmFtZSA9PT0gVFlQRV9OVU1CRVIpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgcmVzb2x2ZWRBcmdzWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZWxlbWVudHMgPSByZXNvbHZlZEFyZ3NbMF07XG4gICAgICAgICAgdmFyIG1heEVsZW1lbnQgPSBlbGVtZW50c1swXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChtYXhFbGVtZW50LmxvY2FsZUNvbXBhcmUoZWxlbWVudHNbaV0pIDwgMCkge1xuICAgICAgICAgICAgICAgICAgbWF4RWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtYXhFbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25NaW46IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgaWYgKHJlc29sdmVkQXJnc1swXS5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZSA9IHRoaXMuX2dldFR5cGVOYW1lKHJlc29sdmVkQXJnc1swXVswXSk7XG4gICAgICAgIGlmICh0eXBlTmFtZSA9PT0gVFlQRV9OVU1CRVIpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5taW4uYXBwbHkoTWF0aCwgcmVzb2x2ZWRBcmdzWzBdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgZWxlbWVudHMgPSByZXNvbHZlZEFyZ3NbMF07XG4gICAgICAgICAgdmFyIG1pbkVsZW1lbnQgPSBlbGVtZW50c1swXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5sb2NhbGVDb21wYXJlKG1pbkVsZW1lbnQpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgbWluRWxlbWVudCA9IGVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBtaW5FbGVtZW50O1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uU3VtOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgIHZhciBzdW0gPSAwO1xuICAgICAgdmFyIGxpc3RUb1N1bSA9IHJlc29sdmVkQXJnc1swXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdFRvU3VtLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN1bSArPSBsaXN0VG9TdW1baV07XG4gICAgICB9XG4gICAgICByZXR1cm4gc3VtO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25UeXBlOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9nZXRUeXBlTmFtZShyZXNvbHZlZEFyZ3NbMF0pKSB7XG4gICAgICAgICAgY2FzZSBUWVBFX05VTUJFUjpcbiAgICAgICAgICAgIHJldHVybiBcIm51bWJlclwiO1xuICAgICAgICAgIGNhc2UgVFlQRV9TVFJJTkc6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgICBjYXNlIFRZUEVfQVJSQVk6XG4gICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgIGNhc2UgVFlQRV9PQkpFQ1Q6XG4gICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgICBjYXNlIFRZUEVfQk9PTEVBTjpcbiAgICAgICAgICAgIHJldHVybiBcImJvb2xlYW5cIjtcbiAgICAgICAgICBjYXNlIFRZUEVfRVhQUkVGOlxuICAgICAgICAgICAgcmV0dXJuIFwiZXhwcmVmXCI7XG4gICAgICAgICAgY2FzZSBUWVBFX05VTEw6XG4gICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uS2V5czogZnVuY3Rpb24ocmVzb2x2ZWRBcmdzKSB7XG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhyZXNvbHZlZEFyZ3NbMF0pO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25WYWx1ZXM6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgICB2YXIgb2JqID0gcmVzb2x2ZWRBcmdzWzBdO1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChvYmpba2V5c1tpXV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfSxcblxuICAgIF9mdW5jdGlvbkpvaW46IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgICB2YXIgam9pbkNoYXIgPSByZXNvbHZlZEFyZ3NbMF07XG4gICAgICAgIHZhciBsaXN0Sm9pbiA9IHJlc29sdmVkQXJnc1sxXTtcbiAgICAgICAgcmV0dXJuIGxpc3RKb2luLmpvaW4oam9pbkNoYXIpO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25Ub0FycmF5OiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgaWYgKHRoaXMuX2dldFR5cGVOYW1lKHJlc29sdmVkQXJnc1swXSkgPT09IFRZUEVfQVJSQVkpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZEFyZ3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3Jlc29sdmVkQXJnc1swXV07XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uVG9TdHJpbmc6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgICBpZiAodGhpcy5fZ2V0VHlwZU5hbWUocmVzb2x2ZWRBcmdzWzBdKSA9PT0gVFlQRV9TVFJJTkcpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNvbHZlZEFyZ3NbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzb2x2ZWRBcmdzWzBdKTtcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25Ub051bWJlcjogZnVuY3Rpb24ocmVzb2x2ZWRBcmdzKSB7XG4gICAgICAgIHZhciB0eXBlTmFtZSA9IHRoaXMuX2dldFR5cGVOYW1lKHJlc29sdmVkQXJnc1swXSk7XG4gICAgICAgIHZhciBjb252ZXJ0ZWRWYWx1ZTtcbiAgICAgICAgaWYgKHR5cGVOYW1lID09PSBUWVBFX05VTUJFUikge1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVkQXJnc1swXTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlTmFtZSA9PT0gVFlQRV9TVFJJTkcpIHtcbiAgICAgICAgICAgIGNvbnZlcnRlZFZhbHVlID0gK3Jlc29sdmVkQXJnc1swXTtcbiAgICAgICAgICAgIGlmICghaXNOYU4oY29udmVydGVkVmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbnZlcnRlZFZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25Ob3ROdWxsOiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNvbHZlZEFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9nZXRUeXBlTmFtZShyZXNvbHZlZEFyZ3NbaV0pICE9PSBUWVBFX05VTEwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZWRBcmdzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25Tb3J0OiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgdmFyIHNvcnRlZEFycmF5ID0gcmVzb2x2ZWRBcmdzWzBdLnNsaWNlKDApO1xuICAgICAgICBzb3J0ZWRBcnJheS5zb3J0KCk7XG4gICAgICAgIHJldHVybiBzb3J0ZWRBcnJheTtcbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uU29ydEJ5OiBmdW5jdGlvbihyZXNvbHZlZEFyZ3MpIHtcbiAgICAgICAgdmFyIHNvcnRlZEFycmF5ID0gcmVzb2x2ZWRBcmdzWzBdLnNsaWNlKDApO1xuICAgICAgICBpZiAoc29ydGVkQXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc29ydGVkQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGludGVycHJldGVyID0gdGhpcy5faW50ZXJwcmV0ZXI7XG4gICAgICAgIHZhciBleHByZWZOb2RlID0gcmVzb2x2ZWRBcmdzWzFdO1xuICAgICAgICB2YXIgcmVxdWlyZWRUeXBlID0gdGhpcy5fZ2V0VHlwZU5hbWUoXG4gICAgICAgICAgICBpbnRlcnByZXRlci52aXNpdChleHByZWZOb2RlLCBzb3J0ZWRBcnJheVswXSkpO1xuICAgICAgICBpZiAoW1RZUEVfTlVNQkVSLCBUWVBFX1NUUklOR10uaW5kZXhPZihyZXF1aXJlZFR5cGUpIDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVHlwZUVycm9yXCIpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gZ2V0IGEgc3RhYmxlIHNvcnQgb3V0IG9mIGFuIHVuc3RhYmxlXG4gICAgICAgIC8vIHNvcnQgYWxnb3JpdGhtLCB3ZSBkZWNvcmF0ZS9zb3J0L3VuZGVjb3JhdGUgKERTVSlcbiAgICAgICAgLy8gYnkgY3JlYXRpbmcgYSBuZXcgbGlzdCBvZiBbaW5kZXgsIGVsZW1lbnRdIHBhaXJzLlxuICAgICAgICAvLyBJbiB0aGUgY21wIGZ1bmN0aW9uLCBpZiB0aGUgZXZhbHVhdGVkIGVsZW1lbnRzIGFyZVxuICAgICAgICAvLyBlcXVhbCwgdGhlbiB0aGUgaW5kZXggd2lsbCBiZSB1c2VkIGFzIHRoZSB0aWVicmVha2VyLlxuICAgICAgICAvLyBBZnRlciB0aGUgZGVjb3JhdGVkIGxpc3QgaGFzIGJlZW4gc29ydGVkLCBpdCB3aWxsIGJlXG4gICAgICAgIC8vIHVuZGVjb3JhdGVkIHRvIGV4dHJhY3QgdGhlIG9yaWdpbmFsIGVsZW1lbnRzLlxuICAgICAgICB2YXIgZGVjb3JhdGVkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydGVkQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBkZWNvcmF0ZWQucHVzaChbaSwgc29ydGVkQXJyYXlbaV1dKTtcbiAgICAgICAgfVxuICAgICAgICBkZWNvcmF0ZWQuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgICAgdmFyIGV4cHJBID0gaW50ZXJwcmV0ZXIudmlzaXQoZXhwcmVmTm9kZSwgYVsxXSk7XG4gICAgICAgICAgdmFyIGV4cHJCID0gaW50ZXJwcmV0ZXIudmlzaXQoZXhwcmVmTm9kZSwgYlsxXSk7XG4gICAgICAgICAgaWYgKHRoYXQuX2dldFR5cGVOYW1lKGV4cHJBKSAhPT0gcmVxdWlyZWRUeXBlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICAgICAgIFwiVHlwZUVycm9yOiBleHBlY3RlZCBcIiArIHJlcXVpcmVkVHlwZSArIFwiLCByZWNlaXZlZCBcIiArXG4gICAgICAgICAgICAgICAgICB0aGF0Ll9nZXRUeXBlTmFtZShleHByQSkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodGhhdC5fZ2V0VHlwZU5hbWUoZXhwckIpICE9PSByZXF1aXJlZFR5cGUpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgXCJUeXBlRXJyb3I6IGV4cGVjdGVkIFwiICsgcmVxdWlyZWRUeXBlICsgXCIsIHJlY2VpdmVkIFwiICtcbiAgICAgICAgICAgICAgICAgIHRoYXQuX2dldFR5cGVOYW1lKGV4cHJCKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChleHByQSA+IGV4cHJCKSB7XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGV4cHJBIDwgZXhwckIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gSWYgdGhleSdyZSBlcXVhbCBjb21wYXJlIHRoZSBpdGVtcyBieSB0aGVpclxuICAgICAgICAgICAgLy8gb3JkZXIgdG8gbWFpbnRhaW4gcmVsYXRpdmUgb3JkZXIgb2YgZXF1YWwga2V5c1xuICAgICAgICAgICAgLy8gKGkuZS4gdG8gZ2V0IGEgc3RhYmxlIHNvcnQpLlxuICAgICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFVuZGVjb3JhdGU6IGV4dHJhY3Qgb3V0IHRoZSBvcmlnaW5hbCBsaXN0IGVsZW1lbnRzLlxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRlY29yYXRlZC5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHNvcnRlZEFycmF5W2pdID0gZGVjb3JhdGVkW2pdWzFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzb3J0ZWRBcnJheTtcbiAgICB9LFxuXG4gICAgX2Z1bmN0aW9uTWF4Qnk6IGZ1bmN0aW9uKHJlc29sdmVkQXJncykge1xuICAgICAgdmFyIGV4cHJlZk5vZGUgPSByZXNvbHZlZEFyZ3NbMV07XG4gICAgICB2YXIgcmVzb2x2ZWRBcnJheSA9IHJlc29sdmVkQXJnc1swXTtcbiAgICAgIHZhciBrZXlGdW5jdGlvbiA9IHRoaXMuY3JlYXRlS2V5RnVuY3Rpb24oZXhwcmVmTm9kZSwgW1RZUEVfTlVNQkVSLCBUWVBFX1NUUklOR10pO1xuICAgICAgdmFyIG1heE51bWJlciA9IC1JbmZpbml0eTtcbiAgICAgIHZhciBtYXhSZWNvcmQ7XG4gICAgICB2YXIgY3VycmVudDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzb2x2ZWRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjdXJyZW50ID0ga2V5RnVuY3Rpb24ocmVzb2x2ZWRBcnJheVtpXSk7XG4gICAgICAgIGlmIChjdXJyZW50ID4gbWF4TnVtYmVyKSB7XG4gICAgICAgICAgbWF4TnVtYmVyID0gY3VycmVudDtcbiAgICAgICAgICBtYXhSZWNvcmQgPSByZXNvbHZlZEFycmF5W2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF4UmVjb3JkO1xuICAgIH0sXG5cbiAgICBfZnVuY3Rpb25NaW5CeTogZnVuY3Rpb24ocmVzb2x2ZWRBcmdzKSB7XG4gICAgICB2YXIgZXhwcmVmTm9kZSA9IHJlc29sdmVkQXJnc1sxXTtcbiAgICAgIHZhciByZXNvbHZlZEFycmF5ID0gcmVzb2x2ZWRBcmdzWzBdO1xuICAgICAgdmFyIGtleUZ1bmN0aW9uID0gdGhpcy5jcmVhdGVLZXlGdW5jdGlvbihleHByZWZOb2RlLCBbVFlQRV9OVU1CRVIsIFRZUEVfU1RSSU5HXSk7XG4gICAgICB2YXIgbWluTnVtYmVyID0gSW5maW5pdHk7XG4gICAgICB2YXIgbWluUmVjb3JkO1xuICAgICAgdmFyIGN1cnJlbnQ7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc29sdmVkQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY3VycmVudCA9IGtleUZ1bmN0aW9uKHJlc29sdmVkQXJyYXlbaV0pO1xuICAgICAgICBpZiAoY3VycmVudCA8IG1pbk51bWJlcikge1xuICAgICAgICAgIG1pbk51bWJlciA9IGN1cnJlbnQ7XG4gICAgICAgICAgbWluUmVjb3JkID0gcmVzb2x2ZWRBcnJheVtpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1pblJlY29yZDtcbiAgICB9LFxuXG4gICAgY3JlYXRlS2V5RnVuY3Rpb246IGZ1bmN0aW9uKGV4cHJlZk5vZGUsIGFsbG93ZWRUeXBlcykge1xuICAgICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgICAgdmFyIGludGVycHJldGVyID0gdGhpcy5faW50ZXJwcmV0ZXI7XG4gICAgICB2YXIga2V5RnVuYyA9IGZ1bmN0aW9uKHgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBpbnRlcnByZXRlci52aXNpdChleHByZWZOb2RlLCB4KTtcbiAgICAgICAgaWYgKGFsbG93ZWRUeXBlcy5pbmRleE9mKHRoYXQuX2dldFR5cGVOYW1lKGN1cnJlbnQpKSA8IDApIHtcbiAgICAgICAgICB2YXIgbXNnID0gXCJUeXBlRXJyb3I6IGV4cGVjdGVkIG9uZSBvZiBcIiArIGFsbG93ZWRUeXBlcyArXG4gICAgICAgICAgICAgICAgICAgIFwiLCByZWNlaXZlZCBcIiArIHRoYXQuX2dldFR5cGVOYW1lKGN1cnJlbnQpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjdXJyZW50O1xuICAgICAgfTtcbiAgICAgIHJldHVybiBrZXlGdW5jO1xuICAgIH1cblxuICB9O1xuXG4gIGZ1bmN0aW9uIGNvbXBpbGUoc3RyZWFtKSB7XG4gICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIoKTtcbiAgICB2YXIgYXN0ID0gcGFyc2VyLnBhcnNlKHN0cmVhbSk7XG4gICAgcmV0dXJuIGFzdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuaXplKHN0cmVhbSkge1xuICAgICAgdmFyIGxleGVyID0gbmV3IExleGVyKCk7XG4gICAgICByZXR1cm4gbGV4ZXIudG9rZW5pemUoc3RyZWFtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlYXJjaChkYXRhLCBleHByZXNzaW9uKSB7XG4gICAgICB2YXIgcGFyc2VyID0gbmV3IFBhcnNlcigpO1xuICAgICAgLy8gVGhpcyBuZWVkcyB0byBiZSBpbXByb3ZlZC4gIEJvdGggdGhlIGludGVycHJldGVyIGFuZCBydW50aW1lIGRlcGVuZCBvblxuICAgICAgLy8gZWFjaCBvdGhlci4gIFRoZSBydW50aW1lIG5lZWRzIHRoZSBpbnRlcnByZXRlciB0byBzdXBwb3J0IGV4cHJlZnMuXG4gICAgICAvLyBUaGVyZSdzIGxpa2VseSBhIGNsZWFuIHdheSB0byBhdm9pZCB0aGUgY3ljbGljIGRlcGVuZGVuY3kuXG4gICAgICB2YXIgcnVudGltZSA9IG5ldyBSdW50aW1lKCk7XG4gICAgICB2YXIgaW50ZXJwcmV0ZXIgPSBuZXcgVHJlZUludGVycHJldGVyKHJ1bnRpbWUpO1xuICAgICAgcnVudGltZS5faW50ZXJwcmV0ZXIgPSBpbnRlcnByZXRlcjtcbiAgICAgIHZhciBub2RlID0gcGFyc2VyLnBhcnNlKGV4cHJlc3Npb24pO1xuICAgICAgcmV0dXJuIGludGVycHJldGVyLnNlYXJjaChub2RlLCBkYXRhKTtcbiAgfVxuXG4gIGV4cG9ydHMudG9rZW5pemUgPSB0b2tlbml6ZTtcbiAgZXhwb3J0cy5jb21waWxlID0gY29tcGlsZTtcbiAgZXhwb3J0cy5zZWFyY2ggPSBzZWFyY2g7XG4gIGV4cG9ydHMuc3RyaWN0RGVlcEVxdWFsID0gc3RyaWN0RGVlcEVxdWFsO1xufSkodHlwZW9mIGV4cG9ydHMgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLmptZXNwYXRoID0ge30gOiBleHBvcnRzKTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi9jb3JlJyk7XG52YXIgQWNjZXB0b3JTdGF0ZU1hY2hpbmUgPSByZXF1aXJlKCcuL3N0YXRlX21hY2hpbmUnKTtcbnZhciBpbmhlcml0ID0gQVdTLnV0aWwuaW5oZXJpdDtcbnZhciBkb21haW4gPSBBV1MudXRpbC5kb21haW47XG52YXIgam1lc3BhdGggPSByZXF1aXJlKCdqbWVzcGF0aCcpO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG52YXIgaGFyZEVycm9yU3RhdGVzID0ge3N1Y2Nlc3M6IDEsIGVycm9yOiAxLCBjb21wbGV0ZTogMX07XG5cbmZ1bmN0aW9uIGlzVGVybWluYWxTdGF0ZShtYWNoaW5lKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaGFyZEVycm9yU3RhdGVzLCBtYWNoaW5lLl9hc20uY3VycmVudFN0YXRlKTtcbn1cblxudmFyIGZzbSA9IG5ldyBBY2NlcHRvclN0YXRlTWFjaGluZSgpO1xuZnNtLnNldHVwU3RhdGVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciB0cmFuc2l0aW9uID0gZnVuY3Rpb24oXywgZG9uZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLl9oYWx0SGFuZGxlcnNPbkVycm9yID0gZmFsc2U7XG5cbiAgICBzZWxmLmVtaXQoc2VsZi5fYXNtLmN1cnJlbnRTdGF0ZSwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGlmIChpc1Rlcm1pbmFsU3RhdGUoc2VsZikpIHtcbiAgICAgICAgICBpZiAoZG9tYWluICYmIHNlbGYuZG9tYWluIGluc3RhbmNlb2YgZG9tYWluLkRvbWFpbikge1xuICAgICAgICAgICAgZXJyLmRvbWFpbkVtaXR0ZXIgPSBzZWxmO1xuICAgICAgICAgICAgZXJyLmRvbWFpbiA9IHNlbGYuZG9tYWluO1xuICAgICAgICAgICAgZXJyLmRvbWFpblRocm93biA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5kb21haW4uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYucmVzcG9uc2UuZXJyb3IgPSBlcnI7XG4gICAgICAgICAgZG9uZShlcnIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb25lKHNlbGYucmVzcG9uc2UuZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH07XG5cbiAgdGhpcy5hZGRTdGF0ZSgndmFsaWRhdGUnLCAnYnVpbGQnLCAnZXJyb3InLCB0cmFuc2l0aW9uKTtcbiAgdGhpcy5hZGRTdGF0ZSgnYnVpbGQnLCAnYWZ0ZXJCdWlsZCcsICdyZXN0YXJ0JywgdHJhbnNpdGlvbik7XG4gIHRoaXMuYWRkU3RhdGUoJ2FmdGVyQnVpbGQnLCAnc2lnbicsICdyZXN0YXJ0JywgdHJhbnNpdGlvbik7XG4gIHRoaXMuYWRkU3RhdGUoJ3NpZ24nLCAnc2VuZCcsICdyZXRyeScsIHRyYW5zaXRpb24pO1xuICB0aGlzLmFkZFN0YXRlKCdyZXRyeScsICdhZnRlclJldHJ5JywgJ2FmdGVyUmV0cnknLCB0cmFuc2l0aW9uKTtcbiAgdGhpcy5hZGRTdGF0ZSgnYWZ0ZXJSZXRyeScsICdzaWduJywgJ2Vycm9yJywgdHJhbnNpdGlvbik7XG4gIHRoaXMuYWRkU3RhdGUoJ3NlbmQnLCAndmFsaWRhdGVSZXNwb25zZScsICdyZXRyeScsIHRyYW5zaXRpb24pO1xuICB0aGlzLmFkZFN0YXRlKCd2YWxpZGF0ZVJlc3BvbnNlJywgJ2V4dHJhY3REYXRhJywgJ2V4dHJhY3RFcnJvcicsIHRyYW5zaXRpb24pO1xuICB0aGlzLmFkZFN0YXRlKCdleHRyYWN0RXJyb3InLCAnZXh0cmFjdERhdGEnLCAncmV0cnknLCB0cmFuc2l0aW9uKTtcbiAgdGhpcy5hZGRTdGF0ZSgnZXh0cmFjdERhdGEnLCAnc3VjY2VzcycsICdyZXRyeScsIHRyYW5zaXRpb24pO1xuICB0aGlzLmFkZFN0YXRlKCdyZXN0YXJ0JywgJ2J1aWxkJywgJ2Vycm9yJywgdHJhbnNpdGlvbik7XG4gIHRoaXMuYWRkU3RhdGUoJ3N1Y2Nlc3MnLCAnY29tcGxldGUnLCAnY29tcGxldGUnLCB0cmFuc2l0aW9uKTtcbiAgdGhpcy5hZGRTdGF0ZSgnZXJyb3InLCAnY29tcGxldGUnLCAnY29tcGxldGUnLCB0cmFuc2l0aW9uKTtcbiAgdGhpcy5hZGRTdGF0ZSgnY29tcGxldGUnLCBudWxsLCBudWxsLCB0cmFuc2l0aW9uKTtcbn07XG5mc20uc2V0dXBTdGF0ZXMoKTtcblxuLyoqXG4gKiAjIyBBc3luY2hyb25vdXMgUmVxdWVzdHNcbiAqXG4gKiBBbGwgcmVxdWVzdHMgbWFkZSB0aHJvdWdoIHRoZSBTREsgYXJlIGFzeW5jaHJvbm91cyBhbmQgdXNlIGFcbiAqIGNhbGxiYWNrIGludGVyZmFjZS4gRWFjaCBzZXJ2aWNlIG1ldGhvZCB0aGF0IGtpY2tzIG9mZiBhIHJlcXVlc3RcbiAqIHJldHVybnMgYW4gYEFXUy5SZXF1ZXN0YCBvYmplY3QgdGhhdCB5b3UgY2FuIHVzZSB0byByZWdpc3RlclxuICogY2FsbGJhY2tzLlxuICpcbiAqIEZvciBleGFtcGxlLCB0aGUgZm9sbG93aW5nIHNlcnZpY2UgbWV0aG9kIHJldHVybnMgdGhlIHJlcXVlc3RcbiAqIG9iamVjdCBhcyBcInJlcXVlc3RcIiwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmVnaXN0ZXIgY2FsbGJhY2tzOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIHJlcXVlc3QgaXMgYW4gQVdTLlJlcXVlc3Qgb2JqZWN0XG4gKiB2YXIgcmVxdWVzdCA9IGVjMi5kZXNjcmliZUluc3RhbmNlcygpO1xuICpcbiAqIC8vIHJlZ2lzdGVyIGNhbGxiYWNrcyBvbiByZXF1ZXN0IHRvIHJldHJpZXZlIHJlc3BvbnNlIGRhdGFcbiAqIHJlcXVlc3Qub24oJ3N1Y2Nlc3MnLCBmdW5jdGlvbihyZXNwb25zZSkge1xuICogICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTtcbiAqIH0pO1xuICogYGBgXG4gKlxuICogV2hlbiBhIHJlcXVlc3QgaXMgcmVhZHkgdG8gYmUgc2VudCwgdGhlIHtzZW5kfSBtZXRob2Qgc2hvdWxkXG4gKiBiZSBjYWxsZWQ6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogcmVxdWVzdC5zZW5kKCk7XG4gKiBgYGBcbiAqXG4gKiBTaW5jZSByZWdpc3RlcmVkIGNhbGxiYWNrcyBtYXkgb3IgbWF5IG5vdCBiZSBpZGVtcG90ZW50LCByZXF1ZXN0cyBzaG91bGQgb25seVxuICogYmUgc2VudCBvbmNlLiBUbyBwZXJmb3JtIHRoZSBzYW1lIG9wZXJhdGlvbiBtdWx0aXBsZSB0aW1lcywgeW91IHdpbGwgbmVlZCB0b1xuICogY3JlYXRlIG11bHRpcGxlIHJlcXVlc3Qgb2JqZWN0cywgZWFjaCB3aXRoIGl0cyBvd24gcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gKlxuICogIyMgUmVtb3ZpbmcgRGVmYXVsdCBMaXN0ZW5lcnMgZm9yIEV2ZW50c1xuICpcbiAqIFJlcXVlc3Qgb2JqZWN0cyBhcmUgYnVpbHQgd2l0aCBkZWZhdWx0IGxpc3RlbmVycyBmb3IgdGhlIHZhcmlvdXMgZXZlbnRzLFxuICogZGVwZW5kaW5nIG9uIHRoZSBzZXJ2aWNlIHR5cGUuIEluIHNvbWUgY2FzZXMsIHlvdSBtYXkgd2FudCB0byByZW1vdmVcbiAqIHNvbWUgYnVpbHQtaW4gbGlzdGVuZXJzIHRvIGN1c3RvbWl6ZSBiZWhhdmlvdXIuIERvaW5nIHRoaXMgcmVxdWlyZXNcbiAqIGFjY2VzcyB0byB0aGUgYnVpbHQtaW4gbGlzdGVuZXIgZnVuY3Rpb25zLCB3aGljaCBhcmUgZXhwb3NlZCB0aHJvdWdoXG4gKiB0aGUge0FXUy5FdmVudExpc3RlbmVycy5Db3JlfSBuYW1lc3BhY2UuIEZvciBpbnN0YW5jZSwgeW91IG1heVxuICogd2FudCB0byBjdXN0b21pemUgdGhlIEhUVFAgaGFuZGxlciB1c2VkIHdoZW4gc2VuZGluZyBhIHJlcXVlc3QuIEluIHRoaXNcbiAqIGNhc2UsIHlvdSBjYW4gcmVtb3ZlIHRoZSBidWlsdC1pbiBsaXN0ZW5lciBhc3NvY2lhdGVkIHdpdGggdGhlICdzZW5kJ1xuICogZXZlbnQsIHRoZSB7QVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuU0VORH0gbGlzdGVuZXIgYW5kIGFkZCB5b3VyIG93bi5cbiAqXG4gKiAjIyBNdWx0aXBsZSBDYWxsYmFja3MgYW5kIENoYWluaW5nXG4gKlxuICogWW91IGNhbiByZWdpc3RlciBtdWx0aXBsZSBjYWxsYmFja3Mgb24gYW55IHJlcXVlc3Qgb2JqZWN0LiBUaGVcbiAqIGNhbGxiYWNrcyBjYW4gYmUgcmVnaXN0ZXJlZCBmb3IgZGlmZmVyZW50IGV2ZW50cywgb3IgYWxsIGZvciB0aGVcbiAqIHNhbWUgZXZlbnQuIEluIGFkZGl0aW9uLCB5b3UgY2FuIGNoYWluIGNhbGxiYWNrIHJlZ2lzdHJhdGlvbiwgZm9yXG4gKiBleGFtcGxlOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHJlcXVlc3QuXG4gKiAgIG9uKCdzdWNjZXNzJywgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAqICAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3MhXCIpO1xuICogICB9KS5cbiAqICAgb24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyb3IsIHJlc3BvbnNlKSB7XG4gKiAgICAgY29uc29sZS5sb2coXCJFcnJvciFcIik7XG4gKiAgIH0pLlxuICogICBvbignY29tcGxldGUnLCBmdW5jdGlvbihyZXNwb25zZSkge1xuICogICAgIGNvbnNvbGUubG9nKFwiQWx3YXlzIVwiKTtcbiAqICAgfSkuXG4gKiAgIHNlbmQoKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBleGFtcGxlIHdpbGwgcHJpbnQgZWl0aGVyIFwiU3VjY2VzcyEgQWx3YXlzIVwiLCBvciBcIkVycm9yISBBbHdheXMhXCIsXG4gKiBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgcmVxdWVzdCBzdWNjZWVkZWQgb3Igbm90LlxuICpcbiAqIEAhYXR0cmlidXRlIGh0dHBSZXF1ZXN0XG4gKiAgIEByZWFkb25seVxuICogICBAIWdyb3VwIEhUVFAgUHJvcGVydGllc1xuICogICBAcmV0dXJuIFtBV1MuSHR0cFJlcXVlc3RdIHRoZSByYXcgSFRUUCByZXF1ZXN0IG9iamVjdFxuICogICAgIGNvbnRhaW5pbmcgcmVxdWVzdCBoZWFkZXJzIGFuZCBib2R5IGluZm9ybWF0aW9uXG4gKiAgICAgc2VudCBieSB0aGUgc2VydmljZS5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBzdGFydFRpbWVcbiAqICAgQHJlYWRvbmx5XG4gKiAgIEAhZ3JvdXAgT3BlcmF0aW9uIFByb3BlcnRpZXNcbiAqICAgQHJldHVybiBbRGF0ZV0gdGhlIHRpbWUgdGhhdCB0aGUgcmVxdWVzdCBzdGFydGVkXG4gKlxuICogQCFncm91cCBSZXF1ZXN0IEJ1aWxkaW5nIEV2ZW50c1xuICpcbiAqIEAhZXZlbnQgdmFsaWRhdGUocmVxdWVzdClcbiAqICAgVHJpZ2dlcmVkIHdoZW4gYSByZXF1ZXN0IGlzIGJlaW5nIHZhbGlkYXRlZC4gTGlzdGVuZXJzXG4gKiAgIHNob3VsZCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgcmVxdWVzdCBzaG91bGQgbm90IGJlIHNlbnQuXG4gKiAgIEBwYXJhbSByZXF1ZXN0IFtSZXF1ZXN0XSB0aGUgcmVxdWVzdCBvYmplY3QgYmVpbmcgc2VudFxuICogICBAc2VlIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX0NSRURFTlRJQUxTXG4gKiAgIEBzZWUgQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuVkFMSURBVEVfUkVHSU9OXG4gKiAgIEBleGFtcGxlIEVuc3VyaW5nIHRoYXQgYSBjZXJ0YWluIHBhcmFtZXRlciBpcyBzZXQgYmVmb3JlIHNlbmRpbmcgYSByZXF1ZXN0XG4gKiAgICAgdmFyIHJlcSA9IHMzLnB1dE9iamVjdChwYXJhbXMpO1xuICogICAgIHJlcS5vbigndmFsaWRhdGUnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIGlmICghcmVxLnBhcmFtcy5Cb2R5Lm1hdGNoKC9eSGVsbG9cXHMvKSkge1xuICogICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JvZHkgbXVzdCBzdGFydCB3aXRoIFwiSGVsbG8gXCInKTtcbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqICAgICByZXEuc2VuZChmdW5jdGlvbihlcnIsIGRhdGEpIHsgLi4uIH0pO1xuICpcbiAqIEAhZXZlbnQgYnVpbGQocmVxdWVzdClcbiAqICAgVHJpZ2dlcmVkIHdoZW4gdGhlIHJlcXVlc3QgcGF5bG9hZCBpcyBiZWluZyBidWlsdC4gTGlzdGVuZXJzXG4gKiAgIHNob3VsZCBmaWxsIHRoZSBuZWNlc3NhcnkgaW5mb3JtYXRpb24gdG8gc2VuZCB0aGUgcmVxdWVzdFxuICogICBvdmVyIEhUVFAuXG4gKiAgIEBwYXJhbSAoc2VlIEFXUy5SZXF1ZXN0fnZhbGlkYXRlKVxuICogICBAZXhhbXBsZSBBZGQgYSBjdXN0b20gSFRUUCBoZWFkZXIgdG8gYSByZXF1ZXN0XG4gKiAgICAgdmFyIHJlcSA9IHMzLnB1dE9iamVjdChwYXJhbXMpO1xuICogICAgIHJlcS5vbignYnVpbGQnLCBmdW5jdGlvbigpIHtcbiAqICAgICAgIHJlcS5odHRwUmVxdWVzdC5oZWFkZXJzWydDdXN0b20tSGVhZGVyJ10gPSAndmFsdWUnO1xuICogICAgIH0pO1xuICogICAgIHJlcS5zZW5kKGZ1bmN0aW9uKGVyciwgZGF0YSkgeyAuLi4gfSk7XG4gKlxuICogQCFldmVudCBzaWduKHJlcXVlc3QpXG4gKiAgIFRyaWdnZXJlZCB3aGVuIHRoZSByZXF1ZXN0IGlzIGJlaW5nIHNpZ25lZC4gTGlzdGVuZXJzIHNob3VsZFxuICogICBhZGQgdGhlIGNvcnJlY3QgYXV0aGVudGljYXRpb24gaGVhZGVycyBhbmQvb3IgYWRqdXN0IHRoZSBib2R5LFxuICogICBkZXBlbmRpbmcgb24gdGhlIGF1dGhlbnRpY2F0aW9uIG1lY2hhbmlzbSBiZWluZyB1c2VkLlxuICogICBAcGFyYW0gKHNlZSBBV1MuUmVxdWVzdH52YWxpZGF0ZSlcbiAqXG4gKiBAIWdyb3VwIFJlcXVlc3QgU2VuZGluZyBFdmVudHNcbiAqXG4gKiBAIWV2ZW50IHNlbmQocmVzcG9uc2UpXG4gKiAgIFRyaWdnZXJlZCB3aGVuIHRoZSByZXF1ZXN0IGlzIHJlYWR5IHRvIGJlIHNlbnQuIExpc3RlbmVyc1xuICogICBzaG91bGQgY2FsbCB0aGUgdW5kZXJseWluZyB0cmFuc3BvcnQgbGF5ZXIgdG8gaW5pdGlhdGVcbiAqICAgdGhlIHNlbmRpbmcgb2YgdGhlIHJlcXVlc3QuXG4gKiAgIEBwYXJhbSByZXNwb25zZSBbUmVzcG9uc2VdIHRoZSByZXNwb25zZSBvYmplY3RcbiAqICAgQGNvbnRleHQgW1JlcXVlc3RdIHRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdhcyBzZW50XG4gKiAgIEBzZWUgQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuU0VORFxuICpcbiAqIEAhZXZlbnQgcmV0cnkocmVzcG9uc2UpXG4gKiAgIFRyaWdnZXJlZCB3aGVuIGEgcmVxdWVzdCBmYWlsZWQgYW5kIG1pZ2h0IG5lZWQgdG8gYmUgcmV0cmllZCBvciByZWRpcmVjdGVkLlxuICogICBJZiB0aGUgcmVzcG9uc2UgaXMgcmV0cnlhYmxlLCB0aGUgbGlzdGVuZXIgc2hvdWxkIHNldCB0aGVcbiAqICAgYHJlc3BvbnNlLmVycm9yLnJldHJ5YWJsZWAgcHJvcGVydHkgdG8gYHRydWVgLCBhbmQgb3B0aW9uYWxseSBzZXRcbiAqICAgYHJlc3BvbnNlLmVycm9yLnJldHJ5RGVsYXlgIHRvIHRoZSBtaWxsaXNlY29uZCBkZWxheSBmb3IgdGhlIG5leHQgYXR0ZW1wdC5cbiAqICAgSW4gdGhlIGNhc2Ugb2YgYSByZWRpcmVjdCwgYHJlc3BvbnNlLmVycm9yLnJlZGlyZWN0YCBzaG91bGQgYmUgc2V0IHRvXG4gKiAgIGB0cnVlYCB3aXRoIGByZXRyeURlbGF5YCBzZXQgdG8gYW4gb3B0aW9uYWwgZGVsYXkgb24gdGhlIG5leHQgcmVxdWVzdC5cbiAqXG4gKiAgIElmIGEgbGlzdGVuZXIgZGVjaWRlcyB0aGF0IGEgcmVxdWVzdCBzaG91bGQgbm90IGJlIHJldHJpZWQsXG4gKiAgIGl0IHNob3VsZCBzZXQgYm90aCBgcmV0cnlhYmxlYCBhbmQgYHJlZGlyZWN0YCB0byBmYWxzZS5cbiAqXG4gKiAgIE5vdGUgdGhhdCBhIHJldHJ5YWJsZSBlcnJvciB3aWxsIGJlIHJldHJpZWQgYXQgbW9zdFxuICogICB7QVdTLkNvbmZpZy5tYXhSZXRyaWVzfSB0aW1lcyAoYmFzZWQgb24gdGhlIHNlcnZpY2Ugb2JqZWN0J3MgY29uZmlnKS5cbiAqICAgU2ltaWxhcmx5LCBhIHJlcXVlc3QgdGhhdCBpcyByZWRpcmVjdGVkIHdpbGwgb25seSByZWRpcmVjdCBhdCBtb3N0XG4gKiAgIHtBV1MuQ29uZmlnLm1heFJlZGlyZWN0c30gdGltZXMuXG4gKlxuICogICBAcGFyYW0gKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICogICBAY29udGV4dCAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKiAgIEBleGFtcGxlIEFkZGluZyBhIGN1c3RvbSByZXRyeSBmb3IgYSA0MDQgcmVzcG9uc2VcbiAqICAgICByZXF1ZXN0Lm9uKCdyZXRyeScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gKiAgICAgICAvLyB0aGlzIHJlc291cmNlIGlzIG5vdCB5ZXQgYXZhaWxhYmxlLCB3YWl0IDEwIHNlY29uZHMgdG8gZ2V0IGl0IGFnYWluXG4gKiAgICAgICBpZiAocmVzcG9uc2UuaHR0cFJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDQwNCAmJiByZXNwb25zZS5lcnJvcikge1xuICogICAgICAgICByZXNwb25zZS5lcnJvci5yZXRyeWFibGUgPSB0cnVlOyAgIC8vIHJldHJ5IHRoaXMgZXJyb3JcbiAqICAgICAgICAgcmVzcG9uc2UuZXJyb3IucmV0cnlEZWxheSA9IDEwMDAwOyAvLyB3YWl0IDEwIHNlY29uZHNcbiAqICAgICAgIH1cbiAqICAgICB9KTtcbiAqXG4gKiBAIWdyb3VwIERhdGEgUGFyc2luZyBFdmVudHNcbiAqXG4gKiBAIWV2ZW50IGV4dHJhY3RFcnJvcihyZXNwb25zZSlcbiAqICAgVHJpZ2dlcmVkIG9uIGFsbCBub24tMnh4IHJlcXVlc3RzIHNvIHRoYXQgbGlzdGVuZXJzIGNhbiBleHRyYWN0XG4gKiAgIGVycm9yIGRldGFpbHMgZnJvbSB0aGUgcmVzcG9uc2UgYm9keS4gTGlzdGVuZXJzIHRvIHRoaXMgZXZlbnRcbiAqICAgc2hvdWxkIHNldCB0aGUgYHJlc3BvbnNlLmVycm9yYCBwcm9wZXJ0eS5cbiAqICAgQHBhcmFtIChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqICAgQGNvbnRleHQgKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICpcbiAqIEAhZXZlbnQgZXh0cmFjdERhdGEocmVzcG9uc2UpXG4gKiAgIFRyaWdnZXJlZCBpbiBzdWNjZXNzZnVsIHJlcXVlc3RzIHRvIGFsbG93IGxpc3RlbmVycyB0b1xuICogICBkZS1zZXJpYWxpemUgdGhlIHJlc3BvbnNlIGJvZHkgaW50byBgcmVzcG9uc2UuZGF0YWAuXG4gKiAgIEBwYXJhbSAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKiAgIEBjb250ZXh0IChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqXG4gKiBAIWdyb3VwIENvbXBsZXRpb24gRXZlbnRzXG4gKlxuICogQCFldmVudCBzdWNjZXNzKHJlc3BvbnNlKVxuICogICBUcmlnZ2VyZWQgd2hlbiB0aGUgcmVxdWVzdCBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LlxuICogICBgcmVzcG9uc2UuZGF0YWAgd2lsbCBjb250YWluIHRoZSByZXNwb25zZSBkYXRhIGFuZFxuICogICBgcmVzcG9uc2UuZXJyb3JgIHdpbGwgYmUgbnVsbC5cbiAqICAgQHBhcmFtIChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqICAgQGNvbnRleHQgKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICpcbiAqIEAhZXZlbnQgZXJyb3IoZXJyb3IsIHJlc3BvbnNlKVxuICogICBUcmlnZ2VyZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgYXQgYW55IHBvaW50IGR1cmluZyB0aGVcbiAqICAgcmVxdWVzdC4gYHJlc3BvbnNlLmVycm9yYCB3aWxsIGNvbnRhaW4gZGV0YWlscyBhYm91dCB0aGUgZXJyb3JcbiAqICAgdGhhdCBvY2N1cnJlZC4gYHJlc3BvbnNlLmRhdGFgIHdpbGwgYmUgbnVsbC5cbiAqICAgQHBhcmFtIGVycm9yIFtFcnJvcl0gdGhlIGVycm9yIG9iamVjdCBjb250YWluaW5nIGRldGFpbHMgYWJvdXRcbiAqICAgICB0aGUgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAqICAgQHBhcmFtIChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqICAgQGNvbnRleHQgKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICpcbiAqIEAhZXZlbnQgY29tcGxldGUocmVzcG9uc2UpXG4gKiAgIFRyaWdnZXJlZCB3aGVuZXZlciBhIHJlcXVlc3QgY3ljbGUgY29tcGxldGVzLiBgcmVzcG9uc2UuZXJyb3JgXG4gKiAgIHNob3VsZCBiZSBjaGVja2VkLCBzaW5jZSB0aGUgcmVxdWVzdCBtYXkgaGF2ZSBmYWlsZWQuXG4gKiAgIEBwYXJhbSAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKiAgIEBjb250ZXh0IChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqXG4gKiBAIWdyb3VwIEhUVFAgRXZlbnRzXG4gKlxuICogQCFldmVudCBodHRwSGVhZGVycyhzdGF0dXNDb2RlLCBoZWFkZXJzLCByZXNwb25zZSwgc3RhdHVzTWVzc2FnZSlcbiAqICAgVHJpZ2dlcmVkIHdoZW4gaGVhZGVycyBhcmUgc2VudCBieSB0aGUgcmVtb3RlIHNlcnZlclxuICogICBAcGFyYW0gc3RhdHVzQ29kZSBbSW50ZWdlcl0gdGhlIEhUVFAgcmVzcG9uc2UgY29kZVxuICogICBAcGFyYW0gaGVhZGVycyBbbWFwPFN0cmluZyxTdHJpbmc+XSB0aGUgcmVzcG9uc2UgaGVhZGVyc1xuICogICBAcGFyYW0gKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICogICBAcGFyYW0gc3RhdHVzTWVzc2FnZSBbU3RyaW5nXSBBIHN0YXR1cyBtZXNzYWdlIGNvcnJlc3BvbmRpbmcgdG8gdGhlIEhUVFBcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgY29kZVxuICogICBAY29udGV4dCAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKlxuICogQCFldmVudCBodHRwRGF0YShjaHVuaywgcmVzcG9uc2UpXG4gKiAgIFRyaWdnZXJlZCB3aGVuIGRhdGEgaXMgc2VudCBieSB0aGUgcmVtb3RlIHNlcnZlclxuICogICBAcGFyYW0gY2h1bmsgW0J1ZmZlcl0gdGhlIGJ1ZmZlciBkYXRhIGNvbnRhaW5pbmcgdGhlIG5leHQgZGF0YSBjaHVua1xuICogICAgIGZyb20gdGhlIHNlcnZlclxuICogICBAcGFyYW0gKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICogICBAY29udGV4dCAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKiAgIEBzZWUgQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuSFRUUF9EQVRBXG4gKlxuICogQCFldmVudCBodHRwVXBsb2FkUHJvZ3Jlc3MocHJvZ3Jlc3MsIHJlc3BvbnNlKVxuICogICBUcmlnZ2VyZWQgd2hlbiB0aGUgSFRUUCByZXF1ZXN0IGhhcyB1cGxvYWRlZCBtb3JlIGRhdGFcbiAqICAgQHBhcmFtIHByb2dyZXNzIFttYXBdIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBgbG9hZGVkYCBhbmQgYHRvdGFsYCBieXRlc1xuICogICAgIG9mIHRoZSByZXF1ZXN0LlxuICogICBAcGFyYW0gKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICogICBAY29udGV4dCAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKiAgIEBub3RlIFRoaXMgZXZlbnQgd2lsbCBub3QgYmUgZW1pdHRlZCBpbiBOb2RlLmpzIDAuOC54LlxuICpcbiAqIEAhZXZlbnQgaHR0cERvd25sb2FkUHJvZ3Jlc3MocHJvZ3Jlc3MsIHJlc3BvbnNlKVxuICogICBUcmlnZ2VyZWQgd2hlbiB0aGUgSFRUUCByZXF1ZXN0IGhhcyBkb3dubG9hZGVkIG1vcmUgZGF0YVxuICogICBAcGFyYW0gcHJvZ3Jlc3MgW21hcF0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGBsb2FkZWRgIGFuZCBgdG90YWxgIGJ5dGVzXG4gKiAgICAgb2YgdGhlIHJlcXVlc3QuXG4gKiAgIEBwYXJhbSAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKiAgIEBjb250ZXh0IChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqICAgQG5vdGUgVGhpcyBldmVudCB3aWxsIG5vdCBiZSBlbWl0dGVkIGluIE5vZGUuanMgMC44LnguXG4gKlxuICogQCFldmVudCBodHRwRXJyb3IoZXJyb3IsIHJlc3BvbnNlKVxuICogICBUcmlnZ2VyZWQgd2hlbiB0aGUgSFRUUCByZXF1ZXN0IGZhaWxlZFxuICogICBAcGFyYW0gZXJyb3IgW0Vycm9yXSB0aGUgZXJyb3Igb2JqZWN0IHRoYXQgd2FzIHRocm93blxuICogICBAcGFyYW0gKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICogICBAY29udGV4dCAoc2VlIEFXUy5SZXF1ZXN0fnNlbmQpXG4gKlxuICogQCFldmVudCBodHRwRG9uZShyZXNwb25zZSlcbiAqICAgVHJpZ2dlcmVkIHdoZW4gdGhlIHNlcnZlciBpcyBmaW5pc2hlZCBzZW5kaW5nIGRhdGFcbiAqICAgQHBhcmFtIChzZWUgQVdTLlJlcXVlc3R+c2VuZClcbiAqICAgQGNvbnRleHQgKHNlZSBBV1MuUmVxdWVzdH5zZW5kKVxuICpcbiAqIEBzZWUgQVdTLlJlc3BvbnNlXG4gKi9cbkFXUy5SZXF1ZXN0ID0gaW5oZXJpdCh7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSByZXF1ZXN0IGZvciBhbiBvcGVyYXRpb24gb24gYSBnaXZlbiBzZXJ2aWNlIHdpdGhcbiAgICogYSBzZXQgb2YgaW5wdXQgcGFyYW1ldGVycy5cbiAgICpcbiAgICogQHBhcmFtIHNlcnZpY2UgW0FXUy5TZXJ2aWNlXSB0aGUgc2VydmljZSB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24gb25cbiAgICogQHBhcmFtIG9wZXJhdGlvbiBbU3RyaW5nXSB0aGUgb3BlcmF0aW9uIHRvIHBlcmZvcm0gb24gdGhlIHNlcnZpY2VcbiAgICogQHBhcmFtIHBhcmFtcyBbT2JqZWN0XSBwYXJhbWV0ZXJzIHRvIHNlbmQgdG8gdGhlIG9wZXJhdGlvbi5cbiAgICogICBTZWUgdGhlIG9wZXJhdGlvbidzIGRvY3VtZW50YXRpb24gZm9yIHRoZSBmb3JtYXQgb2YgdGhlXG4gICAqICAgcGFyYW1ldGVycy5cbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBSZXF1ZXN0KHNlcnZpY2UsIG9wZXJhdGlvbiwgcGFyYW1zKSB7XG4gICAgdmFyIGVuZHBvaW50ID0gc2VydmljZS5lbmRwb2ludDtcbiAgICB2YXIgcmVnaW9uID0gc2VydmljZS5jb25maWcucmVnaW9uO1xuICAgIHZhciBjdXN0b21Vc2VyQWdlbnQgPSBzZXJ2aWNlLmNvbmZpZy5jdXN0b21Vc2VyQWdlbnQ7XG5cbiAgICBpZiAoc2VydmljZS5zaWduaW5nUmVnaW9uKSB7XG4gICAgICByZWdpb24gPSBzZXJ2aWNlLnNpZ25pbmdSZWdpb247XG4gICAgfSBlbHNlIGlmIChzZXJ2aWNlLmlzR2xvYmFsRW5kcG9pbnQpIHtcbiAgICAgIHJlZ2lvbiA9ICd1cy1lYXN0LTEnO1xuICAgIH1cblxuICAgIHRoaXMuZG9tYWluID0gZG9tYWluICYmIGRvbWFpbi5hY3RpdmU7XG4gICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcbiAgICB0aGlzLm9wZXJhdGlvbiA9IG9wZXJhdGlvbjtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcyB8fCB7fTtcbiAgICB0aGlzLmh0dHBSZXF1ZXN0ID0gbmV3IEFXUy5IdHRwUmVxdWVzdChlbmRwb2ludCwgcmVnaW9uKTtcbiAgICB0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KGN1c3RvbVVzZXJBZ2VudCk7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBzZXJ2aWNlLmdldFNrZXdDb3JyZWN0ZWREYXRlKCk7XG5cbiAgICB0aGlzLnJlc3BvbnNlID0gbmV3IEFXUy5SZXNwb25zZSh0aGlzKTtcbiAgICB0aGlzLl9hc20gPSBuZXcgQWNjZXB0b3JTdGF0ZU1hY2hpbmUoZnNtLnN0YXRlcywgJ3ZhbGlkYXRlJyk7XG4gICAgdGhpcy5faGFsdEhhbmRsZXJzT25FcnJvciA9IGZhbHNlO1xuXG4gICAgQVdTLlNlcXVlbnRpYWxFeGVjdXRvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMuZW1pdCA9IHRoaXMuZW1pdEV2ZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAIWdyb3VwIFNlbmRpbmcgYSBSZXF1ZXN0XG4gICAqL1xuXG4gIC8qKlxuICAgKiBAb3ZlcmxvYWQgc2VuZChjYWxsYmFjayA9IG51bGwpXG4gICAqICAgU2VuZHMgdGhlIHJlcXVlc3Qgb2JqZWN0LlxuICAgKlxuICAgKiAgIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIsIGRhdGEpXG4gICAqICAgICBJZiBhIGNhbGxiYWNrIGlzIHN1cHBsaWVkLCBpdCBpcyBjYWxsZWQgd2hlbiBhIHJlc3BvbnNlIGlzIHJldHVybmVkXG4gICAqICAgICBmcm9tIHRoZSBzZXJ2aWNlLlxuICAgKiAgICAgQGNvbnRleHQgW0FXUy5SZXF1ZXN0XSB0aGUgcmVxdWVzdCBvYmplY3QgYmVpbmcgc2VudC5cbiAgICogICAgIEBwYXJhbSBlcnIgW0Vycm9yXSB0aGUgZXJyb3Igb2JqZWN0IHJldHVybmVkIGZyb20gdGhlIHJlcXVlc3QuXG4gICAqICAgICAgIFNldCB0byBgbnVsbGAgaWYgdGhlIHJlcXVlc3QgaXMgc3VjY2Vzc2Z1bC5cbiAgICogICAgIEBwYXJhbSBkYXRhIFtPYmplY3RdIHRoZSBkZS1zZXJpYWxpemVkIGRhdGEgcmV0dXJuZWQgZnJvbVxuICAgKiAgICAgICB0aGUgcmVxdWVzdC4gU2V0IHRvIGBudWxsYCBpZiBhIHJlcXVlc3QgZXJyb3Igb2NjdXJzLlxuICAgKiAgIEBleGFtcGxlIFNlbmRpbmcgYSByZXF1ZXN0IHdpdGggYSBjYWxsYmFja1xuICAgKiAgICAgcmVxdWVzdCA9IHMzLnB1dE9iamVjdCh7QnVja2V0OiAnYnVja2V0JywgS2V5OiAna2V5J30pO1xuICAgKiAgICAgcmVxdWVzdC5zZW5kKGZ1bmN0aW9uKGVyciwgZGF0YSkgeyBjb25zb2xlLmxvZyhlcnIsIGRhdGEpOyB9KTtcbiAgICogICBAZXhhbXBsZSBTZW5kaW5nIGEgcmVxdWVzdCB3aXRoIG5vIGNhbGxiYWNrICh1c2luZyBldmVudCBoYW5kbGVycylcbiAgICogICAgIHJlcXVlc3QgPSBzMy5wdXRPYmplY3Qoe0J1Y2tldDogJ2J1Y2tldCcsIEtleTogJ2tleSd9KTtcbiAgICogICAgIHJlcXVlc3Qub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24ocmVzcG9uc2UpIHsgLi4uIH0pOyAvLyByZWdpc3RlciBhIGNhbGxiYWNrXG4gICAqICAgICByZXF1ZXN0LnNlbmQoKTtcbiAgICovXG4gIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIGFwcGVuZCB0byB1c2VyIGFnZW50XG4gICAgICB0aGlzLmh0dHBSZXF1ZXN0LmFwcGVuZFRvVXNlckFnZW50KCdjYWxsYmFjaycpO1xuICAgICAgdGhpcy5vbignY29tcGxldGUnLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgICBjYWxsYmFjay5jYWxsKHJlc3AsIHJlc3AuZXJyb3IsIHJlc3AuZGF0YSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgdGhpcy5ydW5UbygpO1xuXG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEAhbWV0aG9kICBwcm9taXNlKClcbiAgICogICBTZW5kcyB0aGUgcmVxdWVzdCBhbmQgcmV0dXJucyBhICd0aGVuYWJsZScgcHJvbWlzZS5cbiAgICpcbiAgICogICBUd28gY2FsbGJhY2tzIGNhbiBiZSBwcm92aWRlZCB0byB0aGUgYHRoZW5gIG1ldGhvZCBvbiB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICogICBUaGUgZmlyc3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLCBhbmQgdGhlIHNlY29uZFxuICAgKiAgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLlxuICAgKiAgIEBjYWxsYmFjayBmdWxmaWxsZWRDYWxsYmFjayBmdW5jdGlvbihkYXRhKVxuICAgKiAgICAgQ2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZC5cbiAgICogICAgIEBwYXJhbSBkYXRhIFtPYmplY3RdIHRoZSBkZS1zZXJpYWxpemVkIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgcmVxdWVzdC5cbiAgICogICBAY2FsbGJhY2sgcmVqZWN0ZWRDYWxsYmFjayBmdW5jdGlvbihlcnJvcilcbiAgICogICAgIENhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICogICAgIEBwYXJhbSBlcnJvciBbRXJyb3JdIHRoZSBlcnJvciBvYmplY3QgcmV0dXJuZWQgZnJvbSB0aGUgcmVxdWVzdC5cbiAgICogICBAcmV0dXJuIFtQcm9taXNlXSBBIHByb21pc2UgdGhhdCByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgcmVxdWVzdC5cbiAgICogICBAZXhhbXBsZSBTZW5kaW5nIGEgcmVxdWVzdCB1c2luZyBwcm9taXNlcy5cbiAgICogICAgIHZhciByZXF1ZXN0ID0gczMucHV0T2JqZWN0KHtCdWNrZXQ6ICdidWNrZXQnLCBLZXk6ICdrZXknfSk7XG4gICAqICAgICB2YXIgcmVzdWx0ID0gcmVxdWVzdC5wcm9taXNlKCk7XG4gICAqICAgICByZXN1bHQudGhlbihmdW5jdGlvbihkYXRhKSB7IC4uLiB9LCBmdW5jdGlvbihlcnJvcikgeyAuLi4gfSk7XG4gICAqL1xuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGJ1aWxkOiBmdW5jdGlvbiBidWlsZChjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLnJ1blRvKCdzZW5kJywgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHJ1blRvOiBmdW5jdGlvbiBydW5UbyhzdGF0ZSwgZG9uZSkge1xuICAgIHRoaXMuX2FzbS5ydW5UbyhzdGF0ZSwgZG9uZSwgdGhpcyk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEFib3J0cyBhIHJlcXVlc3QsIGVtaXR0aW5nIHRoZSBlcnJvciBhbmQgY29tcGxldGUgZXZlbnRzLlxuICAgKlxuICAgKiBAIW1hY3JvIG5vYnJvd3NlclxuICAgKiBAZXhhbXBsZSBBYm9ydGluZyBhIHJlcXVlc3QgYWZ0ZXIgc2VuZGluZ1xuICAgKiAgIHZhciBwYXJhbXMgPSB7XG4gICAqICAgICBCdWNrZXQ6ICdidWNrZXQnLCBLZXk6ICdrZXknLFxuICAgKiAgICAgQm9keTogQnVmZmVyLmFsbG9jKDEwMjQgKiAxMDI0ICogNSkgLy8gNU1CIHBheWxvYWRcbiAgICogICB9O1xuICAgKiAgIHZhciByZXF1ZXN0ID0gczMucHV0T2JqZWN0KHBhcmFtcyk7XG4gICAqICAgcmVxdWVzdC5zZW5kKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICogICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKFwiRXJyb3I6XCIsIGVyci5jb2RlLCBlcnIubWVzc2FnZSk7XG4gICAqICAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgIH0pO1xuICAgKlxuICAgKiAgIC8vIGFib3J0IHJlcXVlc3QgaW4gMSBzZWNvbmRcbiAgICogICBzZXRUaW1lb3V0KHJlcXVlc3QuYWJvcnQuYmluZChyZXF1ZXN0KSwgMTAwMCk7XG4gICAqXG4gICAqICAgLy8gcHJpbnRzIFwiRXJyb3I6IFJlcXVlc3RBYm9ydGVkRXJyb3IgUmVxdWVzdCBhYm9ydGVkIGJ5IHVzZXJcIlxuICAgKiBAcmV0dXJuIFtBV1MuUmVxdWVzdF0gdGhlIHNhbWUgcmVxdWVzdCBvYmplY3QsIGZvciBjaGFpbmluZy5cbiAgICogQHNpbmNlIHYxLjQuMFxuICAgKi9cbiAgYWJvcnQ6IGZ1bmN0aW9uIGFib3J0KCkge1xuICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCd2YWxpZGF0ZVJlc3BvbnNlJyk7XG4gICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ2V4dHJhY3RFcnJvcicpO1xuICAgIHRoaXMub24oJ3ZhbGlkYXRlUmVzcG9uc2UnLCBmdW5jdGlvbiBhZGRBYm9ydGVkRXJyb3IocmVzcCkge1xuICAgICAgcmVzcC5lcnJvciA9IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcignUmVxdWVzdCBhYm9ydGVkIGJ5IHVzZXInKSwge1xuICAgICAgICAgY29kZTogJ1JlcXVlc3RBYm9ydGVkRXJyb3InLCByZXRyeWFibGU6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGlmICh0aGlzLmh0dHBSZXF1ZXN0LnN0cmVhbSAmJiAhdGhpcy5odHRwUmVxdWVzdC5zdHJlYW0uZGlkQ2FsbGJhY2spIHsgLy8gYWJvcnQgSFRUUCBzdHJlYW1cbiAgICAgIHRoaXMuaHR0cFJlcXVlc3Quc3RyZWFtLmFib3J0KCk7XG4gICAgICBpZiAodGhpcy5odHRwUmVxdWVzdC5fYWJvcnRDYWxsYmFjaykge1xuICAgICAgICAgdGhpcy5odHRwUmVxdWVzdC5fYWJvcnRDYWxsYmFjaygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3NlbmQnKTsgLy8gaGF2ZW4ndCBzZW50IHlldCwgc28gbGV0J3Mgbm90XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGVzIG92ZXIgZWFjaCBwYWdlIG9mIHJlc3VsdHMgZ2l2ZW4gYSBwYWdlYWJsZSByZXF1ZXN0LCBjYWxsaW5nXG4gICAqIHRoZSBwcm92aWRlZCBjYWxsYmFjayB3aXRoIGVhY2ggcGFnZSBvZiBkYXRhLiBBZnRlciBhbGwgcGFnZXMgaGF2ZSBiZWVuXG4gICAqIHJldHJpZXZlZCwgdGhlIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIGBudWxsYCBkYXRhLlxuICAgKlxuICAgKiBAbm90ZSBUaGlzIG9wZXJhdGlvbiBjYW4gZ2VuZXJhdGUgbXVsdGlwbGUgcmVxdWVzdHMgdG8gYSBzZXJ2aWNlLlxuICAgKiBAZXhhbXBsZSBJdGVyYXRpbmcgb3ZlciBtdWx0aXBsZSBwYWdlcyBvZiBvYmplY3RzIGluIGFuIFMzIGJ1Y2tldFxuICAgKiAgIHZhciBwYWdlcyA9IDE7XG4gICAqICAgczMubGlzdE9iamVjdHMoKS5lYWNoUGFnZShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICogICAgIGlmIChlcnIpIHJldHVybjtcbiAgICogICAgIGNvbnNvbGUubG9nKFwiUGFnZVwiLCBwYWdlcysrKTtcbiAgICogICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgIH0pO1xuICAgKiBAZXhhbXBsZSBJdGVyYXRpbmcgb3ZlciBtdWx0aXBsZSBwYWdlcyB3aXRoIGFuIGFzeW5jaHJvbm91cyBjYWxsYmFja1xuICAgKiAgIHMzLmxpc3RPYmplY3RzKHBhcmFtcykuZWFjaFBhZ2UoZnVuY3Rpb24oZXJyLCBkYXRhLCBkb25lKSB7XG4gICAqICAgICBkb1NvbWV0aGluZ0FzeW5jQW5kT3JFeHBlbnNpdmUoZnVuY3Rpb24oKSB7XG4gICAqICAgICAgIC8vIFRoZSBuZXh0IHBhZ2Ugb2YgcmVzdWx0cyBpc24ndCBmZXRjaGVkIHVudGlsIGRvbmUgaXMgY2FsbGVkXG4gICAqICAgICAgIGRvbmUoKTtcbiAgICogICAgIH0pO1xuICAgKiAgIH0pO1xuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyLCBkYXRhLCBbZG9uZUNhbGxiYWNrXSlcbiAgICogICBDYWxsZWQgd2l0aCBlYWNoIHBhZ2Ugb2YgcmVzdWx0aW5nIGRhdGEgZnJvbSB0aGUgcmVxdWVzdC4gSWYgdGhlXG4gICAqICAgb3B0aW9uYWwgYGRvbmVDYWxsYmFja2AgaXMgcHJvdmlkZWQgaW4gdGhlIGZ1bmN0aW9uLCBpdCBtdXN0IGJlIGNhbGxlZFxuICAgKiAgIHdoZW4gdGhlIGNhbGxiYWNrIGlzIGNvbXBsZXRlLlxuICAgKlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBhbiBlcnJvciBvYmplY3QsIGlmIGFuIGVycm9yIG9jY3VycmVkLlxuICAgKiAgIEBwYXJhbSBkYXRhIFtPYmplY3RdIGEgc2luZ2xlIHBhZ2Ugb2YgcmVzcG9uc2UgZGF0YS4gSWYgdGhlcmUgaXMgbm9cbiAgICogICAgIG1vcmUgZGF0YSwgdGhpcyBvYmplY3Qgd2lsbCBiZSBgbnVsbGAuXG4gICAqICAgQHBhcmFtIGRvbmVDYWxsYmFjayBbRnVuY3Rpb25dIGFuIG9wdGlvbmFsIGRvbmUgY2FsbGJhY2suIElmIHRoaXNcbiAgICogICAgIGFyZ3VtZW50IGlzIGRlZmluZWQgaW4gdGhlIGZ1bmN0aW9uIGRlY2xhcmF0aW9uLCBpdCBzaG91bGQgYmUgY2FsbGVkXG4gICAqICAgICB3aGVuIHRoZSBuZXh0IHBhZ2UgaXMgcmVhZHkgdG8gYmUgcmV0cmlldmVkLiBUaGlzIGlzIHVzZWZ1bCBmb3JcbiAgICogICAgIGNvbnRyb2xsaW5nIHNlcmlhbCBwYWdpbmF0aW9uIGFjcm9zcyBhc3luY2hyb25vdXMgb3BlcmF0aW9ucy5cbiAgICogICBAcmV0dXJuIFtCb29sZWFuXSBpZiB0aGUgY2FsbGJhY2sgcmV0dXJucyBgZmFsc2VgLCBwYWdpbmF0aW9uIHdpbGxcbiAgICogICAgIHN0b3AuXG4gICAqXG4gICAqIEBzZWUgQVdTLlJlcXVlc3QuZWFjaEl0ZW1cbiAgICogQHNlZSBBV1MuUmVzcG9uc2UubmV4dFBhZ2VcbiAgICogQHNpbmNlIHYxLjQuMFxuICAgKi9cbiAgZWFjaFBhZ2U6IGZ1bmN0aW9uIGVhY2hQYWdlKGNhbGxiYWNrKSB7XG4gICAgLy8gTWFrZSBhbGwgY2FsbGJhY2tzIGFzeW5jLWlzaFxuICAgIGNhbGxiYWNrID0gQVdTLnV0aWwuZm4ubWFrZUFzeW5jKGNhbGxiYWNrLCAzKTtcblxuICAgIGZ1bmN0aW9uIHdyYXBwZWRDYWxsYmFjayhyZXNwb25zZSkge1xuICAgICAgY2FsbGJhY2suY2FsbChyZXNwb25zZSwgcmVzcG9uc2UuZXJyb3IsIHJlc3BvbnNlLmRhdGEsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gZmFsc2UpIHJldHVybjtcblxuICAgICAgICBpZiAocmVzcG9uc2UuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgIHJlc3BvbnNlLm5leHRQYWdlKCkub24oJ2NvbXBsZXRlJywgd3JhcHBlZENhbGxiYWNrKS5zZW5kKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2suY2FsbChyZXNwb25zZSwgbnVsbCwgbnVsbCwgQVdTLnV0aWwuZm4ubm9vcCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMub24oJ2NvbXBsZXRlJywgd3JhcHBlZENhbGxiYWNrKS5zZW5kKCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEVudW1lcmF0ZXMgb3ZlciBpbmRpdmlkdWFsIGl0ZW1zIG9mIGEgcmVxdWVzdCwgcGFnaW5nIHRoZSByZXNwb25zZXMgaWZcbiAgICogbmVjZXNzYXJ5LlxuICAgKlxuICAgKiBAYXBpIGV4cGVyaW1lbnRhbFxuICAgKiBAc2luY2UgdjEuNC4wXG4gICAqL1xuICBlYWNoSXRlbTogZnVuY3Rpb24gZWFjaEl0ZW0oY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgZnVuY3Rpb24gd3JhcHBlZENhbGxiYWNrKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVycikgcmV0dXJuIGNhbGxiYWNrKGVyciwgbnVsbCk7XG4gICAgICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG51bGwpO1xuXG4gICAgICB2YXIgY29uZmlnID0gc2VsZi5zZXJ2aWNlLnBhZ2luYXRpb25Db25maWcoc2VsZi5vcGVyYXRpb24pO1xuICAgICAgdmFyIHJlc3VsdEtleSA9IGNvbmZpZy5yZXN1bHRLZXk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHRLZXkpKSByZXN1bHRLZXkgPSByZXN1bHRLZXlbMF07XG4gICAgICB2YXIgaXRlbXMgPSBqbWVzcGF0aC5zZWFyY2goZGF0YSwgcmVzdWx0S2V5KTtcbiAgICAgIHZhciBjb250aW51ZUl0ZXJhdGlvbiA9IHRydWU7XG4gICAgICBBV1MudXRpbC5hcnJheUVhY2goaXRlbXMsIGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgY29udGludWVJdGVyYXRpb24gPSBjYWxsYmFjayhudWxsLCBpdGVtKTtcbiAgICAgICAgaWYgKGNvbnRpbnVlSXRlcmF0aW9uID09PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiBBV1MudXRpbC5hYm9ydDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gY29udGludWVJdGVyYXRpb247XG4gICAgfVxuXG4gICAgdGhpcy5lYWNoUGFnZSh3cmFwcGVkQ2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRoZSBvcGVyYXRpb24gY2FuIHJldHVybiBtdWx0aXBsZSBwYWdlcyBvZlxuICAgKiAgIHJlc3BvbnNlIGRhdGEuXG4gICAqIEBzZWUgQVdTLlJlc3BvbnNlLmVhY2hQYWdlXG4gICAqIEBzaW5jZSB2MS40LjBcbiAgICovXG4gIGlzUGFnZWFibGU6IGZ1bmN0aW9uIGlzUGFnZWFibGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VydmljZS5wYWdpbmF0aW9uQ29uZmlnKHRoaXMub3BlcmF0aW9uKSA/IHRydWUgOiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogU2VuZHMgdGhlIHJlcXVlc3QgYW5kIGNvbnZlcnRzIHRoZSByZXF1ZXN0IG9iamVjdCBpbnRvIGEgcmVhZGFibGUgc3RyZWFtXG4gICAqIHRoYXQgY2FuIGJlIHJlYWQgZnJvbSBvciBwaXBlZCBpbnRvIGEgd3JpdGFibGUgc3RyZWFtLlxuICAgKlxuICAgKiBAbm90ZSBUaGUgZGF0YSByZWFkIGZyb20gYSByZWFkYWJsZSBzdHJlYW0gY29udGFpbnMgb25seVxuICAgKiAgIHRoZSByYXcgSFRUUCBib2R5IGNvbnRlbnRzLlxuICAgKiBAZXhhbXBsZSBNYW51YWxseSByZWFkaW5nIGZyb20gYSBzdHJlYW1cbiAgICogICByZXF1ZXN0LmNyZWF0ZVJlYWRTdHJlYW0oKS5vbignZGF0YScsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICogICAgIGNvbnNvbGUubG9nKFwiR290IGRhdGE6XCIsIGRhdGEudG9TdHJpbmcoKSk7XG4gICAqICAgfSk7XG4gICAqIEBleGFtcGxlIFBpcGluZyBhIHJlcXVlc3QgYm9keSBpbnRvIGEgZmlsZVxuICAgKiAgIHZhciBvdXQgPSBmcy5jcmVhdGVXcml0ZVN0cmVhbSgnL3BhdGgvdG8vb3V0ZmlsZS5qcGcnKTtcbiAgICogICBzMy5zZXJ2aWNlLmdldE9iamVjdChwYXJhbXMpLmNyZWF0ZVJlYWRTdHJlYW0oKS5waXBlKG91dCk7XG4gICAqIEByZXR1cm4gW1N0cmVhbV0gdGhlIHJlYWRhYmxlIHN0cmVhbSBvYmplY3QgdGhhdCBjYW4gYmUgcGlwZWRcbiAgICogICBvciByZWFkIGZyb20gKGJ5IHJlZ2lzdGVyaW5nICdkYXRhJyBldmVudCBsaXN0ZW5lcnMpLlxuICAgKiBAIW1hY3JvIG5vYnJvd3NlclxuICAgKi9cbiAgY3JlYXRlUmVhZFN0cmVhbTogZnVuY3Rpb24gY3JlYXRlUmVhZFN0cmVhbSgpIHtcbiAgICB2YXIgc3RyZWFtcyA9IEFXUy51dGlsLnN0cmVhbTtcbiAgICB2YXIgcmVxID0gdGhpcztcbiAgICB2YXIgc3RyZWFtID0gbnVsbDtcblxuICAgIGlmIChBV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiA9PT0gMikge1xuICAgICAgc3RyZWFtID0gbmV3IHN0cmVhbXMuUGFzc1Rocm91Z2goKTtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7IHJlcS5zZW5kKCk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJlYW0gPSBuZXcgc3RyZWFtcy5TdHJlYW0oKTtcbiAgICAgIHN0cmVhbS5yZWFkYWJsZSA9IHRydWU7XG5cbiAgICAgIHN0cmVhbS5zZW50ID0gZmFsc2U7XG4gICAgICBzdHJlYW0ub24oJ25ld0xpc3RlbmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKCFzdHJlYW0uc2VudCAmJiBldmVudCA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgc3RyZWFtLnNlbnQgPSB0cnVlO1xuICAgICAgICAgIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKSB7IHJlcS5zZW5kKCk7IH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB0aGlzLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycikge1xuICAgICAgc3RyZWFtLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICB9KTtcblxuICAgIHRoaXMub24oJ2h0dHBIZWFkZXJzJywgZnVuY3Rpb24gc3RyZWFtSGVhZGVycyhzdGF0dXNDb2RlLCBoZWFkZXJzLCByZXNwKSB7XG4gICAgICBpZiAoc3RhdHVzQ29kZSA8IDMwMCkge1xuICAgICAgICByZXEucmVtb3ZlTGlzdGVuZXIoJ2h0dHBEYXRhJywgQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuSFRUUF9EQVRBKTtcbiAgICAgICAgcmVxLnJlbW92ZUxpc3RlbmVyKCdodHRwRXJyb3InLCBBV1MuRXZlbnRMaXN0ZW5lcnMuQ29yZS5IVFRQX0VSUk9SKTtcbiAgICAgICAgcmVxLm9uKCdodHRwRXJyb3InLCBmdW5jdGlvbiBzdHJlYW1IdHRwRXJyb3IoZXJyb3IpIHtcbiAgICAgICAgICByZXNwLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgcmVzcC5lcnJvci5yZXRyeWFibGUgPSBmYWxzZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNob3VsZENoZWNrQ29udGVudExlbmd0aCA9IGZhbHNlO1xuICAgICAgICB2YXIgZXhwZWN0ZWRMZW47XG4gICAgICAgIGlmIChyZXEuaHR0cFJlcXVlc3QubWV0aG9kICE9PSAnSEVBRCcpIHtcbiAgICAgICAgICBleHBlY3RlZExlbiA9IHBhcnNlSW50KGhlYWRlcnNbJ2NvbnRlbnQtbGVuZ3RoJ10sIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXhwZWN0ZWRMZW4gIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4oZXhwZWN0ZWRMZW4pICYmIGV4cGVjdGVkTGVuID49IDApIHtcbiAgICAgICAgICBzaG91bGRDaGVja0NvbnRlbnRMZW5ndGggPSB0cnVlO1xuICAgICAgICAgIHZhciByZWNlaXZlZExlbiA9IDA7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hlY2tDb250ZW50TGVuZ3RoQW5kRW1pdCA9IGZ1bmN0aW9uIGNoZWNrQ29udGVudExlbmd0aEFuZEVtaXQoKSB7XG4gICAgICAgICAgaWYgKHNob3VsZENoZWNrQ29udGVudExlbmd0aCAmJiByZWNlaXZlZExlbiAhPT0gZXhwZWN0ZWRMZW4pIHtcbiAgICAgICAgICAgIHN0cmVhbS5lbWl0KCdlcnJvcicsIEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoJ1N0cmVhbSBjb250ZW50IGxlbmd0aCBtaXNtYXRjaC4gUmVjZWl2ZWQgJyArXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRMZW4gKyAnIG9mICcgKyBleHBlY3RlZExlbiArICcgYnl0ZXMuJyksXG4gICAgICAgICAgICAgIHsgY29kZTogJ1N0cmVhbUNvbnRlbnRMZW5ndGhNaXNtYXRjaCcgfVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChBV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiA9PT0gMikge1xuICAgICAgICAgICAgc3RyZWFtLmVuZCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJlYW0uZW1pdCgnZW5kJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBodHRwU3RyZWFtID0gcmVzcC5odHRwUmVzcG9uc2UuY3JlYXRlVW5idWZmZXJlZFN0cmVhbSgpO1xuXG4gICAgICAgIGlmIChBV1MuSHR0cENsaWVudC5zdHJlYW1zQXBpVmVyc2lvbiA9PT0gMikge1xuICAgICAgICAgIGlmIChzaG91bGRDaGVja0NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBsZW5ndGhBY2N1bXVsYXRvciA9IG5ldyBzdHJlYW1zLlBhc3NUaHJvdWdoKCk7XG4gICAgICAgICAgICBsZW5ndGhBY2N1bXVsYXRvci5fd3JpdGUgPSBmdW5jdGlvbihjaHVuaykge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRMZW4gKz0gY2h1bmsubGVuZ3RoO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiBzdHJlYW1zLlBhc3NUaHJvdWdoLnByb3RvdHlwZS5fd3JpdGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxlbmd0aEFjY3VtdWxhdG9yLm9uKCdlbmQnLCBjaGVja0NvbnRlbnRMZW5ndGhBbmRFbWl0KTtcbiAgICAgICAgICAgIHN0cmVhbS5vbignZXJyb3InLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICAgICAgc2hvdWxkQ2hlY2tDb250ZW50TGVuZ3RoID0gZmFsc2U7XG4gICAgICAgICAgICAgIGh0dHBTdHJlYW0udW5waXBlKGxlbmd0aEFjY3VtdWxhdG9yKTtcbiAgICAgICAgICAgICAgbGVuZ3RoQWNjdW11bGF0b3IuZW1pdCgnZW5kJyk7XG4gICAgICAgICAgICAgIGxlbmd0aEFjY3VtdWxhdG9yLmVuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBodHRwU3RyZWFtLnBpcGUobGVuZ3RoQWNjdW11bGF0b3IpLnBpcGUoc3RyZWFtLCB7IGVuZDogZmFsc2UgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGh0dHBTdHJlYW0ucGlwZShzdHJlYW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgIGlmIChzaG91bGRDaGVja0NvbnRlbnRMZW5ndGgpIHtcbiAgICAgICAgICAgIGh0dHBTdHJlYW0ub24oJ2RhdGEnLCBmdW5jdGlvbihhcmcpIHtcbiAgICAgICAgICAgICAgaWYgKGFyZyAmJiBhcmcubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWRMZW4gKz0gYXJnLmxlbmd0aDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaHR0cFN0cmVhbS5vbignZGF0YScsIGZ1bmN0aW9uKGFyZykge1xuICAgICAgICAgICAgc3RyZWFtLmVtaXQoJ2RhdGEnLCBhcmcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGh0dHBTdHJlYW0ub24oJ2VuZCcsIGNoZWNrQ29udGVudExlbmd0aEFuZEVtaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaHR0cFN0cmVhbS5vbignZXJyb3InLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICBzaG91bGRDaGVja0NvbnRlbnRMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgICBzdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBzdHJlYW07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBwYXJhbSBbQXJyYXksUmVzcG9uc2VdIGFyZ3MgVGhpcyBzaG91bGQgYmUgdGhlIHJlc3BvbnNlIG9iamVjdCxcbiAgICogICBvciBhbiBhcnJheSBvZiBhcmdzIHRvIHNlbmQgdG8gdGhlIGV2ZW50LlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGVtaXRFdmVudDogZnVuY3Rpb24gZW1pdChldmVudE5hbWUsIGFyZ3MsIGRvbmUpIHtcbiAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdmdW5jdGlvbicpIHsgZG9uZSA9IGFyZ3M7IGFyZ3MgPSBudWxsOyB9XG4gICAgaWYgKCFkb25lKSBkb25lID0gZnVuY3Rpb24oKSB7IH07XG4gICAgaWYgKCFhcmdzKSBhcmdzID0gdGhpcy5ldmVudFBhcmFtZXRlcnMoZXZlbnROYW1lLCB0aGlzLnJlc3BvbnNlKTtcblxuICAgIHZhciBvcmlnRW1pdCA9IEFXUy5TZXF1ZW50aWFsRXhlY3V0b3IucHJvdG90eXBlLmVtaXQ7XG4gICAgb3JpZ0VtaXQuY2FsbCh0aGlzLCBldmVudE5hbWUsIGFyZ3MsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHRoaXMucmVzcG9uc2UuZXJyb3IgPSBlcnI7XG4gICAgICBkb25lLmNhbGwodGhpcywgZXJyKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBldmVudFBhcmFtZXRlcnM6IGZ1bmN0aW9uIGV2ZW50UGFyYW1ldGVycyhldmVudE5hbWUpIHtcbiAgICBzd2l0Y2ggKGV2ZW50TmFtZSkge1xuICAgICAgY2FzZSAncmVzdGFydCc6XG4gICAgICBjYXNlICd2YWxpZGF0ZSc6XG4gICAgICBjYXNlICdzaWduJzpcbiAgICAgIGNhc2UgJ2J1aWxkJzpcbiAgICAgIGNhc2UgJ2FmdGVyVmFsaWRhdGUnOlxuICAgICAgY2FzZSAnYWZ0ZXJCdWlsZCc6XG4gICAgICAgIHJldHVybiBbdGhpc107XG4gICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgIHJldHVybiBbdGhpcy5yZXNwb25zZS5lcnJvciwgdGhpcy5yZXNwb25zZV07XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gW3RoaXMucmVzcG9uc2VdO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBwcmVzaWduOiBmdW5jdGlvbiBwcmVzaWduKGV4cGlyZXMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjayAmJiB0eXBlb2YgZXhwaXJlcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBleHBpcmVzO1xuICAgICAgZXhwaXJlcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQVdTLlNpZ25lcnMuUHJlc2lnbigpLnNpZ24odGhpcy50b0dldCgpLCBleHBpcmVzLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaXNQcmVzaWduZWQ6IGZ1bmN0aW9uIGlzUHJlc2lnbmVkKCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcy5odHRwUmVxdWVzdC5oZWFkZXJzLCAncHJlc2lnbmVkLWV4cGlyZXMnKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICB0b1VuYXV0aGVudGljYXRlZDogZnVuY3Rpb24gdG9VbmF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgdGhpcy5fdW5BdXRoZW50aWNhdGVkID0gdHJ1ZTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCd2YWxpZGF0ZScsIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlZBTElEQVRFX0NSRURFTlRJQUxTKTtcbiAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdzaWduJywgQVdTLkV2ZW50TGlzdGVuZXJzLkNvcmUuU0lHTik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgdG9HZXQ6IGZ1bmN0aW9uIHRvR2V0KCkge1xuICAgIGlmICh0aGlzLnNlcnZpY2UuYXBpLnByb3RvY29sID09PSAncXVlcnknIHx8XG4gICAgICAgIHRoaXMuc2VydmljZS5hcGkucHJvdG9jb2wgPT09ICdlYzInKSB7XG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKCdidWlsZCcsIHRoaXMuYnVpbGRBc0dldCk7XG4gICAgICB0aGlzLmFkZExpc3RlbmVyKCdidWlsZCcsIHRoaXMuYnVpbGRBc0dldCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGJ1aWxkQXNHZXQ6IGZ1bmN0aW9uIGJ1aWxkQXNHZXQocmVxdWVzdCkge1xuICAgIHJlcXVlc3QuaHR0cFJlcXVlc3QubWV0aG9kID0gJ0dFVCc7XG4gICAgcmVxdWVzdC5odHRwUmVxdWVzdC5wYXRoID0gcmVxdWVzdC5zZXJ2aWNlLmVuZHBvaW50LnBhdGggK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc/JyArIHJlcXVlc3QuaHR0cFJlcXVlc3QuYm9keTtcbiAgICByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmJvZHkgPSAnJztcblxuICAgIC8vIGRvbid0IG5lZWQgdGhlc2UgaGVhZGVycyBvbiBhIEdFVCByZXF1ZXN0XG4gICAgZGVsZXRlIHJlcXVlc3QuaHR0cFJlcXVlc3QuaGVhZGVyc1snQ29udGVudC1MZW5ndGgnXTtcbiAgICBkZWxldGUgcmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzWydDb250ZW50LVR5cGUnXTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBoYWx0SGFuZGxlcnNPbkVycm9yOiBmdW5jdGlvbiBoYWx0SGFuZGxlcnNPbkVycm9yKCkge1xuICAgIHRoaXMuX2hhbHRIYW5kbGVyc09uRXJyb3IgPSB0cnVlO1xuICB9XG59KTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlJlcXVlc3QuYWRkUHJvbWlzZXNUb0NsYXNzID0gZnVuY3Rpb24gYWRkUHJvbWlzZXNUb0NsYXNzKFByb21pc2VEZXBlbmRlbmN5KSB7XG4gIHRoaXMucHJvdG90eXBlLnByb21pc2UgPSBmdW5jdGlvbiBwcm9taXNlKCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBhcHBlbmQgdG8gdXNlciBhZ2VudFxuICAgIHRoaXMuaHR0cFJlcXVlc3QuYXBwZW5kVG9Vc2VyQWdlbnQoJ3Byb21pc2UnKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2VEZXBlbmRlbmN5KGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgc2VsZi5vbignY29tcGxldGUnLCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICAgIGlmIChyZXNwLmVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHJlc3AuZXJyb3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIGRlZmluZSAkcmVzcG9uc2UgcHJvcGVydHkgc28gdGhhdCBpdCBpcyBub3QgZW51bWVyYWJsZVxuICAgICAgICAgIC8vIHRoaXMgcHJldmVudHMgY2lyY3VsYXIgcmVmZXJlbmNlIGVycm9ycyB3aGVuIHN0cmluZ2lmeWluZyB0aGUgSlNPTiBvYmplY3RcbiAgICAgICAgICByZXNvbHZlKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgIHJlc3AuZGF0YSB8fCB7fSxcbiAgICAgICAgICAgICckcmVzcG9uc2UnLFxuICAgICAgICAgICAge3ZhbHVlOiByZXNwfVxuICAgICAgICAgICkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlbGYucnVuVG8oKTtcbiAgICB9KTtcbiAgfTtcbn07XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbkFXUy5SZXF1ZXN0LmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzID0gZnVuY3Rpb24gZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MoKSB7XG4gIGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5wcm9taXNlO1xufTtcblxuQVdTLnV0aWwuYWRkUHJvbWlzZXMoQVdTLlJlcXVlc3QpO1xuXG5BV1MudXRpbC5taXhpbihBV1MuUmVxdWVzdCwgQVdTLlNlcXVlbnRpYWxFeGVjdXRvcik7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4vY29yZScpO1xudmFyIGluaGVyaXQgPSBBV1MudXRpbC5pbmhlcml0O1xudmFyIGptZXNwYXRoID0gcmVxdWlyZSgnam1lc3BhdGgnKTtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyB0aGUgcmVzcG9uc2UgaW5mb3JtYXRpb25cbiAqIGZyb20gYSBzZXJ2aWNlIHJlcXVlc3Qgb3BlcmF0aW9uIHNlbnQgdGhyb3VnaCB7QVdTLlJlcXVlc3R9LlxuICogVGhlIHJlc3BvbnNlIG9iamVjdCBoYXMgdHdvIG1haW4gcHJvcGVydGllcyBmb3IgZ2V0dGluZyBpbmZvcm1hdGlvblxuICogYmFjayBmcm9tIGEgcmVxdWVzdDpcbiAqXG4gKiAjIyBUaGUgYGRhdGFgIHByb3BlcnR5XG4gKlxuICogVGhlIGByZXNwb25zZS5kYXRhYCBwcm9wZXJ0eSBjb250YWlucyB0aGUgc2VyaWFsaXplZCBvYmplY3QgZGF0YVxuICogcmV0cmlldmVkIGZyb20gdGhlIHNlcnZpY2UgcmVxdWVzdC4gRm9yIGluc3RhbmNlLCBmb3IgYW5cbiAqIEFtYXpvbiBEeW5hbW9EQiBgbGlzdFRhYmxlc2AgbWV0aG9kIGNhbGwsIHRoZSByZXNwb25zZSBkYXRhIG1pZ2h0XG4gKiBsb29rIGxpa2U6XG4gKlxuICogYGBgXG4gKiA+IHJlc3AuZGF0YVxuICogeyBUYWJsZU5hbWVzOlxuICogICAgWyAndGFibGUxJywgJ3RhYmxlMicsIC4uLiBdIH1cbiAqIGBgYFxuICpcbiAqIFRoZSBgZGF0YWAgcHJvcGVydHkgY2FuIGJlIG51bGwgaWYgYW4gZXJyb3Igb2NjdXJzIChzZWUgYmVsb3cpLlxuICpcbiAqICMjIFRoZSBgZXJyb3JgIHByb3BlcnR5XG4gKlxuICogSW4gdGhlIGV2ZW50IG9mIGEgc2VydmljZSBlcnJvciAob3IgdHJhbnNmZXIgZXJyb3IpLCB0aGVcbiAqIGByZXNwb25zZS5lcnJvcmAgcHJvcGVydHkgd2lsbCBiZSBmaWxsZWQgd2l0aCB0aGUgZ2l2ZW5cbiAqIGVycm9yIGRhdGEgaW4gdGhlIGZvcm06XG4gKlxuICogYGBgXG4gKiB7IGNvZGU6ICdTSE9SVF9VTklRVUVfRVJST1JfQ09ERScsXG4gKiAgIG1lc3NhZ2U6ICdTb21lIGh1bWFuIHJlYWRhYmxlIGVycm9yIG1lc3NhZ2UnIH1cbiAqIGBgYFxuICpcbiAqIEluIHRoZSBjYXNlIG9mIGFuIGVycm9yLCB0aGUgYGRhdGFgIHByb3BlcnR5IHdpbGwgYmUgYG51bGxgLlxuICogTm90ZSB0aGF0IGlmIHlvdSBoYW5kbGUgZXZlbnRzIHRoYXQgY2FuIGJlIGluIGEgZmFpbHVyZSBzdGF0ZSxcbiAqIHlvdSBzaG91bGQgYWx3YXlzIGNoZWNrIHdoZXRoZXIgYHJlc3BvbnNlLmVycm9yYCBpcyBzZXRcbiAqIGJlZm9yZSBhdHRlbXB0aW5nIHRvIGFjY2VzcyB0aGUgYHJlc3BvbnNlLmRhdGFgIHByb3BlcnR5LlxuICpcbiAqIEAhYXR0cmlidXRlIGRhdGFcbiAqICAgQHJlYWRvbmx5XG4gKiAgIEAhZ3JvdXAgRGF0YSBQcm9wZXJ0aWVzXG4gKiAgIEBub3RlIEluc2lkZSBvZiBhIHtBV1MuUmVxdWVzdH5odHRwRGF0YX0gZXZlbnQsIHRoaXNcbiAqICAgICBwcm9wZXJ0eSBjb250YWlucyBhIHNpbmdsZSByYXcgcGFja2V0IGluc3RlYWQgb2YgdGhlXG4gKiAgICAgZnVsbCBkZS1zZXJpYWxpemVkIHNlcnZpY2UgcmVzcG9uc2UuXG4gKiAgIEByZXR1cm4gW09iamVjdF0gdGhlIGRlLXNlcmlhbGl6ZWQgcmVzcG9uc2UgZGF0YVxuICogICAgIGZyb20gdGhlIHNlcnZpY2UuXG4gKlxuICogQCFhdHRyaWJ1dGUgZXJyb3JcbiAqICAgQW4gc3RydWN0dXJlIGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgYSBzZXJ2aWNlXG4gKiAgIG9yIG5ldHdvcmtpbmcgZXJyb3IuXG4gKiAgIEByZWFkb25seVxuICogICBAIWdyb3VwIERhdGEgUHJvcGVydGllc1xuICogICBAbm90ZSBUaGlzIGF0dHJpYnV0ZSBpcyBvbmx5IGZpbGxlZCBpZiBhIHNlcnZpY2Ugb3JcbiAqICAgICBuZXR3b3JraW5nIGVycm9yIG9jY3Vycy5cbiAqICAgQHJldHVybiBbRXJyb3JdXG4gKiAgICAgKiBjb2RlIFtTdHJpbmddIGEgdW5pcXVlIHNob3J0IGNvZGUgcmVwcmVzZW50aW5nIHRoZVxuICogICAgICAgZXJyb3IgdGhhdCB3YXMgZW1pdHRlZC5cbiAqICAgICAqIG1lc3NhZ2UgW1N0cmluZ10gYSBsb25nZXIgaHVtYW4gcmVhZGFibGUgZXJyb3IgbWVzc2FnZVxuICogICAgICogcmV0cnlhYmxlIFtCb29sZWFuXSB3aGV0aGVyIHRoZSBlcnJvciBtZXNzYWdlIGlzXG4gKiAgICAgICByZXRyeWFibGUuXG4gKiAgICAgKiBzdGF0dXNDb2RlIFtOdW1lcmljXSBpbiB0aGUgY2FzZSBvZiBhIHJlcXVlc3QgdGhhdCByZWFjaGVkIHRoZSBzZXJ2aWNlLFxuICogICAgICAgdGhpcyB2YWx1ZSBjb250YWlucyB0aGUgcmVzcG9uc2Ugc3RhdHVzIGNvZGUuXG4gKiAgICAgKiB0aW1lIFtEYXRlXSB0aGUgZGF0ZSB0aW1lIG9iamVjdCB3aGVuIHRoZSBlcnJvciBvY2N1cnJlZC5cbiAqICAgICAqIGhvc3RuYW1lIFtTdHJpbmddIHNldCB3aGVuIGEgbmV0d29ya2luZyBlcnJvciBvY2N1cnMgdG8gZWFzaWx5XG4gKiAgICAgICBpZGVudGlmeSB0aGUgZW5kcG9pbnQgb2YgdGhlIHJlcXVlc3QuXG4gKiAgICAgKiByZWdpb24gW1N0cmluZ10gc2V0IHdoZW4gYSBuZXR3b3JraW5nIGVycm9yIG9jY3VycyB0byBlYXNpbHlcbiAqICAgICAgIGlkZW50aWZ5IHRoZSByZWdpb24gb2YgdGhlIHJlcXVlc3QuXG4gKlxuICogQCFhdHRyaWJ1dGUgcmVxdWVzdElkXG4gKiAgIEByZWFkb25seVxuICogICBAIWdyb3VwIERhdGEgUHJvcGVydGllc1xuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSB1bmlxdWUgcmVxdWVzdCBJRCBhc3NvY2lhdGVkIHdpdGggdGhlIHJlc3BvbnNlLlxuICogICAgIExvZyB0aGlzIHZhbHVlIHdoZW4gZGVidWdnaW5nIHJlcXVlc3RzIGZvciBBV1Mgc3VwcG9ydC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSByZXRyeUNvdW50XG4gKiAgIEByZWFkb25seVxuICogICBAIWdyb3VwIE9wZXJhdGlvbiBQcm9wZXJ0aWVzXG4gKiAgIEByZXR1cm4gW0ludGVnZXJdIHRoZSBudW1iZXIgb2YgcmV0cmllcyB0aGF0IHdlcmVcbiAqICAgICBhdHRlbXB0ZWQgYmVmb3JlIHRoZSByZXF1ZXN0IHdhcyBjb21wbGV0ZWQuXG4gKlxuICogQCFhdHRyaWJ1dGUgcmVkaXJlY3RDb3VudFxuICogICBAcmVhZG9ubHlcbiAqICAgQCFncm91cCBPcGVyYXRpb24gUHJvcGVydGllc1xuICogICBAcmV0dXJuIFtJbnRlZ2VyXSB0aGUgbnVtYmVyIG9mIHJlZGlyZWN0cyB0aGF0IHdlcmVcbiAqICAgICBmb2xsb3dlZCBiZWZvcmUgdGhlIHJlcXVlc3Qgd2FzIGNvbXBsZXRlZC5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBodHRwUmVzcG9uc2VcbiAqICAgQHJlYWRvbmx5XG4gKiAgIEAhZ3JvdXAgSFRUUCBQcm9wZXJ0aWVzXG4gKiAgIEByZXR1cm4gW0FXUy5IdHRwUmVzcG9uc2VdIHRoZSByYXcgSFRUUCByZXNwb25zZSBvYmplY3RcbiAqICAgICBjb250YWluaW5nIHRoZSByZXNwb25zZSBoZWFkZXJzIGFuZCBib2R5IGluZm9ybWF0aW9uXG4gKiAgICAgZnJvbSB0aGUgc2VydmVyLlxuICpcbiAqIEBzZWUgQVdTLlJlcXVlc3RcbiAqL1xuQVdTLlJlc3BvbnNlID0gaW5oZXJpdCh7XG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFJlc3BvbnNlKHJlcXVlc3QpIHtcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy5lcnJvciA9IG51bGw7XG4gICAgdGhpcy5yZXRyeUNvdW50ID0gMDtcbiAgICB0aGlzLnJlZGlyZWN0Q291bnQgPSAwO1xuICAgIHRoaXMuaHR0cFJlc3BvbnNlID0gbmV3IEFXUy5IdHRwUmVzcG9uc2UoKTtcbiAgICBpZiAocmVxdWVzdCkge1xuICAgICAgdGhpcy5tYXhSZXRyaWVzID0gcmVxdWVzdC5zZXJ2aWNlLm51bVJldHJpZXMoKTtcbiAgICAgIHRoaXMubWF4UmVkaXJlY3RzID0gcmVxdWVzdC5zZXJ2aWNlLmNvbmZpZy5tYXhSZWRpcmVjdHM7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IHJlcXVlc3QgZm9yIHRoZSBuZXh0IHBhZ2Ugb2YgcmVzcG9uc2UgZGF0YSwgY2FsbGluZyB0aGVcbiAgICogY2FsbGJhY2sgd2l0aCB0aGUgcGFnZSBkYXRhIGlmIGEgY2FsbGJhY2sgaXMgcHJvdmlkZWQuXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIsIGRhdGEpXG4gICAqICAgQ2FsbGVkIHdoZW4gYSBwYWdlIG9mIGRhdGEgaXMgcmV0dXJuZWQgZnJvbSB0aGUgbmV4dCByZXF1ZXN0LlxuICAgKlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBhbiBlcnJvciBvYmplY3QsIGlmIGFuIGVycm9yIG9jY3VycmVkIGluIHRoZSByZXF1ZXN0XG4gICAqICAgQHBhcmFtIGRhdGEgW09iamVjdF0gdGhlIG5leHQgcGFnZSBvZiBkYXRhLCBvciBudWxsLCBpZiB0aGVyZSBhcmUgbm9cbiAgICogICAgIG1vcmUgcGFnZXMgbGVmdC5cbiAgICogQHJldHVybiBbQVdTLlJlcXVlc3RdIHRoZSByZXF1ZXN0IG9iamVjdCBmb3IgdGhlIG5leHQgcGFnZSBvZiBkYXRhXG4gICAqIEByZXR1cm4gW251bGxdIGlmIG5vIGNhbGxiYWNrIGlzIHByb3ZpZGVkIGFuZCB0aGVyZSBhcmUgbm8gcGFnZXMgbGVmdFxuICAgKiAgIHRvIHJldHJpZXZlLlxuICAgKiBAc2luY2UgdjEuNC4wXG4gICAqL1xuICBuZXh0UGFnZTogZnVuY3Rpb24gbmV4dFBhZ2UoY2FsbGJhY2spIHtcbiAgICB2YXIgY29uZmlnO1xuICAgIHZhciBzZXJ2aWNlID0gdGhpcy5yZXF1ZXN0LnNlcnZpY2U7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMucmVxdWVzdC5vcGVyYXRpb247XG4gICAgdHJ5IHtcbiAgICAgIGNvbmZpZyA9IHNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyhvcGVyYXRpb24sIHRydWUpO1xuICAgIH0gY2F0Y2ggKGUpIHsgdGhpcy5lcnJvciA9IGU7IH1cblxuICAgIGlmICghdGhpcy5oYXNOZXh0UGFnZSgpKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIGNhbGxiYWNrKHRoaXMuZXJyb3IsIG51bGwpO1xuICAgICAgZWxzZSBpZiAodGhpcy5lcnJvcikgdGhyb3cgdGhpcy5lcnJvcjtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSBBV1MudXRpbC5jb3B5KHRoaXMucmVxdWVzdC5wYXJhbXMpO1xuICAgIGlmICghdGhpcy5uZXh0UGFnZVRva2Vucykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrID8gY2FsbGJhY2sobnVsbCwgbnVsbCkgOiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaW5wdXRUb2tlbnMgPSBjb25maWcuaW5wdXRUb2tlbjtcbiAgICAgIGlmICh0eXBlb2YgaW5wdXRUb2tlbnMgPT09ICdzdHJpbmcnKSBpbnB1dFRva2VucyA9IFtpbnB1dFRva2Vuc107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0VG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHBhcmFtc1tpbnB1dFRva2Vuc1tpXV0gPSB0aGlzLm5leHRQYWdlVG9rZW5zW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlcnZpY2UubWFrZVJlcXVlc3QodGhpcy5yZXF1ZXN0Lm9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjayk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIG1vcmUgcGFnZXMgb2YgZGF0YSBjYW4gYmUgcmV0dXJuZWQgYnkgZnVydGhlclxuICAgKiAgIHJlcXVlc3RzXG4gICAqIEBzaW5jZSB2MS40LjBcbiAgICovXG4gIGhhc05leHRQYWdlOiBmdW5jdGlvbiBoYXNOZXh0UGFnZSgpIHtcbiAgICB0aGlzLmNhY2hlTmV4dFBhZ2VUb2tlbnMoKTtcbiAgICBpZiAodGhpcy5uZXh0UGFnZVRva2VucykgcmV0dXJuIHRydWU7XG4gICAgaWYgKHRoaXMubmV4dFBhZ2VUb2tlbnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjYWNoZU5leHRQYWdlVG9rZW5zOiBmdW5jdGlvbiBjYWNoZU5leHRQYWdlVG9rZW5zKCkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpcywgJ25leHRQYWdlVG9rZW5zJykpIHJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO1xuICAgIHRoaXMubmV4dFBhZ2VUb2tlbnMgPSB1bmRlZmluZWQ7XG5cbiAgICB2YXIgY29uZmlnID0gdGhpcy5yZXF1ZXN0LnNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyh0aGlzLnJlcXVlc3Qub3BlcmF0aW9uKTtcbiAgICBpZiAoIWNvbmZpZykgcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7XG5cbiAgICB0aGlzLm5leHRQYWdlVG9rZW5zID0gbnVsbDtcbiAgICBpZiAoY29uZmlnLm1vcmVSZXN1bHRzKSB7XG4gICAgICBpZiAoIWptZXNwYXRoLnNlYXJjaCh0aGlzLmRhdGEsIGNvbmZpZy5tb3JlUmVzdWx0cykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubmV4dFBhZ2VUb2tlbnM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGV4cHJzID0gY29uZmlnLm91dHB1dFRva2VuO1xuICAgIGlmICh0eXBlb2YgZXhwcnMgPT09ICdzdHJpbmcnKSBleHBycyA9IFtleHByc107XG4gICAgQVdTLnV0aWwuYXJyYXlFYWNoLmNhbGwodGhpcywgZXhwcnMsIGZ1bmN0aW9uIChleHByKSB7XG4gICAgICB2YXIgb3V0cHV0ID0gam1lc3BhdGguc2VhcmNoKHRoaXMuZGF0YSwgZXhwcik7XG4gICAgICBpZiAob3V0cHV0KSB7XG4gICAgICAgIHRoaXMubmV4dFBhZ2VUb2tlbnMgPSB0aGlzLm5leHRQYWdlVG9rZW5zIHx8IFtdO1xuICAgICAgICB0aGlzLm5leHRQYWdlVG9rZW5zLnB1c2gob3V0cHV0KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiB0aGlzLm5leHRQYWdlVG9rZW5zO1xuICB9XG5cbn0pO1xuIiwgIi8qKlxuICogQ29weXJpZ2h0IDIwMTItMjAxMyBBbWF6b24uY29tLCBJbmMuIG9yIGl0cyBhZmZpbGlhdGVzLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIikuIFlvdVxuICogbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIEEgY29weSBvZlxuICogdGhlIExpY2Vuc2UgaXMgbG9jYXRlZCBhdFxuICpcbiAqICAgICBodHRwOi8vYXdzLmFtYXpvbi5jb20vYXBhY2hlMi4wL1xuICpcbiAqIG9yIGluIHRoZSBcImxpY2Vuc2VcIiBmaWxlIGFjY29tcGFueWluZyB0aGlzIGZpbGUuIFRoaXMgZmlsZSBpc1xuICogZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRlxuICogQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljXG4gKiBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbnZhciBBV1MgPSByZXF1aXJlKCcuL2NvcmUnKTtcbnZhciBpbmhlcml0ID0gQVdTLnV0aWwuaW5oZXJpdDtcbnZhciBqbWVzcGF0aCA9IHJlcXVpcmUoJ2ptZXNwYXRoJyk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIENIRUNLX0FDQ0VQVE9SUyhyZXNwKSB7XG4gIHZhciB3YWl0ZXIgPSByZXNwLnJlcXVlc3QuX3dhaXRlcjtcbiAgdmFyIGFjY2VwdG9ycyA9IHdhaXRlci5jb25maWcuYWNjZXB0b3JzO1xuICB2YXIgYWNjZXB0b3JNYXRjaGVkID0gZmFsc2U7XG4gIHZhciBzdGF0ZSA9ICdyZXRyeSc7XG5cbiAgYWNjZXB0b3JzLmZvckVhY2goZnVuY3Rpb24oYWNjZXB0b3IpIHtcbiAgICBpZiAoIWFjY2VwdG9yTWF0Y2hlZCkge1xuICAgICAgdmFyIG1hdGNoZXIgPSB3YWl0ZXIubWF0Y2hlcnNbYWNjZXB0b3IubWF0Y2hlcl07XG4gICAgICBpZiAobWF0Y2hlciAmJiBtYXRjaGVyKHJlc3AsIGFjY2VwdG9yLmV4cGVjdGVkLCBhY2NlcHRvci5hcmd1bWVudCkpIHtcbiAgICAgICAgYWNjZXB0b3JNYXRjaGVkID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUgPSBhY2NlcHRvci5zdGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGlmICghYWNjZXB0b3JNYXRjaGVkICYmIHJlc3AuZXJyb3IpIHN0YXRlID0gJ2ZhaWx1cmUnO1xuXG4gIGlmIChzdGF0ZSA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgd2FpdGVyLnNldFN1Y2Nlc3MocmVzcCk7XG4gIH0gZWxzZSB7XG4gICAgd2FpdGVyLnNldEVycm9yKHJlc3AsIHN0YXRlID09PSAncmV0cnknKTtcbiAgfVxufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuUmVzb3VyY2VXYWl0ZXIgPSBpbmhlcml0KHtcbiAgLyoqXG4gICAqIFdhaXRzIGZvciBhIGdpdmVuIHN0YXRlIG9uIGEgc2VydmljZSBvYmplY3RcbiAgICogQHBhcmFtIHNlcnZpY2UgW1NlcnZpY2VdIHRoZSBzZXJ2aWNlIG9iamVjdCB0byB3YWl0IG9uXG4gICAqIEBwYXJhbSBzdGF0ZSBbU3RyaW5nXSB0aGUgc3RhdGUgKGRlZmluZWQgaW4gd2FpdGVyIGNvbmZpZ3VyYXRpb24pIHRvIHdhaXRcbiAgICogICBmb3IuXG4gICAqIEBleGFtcGxlIENyZWF0ZSBhIHdhaXRlciBmb3IgcnVubmluZyBFQzIgaW5zdGFuY2VzXG4gICAqICAgdmFyIGVjMiA9IG5ldyBBV1MuRUMyO1xuICAgKiAgIHZhciB3YWl0ZXIgPSBuZXcgQVdTLlJlc291cmNlV2FpdGVyKGVjMiwgJ2luc3RhbmNlUnVubmluZycpO1xuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIGNvbnN0cnVjdG9yKHNlcnZpY2UsIHN0YXRlKSB7XG4gICAgdGhpcy5zZXJ2aWNlID0gc2VydmljZTtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5sb2FkV2FpdGVyQ29uZmlnKHRoaXMuc3RhdGUpO1xuICB9LFxuXG4gIHNlcnZpY2U6IG51bGwsXG5cbiAgc3RhdGU6IG51bGwsXG5cbiAgY29uZmlnOiBudWxsLFxuXG4gIG1hdGNoZXJzOiB7XG4gICAgcGF0aDogZnVuY3Rpb24ocmVzcCwgZXhwZWN0ZWQsIGFyZ3VtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gam1lc3BhdGguc2VhcmNoKHJlc3AuZGF0YSwgYXJndW1lbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGptZXNwYXRoLnN0cmljdERlZXBFcXVhbChyZXN1bHQsZXhwZWN0ZWQpO1xuICAgIH0sXG5cbiAgICBwYXRoQWxsOiBmdW5jdGlvbihyZXNwLCBleHBlY3RlZCwgYXJndW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHRzID0gam1lc3BhdGguc2VhcmNoKHJlc3AuZGF0YSwgYXJndW1lbnQpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHJlc3VsdHMpKSByZXN1bHRzID0gW3Jlc3VsdHNdO1xuICAgICAgdmFyIG51bVJlc3VsdHMgPSByZXN1bHRzLmxlbmd0aDtcbiAgICAgIGlmICghbnVtUmVzdWx0cykgcmV0dXJuIGZhbHNlO1xuICAgICAgZm9yICh2YXIgaW5kID0gMCA7IGluZCA8IG51bVJlc3VsdHM7IGluZCsrKSB7XG4gICAgICAgIGlmICgham1lc3BhdGguc3RyaWN0RGVlcEVxdWFsKHJlc3VsdHNbaW5kXSwgZXhwZWN0ZWQpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LFxuXG4gICAgcGF0aEFueTogZnVuY3Rpb24ocmVzcCwgZXhwZWN0ZWQsIGFyZ3VtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0cyA9IGptZXNwYXRoLnNlYXJjaChyZXNwLmRhdGEsIGFyZ3VtZW50KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShyZXN1bHRzKSkgcmVzdWx0cyA9IFtyZXN1bHRzXTtcbiAgICAgIHZhciBudW1SZXN1bHRzID0gcmVzdWx0cy5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBpbmQgPSAwIDsgaW5kIDwgbnVtUmVzdWx0czsgaW5kKyspIHtcbiAgICAgICAgaWYgKGptZXNwYXRoLnN0cmljdERlZXBFcXVhbChyZXN1bHRzW2luZF0sIGV4cGVjdGVkKSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSxcblxuICAgIHN0YXR1czogZnVuY3Rpb24ocmVzcCwgZXhwZWN0ZWQpIHtcbiAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcC5odHRwUmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgIHJldHVybiAodHlwZW9mIHN0YXR1c0NvZGUgPT09ICdudW1iZXInKSAmJiAoc3RhdHVzQ29kZSA9PT0gZXhwZWN0ZWQpO1xuICAgIH0sXG5cbiAgICBlcnJvcjogZnVuY3Rpb24ocmVzcCwgZXhwZWN0ZWQpIHtcbiAgICAgIGlmICh0eXBlb2YgZXhwZWN0ZWQgPT09ICdzdHJpbmcnICYmIHJlc3AuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGV4cGVjdGVkID09PSByZXNwLmVycm9yLmNvZGU7XG4gICAgICB9XG4gICAgICAvLyBpZiBleHBlY3RlZCBpcyBub3Qgc3RyaW5nLCBjYW4gYmUgYm9vbGVhbiBpbmRpY2F0aW5nIHByZXNlbmNlIG9mIGVycm9yXG4gICAgICByZXR1cm4gZXhwZWN0ZWQgPT09ICEhcmVzcC5lcnJvcjtcbiAgICB9XG4gIH0sXG5cbiAgbGlzdGVuZXJzOiBuZXcgQVdTLlNlcXVlbnRpYWxFeGVjdXRvcigpLmFkZE5hbWVkTGlzdGVuZXJzKGZ1bmN0aW9uKGFkZCkge1xuICAgIGFkZCgnUkVUUllfQ0hFQ0snLCAncmV0cnknLCBmdW5jdGlvbihyZXNwKSB7XG4gICAgICB2YXIgd2FpdGVyID0gcmVzcC5yZXF1ZXN0Ll93YWl0ZXI7XG4gICAgICBpZiAocmVzcC5lcnJvciAmJiByZXNwLmVycm9yLmNvZGUgPT09ICdSZXNvdXJjZU5vdFJlYWR5Jykge1xuICAgICAgICByZXNwLmVycm9yLnJldHJ5RGVsYXkgPSAod2FpdGVyLmNvbmZpZy5kZWxheSB8fCAwKSAqIDEwMDA7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBhZGQoJ0NIRUNLX09VVFBVVCcsICdleHRyYWN0RGF0YScsIENIRUNLX0FDQ0VQVE9SUyk7XG5cbiAgICBhZGQoJ0NIRUNLX0VSUk9SJywgJ2V4dHJhY3RFcnJvcicsIENIRUNLX0FDQ0VQVE9SUyk7XG4gIH0pLFxuXG4gIC8qKlxuICAgKiBAcmV0dXJuIFtBV1MuUmVxdWVzdF1cbiAgICovXG4gIHdhaXQ6IGZ1bmN0aW9uIHdhaXQocGFyYW1zLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgcGFyYW1zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IHBhcmFtczsgcGFyYW1zID0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLiR3YWl0ZXIpIHtcbiAgICAgIHBhcmFtcyA9IEFXUy51dGlsLmNvcHkocGFyYW1zKTtcbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLiR3YWl0ZXIuZGVsYXkgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmRlbGF5ID0gcGFyYW1zLiR3YWl0ZXIuZGVsYXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHBhcmFtcy4kd2FpdGVyLm1heEF0dGVtcHRzID09PSAnbnVtYmVyJykge1xuICAgICAgICB0aGlzLmNvbmZpZy5tYXhBdHRlbXB0cyA9IHBhcmFtcy4kd2FpdGVyLm1heEF0dGVtcHRzO1xuICAgICAgfVxuICAgICAgZGVsZXRlIHBhcmFtcy4kd2FpdGVyO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0ID0gdGhpcy5zZXJ2aWNlLm1ha2VSZXF1ZXN0KHRoaXMuY29uZmlnLm9wZXJhdGlvbiwgcGFyYW1zKTtcbiAgICByZXF1ZXN0Ll93YWl0ZXIgPSB0aGlzO1xuICAgIHJlcXVlc3QucmVzcG9uc2UubWF4UmV0cmllcyA9IHRoaXMuY29uZmlnLm1heEF0dGVtcHRzO1xuICAgIHJlcXVlc3QuYWRkTGlzdGVuZXJzKHRoaXMubGlzdGVuZXJzKTtcblxuICAgIGlmIChjYWxsYmFjaykgcmVxdWVzdC5zZW5kKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcmVxdWVzdDtcbiAgfSxcblxuICBzZXRTdWNjZXNzOiBmdW5jdGlvbiBzZXRTdWNjZXNzKHJlc3ApIHtcbiAgICByZXNwLmVycm9yID0gbnVsbDtcbiAgICByZXNwLmRhdGEgPSByZXNwLmRhdGEgfHwge307XG4gICAgcmVzcC5yZXF1ZXN0LnJlbW92ZUFsbExpc3RlbmVycygnZXh0cmFjdERhdGEnKTtcbiAgfSxcblxuICBzZXRFcnJvcjogZnVuY3Rpb24gc2V0RXJyb3IocmVzcCwgcmV0cnlhYmxlKSB7XG4gICAgcmVzcC5kYXRhID0gbnVsbDtcbiAgICByZXNwLmVycm9yID0gQVdTLnV0aWwuZXJyb3IocmVzcC5lcnJvciB8fCBuZXcgRXJyb3IoKSwge1xuICAgICAgY29kZTogJ1Jlc291cmNlTm90UmVhZHknLFxuICAgICAgbWVzc2FnZTogJ1Jlc291cmNlIGlzIG5vdCBpbiB0aGUgc3RhdGUgJyArIHRoaXMuc3RhdGUsXG4gICAgICByZXRyeWFibGU6IHJldHJ5YWJsZVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkcyB3YWl0ZXIgY29uZmlndXJhdGlvbiBmcm9tIEFQSSBjb25maWd1cmF0aW9uXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZFdhaXRlckNvbmZpZzogZnVuY3Rpb24gbG9hZFdhaXRlckNvbmZpZyhzdGF0ZSkge1xuICAgIGlmICghdGhpcy5zZXJ2aWNlLmFwaS53YWl0ZXJzW3N0YXRlXSkge1xuICAgICAgdGhyb3cgbmV3IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcigpLCB7XG4gICAgICAgIGNvZGU6ICdTdGF0ZU5vdEZvdW5kRXJyb3InLFxuICAgICAgICBtZXNzYWdlOiAnU3RhdGUgJyArIHN0YXRlICsgJyBub3QgZm91bmQuJ1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGhpcy5jb25maWcgPSBBV1MudXRpbC5jb3B5KHRoaXMuc2VydmljZS5hcGkud2FpdGVyc1tzdGF0ZV0pO1xuICB9XG59KTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIGluaGVyaXQgPSBBV1MudXRpbC5pbmhlcml0O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuU2lnbmVycy5WMiA9IGluaGVyaXQoQVdTLlNpZ25lcnMuUmVxdWVzdFNpZ25lciwge1xuICBhZGRBdXRob3JpemF0aW9uOiBmdW5jdGlvbiBhZGRBdXRob3JpemF0aW9uKGNyZWRlbnRpYWxzLCBkYXRlKSB7XG5cbiAgICBpZiAoIWRhdGUpIGRhdGUgPSBBV1MudXRpbC5kYXRlLmdldERhdGUoKTtcblxuICAgIHZhciByID0gdGhpcy5yZXF1ZXN0O1xuXG4gICAgci5wYXJhbXMuVGltZXN0YW1wID0gQVdTLnV0aWwuZGF0ZS5pc284NjAxKGRhdGUpO1xuICAgIHIucGFyYW1zLlNpZ25hdHVyZVZlcnNpb24gPSAnMic7XG4gICAgci5wYXJhbXMuU2lnbmF0dXJlTWV0aG9kID0gJ0htYWNTSEEyNTYnO1xuICAgIHIucGFyYW1zLkFXU0FjY2Vzc0tleUlkID0gY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQ7XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuKSB7XG4gICAgICByLnBhcmFtcy5TZWN1cml0eVRva2VuID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgIH1cblxuICAgIGRlbGV0ZSByLnBhcmFtcy5TaWduYXR1cmU7IC8vIGRlbGV0ZSBvbGQgU2lnbmF0dXJlIGZvciByZS1zaWduaW5nXG4gICAgci5wYXJhbXMuU2lnbmF0dXJlID0gdGhpcy5zaWduYXR1cmUoY3JlZGVudGlhbHMpO1xuXG4gICAgci5ib2R5ID0gQVdTLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhyLnBhcmFtcyk7XG4gICAgci5oZWFkZXJzWydDb250ZW50LUxlbmd0aCddID0gci5ib2R5Lmxlbmd0aDtcbiAgfSxcblxuICBzaWduYXR1cmU6IGZ1bmN0aW9uIHNpZ25hdHVyZShjcmVkZW50aWFscykge1xuICAgIHJldHVybiBBV1MudXRpbC5jcnlwdG8uaG1hYyhjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXksIHRoaXMuc3RyaW5nVG9TaWduKCksICdiYXNlNjQnKTtcbiAgfSxcblxuICBzdHJpbmdUb1NpZ246IGZ1bmN0aW9uIHN0cmluZ1RvU2lnbigpIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICBwYXJ0cy5wdXNoKHRoaXMucmVxdWVzdC5tZXRob2QpO1xuICAgIHBhcnRzLnB1c2godGhpcy5yZXF1ZXN0LmVuZHBvaW50Lmhvc3QudG9Mb3dlckNhc2UoKSk7XG4gICAgcGFydHMucHVzaCh0aGlzLnJlcXVlc3QucGF0aG5hbWUoKSk7XG4gICAgcGFydHMucHVzaChBV1MudXRpbC5xdWVyeVBhcmFtc1RvU3RyaW5nKHRoaXMucmVxdWVzdC5wYXJhbXMpKTtcbiAgICByZXR1cm4gcGFydHMuam9pbignXFxuJyk7XG4gIH1cblxufSk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVdTLlNpZ25lcnMuVjI7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcbnZhciBpbmhlcml0ID0gQVdTLnV0aWwuaW5oZXJpdDtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlNpZ25lcnMuVjMgPSBpbmhlcml0KEFXUy5TaWduZXJzLlJlcXVlc3RTaWduZXIsIHtcbiAgYWRkQXV0aG9yaXphdGlvbjogZnVuY3Rpb24gYWRkQXV0aG9yaXphdGlvbihjcmVkZW50aWFscywgZGF0ZSkge1xuXG4gICAgdmFyIGRhdGV0aW1lID0gQVdTLnV0aWwuZGF0ZS5yZmM4MjIoZGF0ZSk7XG5cbiAgICB0aGlzLnJlcXVlc3QuaGVhZGVyc1snWC1BbXotRGF0ZSddID0gZGF0ZXRpbWU7XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuKSB7XG4gICAgICB0aGlzLnJlcXVlc3QuaGVhZGVyc1sneC1hbXotc2VjdXJpdHktdG9rZW4nXSA9IGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbjtcbiAgICB9XG5cbiAgICB0aGlzLnJlcXVlc3QuaGVhZGVyc1snWC1BbXpuLUF1dGhvcml6YXRpb24nXSA9XG4gICAgICB0aGlzLmF1dGhvcml6YXRpb24oY3JlZGVudGlhbHMsIGRhdGV0aW1lKTtcblxuICB9LFxuXG4gIGF1dGhvcml6YXRpb246IGZ1bmN0aW9uIGF1dGhvcml6YXRpb24oY3JlZGVudGlhbHMpIHtcbiAgICByZXR1cm4gJ0FXUzMgJyArXG4gICAgICAnQVdTQWNjZXNzS2V5SWQ9JyArIGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkICsgJywnICtcbiAgICAgICdBbGdvcml0aG09SG1hY1NIQTI1NiwnICtcbiAgICAgICdTaWduZWRIZWFkZXJzPScgKyB0aGlzLnNpZ25lZEhlYWRlcnMoKSArICcsJyArXG4gICAgICAnU2lnbmF0dXJlPScgKyB0aGlzLnNpZ25hdHVyZShjcmVkZW50aWFscyk7XG4gIH0sXG5cbiAgc2lnbmVkSGVhZGVyczogZnVuY3Rpb24gc2lnbmVkSGVhZGVycygpIHtcbiAgICB2YXIgaGVhZGVycyA9IFtdO1xuICAgIEFXUy51dGlsLmFycmF5RWFjaCh0aGlzLmhlYWRlcnNUb1NpZ24oKSwgZnVuY3Rpb24gaXRlcmF0b3IoaCkge1xuICAgICAgaGVhZGVycy5wdXNoKGgudG9Mb3dlckNhc2UoKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGhlYWRlcnMuc29ydCgpLmpvaW4oJzsnKTtcbiAgfSxcblxuICBjYW5vbmljYWxIZWFkZXJzOiBmdW5jdGlvbiBjYW5vbmljYWxIZWFkZXJzKCkge1xuICAgIHZhciBoZWFkZXJzID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnM7XG4gICAgdmFyIHBhcnRzID0gW107XG4gICAgQVdTLnV0aWwuYXJyYXlFYWNoKHRoaXMuaGVhZGVyc1RvU2lnbigpLCBmdW5jdGlvbiBpdGVyYXRvcihoKSB7XG4gICAgICBwYXJ0cy5wdXNoKGgudG9Mb3dlckNhc2UoKS50cmltKCkgKyAnOicgKyBTdHJpbmcoaGVhZGVyc1toXSkudHJpbSgpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcGFydHMuc29ydCgpLmpvaW4oJ1xcbicpICsgJ1xcbic7XG4gIH0sXG5cbiAgaGVhZGVyc1RvU2lnbjogZnVuY3Rpb24gaGVhZGVyc1RvU2lnbigpIHtcbiAgICB2YXIgaGVhZGVycyA9IFtdO1xuICAgIEFXUy51dGlsLmVhY2godGhpcy5yZXF1ZXN0LmhlYWRlcnMsIGZ1bmN0aW9uIGl0ZXJhdG9yKGspIHtcbiAgICAgIGlmIChrID09PSAnSG9zdCcgfHwgayA9PT0gJ0NvbnRlbnQtRW5jb2RpbmcnIHx8IGsubWF0Y2goL15YLUFtei9pKSkge1xuICAgICAgICBoZWFkZXJzLnB1c2goayk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGhlYWRlcnM7XG4gIH0sXG5cbiAgc2lnbmF0dXJlOiBmdW5jdGlvbiBzaWduYXR1cmUoY3JlZGVudGlhbHMpIHtcbiAgICByZXR1cm4gQVdTLnV0aWwuY3J5cHRvLmhtYWMoY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCB0aGlzLnN0cmluZ1RvU2lnbigpLCAnYmFzZTY0Jyk7XG4gIH0sXG5cbiAgc3RyaW5nVG9TaWduOiBmdW5jdGlvbiBzdHJpbmdUb1NpZ24oKSB7XG4gICAgdmFyIHBhcnRzID0gW107XG4gICAgcGFydHMucHVzaCh0aGlzLnJlcXVlc3QubWV0aG9kKTtcbiAgICBwYXJ0cy5wdXNoKCcvJyk7XG4gICAgcGFydHMucHVzaCgnJyk7XG4gICAgcGFydHMucHVzaCh0aGlzLmNhbm9uaWNhbEhlYWRlcnMoKSk7XG4gICAgcGFydHMucHVzaCh0aGlzLnJlcXVlc3QuYm9keSk7XG4gICAgcmV0dXJuIEFXUy51dGlsLmNyeXB0by5zaGEyNTYocGFydHMuam9pbignXFxuJykpO1xuICB9XG5cbn0pO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IEFXUy5TaWduZXJzLlYzO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgaW5oZXJpdCA9IEFXUy51dGlsLmluaGVyaXQ7XG5cbnJlcXVpcmUoJy4vdjMnKTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlNpZ25lcnMuVjNIdHRwcyA9IGluaGVyaXQoQVdTLlNpZ25lcnMuVjMsIHtcbiAgYXV0aG9yaXphdGlvbjogZnVuY3Rpb24gYXV0aG9yaXphdGlvbihjcmVkZW50aWFscykge1xuICAgIHJldHVybiAnQVdTMy1IVFRQUyAnICtcbiAgICAgICdBV1NBY2Nlc3NLZXlJZD0nICsgY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQgKyAnLCcgK1xuICAgICAgJ0FsZ29yaXRobT1IbWFjU0hBMjU2LCcgK1xuICAgICAgJ1NpZ25hdHVyZT0nICsgdGhpcy5zaWduYXR1cmUoY3JlZGVudGlhbHMpO1xuICB9LFxuXG4gIHN0cmluZ1RvU2lnbjogZnVuY3Rpb24gc3RyaW5nVG9TaWduKCkge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QuaGVhZGVyc1snWC1BbXotRGF0ZSddO1xuICB9XG59KTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBBV1MuU2lnbmVycy5WM0h0dHBzO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciBjYWNoZWRTZWNyZXQgPSB7fTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xudmFyIGNhY2hlUXVldWUgPSBbXTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xudmFyIG1heENhY2hlRW50cmllcyA9IDUwO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG52YXIgdjRJZGVudGlmaWVyID0gJ2F3czRfcmVxdWVzdCc7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqXG4gICAqIEBwYXJhbSBkYXRlIFtTdHJpbmddXG4gICAqIEBwYXJhbSByZWdpb24gW1N0cmluZ11cbiAgICogQHBhcmFtIHNlcnZpY2VOYW1lIFtTdHJpbmddXG4gICAqIEByZXR1cm4gW1N0cmluZ11cbiAgICovXG4gIGNyZWF0ZVNjb3BlOiBmdW5jdGlvbiBjcmVhdGVTY29wZShkYXRlLCByZWdpb24sIHNlcnZpY2VOYW1lKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIGRhdGUuc3Vic3RyKDAsIDgpLFxuICAgICAgcmVnaW9uLFxuICAgICAgc2VydmljZU5hbWUsXG4gICAgICB2NElkZW50aWZpZXJcbiAgICBdLmpvaW4oJy8nKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqXG4gICAqIEBwYXJhbSBjcmVkZW50aWFscyBbQ3JlZGVudGlhbHNdXG4gICAqIEBwYXJhbSBkYXRlIFtTdHJpbmddXG4gICAqIEBwYXJhbSByZWdpb24gW1N0cmluZ11cbiAgICogQHBhcmFtIHNlcnZpY2UgW1N0cmluZ11cbiAgICogQHBhcmFtIHNob3VsZENhY2hlIFtCb29sZWFuXVxuICAgKiBAcmV0dXJuIFtTdHJpbmddXG4gICAqL1xuICBnZXRTaWduaW5nS2V5OiBmdW5jdGlvbiBnZXRTaWduaW5nS2V5KFxuICAgIGNyZWRlbnRpYWxzLFxuICAgIGRhdGUsXG4gICAgcmVnaW9uLFxuICAgIHNlcnZpY2UsXG4gICAgc2hvdWxkQ2FjaGVcbiAgKSB7XG4gICAgdmFyIGNyZWRzSWRlbnRpZmllciA9IEFXUy51dGlsLmNyeXB0b1xuICAgICAgLmhtYWMoY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCBjcmVkZW50aWFscy5hY2Nlc3NLZXlJZCwgJ2Jhc2U2NCcpO1xuICAgIHZhciBjYWNoZUtleSA9IFtjcmVkc0lkZW50aWZpZXIsIGRhdGUsIHJlZ2lvbiwgc2VydmljZV0uam9pbignXycpO1xuICAgIHNob3VsZENhY2hlID0gc2hvdWxkQ2FjaGUgIT09IGZhbHNlO1xuICAgIGlmIChzaG91bGRDYWNoZSAmJiAoY2FjaGVLZXkgaW4gY2FjaGVkU2VjcmV0KSkge1xuICAgICAgcmV0dXJuIGNhY2hlZFNlY3JldFtjYWNoZUtleV07XG4gICAgfVxuXG4gICAgdmFyIGtEYXRlID0gQVdTLnV0aWwuY3J5cHRvLmhtYWMoXG4gICAgICAnQVdTNCcgKyBjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXksXG4gICAgICBkYXRlLFxuICAgICAgJ2J1ZmZlcidcbiAgICApO1xuICAgIHZhciBrUmVnaW9uID0gQVdTLnV0aWwuY3J5cHRvLmhtYWMoa0RhdGUsIHJlZ2lvbiwgJ2J1ZmZlcicpO1xuICAgIHZhciBrU2VydmljZSA9IEFXUy51dGlsLmNyeXB0by5obWFjKGtSZWdpb24sIHNlcnZpY2UsICdidWZmZXInKTtcblxuICAgIHZhciBzaWduaW5nS2V5ID0gQVdTLnV0aWwuY3J5cHRvLmhtYWMoa1NlcnZpY2UsIHY0SWRlbnRpZmllciwgJ2J1ZmZlcicpO1xuICAgIGlmIChzaG91bGRDYWNoZSkge1xuICAgICAgY2FjaGVkU2VjcmV0W2NhY2hlS2V5XSA9IHNpZ25pbmdLZXk7XG4gICAgICBjYWNoZVF1ZXVlLnB1c2goY2FjaGVLZXkpO1xuICAgICAgaWYgKGNhY2hlUXVldWUubGVuZ3RoID4gbWF4Q2FjaGVFbnRyaWVzKSB7XG4gICAgICAgIC8vIHJlbW92ZSB0aGUgb2xkZXN0IGVudHJ5IChub3QgdGhlIGxlYXN0IHJlY2VudGx5IHVzZWQpXG4gICAgICAgIGRlbGV0ZSBjYWNoZWRTZWNyZXRbY2FjaGVRdWV1ZS5zaGlmdCgpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gc2lnbmluZ0tleTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqXG4gICAqIEVtcHRpZXMgdGhlIGRlcml2ZWQgc2lnbmluZyBrZXkgY2FjaGUuIE1hZGUgYXZhaWxhYmxlIGZvciB0ZXN0aW5nIHB1cnBvc2VzXG4gICAqIG9ubHkuXG4gICAqL1xuICBlbXB0eUNhY2hlOiBmdW5jdGlvbiBlbXB0eUNhY2hlKCkge1xuICAgIGNhY2hlZFNlY3JldCA9IHt9O1xuICAgIGNhY2hlUXVldWUgPSBbXTtcbiAgfVxufTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIHY0Q3JlZGVudGlhbHMgPSByZXF1aXJlKCcuL3Y0X2NyZWRlbnRpYWxzJyk7XG52YXIgaW5oZXJpdCA9IEFXUy51dGlsLmluaGVyaXQ7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciBleHBpcmVzSGVhZGVyID0gJ3ByZXNpZ25lZC1leHBpcmVzJztcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlNpZ25lcnMuVjQgPSBpbmhlcml0KEFXUy5TaWduZXJzLlJlcXVlc3RTaWduZXIsIHtcbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFY0KHJlcXVlc3QsIHNlcnZpY2VOYW1lLCBvcHRpb25zKSB7XG4gICAgQVdTLlNpZ25lcnMuUmVxdWVzdFNpZ25lci5jYWxsKHRoaXMsIHJlcXVlc3QpO1xuICAgIHRoaXMuc2VydmljZU5hbWUgPSBzZXJ2aWNlTmFtZTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB0aGlzLnNpZ25hdHVyZUNhY2hlID0gdHlwZW9mIG9wdGlvbnMuc2lnbmF0dXJlQ2FjaGUgPT09ICdib29sZWFuJyA/IG9wdGlvbnMuc2lnbmF0dXJlQ2FjaGUgOiB0cnVlO1xuICAgIHRoaXMub3BlcmF0aW9uID0gb3B0aW9ucy5vcGVyYXRpb247XG4gICAgdGhpcy5zaWduYXR1cmVWZXJzaW9uID0gb3B0aW9ucy5zaWduYXR1cmVWZXJzaW9uO1xuICB9LFxuXG4gIGFsZ29yaXRobTogJ0FXUzQtSE1BQy1TSEEyNTYnLFxuXG4gIGFkZEF1dGhvcml6YXRpb246IGZ1bmN0aW9uIGFkZEF1dGhvcml6YXRpb24oY3JlZGVudGlhbHMsIGRhdGUpIHtcbiAgICB2YXIgZGF0ZXRpbWUgPSBBV1MudXRpbC5kYXRlLmlzbzg2MDEoZGF0ZSkucmVwbGFjZSgvWzpcXC1dfFxcLlxcZHszfS9nLCAnJyk7XG5cbiAgICBpZiAodGhpcy5pc1ByZXNpZ25lZCgpKSB7XG4gICAgICB0aGlzLnVwZGF0ZUZvclByZXNpZ25lZChjcmVkZW50aWFscywgZGF0ZXRpbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZEhlYWRlcnMoY3JlZGVudGlhbHMsIGRhdGV0aW1lKTtcbiAgICB9XG5cbiAgICB0aGlzLnJlcXVlc3QuaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID1cbiAgICAgIHRoaXMuYXV0aG9yaXphdGlvbihjcmVkZW50aWFscywgZGF0ZXRpbWUpO1xuICB9LFxuXG4gIGFkZEhlYWRlcnM6IGZ1bmN0aW9uIGFkZEhlYWRlcnMoY3JlZGVudGlhbHMsIGRhdGV0aW1lKSB7XG4gICAgdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ1gtQW16LURhdGUnXSA9IGRhdGV0aW1lO1xuICAgIGlmIChjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4pIHtcbiAgICAgIHRoaXMucmVxdWVzdC5oZWFkZXJzWyd4LWFtei1zZWN1cml0eS10b2tlbiddID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgIH1cbiAgfSxcblxuICB1cGRhdGVGb3JQcmVzaWduZWQ6IGZ1bmN0aW9uIHVwZGF0ZUZvclByZXNpZ25lZChjcmVkZW50aWFscywgZGF0ZXRpbWUpIHtcbiAgICB2YXIgY3JlZFN0cmluZyA9IHRoaXMuY3JlZGVudGlhbFN0cmluZyhkYXRldGltZSk7XG4gICAgdmFyIHFzID0ge1xuICAgICAgJ1gtQW16LURhdGUnOiBkYXRldGltZSxcbiAgICAgICdYLUFtei1BbGdvcml0aG0nOiB0aGlzLmFsZ29yaXRobSxcbiAgICAgICdYLUFtei1DcmVkZW50aWFsJzogY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQgKyAnLycgKyBjcmVkU3RyaW5nLFxuICAgICAgJ1gtQW16LUV4cGlyZXMnOiB0aGlzLnJlcXVlc3QuaGVhZGVyc1tleHBpcmVzSGVhZGVyXSxcbiAgICAgICdYLUFtei1TaWduZWRIZWFkZXJzJzogdGhpcy5zaWduZWRIZWFkZXJzKClcbiAgICB9O1xuXG4gICAgaWYgKGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbikge1xuICAgICAgcXNbJ1gtQW16LVNlY3VyaXR5LVRva2VuJ10gPSBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucmVxdWVzdC5oZWFkZXJzWydDb250ZW50LVR5cGUnXSkge1xuICAgICAgcXNbJ0NvbnRlbnQtVHlwZSddID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ0NvbnRlbnQtTUQ1J10pIHtcbiAgICAgIHFzWydDb250ZW50LU1ENSddID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ0NvbnRlbnQtTUQ1J107XG4gICAgfVxuICAgIGlmICh0aGlzLnJlcXVlc3QuaGVhZGVyc1snQ2FjaGUtQ29udHJvbCddKSB7XG4gICAgICBxc1snQ2FjaGUtQ29udHJvbCddID0gdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ0NhY2hlLUNvbnRyb2wnXTtcbiAgICB9XG5cbiAgICAvLyBuZWVkIHRvIHB1bGwgaW4gYW55IG90aGVyIFgtQW16LSogaGVhZGVyc1xuICAgIEFXUy51dGlsLmVhY2guY2FsbCh0aGlzLCB0aGlzLnJlcXVlc3QuaGVhZGVycywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PT0gZXhwaXJlc0hlYWRlcikgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMuaXNTaWduYWJsZUhlYWRlcihrZXkpKSB7XG4gICAgICAgIHZhciBsb3dlcktleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAvLyBNZXRhZGF0YSBzaG91bGQgYmUgbm9ybWFsaXplZFxuICAgICAgICBpZiAobG93ZXJLZXkuaW5kZXhPZigneC1hbXotbWV0YS0nKSA9PT0gMCkge1xuICAgICAgICAgIHFzW2xvd2VyS2V5XSA9IHZhbHVlO1xuICAgICAgICB9IGVsc2UgaWYgKGxvd2VyS2V5LmluZGV4T2YoJ3gtYW16LScpID09PSAwKSB7XG4gICAgICAgICAgcXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgc2VwID0gdGhpcy5yZXF1ZXN0LnBhdGguaW5kZXhPZignPycpID49IDAgPyAnJicgOiAnPyc7XG4gICAgdGhpcy5yZXF1ZXN0LnBhdGggKz0gc2VwICsgQVdTLnV0aWwucXVlcnlQYXJhbXNUb1N0cmluZyhxcyk7XG4gIH0sXG5cbiAgYXV0aG9yaXphdGlvbjogZnVuY3Rpb24gYXV0aG9yaXphdGlvbihjcmVkZW50aWFscywgZGF0ZXRpbWUpIHtcbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICB2YXIgY3JlZFN0cmluZyA9IHRoaXMuY3JlZGVudGlhbFN0cmluZyhkYXRldGltZSk7XG4gICAgcGFydHMucHVzaCh0aGlzLmFsZ29yaXRobSArICcgQ3JlZGVudGlhbD0nICtcbiAgICAgIGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkICsgJy8nICsgY3JlZFN0cmluZyk7XG4gICAgcGFydHMucHVzaCgnU2lnbmVkSGVhZGVycz0nICsgdGhpcy5zaWduZWRIZWFkZXJzKCkpO1xuICAgIHBhcnRzLnB1c2goJ1NpZ25hdHVyZT0nICsgdGhpcy5zaWduYXR1cmUoY3JlZGVudGlhbHMsIGRhdGV0aW1lKSk7XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJywgJyk7XG4gIH0sXG5cbiAgc2lnbmF0dXJlOiBmdW5jdGlvbiBzaWduYXR1cmUoY3JlZGVudGlhbHMsIGRhdGV0aW1lKSB7XG4gICAgdmFyIHNpZ25pbmdLZXkgPSB2NENyZWRlbnRpYWxzLmdldFNpZ25pbmdLZXkoXG4gICAgICBjcmVkZW50aWFscyxcbiAgICAgIGRhdGV0aW1lLnN1YnN0cigwLCA4KSxcbiAgICAgIHRoaXMucmVxdWVzdC5yZWdpb24sXG4gICAgICB0aGlzLnNlcnZpY2VOYW1lLFxuICAgICAgdGhpcy5zaWduYXR1cmVDYWNoZVxuICAgICk7XG4gICAgcmV0dXJuIEFXUy51dGlsLmNyeXB0by5obWFjKHNpZ25pbmdLZXksIHRoaXMuc3RyaW5nVG9TaWduKGRhdGV0aW1lKSwgJ2hleCcpO1xuICB9LFxuXG4gIHN0cmluZ1RvU2lnbjogZnVuY3Rpb24gc3RyaW5nVG9TaWduKGRhdGV0aW1lKSB7XG4gICAgdmFyIHBhcnRzID0gW107XG4gICAgcGFydHMucHVzaCgnQVdTNC1ITUFDLVNIQTI1NicpO1xuICAgIHBhcnRzLnB1c2goZGF0ZXRpbWUpO1xuICAgIHBhcnRzLnB1c2godGhpcy5jcmVkZW50aWFsU3RyaW5nKGRhdGV0aW1lKSk7XG4gICAgcGFydHMucHVzaCh0aGlzLmhleEVuY29kZWRIYXNoKHRoaXMuY2Fub25pY2FsU3RyaW5nKCkpKTtcbiAgICByZXR1cm4gcGFydHMuam9pbignXFxuJyk7XG4gIH0sXG5cbiAgY2Fub25pY2FsU3RyaW5nOiBmdW5jdGlvbiBjYW5vbmljYWxTdHJpbmcoKSB7XG4gICAgdmFyIHBhcnRzID0gW10sIHBhdGhuYW1lID0gdGhpcy5yZXF1ZXN0LnBhdGhuYW1lKCk7XG4gICAgaWYgKHRoaXMuc2VydmljZU5hbWUgIT09ICdzMycgJiYgdGhpcy5zaWduYXR1cmVWZXJzaW9uICE9PSAnczN2NCcpIHBhdGhuYW1lID0gQVdTLnV0aWwudXJpRXNjYXBlUGF0aChwYXRobmFtZSk7XG5cbiAgICBwYXJ0cy5wdXNoKHRoaXMucmVxdWVzdC5tZXRob2QpO1xuICAgIHBhcnRzLnB1c2gocGF0aG5hbWUpO1xuICAgIHBhcnRzLnB1c2godGhpcy5yZXF1ZXN0LnNlYXJjaCgpKTtcbiAgICBwYXJ0cy5wdXNoKHRoaXMuY2Fub25pY2FsSGVhZGVycygpICsgJ1xcbicpO1xuICAgIHBhcnRzLnB1c2godGhpcy5zaWduZWRIZWFkZXJzKCkpO1xuICAgIHBhcnRzLnB1c2godGhpcy5oZXhFbmNvZGVkQm9keUhhc2goKSk7XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJ1xcbicpO1xuICB9LFxuXG4gIGNhbm9uaWNhbEhlYWRlcnM6IGZ1bmN0aW9uIGNhbm9uaWNhbEhlYWRlcnMoKSB7XG4gICAgdmFyIGhlYWRlcnMgPSBbXTtcbiAgICBBV1MudXRpbC5lYWNoLmNhbGwodGhpcywgdGhpcy5yZXF1ZXN0LmhlYWRlcnMsIGZ1bmN0aW9uIChrZXksIGl0ZW0pIHtcbiAgICAgIGhlYWRlcnMucHVzaChba2V5LCBpdGVtXSk7XG4gICAgfSk7XG4gICAgaGVhZGVycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICByZXR1cm4gYVswXS50b0xvd2VyQ2FzZSgpIDwgYlswXS50b0xvd2VyQ2FzZSgpID8gLTEgOiAxO1xuICAgIH0pO1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgIEFXUy51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsIGhlYWRlcnMsIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIga2V5ID0gaXRlbVswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHRoaXMuaXNTaWduYWJsZUhlYWRlcihrZXkpKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGl0ZW1bMV07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsIHx8IHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcignSGVhZGVyICcgKyBrZXkgKyAnIGNvbnRhaW5zIGludmFsaWQgdmFsdWUnKSwge1xuICAgICAgICAgICAgY29kZTogJ0ludmFsaWRIZWFkZXInXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChrZXkgKyAnOicgK1xuICAgICAgICAgIHRoaXMuY2Fub25pY2FsSGVhZGVyVmFsdWVzKHZhbHVlLnRvU3RyaW5nKCkpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcGFydHMuam9pbignXFxuJyk7XG4gIH0sXG5cbiAgY2Fub25pY2FsSGVhZGVyVmFsdWVzOiBmdW5jdGlvbiBjYW5vbmljYWxIZWFkZXJWYWx1ZXModmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5yZXBsYWNlKC9cXHMrL2csICcgJykucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB9LFxuXG4gIHNpZ25lZEhlYWRlcnM6IGZ1bmN0aW9uIHNpZ25lZEhlYWRlcnMoKSB7XG4gICAgdmFyIGtleXMgPSBbXTtcbiAgICBBV1MudXRpbC5lYWNoLmNhbGwodGhpcywgdGhpcy5yZXF1ZXN0LmhlYWRlcnMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGtleSA9IGtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHRoaXMuaXNTaWduYWJsZUhlYWRlcihrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICB9KTtcbiAgICByZXR1cm4ga2V5cy5zb3J0KCkuam9pbignOycpO1xuICB9LFxuXG4gIGNyZWRlbnRpYWxTdHJpbmc6IGZ1bmN0aW9uIGNyZWRlbnRpYWxTdHJpbmcoZGF0ZXRpbWUpIHtcbiAgICByZXR1cm4gdjRDcmVkZW50aWFscy5jcmVhdGVTY29wZShcbiAgICAgIGRhdGV0aW1lLnN1YnN0cigwLCA4KSxcbiAgICAgIHRoaXMucmVxdWVzdC5yZWdpb24sXG4gICAgICB0aGlzLnNlcnZpY2VOYW1lXG4gICAgKTtcbiAgfSxcblxuICBoZXhFbmNvZGVkSGFzaDogZnVuY3Rpb24gaGFzaChzdHJpbmcpIHtcbiAgICByZXR1cm4gQVdTLnV0aWwuY3J5cHRvLnNoYTI1NihzdHJpbmcsICdoZXgnKTtcbiAgfSxcblxuICBoZXhFbmNvZGVkQm9keUhhc2g6IGZ1bmN0aW9uIGhleEVuY29kZWRCb2R5SGFzaCgpIHtcbiAgICB2YXIgcmVxdWVzdCA9IHRoaXMucmVxdWVzdDtcbiAgICBpZiAodGhpcy5pc1ByZXNpZ25lZCgpICYmIChbJ3MzJywgJ3MzLW9iamVjdC1sYW1iZGEnXS5pbmRleE9mKHRoaXMuc2VydmljZU5hbWUpID4gLTEpICYmICFyZXF1ZXN0LmJvZHkpIHtcbiAgICAgIHJldHVybiAnVU5TSUdORUQtUEFZTE9BRCc7XG4gICAgfSBlbHNlIGlmIChyZXF1ZXN0LmhlYWRlcnNbJ1gtQW16LUNvbnRlbnQtU2hhMjU2J10pIHtcbiAgICAgIHJldHVybiByZXF1ZXN0LmhlYWRlcnNbJ1gtQW16LUNvbnRlbnQtU2hhMjU2J107XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmhleEVuY29kZWRIYXNoKHRoaXMucmVxdWVzdC5ib2R5IHx8ICcnKTtcbiAgICB9XG4gIH0sXG5cbiAgdW5zaWduYWJsZUhlYWRlcnM6IFtcbiAgICAnYXV0aG9yaXphdGlvbicsXG4gICAgJ2NvbnRlbnQtdHlwZScsXG4gICAgJ2NvbnRlbnQtbGVuZ3RoJyxcbiAgICAndXNlci1hZ2VudCcsXG4gICAgZXhwaXJlc0hlYWRlcixcbiAgICAnZXhwZWN0JyxcbiAgICAneC1hbXpuLXRyYWNlLWlkJ1xuICBdLFxuXG4gIGlzU2lnbmFibGVIZWFkZXI6IGZ1bmN0aW9uIGlzU2lnbmFibGVIZWFkZXIoa2V5KSB7XG4gICAgaWYgKGtleS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ3gtYW16LScpID09PSAwKSByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gdGhpcy51bnNpZ25hYmxlSGVhZGVycy5pbmRleE9mKGtleSkgPCAwO1xuICB9LFxuXG4gIGlzUHJlc2lnbmVkOiBmdW5jdGlvbiBpc1ByZXNpZ25lZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0LmhlYWRlcnNbZXhwaXJlc0hlYWRlcl0gPyB0cnVlIDogZmFsc2U7XG4gIH1cblxufSk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVdTLlNpZ25lcnMuVjQ7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcbnZhciBpbmhlcml0ID0gQVdTLnV0aWwuaW5oZXJpdDtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlNpZ25lcnMuUzMgPSBpbmhlcml0KEFXUy5TaWduZXJzLlJlcXVlc3RTaWduZXIsIHtcbiAgLyoqXG4gICAqIFdoZW4gYnVpbGRpbmcgdGhlIHN0cmluZ1RvU2lnbiwgdGhlc2Ugc3ViIHJlc291cmNlIHBhcmFtcyBzaG91bGQgYmVcbiAgICogcGFydCBvZiB0aGUgY2Fub25pY2FsIHJlc291cmNlIHN0cmluZyB3aXRoIHRoZWlyIE5PTi1kZWNvZGVkIHZhbHVlc1xuICAgKi9cbiAgc3ViUmVzb3VyY2VzOiB7XG4gICAgJ2FjbCc6IDEsXG4gICAgJ2FjY2VsZXJhdGUnOiAxLFxuICAgICdhbmFseXRpY3MnOiAxLFxuICAgICdjb3JzJzogMSxcbiAgICAnbGlmZWN5Y2xlJzogMSxcbiAgICAnZGVsZXRlJzogMSxcbiAgICAnaW52ZW50b3J5JzogMSxcbiAgICAnbG9jYXRpb24nOiAxLFxuICAgICdsb2dnaW5nJzogMSxcbiAgICAnbWV0cmljcyc6IDEsXG4gICAgJ25vdGlmaWNhdGlvbic6IDEsXG4gICAgJ3BhcnROdW1iZXInOiAxLFxuICAgICdwb2xpY3knOiAxLFxuICAgICdyZXF1ZXN0UGF5bWVudCc6IDEsXG4gICAgJ3JlcGxpY2F0aW9uJzogMSxcbiAgICAncmVzdG9yZSc6IDEsXG4gICAgJ3RhZ2dpbmcnOiAxLFxuICAgICd0b3JyZW50JzogMSxcbiAgICAndXBsb2FkSWQnOiAxLFxuICAgICd1cGxvYWRzJzogMSxcbiAgICAndmVyc2lvbklkJzogMSxcbiAgICAndmVyc2lvbmluZyc6IDEsXG4gICAgJ3ZlcnNpb25zJzogMSxcbiAgICAnd2Vic2l0ZSc6IDFcbiAgfSxcblxuICAvLyB3aGVuIGJ1aWxkaW5nIHRoZSBzdHJpbmdUb1NpZ24sIHRoZXNlIHF1ZXJ5c3RyaW5nIHBhcmFtcyBzaG91bGQgYmVcbiAgLy8gcGFydCBvZiB0aGUgY2Fub25pY2FsIHJlc291cmNlIHN0cmluZyB3aXRoIHRoZWlyIE5PTi1lbmNvZGVkIHZhbHVlc1xuICByZXNwb25zZUhlYWRlcnM6IHtcbiAgICAncmVzcG9uc2UtY29udGVudC10eXBlJzogMSxcbiAgICAncmVzcG9uc2UtY29udGVudC1sYW5ndWFnZSc6IDEsXG4gICAgJ3Jlc3BvbnNlLWV4cGlyZXMnOiAxLFxuICAgICdyZXNwb25zZS1jYWNoZS1jb250cm9sJzogMSxcbiAgICAncmVzcG9uc2UtY29udGVudC1kaXNwb3NpdGlvbic6IDEsXG4gICAgJ3Jlc3BvbnNlLWNvbnRlbnQtZW5jb2RpbmcnOiAxXG4gIH0sXG5cbiAgYWRkQXV0aG9yaXphdGlvbjogZnVuY3Rpb24gYWRkQXV0aG9yaXphdGlvbihjcmVkZW50aWFscywgZGF0ZSkge1xuICAgIGlmICghdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ3ByZXNpZ25lZC1leHBpcmVzJ10pIHtcbiAgICAgIHRoaXMucmVxdWVzdC5oZWFkZXJzWydYLUFtei1EYXRlJ10gPSBBV1MudXRpbC5kYXRlLnJmYzgyMihkYXRlKTtcbiAgICB9XG5cbiAgICBpZiAoY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuKSB7XG4gICAgICAvLyBwcmVzaWduZWQgVVJMcyByZXF1aXJlIHRoaXMgaGVhZGVyIHRvIGJlIGxvd2VyY2FzZWRcbiAgICAgIHRoaXMucmVxdWVzdC5oZWFkZXJzWyd4LWFtei1zZWN1cml0eS10b2tlbiddID0gY3JlZGVudGlhbHMuc2Vzc2lvblRva2VuO1xuICAgIH1cblxuICAgIHZhciBzaWduYXR1cmUgPSB0aGlzLnNpZ24oY3JlZGVudGlhbHMuc2VjcmV0QWNjZXNzS2V5LCB0aGlzLnN0cmluZ1RvU2lnbigpKTtcbiAgICB2YXIgYXV0aCA9ICdBV1MgJyArIGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkICsgJzonICsgc2lnbmF0dXJlO1xuXG4gICAgdGhpcy5yZXF1ZXN0LmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9IGF1dGg7XG4gIH0sXG5cbiAgc3RyaW5nVG9TaWduOiBmdW5jdGlvbiBzdHJpbmdUb1NpZ24oKSB7XG4gICAgdmFyIHIgPSB0aGlzLnJlcXVlc3Q7XG5cbiAgICB2YXIgcGFydHMgPSBbXTtcbiAgICBwYXJ0cy5wdXNoKHIubWV0aG9kKTtcbiAgICBwYXJ0cy5wdXNoKHIuaGVhZGVyc1snQ29udGVudC1NRDUnXSB8fCAnJyk7XG4gICAgcGFydHMucHVzaChyLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddIHx8ICcnKTtcblxuICAgIC8vIFRoaXMgaXMgdGhlIFwiRGF0ZVwiIGhlYWRlciwgYnV0IHdlIHVzZSBYLUFtei1EYXRlLlxuICAgIC8vIFRoZSBTMyBzaWduaW5nIG1lY2hhbmlzbSByZXF1aXJlcyB1cyB0byBwYXNzIGFuIGVtcHR5XG4gICAgLy8gc3RyaW5nIGZvciB0aGlzIERhdGUgaGVhZGVyIHJlZ2FyZGxlc3MuXG4gICAgcGFydHMucHVzaChyLmhlYWRlcnNbJ3ByZXNpZ25lZC1leHBpcmVzJ10gfHwgJycpO1xuXG4gICAgdmFyIGhlYWRlcnMgPSB0aGlzLmNhbm9uaWNhbGl6ZWRBbXpIZWFkZXJzKCk7XG4gICAgaWYgKGhlYWRlcnMpIHBhcnRzLnB1c2goaGVhZGVycyk7XG4gICAgcGFydHMucHVzaCh0aGlzLmNhbm9uaWNhbGl6ZWRSZXNvdXJjZSgpKTtcblxuICAgIHJldHVybiBwYXJ0cy5qb2luKCdcXG4nKTtcblxuICB9LFxuXG4gIGNhbm9uaWNhbGl6ZWRBbXpIZWFkZXJzOiBmdW5jdGlvbiBjYW5vbmljYWxpemVkQW16SGVhZGVycygpIHtcblxuICAgIHZhciBhbXpIZWFkZXJzID0gW107XG5cbiAgICBBV1MudXRpbC5lYWNoKHRoaXMucmVxdWVzdC5oZWFkZXJzLCBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgaWYgKG5hbWUubWF0Y2goL154LWFtei0vaSkpXG4gICAgICAgIGFtekhlYWRlcnMucHVzaChuYW1lKTtcbiAgICB9KTtcblxuICAgIGFtekhlYWRlcnMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgcmV0dXJuIGEudG9Mb3dlckNhc2UoKSA8IGIudG9Mb3dlckNhc2UoKSA/IC0xIDogMTtcbiAgICB9KTtcblxuICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgIEFXUy51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsIGFtekhlYWRlcnMsIGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICBwYXJ0cy5wdXNoKG5hbWUudG9Mb3dlckNhc2UoKSArICc6JyArIFN0cmluZyh0aGlzLnJlcXVlc3QuaGVhZGVyc1tuYW1lXSkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJ1xcbicpO1xuXG4gIH0sXG5cbiAgY2Fub25pY2FsaXplZFJlc291cmNlOiBmdW5jdGlvbiBjYW5vbmljYWxpemVkUmVzb3VyY2UoKSB7XG5cbiAgICB2YXIgciA9IHRoaXMucmVxdWVzdDtcblxuICAgIHZhciBwYXJ0cyA9IHIucGF0aC5zcGxpdCgnPycpO1xuICAgIHZhciBwYXRoID0gcGFydHNbMF07XG4gICAgdmFyIHF1ZXJ5c3RyaW5nID0gcGFydHNbMV07XG5cbiAgICB2YXIgcmVzb3VyY2UgPSAnJztcblxuICAgIGlmIChyLnZpcnR1YWxIb3N0ZWRCdWNrZXQpXG4gICAgICByZXNvdXJjZSArPSAnLycgKyByLnZpcnR1YWxIb3N0ZWRCdWNrZXQ7XG5cbiAgICByZXNvdXJjZSArPSBwYXRoO1xuXG4gICAgaWYgKHF1ZXJ5c3RyaW5nKSB7XG5cbiAgICAgIC8vIGNvbGxlY3QgYSBsaXN0IG9mIHN1YiByZXNvdXJjZXMgYW5kIHF1ZXJ5IHBhcmFtcyB0aGF0IG5lZWQgdG8gYmUgc2lnbmVkXG4gICAgICB2YXIgcmVzb3VyY2VzID0gW107XG5cbiAgICAgIEFXUy51dGlsLmFycmF5RWFjaC5jYWxsKHRoaXMsIHF1ZXJ5c3RyaW5nLnNwbGl0KCcmJyksIGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICB2YXIgbmFtZSA9IHBhcmFtLnNwbGl0KCc9JylbMF07XG4gICAgICAgIHZhciB2YWx1ZSA9IHBhcmFtLnNwbGl0KCc9JylbMV07XG4gICAgICAgIGlmICh0aGlzLnN1YlJlc291cmNlc1tuYW1lXSB8fCB0aGlzLnJlc3BvbnNlSGVhZGVyc1tuYW1lXSkge1xuICAgICAgICAgIHZhciBzdWJyZXNvdXJjZSA9IHsgbmFtZTogbmFtZSB9O1xuICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdWJSZXNvdXJjZXNbbmFtZV0pIHtcbiAgICAgICAgICAgICAgc3VicmVzb3VyY2UudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN1YnJlc291cmNlLnZhbHVlID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzb3VyY2VzLnB1c2goc3VicmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgcmVzb3VyY2VzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEubmFtZSA8IGIubmFtZSA/IC0xIDogMTsgfSk7XG5cbiAgICAgIGlmIChyZXNvdXJjZXMubGVuZ3RoKSB7XG5cbiAgICAgICAgcXVlcnlzdHJpbmcgPSBbXTtcbiAgICAgICAgQVdTLnV0aWwuYXJyYXlFYWNoKHJlc291cmNlcywgZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgIGlmIChyZXMudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlzdHJpbmcucHVzaChyZXMubmFtZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHF1ZXJ5c3RyaW5nLnB1c2gocmVzLm5hbWUgKyAnPScgKyByZXMudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmVzb3VyY2UgKz0gJz8nICsgcXVlcnlzdHJpbmcuam9pbignJicpO1xuICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc291cmNlO1xuXG4gIH0sXG5cbiAgc2lnbjogZnVuY3Rpb24gc2lnbihzZWNyZXQsIHN0cmluZykge1xuICAgIHJldHVybiBBV1MudXRpbC5jcnlwdG8uaG1hYyhzZWNyZXQsIHN0cmluZywgJ2Jhc2U2NCcsICdzaGExJyk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IEFXUy5TaWduZXJzLlMzO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgaW5oZXJpdCA9IEFXUy51dGlsLmluaGVyaXQ7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciBleHBpcmVzSGVhZGVyID0gJ3ByZXNpZ25lZC1leHBpcmVzJztcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gc2lnbmVkVXJsQnVpbGRlcihyZXF1ZXN0KSB7XG4gIHZhciBleHBpcmVzID0gcmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzW2V4cGlyZXNIZWFkZXJdO1xuICB2YXIgc2lnbmVyQ2xhc3MgPSByZXF1ZXN0LnNlcnZpY2UuZ2V0U2lnbmVyQ2xhc3MocmVxdWVzdCk7XG5cbiAgZGVsZXRlIHJlcXVlc3QuaHR0cFJlcXVlc3QuaGVhZGVyc1snVXNlci1BZ2VudCddO1xuICBkZWxldGUgcmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzWydYLUFtei1Vc2VyLUFnZW50J107XG5cbiAgaWYgKHNpZ25lckNsYXNzID09PSBBV1MuU2lnbmVycy5WNCkge1xuICAgIGlmIChleHBpcmVzID4gNjA0ODAwKSB7IC8vIG9uZSB3ZWVrIGV4cGlyeSBpcyBpbnZhbGlkXG4gICAgICB2YXIgbWVzc2FnZSA9ICdQcmVzaWduaW5nIGRvZXMgbm90IHN1cHBvcnQgZXhwaXJ5IHRpbWUgZ3JlYXRlciAnICtcbiAgICAgICAgICAgICAgICAgICAgJ3RoYW4gYSB3ZWVrIHdpdGggU2lnVjQgc2lnbmluZy4nO1xuICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IobmV3IEVycm9yKCksIHtcbiAgICAgICAgY29kZTogJ0ludmFsaWRFeHBpcnlUaW1lJywgbWVzc2FnZTogbWVzc2FnZSwgcmV0cnlhYmxlOiBmYWxzZVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJlcXVlc3QuaHR0cFJlcXVlc3QuaGVhZGVyc1tleHBpcmVzSGVhZGVyXSA9IGV4cGlyZXM7XG4gIH0gZWxzZSBpZiAoc2lnbmVyQ2xhc3MgPT09IEFXUy5TaWduZXJzLlMzKSB7XG4gICAgdmFyIG5vdyA9IHJlcXVlc3Quc2VydmljZSA/IHJlcXVlc3Quc2VydmljZS5nZXRTa2V3Q29ycmVjdGVkRGF0ZSgpIDogQVdTLnV0aWwuZGF0ZS5nZXREYXRlKCk7XG4gICAgcmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzW2V4cGlyZXNIZWFkZXJdID0gcGFyc2VJbnQoXG4gICAgICBBV1MudXRpbC5kYXRlLnVuaXhUaW1lc3RhbXAobm93KSArIGV4cGlyZXMsIDEwKS50b1N0cmluZygpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcigpLCB7XG4gICAgICBtZXNzYWdlOiAnUHJlc2lnbmluZyBvbmx5IHN1cHBvcnRzIFMzIG9yIFNpZ1Y0IHNpZ25pbmcuJyxcbiAgICAgIGNvZGU6ICdVbnN1cHBvcnRlZFNpZ25lcicsIHJldHJ5YWJsZTogZmFsc2VcbiAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzaWduZWRVcmxTaWduZXIocmVxdWVzdCkge1xuICB2YXIgZW5kcG9pbnQgPSByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmVuZHBvaW50O1xuICB2YXIgcGFyc2VkVXJsID0gQVdTLnV0aWwudXJsUGFyc2UocmVxdWVzdC5odHRwUmVxdWVzdC5wYXRoKTtcbiAgdmFyIHF1ZXJ5UGFyYW1zID0ge307XG5cbiAgaWYgKHBhcnNlZFVybC5zZWFyY2gpIHtcbiAgICBxdWVyeVBhcmFtcyA9IEFXUy51dGlsLnF1ZXJ5U3RyaW5nUGFyc2UocGFyc2VkVXJsLnNlYXJjaC5zdWJzdHIoMSkpO1xuICB9XG5cbiAgdmFyIGF1dGggPSByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXS5zcGxpdCgnICcpO1xuICBpZiAoYXV0aFswXSA9PT0gJ0FXUycpIHtcbiAgICBhdXRoID0gYXV0aFsxXS5zcGxpdCgnOicpO1xuICAgIHF1ZXJ5UGFyYW1zWydTaWduYXR1cmUnXSA9IGF1dGgucG9wKCk7XG4gICAgcXVlcnlQYXJhbXNbJ0FXU0FjY2Vzc0tleUlkJ10gPSBhdXRoLmpvaW4oJzonKTtcblxuICAgIEFXUy51dGlsLmVhY2gocmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzLCBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGtleSA9PT0gZXhwaXJlc0hlYWRlcikga2V5ID0gJ0V4cGlyZXMnO1xuICAgICAgaWYgKGtleS5pbmRleE9mKCd4LWFtei1tZXRhLScpID09PSAwKSB7XG4gICAgICAgIC8vIERlbGV0ZSBleGlzdGluZywgcG90ZW50aWFsbHkgbm90IG5vcm1hbGl6ZWQga2V5XG4gICAgICAgIGRlbGV0ZSBxdWVyeVBhcmFtc1trZXldO1xuICAgICAgICBrZXkgPSBrZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgIH1cbiAgICAgIHF1ZXJ5UGFyYW1zW2tleV0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICBkZWxldGUgcmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzW2V4cGlyZXNIZWFkZXJdO1xuICAgIGRlbGV0ZSBxdWVyeVBhcmFtc1snQXV0aG9yaXphdGlvbiddO1xuICAgIGRlbGV0ZSBxdWVyeVBhcmFtc1snSG9zdCddO1xuICB9IGVsc2UgaWYgKGF1dGhbMF0gPT09ICdBV1M0LUhNQUMtU0hBMjU2JykgeyAvLyBTaWdWNCBzaWduaW5nXG4gICAgYXV0aC5zaGlmdCgpO1xuICAgIHZhciByZXN0ID0gYXV0aC5qb2luKCcgJyk7XG4gICAgdmFyIHNpZ25hdHVyZSA9IHJlc3QubWF0Y2goL1NpZ25hdHVyZT0oLio/KSg/Oix8XFxzfFxccj9cXG58JCkvKVsxXTtcbiAgICBxdWVyeVBhcmFtc1snWC1BbXotU2lnbmF0dXJlJ10gPSBzaWduYXR1cmU7XG4gICAgZGVsZXRlIHF1ZXJ5UGFyYW1zWydFeHBpcmVzJ107XG4gIH1cblxuICAvLyBidWlsZCBVUkxcbiAgZW5kcG9pbnQucGF0aG5hbWUgPSBwYXJzZWRVcmwucGF0aG5hbWU7XG4gIGVuZHBvaW50LnNlYXJjaCA9IEFXUy51dGlsLnF1ZXJ5UGFyYW1zVG9TdHJpbmcocXVlcnlQYXJhbXMpO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuU2lnbmVycy5QcmVzaWduID0gaW5oZXJpdCh7XG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNpZ246IGZ1bmN0aW9uIHNpZ24ocmVxdWVzdCwgZXhwaXJlVGltZSwgY2FsbGJhY2spIHtcbiAgICByZXF1ZXN0Lmh0dHBSZXF1ZXN0LmhlYWRlcnNbZXhwaXJlc0hlYWRlcl0gPSBleHBpcmVUaW1lIHx8IDM2MDA7XG4gICAgcmVxdWVzdC5vbignYnVpbGQnLCBzaWduZWRVcmxCdWlsZGVyKTtcbiAgICByZXF1ZXN0Lm9uKCdzaWduJywgc2lnbmVkVXJsU2lnbmVyKTtcbiAgICByZXF1ZXN0LnJlbW92ZUxpc3RlbmVyKCdhZnRlckJ1aWxkJyxcbiAgICAgIEFXUy5FdmVudExpc3RlbmVycy5Db3JlLlNFVF9DT05URU5UX0xFTkdUSCk7XG4gICAgcmVxdWVzdC5yZW1vdmVMaXN0ZW5lcignYWZ0ZXJCdWlsZCcsXG4gICAgICBBV1MuRXZlbnRMaXN0ZW5lcnMuQ29yZS5DT01QVVRFX1NIQTI1Nik7XG5cbiAgICByZXF1ZXN0LmVtaXQoJ2JlZm9yZVByZXNpZ24nLCBbcmVxdWVzdF0pO1xuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICByZXF1ZXN0LmJ1aWxkKGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5yZXNwb25zZS5lcnJvcikgY2FsbGJhY2sodGhpcy5yZXNwb25zZS5lcnJvcik7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIEFXUy51dGlsLnVybEZvcm1hdChyZXF1ZXN0Lmh0dHBSZXF1ZXN0LmVuZHBvaW50KSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0LmJ1aWxkKCk7XG4gICAgICBpZiAocmVxdWVzdC5yZXNwb25zZS5lcnJvcikgdGhyb3cgcmVxdWVzdC5yZXNwb25zZS5lcnJvcjtcbiAgICAgIHJldHVybiBBV1MudXRpbC51cmxGb3JtYXQocmVxdWVzdC5odHRwUmVxdWVzdC5lbmRwb2ludCk7XG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBBV1MuU2lnbmVycy5QcmVzaWduO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbkFXUy5TaWduZXJzLkJlYXJlciA9IEFXUy51dGlsLmluaGVyaXQoQVdTLlNpZ25lcnMuUmVxdWVzdFNpZ25lciwge1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gQmVhcmVyKHJlcXVlc3QpIHtcbiAgICBBV1MuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmNhbGwodGhpcywgcmVxdWVzdCk7XG4gIH0sXG5cbiAgYWRkQXV0aG9yaXphdGlvbjogZnVuY3Rpb24gYWRkQXV0aG9yaXphdGlvbih0b2tlbikge1xuICAgIHRoaXMucmVxdWVzdC5odHRwUmVxdWVzdC5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyB0b2tlbi50b2tlbjtcbiAgfVxufSk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIGluaGVyaXQgPSBBV1MudXRpbC5pbmhlcml0O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuU2lnbmVycy5SZXF1ZXN0U2lnbmVyID0gaW5oZXJpdCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBSZXF1ZXN0U2lnbmVyKHJlcXVlc3QpIHtcbiAgICB0aGlzLnJlcXVlc3QgPSByZXF1ZXN0O1xuICB9LFxuXG4gIHNldFNlcnZpY2VDbGllbnRJZDogZnVuY3Rpb24gc2V0U2VydmljZUNsaWVudElkKGlkKSB7XG4gICAgdGhpcy5zZXJ2aWNlQ2xpZW50SWQgPSBpZDtcbiAgfSxcblxuICBnZXRTZXJ2aWNlQ2xpZW50SWQ6IGZ1bmN0aW9uIGdldFNlcnZpY2VDbGllbnRJZCgpIHtcbiAgICByZXR1cm4gdGhpcy5zZXJ2aWNlQ2xpZW50SWQ7XG4gIH1cbn0pO1xuXG5BV1MuU2lnbmVycy5SZXF1ZXN0U2lnbmVyLmdldFZlcnNpb24gPSBmdW5jdGlvbiBnZXRWZXJzaW9uKHZlcnNpb24pIHtcbiAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgY2FzZSAndjInOiByZXR1cm4gQVdTLlNpZ25lcnMuVjI7XG4gICAgY2FzZSAndjMnOiByZXR1cm4gQVdTLlNpZ25lcnMuVjM7XG4gICAgY2FzZSAnczN2NCc6IHJldHVybiBBV1MuU2lnbmVycy5WNDtcbiAgICBjYXNlICd2NCc6IHJldHVybiBBV1MuU2lnbmVycy5WNDtcbiAgICBjYXNlICdzMyc6IHJldHVybiBBV1MuU2lnbmVycy5TMztcbiAgICBjYXNlICd2M2h0dHBzJzogcmV0dXJuIEFXUy5TaWduZXJzLlYzSHR0cHM7XG4gICAgY2FzZSAnYmVhcmVyJzogcmV0dXJuIEFXUy5TaWduZXJzLkJlYXJlcjtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoJ1Vua25vd24gc2lnbmluZyB2ZXJzaW9uICcgKyB2ZXJzaW9uKTtcbn07XG5cbnJlcXVpcmUoJy4vdjInKTtcbnJlcXVpcmUoJy4vdjMnKTtcbnJlcXVpcmUoJy4vdjNodHRwcycpO1xucmVxdWlyZSgnLi92NCcpO1xucmVxdWlyZSgnLi9zMycpO1xucmVxdWlyZSgnLi9wcmVzaWduJyk7XG5yZXF1aXJlKCcuL2JlYXJlcicpO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlBhcmFtVmFsaWRhdG9yID0gQVdTLnV0aWwuaW5oZXJpdCh7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgdmFsaWRhdG9yIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIHZhbGlkYXRpb24gW0Jvb2xlYW58bWFwXSB3aGV0aGVyIGlucHV0IHBhcmFtZXRlcnMgc2hvdWxkIGJlXG4gICAqICAgICB2YWxpZGF0ZWQgYWdhaW5zdCB0aGUgb3BlcmF0aW9uIGRlc2NyaXB0aW9uIGJlZm9yZSBzZW5kaW5nIHRoZVxuICAgKiAgICAgcmVxdWVzdC4gUGFzcyBhIG1hcCB0byBlbmFibGUgYW55IG9mIHRoZSBmb2xsb3dpbmcgc3BlY2lmaWNcbiAgICogICAgIHZhbGlkYXRpb24gZmVhdHVyZXM6XG4gICAqXG4gICAqICAgICAqICoqbWluKiogW0Jvb2xlYW5dICZtZGFzaDsgVmFsaWRhdGVzIHRoYXQgYSB2YWx1ZSBtZWV0cyB0aGUgbWluXG4gICAqICAgICAgIGNvbnN0cmFpbnQuIFRoaXMgaXMgZW5hYmxlZCBieSBkZWZhdWx0IHdoZW4gcGFyYW1WYWxpZGF0aW9uIGlzIHNldFxuICAgKiAgICAgICB0byBgdHJ1ZWAuXG4gICAqICAgICAqICoqbWF4KiogW0Jvb2xlYW5dICZtZGFzaDsgVmFsaWRhdGVzIHRoYXQgYSB2YWx1ZSBtZWV0cyB0aGUgbWF4XG4gICAqICAgICAgIGNvbnN0cmFpbnQuXG4gICAqICAgICAqICoqcGF0dGVybioqIFtCb29sZWFuXSAmbWRhc2g7IFZhbGlkYXRlcyB0aGF0IGEgc3RyaW5nIHZhbHVlIG1hdGNoZXMgYVxuICAgKiAgICAgICByZWd1bGFyIGV4cHJlc3Npb24uXG4gICAqICAgICAqICoqZW51bSoqIFtCb29sZWFuXSAmbWRhc2g7IFZhbGlkYXRlcyB0aGF0IGEgc3RyaW5nIHZhbHVlIG1hdGNoZXMgb25lXG4gICAqICAgICAgIG9mIHRoZSBhbGxvd2FibGUgZW51bSB2YWx1ZXMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gUGFyYW1WYWxpZGF0b3IodmFsaWRhdGlvbikge1xuICAgIGlmICh2YWxpZGF0aW9uID09PSB0cnVlIHx8IHZhbGlkYXRpb24gPT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFsaWRhdGlvbiA9IHsnbWluJzogdHJ1ZX07XG4gICAgfVxuICAgIHRoaXMudmFsaWRhdGlvbiA9IHZhbGlkYXRpb247XG4gIH0sXG5cbiAgdmFsaWRhdGU6IGZ1bmN0aW9uIHZhbGlkYXRlKHNoYXBlLCBwYXJhbXMsIGNvbnRleHQpIHtcbiAgICB0aGlzLmVycm9ycyA9IFtdO1xuICAgIHRoaXMudmFsaWRhdGVNZW1iZXIoc2hhcGUsIHBhcmFtcyB8fCB7fSwgY29udGV4dCB8fCAncGFyYW1zJyk7XG5cbiAgICBpZiAodGhpcy5lcnJvcnMubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIG1zZyA9IHRoaXMuZXJyb3JzLmpvaW4oJ1xcbiogJyk7XG4gICAgICBtc2cgPSAnVGhlcmUgd2VyZSAnICsgdGhpcy5lcnJvcnMubGVuZ3RoICtcbiAgICAgICAgJyB2YWxpZGF0aW9uIGVycm9yczpcXG4qICcgKyBtc2c7XG4gICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IobXNnKSxcbiAgICAgICAge2NvZGU6ICdNdWx0aXBsZVZhbGlkYXRpb25FcnJvcnMnLCBlcnJvcnM6IHRoaXMuZXJyb3JzfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmVycm9ycy5sZW5ndGggPT09IDEpIHtcbiAgICAgIHRocm93IHRoaXMuZXJyb3JzWzBdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG5cbiAgZmFpbDogZnVuY3Rpb24gZmFpbChjb2RlLCBtZXNzYWdlKSB7XG4gICAgdGhpcy5lcnJvcnMucHVzaChBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IobWVzc2FnZSksIHtjb2RlOiBjb2RlfSkpO1xuICB9LFxuXG4gIHZhbGlkYXRlU3RydWN0dXJlOiBmdW5jdGlvbiB2YWxpZGF0ZVN0cnVjdHVyZShzaGFwZSwgcGFyYW1zLCBjb250ZXh0KSB7XG4gICAgaWYgKHNoYXBlLmlzRG9jdW1lbnQpIHJldHVybiB0cnVlO1xuXG4gICAgdGhpcy52YWxpZGF0ZVR5cGUocGFyYW1zLCBjb250ZXh0LCBbJ29iamVjdCddLCAnc3RydWN0dXJlJyk7XG4gICAgdmFyIHBhcmFtTmFtZTtcbiAgICBmb3IgKHZhciBpID0gMDsgc2hhcGUucmVxdWlyZWQgJiYgaSA8IHNoYXBlLnJlcXVpcmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwYXJhbU5hbWUgPSBzaGFwZS5yZXF1aXJlZFtpXTtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcmFtc1twYXJhbU5hbWVdO1xuICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5mYWlsKCdNaXNzaW5nUmVxdWlyZWRQYXJhbWV0ZXInLFxuICAgICAgICAgICdNaXNzaW5nIHJlcXVpcmVkIGtleSBcXCcnICsgcGFyYW1OYW1lICsgJ1xcJyBpbiAnICsgY29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdmFsaWRhdGUgaGFzaCBtZW1iZXJzXG4gICAgZm9yIChwYXJhbU5hbWUgaW4gcGFyYW1zKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIHBhcmFtTmFtZSkpIGNvbnRpbnVlO1xuXG4gICAgICB2YXIgcGFyYW1WYWx1ZSA9IHBhcmFtc1twYXJhbU5hbWVdLFxuICAgICAgICAgIG1lbWJlclNoYXBlID0gc2hhcGUubWVtYmVyc1twYXJhbU5hbWVdO1xuXG4gICAgICBpZiAobWVtYmVyU2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB2YXIgbWVtYmVyQ29udGV4dCA9IFtjb250ZXh0LCBwYXJhbU5hbWVdLmpvaW4oJy4nKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZU1lbWJlcihtZW1iZXJTaGFwZSwgcGFyYW1WYWx1ZSwgbWVtYmVyQ29udGV4dCk7XG4gICAgICB9IGVsc2UgaWYgKHBhcmFtVmFsdWUgIT09IHVuZGVmaW5lZCAmJiBwYXJhbVZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuZmFpbCgnVW5leHBlY3RlZFBhcmFtZXRlcicsXG4gICAgICAgICAgJ1VuZXhwZWN0ZWQga2V5IFxcJycgKyBwYXJhbU5hbWUgKyAnXFwnIGZvdW5kIGluICcgKyBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICB2YWxpZGF0ZU1lbWJlcjogZnVuY3Rpb24gdmFsaWRhdGVNZW1iZXIoc2hhcGUsIHBhcmFtLCBjb250ZXh0KSB7XG4gICAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgICBjYXNlICdzdHJ1Y3R1cmUnOlxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVN0cnVjdHVyZShzaGFwZSwgcGFyYW0sIGNvbnRleHQpO1xuICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlTGlzdChzaGFwZSwgcGFyYW0sIGNvbnRleHQpO1xuICAgICAgY2FzZSAnbWFwJzpcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVNYXAoc2hhcGUsIHBhcmFtLCBjb250ZXh0KTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlU2NhbGFyKHNoYXBlLCBwYXJhbSwgY29udGV4dCk7XG4gICAgfVxuICB9LFxuXG4gIHZhbGlkYXRlTGlzdDogZnVuY3Rpb24gdmFsaWRhdGVMaXN0KHNoYXBlLCBwYXJhbXMsIGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy52YWxpZGF0ZVR5cGUocGFyYW1zLCBjb250ZXh0LCBbQXJyYXldKSkge1xuICAgICAgdGhpcy52YWxpZGF0ZVJhbmdlKHNoYXBlLCBwYXJhbXMubGVuZ3RoLCBjb250ZXh0LCAnbGlzdCBtZW1iZXIgY291bnQnKTtcbiAgICAgIC8vIHZhbGlkYXRlIGFycmF5IG1lbWJlcnNcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFyYW1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRoaXMudmFsaWRhdGVNZW1iZXIoc2hhcGUubWVtYmVyLCBwYXJhbXNbaV0sIGNvbnRleHQgKyAnWycgKyBpICsgJ10nKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdmFsaWRhdGVNYXA6IGZ1bmN0aW9uIHZhbGlkYXRlTWFwKHNoYXBlLCBwYXJhbXMsIGNvbnRleHQpIHtcbiAgICBpZiAodGhpcy52YWxpZGF0ZVR5cGUocGFyYW1zLCBjb250ZXh0LCBbJ29iamVjdCddLCAnbWFwJykpIHtcbiAgICAgIC8vIEJ1aWxkIHVwIGEgY291bnQgb2YgbWFwIG1lbWJlcnMgdG8gdmFsaWRhdGUgcmFuZ2UgdHJhaXRzLlxuICAgICAgdmFyIG1hcENvdW50ID0gMDtcbiAgICAgIGZvciAodmFyIHBhcmFtIGluIHBhcmFtcykge1xuICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwYXJhbXMsIHBhcmFtKSkgY29udGludWU7XG4gICAgICAgIC8vIFZhbGlkYXRlIGFueSBtYXAga2V5IHRyYWl0IGNvbnN0cmFpbnRzXG4gICAgICAgIHRoaXMudmFsaWRhdGVNZW1iZXIoc2hhcGUua2V5LCBwYXJhbSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ICsgJ1trZXk9XFwnJyArIHBhcmFtICsgJ1xcJ10nKTtcbiAgICAgICAgdGhpcy52YWxpZGF0ZU1lbWJlcihzaGFwZS52YWx1ZSwgcGFyYW1zW3BhcmFtXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0ICsgJ1tcXCcnICsgcGFyYW0gKyAnXFwnXScpO1xuICAgICAgICBtYXBDb3VudCsrO1xuICAgICAgfVxuICAgICAgdGhpcy52YWxpZGF0ZVJhbmdlKHNoYXBlLCBtYXBDb3VudCwgY29udGV4dCwgJ21hcCBtZW1iZXIgY291bnQnKTtcbiAgICB9XG4gIH0sXG5cbiAgdmFsaWRhdGVTY2FsYXI6IGZ1bmN0aW9uIHZhbGlkYXRlU2NhbGFyKHNoYXBlLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIHN3aXRjaCAoc2hhcGUudHlwZSkge1xuICAgICAgY2FzZSBudWxsOlxuICAgICAgY2FzZSB1bmRlZmluZWQ6XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVN0cmluZyhzaGFwZSwgdmFsdWUsIGNvbnRleHQpO1xuICAgICAgY2FzZSAnYmFzZTY0JzpcbiAgICAgIGNhc2UgJ2JpbmFyeSc6XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlUGF5bG9hZCh2YWx1ZSwgY29udGV4dCk7XG4gICAgICBjYXNlICdpbnRlZ2VyJzpcbiAgICAgIGNhc2UgJ2Zsb2F0JzpcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVOdW1iZXIoc2hhcGUsIHZhbHVlLCBjb250ZXh0KTtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVR5cGUodmFsdWUsIGNvbnRleHQsIFsnYm9vbGVhbiddKTtcbiAgICAgIGNhc2UgJ3RpbWVzdGFtcCc6XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlVHlwZSh2YWx1ZSwgY29udGV4dCwgW0RhdGUsXG4gICAgICAgICAgL15cXGR7NH0tXFxkezJ9LVxcZHsyfVRcXGR7Mn06XFxkezJ9OlxcZHsyfShcXC5cXGQrKT9aJC8sICdudW1iZXInXSxcbiAgICAgICAgICAnRGF0ZSBvYmplY3QsIElTTy04NjAxIHN0cmluZywgb3IgYSBVTklYIHRpbWVzdGFtcCcpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHRoaXMuZmFpbCgnVW5rb3duVHlwZScsICdVbmhhbmRsZWQgdHlwZSAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZS50eXBlICsgJyBmb3IgJyArIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcblxuICB2YWxpZGF0ZVN0cmluZzogZnVuY3Rpb24gdmFsaWRhdGVTdHJpbmcoc2hhcGUsIHZhbHVlLCBjb250ZXh0KSB7XG4gICAgdmFyIHZhbGlkVHlwZXMgPSBbJ3N0cmluZyddO1xuICAgIGlmIChzaGFwZS5pc0pzb25WYWx1ZSkge1xuICAgICAgdmFsaWRUeXBlcyA9IHZhbGlkVHlwZXMuY29uY2F0KFsnbnVtYmVyJywgJ29iamVjdCcsICdib29sZWFuJ10pO1xuICAgIH1cbiAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdGhpcy52YWxpZGF0ZVR5cGUodmFsdWUsIGNvbnRleHQsIHZhbGlkVHlwZXMpKSB7XG4gICAgICB0aGlzLnZhbGlkYXRlRW51bShzaGFwZSwgdmFsdWUsIGNvbnRleHQpO1xuICAgICAgdGhpcy52YWxpZGF0ZVJhbmdlKHNoYXBlLCB2YWx1ZS5sZW5ndGgsIGNvbnRleHQsICdzdHJpbmcgbGVuZ3RoJyk7XG4gICAgICB0aGlzLnZhbGlkYXRlUGF0dGVybihzaGFwZSwgdmFsdWUsIGNvbnRleHQpO1xuICAgICAgdGhpcy52YWxpZGF0ZVVyaShzaGFwZSwgdmFsdWUsIGNvbnRleHQpO1xuICAgIH1cbiAgfSxcblxuICB2YWxpZGF0ZVVyaTogZnVuY3Rpb24gdmFsaWRhdGVVcmkoc2hhcGUsIHZhbHVlLCBjb250ZXh0KSB7XG4gICAgaWYgKHNoYXBlWydsb2NhdGlvbiddID09PSAndXJpJykge1xuICAgICAgaWYgKHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aGlzLmZhaWwoJ1VyaVBhcmFtZXRlckVycm9yJywgJ0V4cGVjdGVkIHVyaSBwYXJhbWV0ZXIgdG8gaGF2ZSBsZW5ndGggPj0gMSwnXG4gICAgICAgICAgKyAnIGJ1dCBmb3VuZCBcIicgKyB2YWx1ZSArJ1wiIGZvciAnICsgY29udGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIHZhbGlkYXRlUGF0dGVybjogZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJuKHNoYXBlLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIGlmICh0aGlzLnZhbGlkYXRpb25bJ3BhdHRlcm4nXSAmJiBzaGFwZVsncGF0dGVybiddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGlmICghKG5ldyBSZWdFeHAoc2hhcGVbJ3BhdHRlcm4nXSkpLnRlc3QodmFsdWUpKSB7XG4gICAgICAgIHRoaXMuZmFpbCgnUGF0dGVybk1hdGNoRXJyb3InLCAnUHJvdmlkZWQgdmFsdWUgXCInICsgdmFsdWUgKyAnXCIgJ1xuICAgICAgICAgICsgJ2RvZXMgbm90IG1hdGNoIHJlZ2V4IHBhdHRlcm4gLycgKyBzaGFwZVsncGF0dGVybiddICsgJy8gZm9yICdcbiAgICAgICAgICArIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB2YWxpZGF0ZVJhbmdlOiBmdW5jdGlvbiB2YWxpZGF0ZVJhbmdlKHNoYXBlLCB2YWx1ZSwgY29udGV4dCwgZGVzY3JpcHRvcikge1xuICAgIGlmICh0aGlzLnZhbGlkYXRpb25bJ21pbiddKSB7XG4gICAgICBpZiAoc2hhcGVbJ21pbiddICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgPCBzaGFwZVsnbWluJ10pIHtcbiAgICAgICAgdGhpcy5mYWlsKCdNaW5SYW5nZUVycm9yJywgJ0V4cGVjdGVkICcgKyBkZXNjcmlwdG9yICsgJyA+PSAnXG4gICAgICAgICAgKyBzaGFwZVsnbWluJ10gKyAnLCBidXQgZm91bmQgJyArIHZhbHVlICsgJyBmb3IgJyArIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodGhpcy52YWxpZGF0aW9uWydtYXgnXSkge1xuICAgICAgaWYgKHNoYXBlWydtYXgnXSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlID4gc2hhcGVbJ21heCddKSB7XG4gICAgICAgIHRoaXMuZmFpbCgnTWF4UmFuZ2VFcnJvcicsICdFeHBlY3RlZCAnICsgZGVzY3JpcHRvciArICcgPD0gJ1xuICAgICAgICAgICsgc2hhcGVbJ21heCddICsgJywgYnV0IGZvdW5kICcgKyB2YWx1ZSArICcgZm9yICcgKyBjb250ZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgdmFsaWRhdGVFbnVtOiBmdW5jdGlvbiB2YWxpZGF0ZVJhbmdlKHNoYXBlLCB2YWx1ZSwgY29udGV4dCkge1xuICAgIGlmICh0aGlzLnZhbGlkYXRpb25bJ2VudW0nXSAmJiBzaGFwZVsnZW51bSddICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIEZhaWwgaWYgdGhlIHN0cmluZyB2YWx1ZSBpcyBub3QgcHJlc2VudCBpbiB0aGUgZW51bSBsaXN0XG4gICAgICBpZiAoc2hhcGVbJ2VudW0nXS5pbmRleE9mKHZhbHVlKSA9PT0gLTEpIHtcbiAgICAgICAgdGhpcy5mYWlsKCdFbnVtRXJyb3InLCAnRm91bmQgc3RyaW5nIHZhbHVlIG9mICcgKyB2YWx1ZSArICcsIGJ1dCAnXG4gICAgICAgICAgKyAnZXhwZWN0ZWQgJyArIHNoYXBlWydlbnVtJ10uam9pbignfCcpICsgJyBmb3IgJyArIGNvbnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB2YWxpZGF0ZVR5cGU6IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZSh2YWx1ZSwgY29udGV4dCwgYWNjZXB0ZWRUeXBlcywgdHlwZSkge1xuICAgIC8vIFdlIHdpbGwgbm90IGxvZyBhbiBlcnJvciBmb3IgbnVsbCBvciB1bmRlZmluZWQsIGJ1dCB3ZSB3aWxsIHJldHVyblxuICAgIC8vIGZhbHNlIHNvIHRoYXQgY2FsbGVycyBrbm93IHRoYXQgdGhlIGV4cGVjdGVkIHR5cGUgd2FzIG5vdCBzdHJpY3RseSBtZXQuXG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcblxuICAgIHZhciBmb3VuZEludmFsaWRUeXBlID0gZmFsc2U7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhY2NlcHRlZFR5cGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGFjY2VwdGVkVHlwZXNbaV0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IGFjY2VwdGVkVHlwZXNbaV0pIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIGlmIChhY2NlcHRlZFR5cGVzW2ldIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIGlmICgodmFsdWUgfHwgJycpLnRvU3RyaW5nKCkubWF0Y2goYWNjZXB0ZWRUeXBlc1tpXSkpIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgYWNjZXB0ZWRUeXBlc1tpXSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGlmIChBV1MudXRpbC5pc1R5cGUodmFsdWUsIGFjY2VwdGVkVHlwZXNbaV0pKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgaWYgKCF0eXBlICYmICFmb3VuZEludmFsaWRUeXBlKSBhY2NlcHRlZFR5cGVzID0gYWNjZXB0ZWRUeXBlcy5zbGljZSgpO1xuICAgICAgICBhY2NlcHRlZFR5cGVzW2ldID0gQVdTLnV0aWwudHlwZU5hbWUoYWNjZXB0ZWRUeXBlc1tpXSk7XG4gICAgICB9XG4gICAgICBmb3VuZEludmFsaWRUeXBlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgYWNjZXB0ZWRUeXBlID0gdHlwZTtcbiAgICBpZiAoIWFjY2VwdGVkVHlwZSkge1xuICAgICAgYWNjZXB0ZWRUeXBlID0gYWNjZXB0ZWRUeXBlcy5qb2luKCcsICcpLnJlcGxhY2UoLywoW14sXSspJC8sICcsIG9yJDEnKTtcbiAgICB9XG5cbiAgICB2YXIgdm93ZWwgPSBhY2NlcHRlZFR5cGUubWF0Y2goL15bYWVpb3VdL2kpID8gJ24nIDogJyc7XG4gICAgdGhpcy5mYWlsKCdJbnZhbGlkUGFyYW1ldGVyVHlwZScsICdFeHBlY3RlZCAnICsgY29udGV4dCArICcgdG8gYmUgYScgK1xuICAgICAgICAgICAgICB2b3dlbCArICcgJyArIGFjY2VwdGVkVHlwZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIHZhbGlkYXRlTnVtYmVyOiBmdW5jdGlvbiB2YWxpZGF0ZU51bWJlcihzaGFwZSwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgY2FzdGVkVmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgIGlmIChjYXN0ZWRWYWx1ZS50b1N0cmluZygpID09PSB2YWx1ZSkgdmFsdWUgPSBjYXN0ZWRWYWx1ZTtcbiAgICB9XG4gICAgaWYgKHRoaXMudmFsaWRhdGVUeXBlKHZhbHVlLCBjb250ZXh0LCBbJ251bWJlciddKSkge1xuICAgICAgdGhpcy52YWxpZGF0ZVJhbmdlKHNoYXBlLCB2YWx1ZSwgY29udGV4dCwgJ251bWVyaWMgdmFsdWUnKTtcbiAgICB9XG4gIH0sXG5cbiAgdmFsaWRhdGVQYXlsb2FkOiBmdW5jdGlvbiB2YWxpZGF0ZVBheWxvYWQodmFsdWUsIGNvbnRleHQpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm47XG4gICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5ieXRlTGVuZ3RoID09PSAnbnVtYmVyJykgcmV0dXJuOyAvLyB0eXBlZCBhcnJheXNcbiAgICBpZiAoQVdTLnV0aWwuaXNOb2RlKCkpIHsgLy8gc3BlY2lhbCBjaGVjayBmb3IgYnVmZmVyL3N0cmVhbSBpbiBOb2RlLmpzXG4gICAgICB2YXIgU3RyZWFtID0gQVdTLnV0aWwuc3RyZWFtLlN0cmVhbTtcbiAgICAgIGlmIChBV1MudXRpbC5CdWZmZXIuaXNCdWZmZXIodmFsdWUpIHx8IHZhbHVlIGluc3RhbmNlb2YgU3RyZWFtKSByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh0eXBlb2YgQmxvYiAhPT0gdm9pZCAwICYmIHZhbHVlIGluc3RhbmNlb2YgQmxvYikgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0eXBlcyA9IFsnQnVmZmVyJywgJ1N0cmVhbScsICdGaWxlJywgJ0Jsb2InLCAnQXJyYXlCdWZmZXInLCAnRGF0YVZpZXcnXTtcbiAgICBpZiAodmFsdWUpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHlwZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKEFXUy51dGlsLmlzVHlwZSh2YWx1ZSwgdHlwZXNbaV0pKSByZXR1cm47XG4gICAgICAgIGlmIChBV1MudXRpbC50eXBlTmFtZSh2YWx1ZS5jb25zdHJ1Y3RvcikgPT09IHR5cGVzW2ldKSByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5mYWlsKCdJbnZhbGlkUGFyYW1ldGVyVHlwZScsICdFeHBlY3RlZCAnICsgY29udGV4dCArICcgdG8gYmUgYSAnICtcbiAgICAgICdzdHJpbmcsIEJ1ZmZlciwgU3RyZWFtLCBCbG9iLCBvciB0eXBlZCBhcnJheSBvYmplY3QnKTtcbiAgfVxufSk7XG4iLCAiLyoqXG4gKiBUaGUgbWFpbiBBV1MgbmFtZXNwYWNlXG4gKi9cbnZhciBBV1MgPSB7IHV0aWw6IHJlcXVpcmUoJy4vdXRpbCcpIH07XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKiBAIW1hY3JvIFtuZXddIG5vYnJvd3NlclxuICogICBAbm90ZSBUaGlzIGZlYXR1cmUgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGUgYnJvd3NlciBlbnZpcm9ubWVudCBvZiB0aGUgU0RLLlxuICovXG52YXIgX2hpZGRlbiA9IHt9OyBfaGlkZGVuLnRvU3RyaW5nKCk7IC8vIGhhY2sgdG8gcGFyc2UgbWFjcm9cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBBV1M7XG5cbkFXUy51dGlsLnVwZGF0ZShBV1MsIHtcblxuICAvKipcbiAgICogQGNvbnN0YW50XG4gICAqL1xuICBWRVJTSU9OOiAnMi4xMjA4LjAnLFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIFNpZ25lcnM6IHt9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIFByb3RvY29sOiB7XG4gICAgSnNvbjogcmVxdWlyZSgnLi9wcm90b2NvbC9qc29uJyksXG4gICAgUXVlcnk6IHJlcXVpcmUoJy4vcHJvdG9jb2wvcXVlcnknKSxcbiAgICBSZXN0OiByZXF1aXJlKCcuL3Byb3RvY29sL3Jlc3QnKSxcbiAgICBSZXN0SnNvbjogcmVxdWlyZSgnLi9wcm90b2NvbC9yZXN0X2pzb24nKSxcbiAgICBSZXN0WG1sOiByZXF1aXJlKCcuL3Byb3RvY29sL3Jlc3RfeG1sJylcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBYTUw6IHtcbiAgICBCdWlsZGVyOiByZXF1aXJlKCcuL3htbC9idWlsZGVyJyksXG4gICAgUGFyc2VyOiBudWxsIC8vIGNvbmRpdGlvbmFsbHkgc2V0IGJhc2VkIG9uIGVudmlyb25tZW50XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgSlNPTjoge1xuICAgIEJ1aWxkZXI6IHJlcXVpcmUoJy4vanNvbi9idWlsZGVyJyksXG4gICAgUGFyc2VyOiByZXF1aXJlKCcuL2pzb24vcGFyc2VyJylcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBNb2RlbDoge1xuICAgIEFwaTogcmVxdWlyZSgnLi9tb2RlbC9hcGknKSxcbiAgICBPcGVyYXRpb246IHJlcXVpcmUoJy4vbW9kZWwvb3BlcmF0aW9uJyksXG4gICAgU2hhcGU6IHJlcXVpcmUoJy4vbW9kZWwvc2hhcGUnKSxcbiAgICBQYWdpbmF0b3I6IHJlcXVpcmUoJy4vbW9kZWwvcGFnaW5hdG9yJyksXG4gICAgUmVzb3VyY2VXYWl0ZXI6IHJlcXVpcmUoJy4vbW9kZWwvcmVzb3VyY2Vfd2FpdGVyJylcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBhcGlMb2FkZXI6IHJlcXVpcmUoJy4vYXBpX2xvYWRlcicpLFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIEVuZHBvaW50Q2FjaGU6IHJlcXVpcmUoJy4uL3ZlbmRvci9lbmRwb2ludC1jYWNoZScpLkVuZHBvaW50Q2FjaGVcbn0pO1xucmVxdWlyZSgnLi9zZXF1ZW50aWFsX2V4ZWN1dG9yJyk7XG5yZXF1aXJlKCcuL3NlcnZpY2UnKTtcbnJlcXVpcmUoJy4vY29uZmlnJyk7XG5yZXF1aXJlKCcuL2h0dHAnKTtcbnJlcXVpcmUoJy4vZXZlbnRfbGlzdGVuZXJzJyk7XG5yZXF1aXJlKCcuL3JlcXVlc3QnKTtcbnJlcXVpcmUoJy4vcmVzcG9uc2UnKTtcbnJlcXVpcmUoJy4vcmVzb3VyY2Vfd2FpdGVyJyk7XG5yZXF1aXJlKCcuL3NpZ25lcnMvcmVxdWVzdF9zaWduZXInKTtcbnJlcXVpcmUoJy4vcGFyYW1fdmFsaWRhdG9yJyk7XG5cbi8qKlxuICogQHJlYWRvbmx5XG4gKiBAcmV0dXJuIFtBV1MuU2VxdWVudGlhbEV4ZWN1dG9yXSBhIGNvbGxlY3Rpb24gb2YgZ2xvYmFsIGV2ZW50IGxpc3RlbmVycyB0aGF0XG4gKiAgIGFyZSBhdHRhY2hlZCB0byBldmVyeSBzZW50IHJlcXVlc3QuXG4gKiBAc2VlIEFXUy5SZXF1ZXN0IEFXUy5SZXF1ZXN0IGZvciBhIGxpc3Qgb2YgZXZlbnRzIHRvIGxpc3RlbiBmb3JcbiAqIEBleGFtcGxlIExvZ2dpbmcgdGhlIHRpbWUgdGFrZW4gdG8gc2VuZCBhIHJlcXVlc3RcbiAqICAgQVdTLmV2ZW50cy5vbignc2VuZCcsIGZ1bmN0aW9uIHN0YXJ0U2VuZChyZXNwKSB7XG4gKiAgICAgcmVzcC5zdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAqICAgfSkub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gY2FsY3VsYXRlVGltZShyZXNwKSB7XG4gKiAgICAgdmFyIHRpbWUgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSByZXNwLnN0YXJ0VGltZSkgLyAxMDAwO1xuICogICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IHRvb2sgJyArIHRpbWUgKyAnIHNlY29uZHMnKTtcbiAqICAgfSk7XG4gKlxuICogICBuZXcgQVdTLlMzKCkubGlzdEJ1Y2tldHMoKTsgLy8gcHJpbnRzICdSZXF1ZXN0IHRvb2sgMC4yODUgc2Vjb25kcydcbiAqL1xuQVdTLmV2ZW50cyA9IG5ldyBBV1MuU2VxdWVudGlhbEV4ZWN1dG9yKCk7XG5cbi8vY3JlYXRlIGVuZHBvaW50IGNhY2hlIGxhemlseVxuQVdTLnV0aWwubWVtb2l6ZWRQcm9wZXJ0eShBV1MsICdlbmRwb2ludENhY2hlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgQVdTLkVuZHBvaW50Q2FjaGUoQVdTLmNvbmZpZy5lbmRwb2ludENhY2hlU2l6ZSk7XG59LCB0cnVlKTtcbiIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHJuZztcblxudmFyIF9jcnlwdG8gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG9cIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBybmcoKSB7XG4gIHJldHVybiBfY3J5cHRvLmRlZmF1bHQucmFuZG9tQnl0ZXMoMTYpO1xufSIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbn1cblxuZnVuY3Rpb24gYnl0ZXNUb1V1aWQoYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgdmFyIGJ0aCA9IGJ5dGVUb0hleDsgLy8gam9pbiB1c2VkIHRvIGZpeCBtZW1vcnkgaXNzdWUgY2F1c2VkIGJ5IGNvbmNhdGVuYXRpb246IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC92OC9pc3N1ZXMvZGV0YWlsP2lkPTMxNzUjYzRcblxuICByZXR1cm4gW2J0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgJy0nLCBidGhbYnVmW2krK11dLCBidGhbYnVmW2krK11dLCAnLScsIGJ0aFtidWZbaSsrXV0sIGJ0aFtidWZbaSsrXV0sICctJywgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXSwgYnRoW2J1ZltpKytdXV0uam9pbignJyk7XG59XG5cbnZhciBfZGVmYXVsdCA9IGJ5dGVzVG9VdWlkO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3JuZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vcm5nLmpzXCIpKTtcblxudmFyIF9ieXRlc1RvVXVpZCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vYnl0ZXNUb1V1aWQuanNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG52YXIgX25vZGVJZDtcblxudmFyIF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgW107XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IF9ybmcuZGVmYXVsdCkoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBuZXcgRGF0ZSgpLmdldFRpbWUoKTsgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTsgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuXG4gIHZhciBkdCA9IG1zZWNzIC0gX2xhc3RNU2VjcyArIChuc2VjcyAtIF9sYXN0TlNlY3MpIC8gMTAwMDA7IC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9IC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcblxuXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9IC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblxuXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxOyAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDsgLy8gYHRpbWVfbG93YFxuXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICB2YXIgdG1oID0gbXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmOyAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjsgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG5cbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwOyAvLyBgY2xvY2tfc2VxX2xvd2BcblxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7IC8vIGBub2RlYFxuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiA/IGJ1ZiA6ICgwLCBfYnl0ZXNUb1V1aWQuZGVmYXVsdCkoYik7XG59XG5cbnZhciBfZGVmYXVsdCA9IHYxO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5leHBvcnRzLlVSTCA9IGV4cG9ydHMuRE5TID0gdm9pZCAwO1xuXG52YXIgX2J5dGVzVG9VdWlkID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ieXRlc1RvVXVpZC5qc1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHV1aWRUb0J5dGVzKHV1aWQpIHtcbiAgLy8gTm90ZTogV2UgYXNzdW1lIHdlJ3JlIGJlaW5nIHBhc3NlZCBhIHZhbGlkIHV1aWQgc3RyaW5nXG4gIHZhciBieXRlcyA9IFtdO1xuICB1dWlkLnJlcGxhY2UoL1thLWZBLUYwLTldezJ9L2csIGZ1bmN0aW9uIChoZXgpIHtcbiAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleCwgMTYpKTtcbiAgfSk7XG4gIHJldHVybiBieXRlcztcbn1cblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIHZhciBieXRlcyA9IG5ldyBBcnJheShzdHIubGVuZ3RoKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xuICAgIGJ5dGVzW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmNvbnN0IEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0cy5ETlMgPSBETlM7XG5jb25zdCBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydHMuVVJMID0gVVJMO1xuXG5mdW5jdGlvbiBfZGVmYXVsdChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICB2YXIgZ2VuZXJhdGVVVUlEID0gZnVuY3Rpb24gKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgdmFyIG9mZiA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09ICdzdHJpbmcnKSBuYW1lc3BhY2UgPSB1dWlkVG9CeXRlcyhuYW1lc3BhY2UpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHRocm93IFR5cGVFcnJvcigndmFsdWUgbXVzdCBiZSBhbiBhcnJheSBvZiBieXRlcycpO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShuYW1lc3BhY2UpIHx8IG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB0aHJvdyBUeXBlRXJyb3IoJ25hbWVzcGFjZSBtdXN0IGJlIHV1aWQgc3RyaW5nIG9yIGFuIEFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzJyk7IC8vIFBlciA0LjNcblxuICAgIHZhciBieXRlcyA9IGhhc2hmdW5jKG5hbWVzcGFjZS5jb25jYXQodmFsdWUpKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgZm9yICh2YXIgaWR4ID0gMDsgaWR4IDwgMTY7ICsraWR4KSB7XG4gICAgICAgIGJ1ZltvZmYgKyBpZHhdID0gYnl0ZXNbaWR4XTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gYnVmIHx8ICgwLCBfYnl0ZXNUb1V1aWQuZGVmYXVsdCkoYnl0ZXMpO1xuICB9OyAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcblxuXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lO1xuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9jcnlwdG8gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJjcnlwdG9cIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4Jyk7XG4gIH1cblxuICByZXR1cm4gX2NyeXB0by5kZWZhdWx0LmNyZWF0ZUhhc2goJ21kNScpLnVwZGF0ZShieXRlcykuZGlnZXN0KCk7XG59XG5cbnZhciBfZGVmYXVsdCA9IG1kNTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF92ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi92MzUuanNcIikpO1xuXG52YXIgX21kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9tZDUuanNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5jb25zdCB2MyA9ICgwLCBfdi5kZWZhdWx0KSgndjMnLCAweDMwLCBfbWQuZGVmYXVsdCk7XG52YXIgX2RlZmF1bHQgPSB2MztcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyIsICJcInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9ybmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3JuZy5qc1wiKSk7XG5cbnZhciBfYnl0ZXNUb1V1aWQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL2J5dGVzVG9VdWlkLmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zID09ICdzdHJpbmcnKSB7XG4gICAgYnVmID0gb3B0aW9ucyA9PT0gJ2JpbmFyeScgPyBuZXcgQXJyYXkoMTYpIDogbnVsbDtcbiAgICBvcHRpb25zID0gbnVsbDtcbiAgfVxuXG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IF9ybmcuZGVmYXVsdCkoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG5cbiAgcm5kc1s2XSA9IHJuZHNbNl0gJiAweDBmIHwgMHg0MDtcbiAgcm5kc1s4XSA9IHJuZHNbOF0gJiAweDNmIHwgMHg4MDsgLy8gQ29weSBieXRlcyB0byBidWZmZXIsIGlmIHByb3ZpZGVkXG5cbiAgaWYgKGJ1Zikge1xuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCAxNjsgKytpaSkge1xuICAgICAgYnVmW2kgKyBpaV0gPSBybmRzW2lpXTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmIHx8ICgwLCBfYnl0ZXNUb1V1aWQuZGVmYXVsdCkocm5kcyk7XG59XG5cbnZhciBfZGVmYXVsdCA9IHY0O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX2NyeXB0byA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImNyeXB0b1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgYnl0ZXMgPSBCdWZmZXIuZnJvbShieXRlcyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIGJ5dGVzID0gQnVmZmVyLmZyb20oYnl0ZXMsICd1dGY4Jyk7XG4gIH1cblxuICByZXR1cm4gX2NyeXB0by5kZWZhdWx0LmNyZWF0ZUhhc2goJ3NoYTEnKS51cGRhdGUoYnl0ZXMpLmRpZ2VzdCgpO1xufVxuXG52YXIgX2RlZmF1bHQgPSBzaGExO1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX3YgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3YzNS5qc1wiKSk7XG5cbnZhciBfc2hhID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9zaGExLmpzXCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuY29uc3QgdjUgPSAoMCwgX3YuZGVmYXVsdCkoJ3Y1JywgMHg1MCwgX3NoYS5kZWZhdWx0KTtcbnZhciBfZGVmYXVsdCA9IHY1O1xuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7IiwgIlwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidjFcIiwge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gX3YuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2M1wiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdjIuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2NFwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdjMuZGVmYXVsdDtcbiAgfVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJ2NVwiLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBfdjQuZGVmYXVsdDtcbiAgfVxufSk7XG5cbnZhciBfdiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdjEuanNcIikpO1xuXG52YXIgX3YyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi92My5qc1wiKSk7XG5cbnZhciBfdjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL3Y0LmpzXCIpKTtcblxudmFyIF92NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vdjUuanNcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfSIsICIvKiBlc2xpbnQgZ3VhcmQtZm9yLWluOjAgKi9cbnZhciBBV1M7XG5cbi8qKlxuICogQSBzZXQgb2YgdXRpbGl0eSBtZXRob2RzIGZvciB1c2Ugd2l0aCB0aGUgQVdTIFNESy5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBhYm9ydFxuICogICBSZXR1cm4gdGhpcyB2YWx1ZSBmcm9tIGFuIGl0ZXJhdG9yIGZ1bmN0aW9uIHtlYWNofSBvciB7YXJyYXlFYWNofVxuICogICB0byBicmVhayBvdXQgb2YgdGhlIGl0ZXJhdGlvbi5cbiAqICAgQGV4YW1wbGUgQnJlYWtpbmcgb3V0IG9mIGFuIGl0ZXJhdG9yIGZ1bmN0aW9uXG4gKiAgICAgQVdTLnV0aWwuZWFjaCh7YTogMSwgYjogMiwgYzogM30sIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAqICAgICAgIGlmIChrZXkgPT0gJ2InKSByZXR1cm4gQVdTLnV0aWwuYWJvcnQ7XG4gKiAgICAgfSk7XG4gKiAgIEBzZWUgZWFjaFxuICogICBAc2VlIGFycmF5RWFjaFxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciB1dGlsID0ge1xuICBlbnZpcm9ubWVudDogJ25vZGVqcycsXG4gIGVuZ2luZTogZnVuY3Rpb24gZW5naW5lKCkge1xuICAgIGlmICh1dGlsLmlzQnJvd3NlcigpICYmIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGVuZ2luZSA9IHByb2Nlc3MucGxhdGZvcm0gKyAnLycgKyBwcm9jZXNzLnZlcnNpb247XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuQVdTX0VYRUNVVElPTl9FTlYpIHtcbiAgICAgICAgZW5naW5lICs9ICcgZXhlYy1lbnYvJyArIHByb2Nlc3MuZW52LkFXU19FWEVDVVRJT05fRU5WO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVuZ2luZTtcbiAgICB9XG4gIH0sXG5cbiAgdXNlckFnZW50OiBmdW5jdGlvbiB1c2VyQWdlbnQoKSB7XG4gICAgdmFyIG5hbWUgPSB1dGlsLmVudmlyb25tZW50O1xuICAgIHZhciBhZ2VudCA9ICdhd3Mtc2RrLScgKyBuYW1lICsgJy8nICsgcmVxdWlyZSgnLi9jb3JlJykuVkVSU0lPTjtcbiAgICBpZiAobmFtZSA9PT0gJ25vZGVqcycpIGFnZW50ICs9ICcgJyArIHV0aWwuZW5naW5lKCk7XG4gICAgcmV0dXJuIGFnZW50O1xuICB9LFxuXG4gIHVyaUVzY2FwZTogZnVuY3Rpb24gdXJpRXNjYXBlKHN0cmluZykge1xuICAgIHZhciBvdXRwdXQgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKTtcbiAgICBvdXRwdXQgPSBvdXRwdXQucmVwbGFjZSgvW15BLVphLXowLTlfLn5cXC0lXSsvZywgZXNjYXBlKTtcblxuICAgIC8vIEFXUyBwZXJjZW50LWVuY29kZXMgc29tZSBleHRyYSBub24tc3RhbmRhcmQgY2hhcmFjdGVycyBpbiBhIFVSSVxuICAgIG91dHB1dCA9IG91dHB1dC5yZXBsYWNlKC9bKl0vZywgZnVuY3Rpb24oY2gpIHtcbiAgICAgIHJldHVybiAnJScgKyBjaC5jaGFyQ29kZUF0KDApLnRvU3RyaW5nKDE2KS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfSxcblxuICB1cmlFc2NhcGVQYXRoOiBmdW5jdGlvbiB1cmlFc2NhcGVQYXRoKHN0cmluZykge1xuICAgIHZhciBwYXJ0cyA9IFtdO1xuICAgIHV0aWwuYXJyYXlFYWNoKHN0cmluZy5zcGxpdCgnLycpLCBmdW5jdGlvbiAocGFydCkge1xuICAgICAgcGFydHMucHVzaCh1dGlsLnVyaUVzY2FwZShwYXJ0KSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHBhcnRzLmpvaW4oJy8nKTtcbiAgfSxcblxuICB1cmxQYXJzZTogZnVuY3Rpb24gdXJsUGFyc2UodXJsKSB7XG4gICAgcmV0dXJuIHV0aWwudXJsLnBhcnNlKHVybCk7XG4gIH0sXG5cbiAgdXJsRm9ybWF0OiBmdW5jdGlvbiB1cmxGb3JtYXQodXJsKSB7XG4gICAgcmV0dXJuIHV0aWwudXJsLmZvcm1hdCh1cmwpO1xuICB9LFxuXG4gIHF1ZXJ5U3RyaW5nUGFyc2U6IGZ1bmN0aW9uIHF1ZXJ5U3RyaW5nUGFyc2UocXMpIHtcbiAgICByZXR1cm4gdXRpbC5xdWVyeXN0cmluZy5wYXJzZShxcyk7XG4gIH0sXG5cbiAgcXVlcnlQYXJhbXNUb1N0cmluZzogZnVuY3Rpb24gcXVlcnlQYXJhbXNUb1N0cmluZyhwYXJhbXMpIHtcbiAgICB2YXIgaXRlbXMgPSBbXTtcbiAgICB2YXIgZXNjYXBlID0gdXRpbC51cmlFc2NhcGU7XG4gICAgdmFyIHNvcnRlZEtleXMgPSBPYmplY3Qua2V5cyhwYXJhbXMpLnNvcnQoKTtcblxuICAgIHV0aWwuYXJyYXlFYWNoKHNvcnRlZEtleXMsIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcmFtc1tuYW1lXTtcbiAgICAgIHZhciBlbmFtZSA9IGVzY2FwZShuYW1lKTtcbiAgICAgIHZhciByZXN1bHQgPSBlbmFtZSArICc9JztcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YXIgdmFscyA9IFtdO1xuICAgICAgICB1dGlsLmFycmF5RWFjaCh2YWx1ZSwgZnVuY3Rpb24oaXRlbSkgeyB2YWxzLnB1c2goZXNjYXBlKGl0ZW0pKTsgfSk7XG4gICAgICAgIHJlc3VsdCA9IGVuYW1lICsgJz0nICsgdmFscy5zb3J0KCkuam9pbignJicgKyBlbmFtZSArICc9Jyk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgcmVzdWx0ID0gZW5hbWUgKyAnPScgKyBlc2NhcGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgaXRlbXMucHVzaChyZXN1bHQpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGl0ZW1zLmpvaW4oJyYnKTtcbiAgfSxcblxuICByZWFkRmlsZVN5bmM6IGZ1bmN0aW9uIHJlYWRGaWxlU3luYyhwYXRoKSB7XG4gICAgaWYgKHV0aWwuaXNCcm93c2VyKCkpIHJldHVybiBudWxsO1xuICAgIHJldHVybiByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhwYXRoLCAndXRmLTgnKTtcbiAgfSxcblxuICBiYXNlNjQ6IHtcbiAgICBlbmNvZGU6IGZ1bmN0aW9uIGVuY29kZTY0KHN0cmluZykge1xuICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHRocm93IHV0aWwuZXJyb3IobmV3IEVycm9yKCdDYW5ub3QgYmFzZTY0IGVuY29kZSBudW1iZXIgJyArIHN0cmluZykpO1xuICAgICAgfVxuICAgICAgaWYgKHN0cmluZyA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyaW5nID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGJ1ZiA9IHV0aWwuYnVmZmVyLnRvQnVmZmVyKHN0cmluZyk7XG4gICAgICByZXR1cm4gYnVmLnRvU3RyaW5nKCdiYXNlNjQnKTtcbiAgICB9LFxuXG4gICAgZGVjb2RlOiBmdW5jdGlvbiBkZWNvZGU2NChzdHJpbmcpIHtcbiAgICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyB1dGlsLmVycm9yKG5ldyBFcnJvcignQ2Fubm90IGJhc2U2NCBkZWNvZGUgbnVtYmVyICcgKyBzdHJpbmcpKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJpbmcgPT09IG51bGwgfHwgdHlwZW9mIHN0cmluZyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHJldHVybiB1dGlsLmJ1ZmZlci50b0J1ZmZlcihzdHJpbmcsICdiYXNlNjQnKTtcbiAgICB9XG5cbiAgfSxcblxuICBidWZmZXI6IHtcbiAgICAvKipcbiAgICAgKiBCdWZmZXIgY29uc3RydWN0b3IgZm9yIE5vZGUgYnVmZmVyIGFuZCBidWZmZXIgcG9sbHlmaWxsXG4gICAgICovXG4gICAgdG9CdWZmZXI6IGZ1bmN0aW9uKGRhdGEsIGVuY29kaW5nKSB7XG4gICAgICByZXR1cm4gKHR5cGVvZiB1dGlsLkJ1ZmZlci5mcm9tID09PSAnZnVuY3Rpb24nICYmIHV0aWwuQnVmZmVyLmZyb20gIT09IFVpbnQ4QXJyYXkuZnJvbSkgP1xuICAgICAgICB1dGlsLkJ1ZmZlci5mcm9tKGRhdGEsIGVuY29kaW5nKSA6IG5ldyB1dGlsLkJ1ZmZlcihkYXRhLCBlbmNvZGluZyk7XG4gICAgfSxcblxuICAgIGFsbG9jOiBmdW5jdGlvbihzaXplLCBmaWxsLCBlbmNvZGluZykge1xuICAgICAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3NpemUgcGFzc2VkIHRvIGFsbG9jIG11c3QgYmUgYSBudW1iZXIuJyk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHV0aWwuQnVmZmVyLmFsbG9jID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiB1dGlsLkJ1ZmZlci5hbGxvYyhzaXplLCBmaWxsLCBlbmNvZGluZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYnVmID0gbmV3IHV0aWwuQnVmZmVyKHNpemUpO1xuICAgICAgICBpZiAoZmlsbCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBidWYuZmlsbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGJ1Zi5maWxsKGZpbGwsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBlbmNvZGluZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJ1ZjtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdG9TdHJlYW06IGZ1bmN0aW9uIHRvU3RyZWFtKGJ1ZmZlcikge1xuICAgICAgaWYgKCF1dGlsLkJ1ZmZlci5pc0J1ZmZlcihidWZmZXIpKSBidWZmZXIgPSAgdXRpbC5idWZmZXIudG9CdWZmZXIoYnVmZmVyKTtcblxuICAgICAgdmFyIHJlYWRhYmxlID0gbmV3ICh1dGlsLnN0cmVhbS5SZWFkYWJsZSkoKTtcbiAgICAgIHZhciBwb3MgPSAwO1xuICAgICAgcmVhZGFibGUuX3JlYWQgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgICAgIGlmIChwb3MgPj0gYnVmZmVyLmxlbmd0aCkgcmV0dXJuIHJlYWRhYmxlLnB1c2gobnVsbCk7XG5cbiAgICAgICAgdmFyIGVuZCA9IHBvcyArIHNpemU7XG4gICAgICAgIGlmIChlbmQgPiBidWZmZXIubGVuZ3RoKSBlbmQgPSBidWZmZXIubGVuZ3RoO1xuICAgICAgICByZWFkYWJsZS5wdXNoKGJ1ZmZlci5zbGljZShwb3MsIGVuZCkpO1xuICAgICAgICBwb3MgPSBlbmQ7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gcmVhZGFibGU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENvbmNhdGVuYXRlcyBhIGxpc3Qgb2YgQnVmZmVyIG9iamVjdHMuXG4gICAgICovXG4gICAgY29uY2F0OiBmdW5jdGlvbihidWZmZXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gMCxcbiAgICAgICAgICBvZmZzZXQgPSAwLFxuICAgICAgICAgIGJ1ZmZlciA9IG51bGwsIGk7XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCBidWZmZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGxlbmd0aCArPSBidWZmZXJzW2ldLmxlbmd0aDtcbiAgICAgIH1cblxuICAgICAgYnVmZmVyID0gdXRpbC5idWZmZXIuYWxsb2MobGVuZ3RoKTtcblxuICAgICAgZm9yIChpID0gMDsgaSA8IGJ1ZmZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnVmZmVyc1tpXS5jb3B5KGJ1ZmZlciwgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGJ1ZmZlcnNbaV0ubGVuZ3RoO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmZmVyO1xuICAgIH1cbiAgfSxcblxuICBzdHJpbmc6IHtcbiAgICBieXRlTGVuZ3RoOiBmdW5jdGlvbiBieXRlTGVuZ3RoKHN0cmluZykge1xuICAgICAgaWYgKHN0cmluZyA9PT0gbnVsbCB8fCBzdHJpbmcgPT09IHVuZGVmaW5lZCkgcmV0dXJuIDA7XG4gICAgICBpZiAodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycpIHN0cmluZyA9IHV0aWwuYnVmZmVyLnRvQnVmZmVyKHN0cmluZyk7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3RyaW5nLmJ5dGVMZW5ndGggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuYnl0ZUxlbmd0aDtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0cmluZy5sZW5ndGggPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcubGVuZ3RoO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygc3RyaW5nLnNpemUgPT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcuc2l6ZTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHN0cmluZy5wYXRoID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcmVxdWlyZSgnZnMnKS5sc3RhdFN5bmMoc3RyaW5nLnBhdGgpLnNpemU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyB1dGlsLmVycm9yKG5ldyBFcnJvcignQ2Fubm90IGRldGVybWluZSBsZW5ndGggb2YgJyArIHN0cmluZyksXG4gICAgICAgICAgeyBvYmplY3Q6IHN0cmluZyB9KTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdXBwZXJGaXJzdDogZnVuY3Rpb24gdXBwZXJGaXJzdChzdHJpbmcpIHtcbiAgICAgIHJldHVybiBzdHJpbmdbMF0udG9VcHBlckNhc2UoKSArIHN0cmluZy5zdWJzdHIoMSk7XG4gICAgfSxcblxuICAgIGxvd2VyRmlyc3Q6IGZ1bmN0aW9uIGxvd2VyRmlyc3Qoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nWzBdLnRvTG93ZXJDYXNlKCkgKyBzdHJpbmcuc3Vic3RyKDEpO1xuICAgIH1cbiAgfSxcblxuICBpbmk6IHtcbiAgICBwYXJzZTogZnVuY3Rpb24gc3RyaW5nKGluaSkge1xuICAgICAgdmFyIGN1cnJlbnRTZWN0aW9uLCBtYXAgPSB7fTtcbiAgICAgIHV0aWwuYXJyYXlFYWNoKGluaS5zcGxpdCgvXFxyP1xcbi8pLCBmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgIGxpbmUgPSBsaW5lLnNwbGl0KC8oXnxcXHMpWzsjXS8pWzBdLnRyaW0oKTsgLy8gcmVtb3ZlIGNvbW1lbnRzIGFuZCB0cmltXG4gICAgICAgIHZhciBpc1NlY3Rpb24gPSBsaW5lWzBdID09PSAnWycgJiYgbGluZVtsaW5lLmxlbmd0aCAtIDFdID09PSAnXSc7XG4gICAgICAgIGlmIChpc1NlY3Rpb24pIHtcbiAgICAgICAgICBjdXJyZW50U2VjdGlvbiA9IGxpbmUuc3Vic3RyaW5nKDEsIGxpbmUubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTZWN0aW9uID09PSAnX19wcm90b19fJyB8fCBjdXJyZW50U2VjdGlvbi5zcGxpdCgvXFxzLylbMV0gPT09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgICAgICB0aHJvdyB1dGlsLmVycm9yKFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoJ0Nhbm5vdCBsb2FkIHByb2ZpbGUgbmFtZSBcXCcnICsgY3VycmVudFNlY3Rpb24gKyAnXFwnIGZyb20gc2hhcmVkIGluaSBmaWxlLicpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50U2VjdGlvbikge1xuICAgICAgICAgIHZhciBpbmRleE9mRXF1YWxzU2lnbiA9IGxpbmUuaW5kZXhPZignPScpO1xuICAgICAgICAgIHZhciBzdGFydCA9IDA7XG4gICAgICAgICAgdmFyIGVuZCA9IGxpbmUubGVuZ3RoIC0gMTtcbiAgICAgICAgICB2YXIgaXNBc3NpZ25tZW50ID1cbiAgICAgICAgICAgIGluZGV4T2ZFcXVhbHNTaWduICE9PSAtMSAmJiBpbmRleE9mRXF1YWxzU2lnbiAhPT0gc3RhcnQgJiYgaW5kZXhPZkVxdWFsc1NpZ24gIT09IGVuZDtcblxuICAgICAgICAgIGlmIChpc0Fzc2lnbm1lbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbGluZS5zdWJzdHJpbmcoMCwgaW5kZXhPZkVxdWFsc1NpZ24pLnRyaW0oKTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGxpbmUuc3Vic3RyaW5nKGluZGV4T2ZFcXVhbHNTaWduICsgMSkudHJpbSgpO1xuXG4gICAgICAgICAgICBtYXBbY3VycmVudFNlY3Rpb25dID0gbWFwW2N1cnJlbnRTZWN0aW9uXSB8fCB7fTtcbiAgICAgICAgICAgIG1hcFtjdXJyZW50U2VjdGlvbl1bbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gbWFwO1xuICAgIH1cbiAgfSxcblxuICBmbjoge1xuICAgIG5vb3A6IGZ1bmN0aW9uKCkge30sXG4gICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChlcnIpIHsgaWYgKGVycikgdGhyb3cgZXJyOyB9LFxuXG4gICAgLyoqXG4gICAgICogVHVybiBhIHN5bmNocm9ub3VzIGZ1bmN0aW9uIGludG8gYXMgXCJhc3luY1wiIGZ1bmN0aW9uIGJ5IG1ha2luZyBpdCBjYWxsXG4gICAgICogYSBjYWxsYmFjay4gVGhlIHVuZGVybHlpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIHdpdGggYWxsIGJ1dCB0aGUgbGFzdCBhcmd1bWVudCxcbiAgICAgKiB3aGljaCBpcyB0cmVhdGVkIGFzIHRoZSBjYWxsYmFjay4gVGhlIGNhbGxiYWNrIGlzIHBhc3NlZCBwYXNzZWQgYSBmaXJzdCBhcmd1bWVudFxuICAgICAqIG9mIG51bGwgb24gc3VjY2VzcyB0byBtaW1pY2sgc3RhbmRhcmQgbm9kZSBjYWxsYmFja3MuXG4gICAgICovXG4gICAgbWFrZUFzeW5jOiBmdW5jdGlvbiBtYWtlQXN5bmMoZm4sIGV4cGVjdGVkQXJncykge1xuICAgICAgaWYgKGV4cGVjdGVkQXJncyAmJiBleHBlY3RlZEFyZ3MgPD0gZm4ubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmbjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCk7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgIHZhciByZXN1bHQgPSBmbi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgY2FsbGJhY2socmVzdWx0KTtcbiAgICAgIH07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBEYXRlIGFuZCB0aW1lIHV0aWxpdHkgZnVuY3Rpb25zLlxuICAgKi9cbiAgZGF0ZToge1xuXG4gICAgLyoqXG4gICAgICogQHJldHVybiBbRGF0ZV0gdGhlIGN1cnJlbnQgSmF2YVNjcmlwdCBkYXRlIG9iamVjdC4gU2luY2UgYWxsXG4gICAgICogICBBV1Mgc2VydmljZXMgcmVseSBvbiB0aGlzIGRhdGUgb2JqZWN0LCB5b3UgY2FuIG92ZXJyaWRlXG4gICAgICogICB0aGlzIGZ1bmN0aW9uIHRvIHByb3ZpZGUgYSBzcGVjaWFsIHRpbWUgdmFsdWUgdG8gQVdTIHNlcnZpY2VcbiAgICAgKiAgIHJlcXVlc3RzLlxuICAgICAqL1xuICAgIGdldERhdGU6IGZ1bmN0aW9uIGdldERhdGUoKSB7XG4gICAgICBpZiAoIUFXUykgQVdTID0gcmVxdWlyZSgnLi9jb3JlJyk7XG4gICAgICBpZiAoQVdTLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCkgeyAvLyB1c2Ugb2Zmc2V0IHdoZW4gbm9uLXplcm9cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgQVdTLmNvbmZpZy5zeXN0ZW1DbG9ja09mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiBbU3RyaW5nXSB0aGUgZGF0ZSBpbiBJU08tODYwMSBmb3JtYXRcbiAgICAgKi9cbiAgICBpc284NjAxOiBmdW5jdGlvbiBpc284NjAxKGRhdGUpIHtcbiAgICAgIGlmIChkYXRlID09PSB1bmRlZmluZWQpIHsgZGF0ZSA9IHV0aWwuZGF0ZS5nZXREYXRlKCk7IH1cbiAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXFwuXFxkezN9WiQvLCAnWicpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFtTdHJpbmddIHRoZSBkYXRlIGluIFJGQyA4MjIgZm9ybWF0XG4gICAgICovXG4gICAgcmZjODIyOiBmdW5jdGlvbiByZmM4MjIoZGF0ZSkge1xuICAgICAgaWYgKGRhdGUgPT09IHVuZGVmaW5lZCkgeyBkYXRlID0gdXRpbC5kYXRlLmdldERhdGUoKTsgfVxuICAgICAgcmV0dXJuIGRhdGUudG9VVENTdHJpbmcoKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogQHJldHVybiBbSW50ZWdlcl0gdGhlIFVOSVggdGltZXN0YW1wIHZhbHVlIGZvciB0aGUgY3VycmVudCB0aW1lXG4gICAgICovXG4gICAgdW5peFRpbWVzdGFtcDogZnVuY3Rpb24gdW5peFRpbWVzdGFtcChkYXRlKSB7XG4gICAgICBpZiAoZGF0ZSA9PT0gdW5kZWZpbmVkKSB7IGRhdGUgPSB1dGlsLmRhdGUuZ2V0RGF0ZSgpOyB9XG4gICAgICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgLyAxMDAwO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gW1N0cmluZyxudW1iZXIsRGF0ZV0gZGF0ZVxuICAgICAqIEByZXR1cm4gW0RhdGVdXG4gICAgICovXG4gICAgZnJvbTogZnVuY3Rpb24gZm9ybWF0KGRhdGUpIHtcbiAgICAgIGlmICh0eXBlb2YgZGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUgKiAxMDAwKTsgLy8gdW5peCB0aW1lc3RhbXBcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBEYXRlIG9yIGRhdGUtbGlrZSB2YWx1ZSwgdGhpcyBmdW5jdGlvbiBmb3JtYXRzIHRoZVxuICAgICAqIGRhdGUgaW50byBhIHN0cmluZyBvZiB0aGUgcmVxdWVzdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSBbU3RyaW5nLG51bWJlcixEYXRlXSBkYXRlXG4gICAgICogQHBhcmFtIFtTdHJpbmddIGZvcm1hdHRlciBWYWxpZCBmb3JtYXRzIGFyZTpcbiAgICAgIyAgICogJ2lzbzg2MDEnXG4gICAgICMgICAqICdyZmM4MjInXG4gICAgICMgICAqICd1bml4VGltZXN0YW1wJ1xuICAgICAqIEByZXR1cm4gW1N0cmluZ11cbiAgICAgKi9cbiAgICBmb3JtYXQ6IGZ1bmN0aW9uIGZvcm1hdChkYXRlLCBmb3JtYXR0ZXIpIHtcbiAgICAgIGlmICghZm9ybWF0dGVyKSBmb3JtYXR0ZXIgPSAnaXNvODYwMSc7XG4gICAgICByZXR1cm4gdXRpbC5kYXRlW2Zvcm1hdHRlcl0odXRpbC5kYXRlLmZyb20oZGF0ZSkpO1xuICAgIH0sXG5cbiAgICBwYXJzZVRpbWVzdGFtcDogZnVuY3Rpb24gcGFyc2VUaW1lc3RhbXAodmFsdWUpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7IC8vIHVuaXggdGltZXN0YW1wIChudW1iZXIpXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSAqIDEwMDApO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5tYXRjaCgvXlxcZCskLykpIHsgLy8gdW5peCB0aW1lc3RhbXBcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlICogMTAwMCk7XG4gICAgICB9IGVsc2UgaWYgKHZhbHVlLm1hdGNoKC9eXFxkezR9LykpIHsgLy8gaXNvODYwMVxuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfSBlbHNlIGlmICh2YWx1ZS5tYXRjaCgvXlxcd3szfSwvKSkgeyAvLyByZmM4MjJcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHV0aWwuZXJyb3IoXG4gICAgICAgICAgbmV3IEVycm9yKCd1bmhhbmRsZWQgdGltZXN0YW1wIGZvcm1hdDogJyArIHZhbHVlKSxcbiAgICAgICAgICB7Y29kZTogJ1RpbWVzdGFtcFBhcnNlckVycm9yJ30pO1xuICAgICAgfVxuICAgIH1cblxuICB9LFxuXG4gIGNyeXB0bzoge1xuICAgIGNyYzMyVGFibGU6IFtcbiAgICAgMHgwMDAwMDAwMCwgMHg3NzA3MzA5NiwgMHhFRTBFNjEyQywgMHg5OTA5NTFCQSwgMHgwNzZEQzQxOSxcbiAgICAgMHg3MDZBRjQ4RiwgMHhFOTYzQTUzNSwgMHg5RTY0OTVBMywgMHgwRURCODgzMiwgMHg3OURDQjhBNCxcbiAgICAgMHhFMEQ1RTkxRSwgMHg5N0QyRDk4OCwgMHgwOUI2NEMyQiwgMHg3RUIxN0NCRCwgMHhFN0I4MkQwNyxcbiAgICAgMHg5MEJGMUQ5MSwgMHgxREI3MTA2NCwgMHg2QUIwMjBGMiwgMHhGM0I5NzE0OCwgMHg4NEJFNDFERSxcbiAgICAgMHgxQURBRDQ3RCwgMHg2RERERTRFQiwgMHhGNEQ0QjU1MSwgMHg4M0QzODVDNywgMHgxMzZDOTg1NixcbiAgICAgMHg2NDZCQThDMCwgMHhGRDYyRjk3QSwgMHg4QTY1QzlFQywgMHgxNDAxNUM0RiwgMHg2MzA2NkNEOSxcbiAgICAgMHhGQTBGM0Q2MywgMHg4RDA4MERGNSwgMHgzQjZFMjBDOCwgMHg0QzY5MTA1RSwgMHhENTYwNDFFNCxcbiAgICAgMHhBMjY3NzE3MiwgMHgzQzAzRTREMSwgMHg0QjA0RDQ0NywgMHhEMjBEODVGRCwgMHhBNTBBQjU2QixcbiAgICAgMHgzNUI1QThGQSwgMHg0MkIyOTg2QywgMHhEQkJCQzlENiwgMHhBQ0JDRjk0MCwgMHgzMkQ4NkNFMyxcbiAgICAgMHg0NURGNUM3NSwgMHhEQ0Q2MERDRiwgMHhBQkQxM0Q1OSwgMHgyNkQ5MzBBQywgMHg1MURFMDAzQSxcbiAgICAgMHhDOEQ3NTE4MCwgMHhCRkQwNjExNiwgMHgyMUI0RjRCNSwgMHg1NkIzQzQyMywgMHhDRkJBOTU5OSxcbiAgICAgMHhCOEJEQTUwRiwgMHgyODAyQjg5RSwgMHg1RjA1ODgwOCwgMHhDNjBDRDlCMiwgMHhCMTBCRTkyNCxcbiAgICAgMHgyRjZGN0M4NywgMHg1ODY4NEMxMSwgMHhDMTYxMURBQiwgMHhCNjY2MkQzRCwgMHg3NkRDNDE5MCxcbiAgICAgMHgwMURCNzEwNiwgMHg5OEQyMjBCQywgMHhFRkQ1MTAyQSwgMHg3MUIxODU4OSwgMHgwNkI2QjUxRixcbiAgICAgMHg5RkJGRTRBNSwgMHhFOEI4RDQzMywgMHg3ODA3QzlBMiwgMHgwRjAwRjkzNCwgMHg5NjA5QTg4RSxcbiAgICAgMHhFMTBFOTgxOCwgMHg3RjZBMERCQiwgMHgwODZEM0QyRCwgMHg5MTY0NkM5NywgMHhFNjYzNUMwMSxcbiAgICAgMHg2QjZCNTFGNCwgMHgxQzZDNjE2MiwgMHg4NTY1MzBEOCwgMHhGMjYyMDA0RSwgMHg2QzA2OTVFRCxcbiAgICAgMHgxQjAxQTU3QiwgMHg4MjA4RjRDMSwgMHhGNTBGQzQ1NywgMHg2NUIwRDlDNiwgMHgxMkI3RTk1MCxcbiAgICAgMHg4QkJFQjhFQSwgMHhGQ0I5ODg3QywgMHg2MkREMURERiwgMHgxNURBMkQ0OSwgMHg4Q0QzN0NGMyxcbiAgICAgMHhGQkQ0NEM2NSwgMHg0REIyNjE1OCwgMHgzQUI1NTFDRSwgMHhBM0JDMDA3NCwgMHhENEJCMzBFMixcbiAgICAgMHg0QURGQTU0MSwgMHgzREQ4OTVENywgMHhBNEQxQzQ2RCwgMHhEM0Q2RjRGQiwgMHg0MzY5RTk2QSxcbiAgICAgMHgzNDZFRDlGQywgMHhBRDY3ODg0NiwgMHhEQTYwQjhEMCwgMHg0NDA0MkQ3MywgMHgzMzAzMURFNSxcbiAgICAgMHhBQTBBNEM1RiwgMHhERDBEN0NDOSwgMHg1MDA1NzEzQywgMHgyNzAyNDFBQSwgMHhCRTBCMTAxMCxcbiAgICAgMHhDOTBDMjA4NiwgMHg1NzY4QjUyNSwgMHgyMDZGODVCMywgMHhCOTY2RDQwOSwgMHhDRTYxRTQ5RixcbiAgICAgMHg1RURFRjkwRSwgMHgyOUQ5Qzk5OCwgMHhCMEQwOTgyMiwgMHhDN0Q3QThCNCwgMHg1OUIzM0QxNyxcbiAgICAgMHgyRUI0MEQ4MSwgMHhCN0JENUMzQiwgMHhDMEJBNkNBRCwgMHhFREI4ODMyMCwgMHg5QUJGQjNCNixcbiAgICAgMHgwM0I2RTIwQywgMHg3NEIxRDI5QSwgMHhFQUQ1NDczOSwgMHg5REQyNzdBRiwgMHgwNERCMjYxNSxcbiAgICAgMHg3M0RDMTY4MywgMHhFMzYzMEIxMiwgMHg5NDY0M0I4NCwgMHgwRDZENkEzRSwgMHg3QTZBNUFBOCxcbiAgICAgMHhFNDBFQ0YwQiwgMHg5MzA5RkY5RCwgMHgwQTAwQUUyNywgMHg3RDA3OUVCMSwgMHhGMDBGOTM0NCxcbiAgICAgMHg4NzA4QTNEMiwgMHgxRTAxRjI2OCwgMHg2OTA2QzJGRSwgMHhGNzYyNTc1RCwgMHg4MDY1NjdDQixcbiAgICAgMHgxOTZDMzY3MSwgMHg2RTZCMDZFNywgMHhGRUQ0MUI3NiwgMHg4OUQzMkJFMCwgMHgxMERBN0E1QSxcbiAgICAgMHg2N0RENEFDQywgMHhGOUI5REY2RiwgMHg4RUJFRUZGOSwgMHgxN0I3QkU0MywgMHg2MEIwOEVENSxcbiAgICAgMHhENkQ2QTNFOCwgMHhBMUQxOTM3RSwgMHgzOEQ4QzJDNCwgMHg0RkRGRjI1MiwgMHhEMUJCNjdGMSxcbiAgICAgMHhBNkJDNTc2NywgMHgzRkI1MDZERCwgMHg0OEIyMzY0QiwgMHhEODBEMkJEQSwgMHhBRjBBMUI0QyxcbiAgICAgMHgzNjAzNEFGNiwgMHg0MTA0N0E2MCwgMHhERjYwRUZDMywgMHhBODY3REY1NSwgMHgzMTZFOEVFRixcbiAgICAgMHg0NjY5QkU3OSwgMHhDQjYxQjM4QywgMHhCQzY2ODMxQSwgMHgyNTZGRDJBMCwgMHg1MjY4RTIzNixcbiAgICAgMHhDQzBDNzc5NSwgMHhCQjBCNDcwMywgMHgyMjAyMTZCOSwgMHg1NTA1MjYyRiwgMHhDNUJBM0JCRSxcbiAgICAgMHhCMkJEMEIyOCwgMHgyQkI0NUE5MiwgMHg1Q0IzNkEwNCwgMHhDMkQ3RkZBNywgMHhCNUQwQ0YzMSxcbiAgICAgMHgyQ0Q5OUU4QiwgMHg1QkRFQUUxRCwgMHg5QjY0QzJCMCwgMHhFQzYzRjIyNiwgMHg3NTZBQTM5QyxcbiAgICAgMHgwMjZEOTMwQSwgMHg5QzA5MDZBOSwgMHhFQjBFMzYzRiwgMHg3MjA3Njc4NSwgMHgwNTAwNTcxMyxcbiAgICAgMHg5NUJGNEE4MiwgMHhFMkI4N0ExNCwgMHg3QkIxMkJBRSwgMHgwQ0I2MUIzOCwgMHg5MkQyOEU5QixcbiAgICAgMHhFNUQ1QkUwRCwgMHg3Q0RDRUZCNywgMHgwQkRCREYyMSwgMHg4NkQzRDJENCwgMHhGMUQ0RTI0MixcbiAgICAgMHg2OEREQjNGOCwgMHgxRkRBODM2RSwgMHg4MUJFMTZDRCwgMHhGNkI5MjY1QiwgMHg2RkIwNzdFMSxcbiAgICAgMHgxOEI3NDc3NywgMHg4ODA4NUFFNiwgMHhGRjBGNkE3MCwgMHg2NjA2M0JDQSwgMHgxMTAxMEI1QyxcbiAgICAgMHg4RjY1OUVGRiwgMHhGODYyQUU2OSwgMHg2MTZCRkZEMywgMHgxNjZDQ0Y0NSwgMHhBMDBBRTI3OCxcbiAgICAgMHhENzBERDJFRSwgMHg0RTA0ODM1NCwgMHgzOTAzQjNDMiwgMHhBNzY3MjY2MSwgMHhEMDYwMTZGNyxcbiAgICAgMHg0OTY5NDc0RCwgMHgzRTZFNzdEQiwgMHhBRUQxNkE0QSwgMHhEOUQ2NUFEQywgMHg0MERGMEI2NixcbiAgICAgMHgzN0Q4M0JGMCwgMHhBOUJDQUU1MywgMHhERUJCOUVDNSwgMHg0N0IyQ0Y3RiwgMHgzMEI1RkZFOSxcbiAgICAgMHhCREJERjIxQywgMHhDQUJBQzI4QSwgMHg1M0IzOTMzMCwgMHgyNEI0QTNBNiwgMHhCQUQwMzYwNSxcbiAgICAgMHhDREQ3MDY5MywgMHg1NERFNTcyOSwgMHgyM0Q5NjdCRiwgMHhCMzY2N0EyRSwgMHhDNDYxNEFCOCxcbiAgICAgMHg1RDY4MUIwMiwgMHgyQTZGMkI5NCwgMHhCNDBCQkUzNywgMHhDMzBDOEVBMSwgMHg1QTA1REYxQixcbiAgICAgMHgyRDAyRUY4RF0sXG5cbiAgICBjcmMzMjogZnVuY3Rpb24gY3JjMzIoZGF0YSkge1xuICAgICAgdmFyIHRibCA9IHV0aWwuY3J5cHRvLmNyYzMyVGFibGU7XG4gICAgICB2YXIgY3JjID0gMCBeIC0xO1xuXG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGRhdGEgPSB1dGlsLmJ1ZmZlci50b0J1ZmZlcihkYXRhKTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjb2RlID0gZGF0YS5yZWFkVUludDgoaSk7XG4gICAgICAgIGNyYyA9IChjcmMgPj4+IDgpIF4gdGJsWyhjcmMgXiBjb2RlKSAmIDB4RkZdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChjcmMgXiAtMSkgPj4+IDA7XG4gICAgfSxcblxuICAgIGhtYWM6IGZ1bmN0aW9uIGhtYWMoa2V5LCBzdHJpbmcsIGRpZ2VzdCwgZm4pIHtcbiAgICAgIGlmICghZGlnZXN0KSBkaWdlc3QgPSAnYmluYXJ5JztcbiAgICAgIGlmIChkaWdlc3QgPT09ICdidWZmZXInKSB7IGRpZ2VzdCA9IHVuZGVmaW5lZDsgfVxuICAgICAgaWYgKCFmbikgZm4gPSAnc2hhMjU2JztcbiAgICAgIGlmICh0eXBlb2Ygc3RyaW5nID09PSAnc3RyaW5nJykgc3RyaW5nID0gdXRpbC5idWZmZXIudG9CdWZmZXIoc3RyaW5nKTtcbiAgICAgIHJldHVybiB1dGlsLmNyeXB0by5saWIuY3JlYXRlSG1hYyhmbiwga2V5KS51cGRhdGUoc3RyaW5nKS5kaWdlc3QoZGlnZXN0KTtcbiAgICB9LFxuXG4gICAgbWQ1OiBmdW5jdGlvbiBtZDUoZGF0YSwgZGlnZXN0LCBjYWxsYmFjaykge1xuICAgICAgcmV0dXJuIHV0aWwuY3J5cHRvLmhhc2goJ21kNScsIGRhdGEsIGRpZ2VzdCwgY2FsbGJhY2spO1xuICAgIH0sXG5cbiAgICBzaGEyNTY6IGZ1bmN0aW9uIHNoYTI1NihkYXRhLCBkaWdlc3QsIGNhbGxiYWNrKSB7XG4gICAgICByZXR1cm4gdXRpbC5jcnlwdG8uaGFzaCgnc2hhMjU2JywgZGF0YSwgZGlnZXN0LCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIGhhc2g6IGZ1bmN0aW9uKGFsZ29yaXRobSwgZGF0YSwgZGlnZXN0LCBjYWxsYmFjaykge1xuICAgICAgdmFyIGhhc2ggPSB1dGlsLmNyeXB0by5jcmVhdGVIYXNoKGFsZ29yaXRobSk7XG4gICAgICBpZiAoIWRpZ2VzdCkgeyBkaWdlc3QgPSAnYmluYXJ5JzsgfVxuICAgICAgaWYgKGRpZ2VzdCA9PT0gJ2J1ZmZlcicpIHsgZGlnZXN0ID0gdW5kZWZpbmVkOyB9XG4gICAgICBpZiAodHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnKSBkYXRhID0gdXRpbC5idWZmZXIudG9CdWZmZXIoZGF0YSk7XG4gICAgICB2YXIgc2xpY2VGbiA9IHV0aWwuYXJyYXlTbGljZUZuKGRhdGEpO1xuICAgICAgdmFyIGlzQnVmZmVyID0gdXRpbC5CdWZmZXIuaXNCdWZmZXIoZGF0YSk7XG4gICAgICAvL0lkZW50aWZ5aW5nIG9iamVjdHMgd2l0aCBhbiBBcnJheUJ1ZmZlciBhcyBidWZmZXJzXG4gICAgICBpZiAodXRpbC5pc0Jyb3dzZXIoKSAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIGRhdGEgJiYgZGF0YS5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgaXNCdWZmZXIgPSB0cnVlO1xuXG4gICAgICBpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgdHlwZW9mIGRhdGEub24gPT09ICdmdW5jdGlvbicgJiYgIWlzQnVmZmVyKSB7XG4gICAgICAgIGRhdGEub24oJ2RhdGEnLCBmdW5jdGlvbihjaHVuaykgeyBoYXNoLnVwZGF0ZShjaHVuayk7IH0pO1xuICAgICAgICBkYXRhLm9uKCdlcnJvcicsIGZ1bmN0aW9uKGVycikgeyBjYWxsYmFjayhlcnIpOyB9KTtcbiAgICAgICAgZGF0YS5vbignZW5kJywgZnVuY3Rpb24oKSB7IGNhbGxiYWNrKG51bGwsIGhhc2guZGlnZXN0KGRpZ2VzdCkpOyB9KTtcbiAgICAgIH0gZWxzZSBpZiAoY2FsbGJhY2sgJiYgc2xpY2VGbiAmJiAhaXNCdWZmZXIgJiZcbiAgICAgICAgICAgICAgICAgdHlwZW9mIEZpbGVSZWFkZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIHRoaXMgbWlnaHQgYmUgYSBGaWxlL0Jsb2JcbiAgICAgICAgdmFyIGluZGV4ID0gMCwgc2l6ZSA9IDEwMjQgKiA1MTI7XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcignRmFpbGVkIHRvIHJlYWQgZGF0YS4nKSk7XG4gICAgICAgIH07XG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYnVmID0gbmV3IHV0aWwuQnVmZmVyKG5ldyBVaW50OEFycmF5KHJlYWRlci5yZXN1bHQpKTtcbiAgICAgICAgICBoYXNoLnVwZGF0ZShidWYpO1xuICAgICAgICAgIGluZGV4ICs9IGJ1Zi5sZW5ndGg7XG4gICAgICAgICAgcmVhZGVyLl9jb250aW51ZVJlYWRpbmcoKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVhZGVyLl9jb250aW51ZVJlYWRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoaW5kZXggPj0gZGF0YS5zaXplKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCBoYXNoLmRpZ2VzdChkaWdlc3QpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgYmFjayA9IGluZGV4ICsgc2l6ZTtcbiAgICAgICAgICBpZiAoYmFjayA+IGRhdGEuc2l6ZSkgYmFjayA9IGRhdGEuc2l6ZTtcbiAgICAgICAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoc2xpY2VGbi5jYWxsKGRhdGEsIGluZGV4LCBiYWNrKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVhZGVyLl9jb250aW51ZVJlYWRpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh1dGlsLmlzQnJvd3NlcigpICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0JyAmJiAhaXNCdWZmZXIpIHtcbiAgICAgICAgICBkYXRhID0gbmV3IHV0aWwuQnVmZmVyKG5ldyBVaW50OEFycmF5KGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgb3V0ID0gaGFzaC51cGRhdGUoZGF0YSkuZGlnZXN0KGRpZ2VzdCk7XG4gICAgICAgIGlmIChjYWxsYmFjaykgY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgdG9IZXg6IGZ1bmN0aW9uIHRvSGV4KGRhdGEpIHtcbiAgICAgIHZhciBvdXQgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBvdXQucHVzaCgoJzAnICsgZGF0YS5jaGFyQ29kZUF0KGkpLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC0yLCAyKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xuICAgIH0sXG5cbiAgICBjcmVhdGVIYXNoOiBmdW5jdGlvbiBjcmVhdGVIYXNoKGFsZ29yaXRobSkge1xuICAgICAgcmV0dXJuIHV0aWwuY3J5cHRvLmxpYi5jcmVhdGVIYXNoKGFsZ29yaXRobSk7XG4gICAgfVxuXG4gIH0sXG5cbiAgLyoqIEAhaWdub3JlICovXG5cbiAgLyogQWJvcnQgY29uc3RhbnQgKi9cbiAgYWJvcnQ6IHt9LFxuXG4gIGVhY2g6IGZ1bmN0aW9uIGVhY2gob2JqZWN0LCBpdGVyRnVuY3Rpb24pIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICB2YXIgcmV0ID0gaXRlckZ1bmN0aW9uLmNhbGwodGhpcywga2V5LCBvYmplY3Rba2V5XSk7XG4gICAgICAgIGlmIChyZXQgPT09IHV0aWwuYWJvcnQpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICBhcnJheUVhY2g6IGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlckZ1bmN0aW9uKSB7XG4gICAgZm9yICh2YXIgaWR4IGluIGFycmF5KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGFycmF5LCBpZHgpKSB7XG4gICAgICAgIHZhciByZXQgPSBpdGVyRnVuY3Rpb24uY2FsbCh0aGlzLCBhcnJheVtpZHhdLCBwYXJzZUludChpZHgsIDEwKSk7XG4gICAgICAgIGlmIChyZXQgPT09IHV0aWwuYWJvcnQpIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmoxLCBvYmoyKSB7XG4gICAgdXRpbC5lYWNoKG9iajIsIGZ1bmN0aW9uIGl0ZXJhdG9yKGtleSwgaXRlbSkge1xuICAgICAgb2JqMVtrZXldID0gaXRlbTtcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqMTtcbiAgfSxcblxuICBtZXJnZTogZnVuY3Rpb24gbWVyZ2Uob2JqMSwgb2JqMikge1xuICAgIHJldHVybiB1dGlsLnVwZGF0ZSh1dGlsLmNvcHkob2JqMSksIG9iajIpO1xuICB9LFxuXG4gIGNvcHk6IGZ1bmN0aW9uIGNvcHkob2JqZWN0KSB7XG4gICAgaWYgKG9iamVjdCA9PT0gbnVsbCB8fCBvYmplY3QgPT09IHVuZGVmaW5lZCkgcmV0dXJuIG9iamVjdDtcbiAgICB2YXIgZHVwZSA9IHt9O1xuICAgIC8vIGpzaGludCBmb3JpbjpmYWxzZVxuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGR1cGVba2V5XSA9IG9iamVjdFtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gZHVwZTtcbiAgfSxcblxuICBpc0VtcHR5OiBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcblxuICBhcnJheVNsaWNlRm46IGZ1bmN0aW9uIGFycmF5U2xpY2VGbihvYmopIHtcbiAgICB2YXIgZm4gPSBvYmouc2xpY2UgfHwgb2JqLndlYmtpdFNsaWNlIHx8IG9iai5tb3pTbGljZTtcbiAgICByZXR1cm4gdHlwZW9mIGZuID09PSAnZnVuY3Rpb24nID8gZm4gOiBudWxsO1xuICB9LFxuXG4gIGlzVHlwZTogZnVuY3Rpb24gaXNUeXBlKG9iaiwgdHlwZSkge1xuICAgIC8vIGhhbmRsZSBjcm9zcy1cImZyYW1lXCIgb2JqZWN0c1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykgdHlwZSA9IHV0aWwudHlwZU5hbWUodHlwZSk7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCAnICsgdHlwZSArICddJztcbiAgfSxcblxuICB0eXBlTmFtZTogZnVuY3Rpb24gdHlwZU5hbWUodHlwZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHlwZSwgJ25hbWUnKSkgcmV0dXJuIHR5cGUubmFtZTtcbiAgICB2YXIgc3RyID0gdHlwZS50b1N0cmluZygpO1xuICAgIHZhciBtYXRjaCA9IHN0ci5tYXRjaCgvXlxccypmdW5jdGlvbiAoLispXFwoLyk7XG4gICAgcmV0dXJuIG1hdGNoID8gbWF0Y2hbMV0gOiBzdHI7XG4gIH0sXG5cbiAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKGVyciwgb3B0aW9ucykge1xuICAgIHZhciBvcmlnaW5hbEVycm9yID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIGVyci5tZXNzYWdlID09PSAnc3RyaW5nJyAmJiBlcnIubWVzc2FnZSAhPT0gJycpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycgfHwgKG9wdGlvbnMgJiYgb3B0aW9ucy5tZXNzYWdlKSkge1xuICAgICAgICBvcmlnaW5hbEVycm9yID0gdXRpbC5jb3B5KGVycik7XG4gICAgICAgIG9yaWdpbmFsRXJyb3IubWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgfVxuICAgIH1cbiAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8IG51bGw7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICBlcnIubWVzc2FnZSA9IG9wdGlvbnM7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucyAhPT0gbnVsbCkge1xuICAgICAgdXRpbC51cGRhdGUoZXJyLCBvcHRpb25zKTtcbiAgICAgIGlmIChvcHRpb25zLm1lc3NhZ2UpXG4gICAgICAgIGVyci5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlO1xuICAgICAgaWYgKG9wdGlvbnMuY29kZSB8fCBvcHRpb25zLm5hbWUpXG4gICAgICAgIGVyci5jb2RlID0gb3B0aW9ucy5jb2RlIHx8IG9wdGlvbnMubmFtZTtcbiAgICAgIGlmIChvcHRpb25zLnN0YWNrKVxuICAgICAgICBlcnIuc3RhY2sgPSBvcHRpb25zLnN0YWNrO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgT2JqZWN0LmRlZmluZVByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXJyLCAnbmFtZScsIHt3cml0YWJsZTogdHJ1ZSwgZW51bWVyYWJsZTogZmFsc2V9KTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlcnIsICdtZXNzYWdlJywge2VudW1lcmFibGU6IHRydWV9KTtcbiAgICB9XG5cbiAgICBlcnIubmFtZSA9IFN0cmluZyhvcHRpb25zICYmIG9wdGlvbnMubmFtZSB8fCBlcnIubmFtZSB8fCBlcnIuY29kZSB8fCAnRXJyb3InKTtcbiAgICBlcnIudGltZSA9IG5ldyBEYXRlKCk7XG5cbiAgICBpZiAob3JpZ2luYWxFcnJvcikgZXJyLm9yaWdpbmFsRXJyb3IgPSBvcmlnaW5hbEVycm9yO1xuXG4gICAgcmV0dXJuIGVycjtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBpbmhlcml0OiBmdW5jdGlvbiBpbmhlcml0KGtsYXNzLCBmZWF0dXJlcykge1xuICAgIHZhciBuZXdPYmplY3QgPSBudWxsO1xuICAgIGlmIChmZWF0dXJlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBmZWF0dXJlcyA9IGtsYXNzO1xuICAgICAga2xhc3MgPSBPYmplY3Q7XG4gICAgICBuZXdPYmplY3QgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGN0b3IgPSBmdW5jdGlvbiBDb25zdHJ1Y3RvcldyYXBwZXIoKSB7fTtcbiAgICAgIGN0b3IucHJvdG90eXBlID0ga2xhc3MucHJvdG90eXBlO1xuICAgICAgbmV3T2JqZWN0ID0gbmV3IGN0b3IoKTtcbiAgICB9XG5cbiAgICAvLyBjb25zdHJ1Y3RvciBub3Qgc3VwcGxpZWQsIGNyZWF0ZSBwYXNzLXRocm91Z2ggY3RvclxuICAgIGlmIChmZWF0dXJlcy5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XG4gICAgICBmZWF0dXJlcy5jb25zdHJ1Y3RvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoa2xhc3MgIT09IE9iamVjdCkge1xuICAgICAgICAgIHJldHVybiBrbGFzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZlYXR1cmVzLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ld09iamVjdDtcbiAgICB1dGlsLnVwZGF0ZShmZWF0dXJlcy5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsIGZlYXR1cmVzKTtcbiAgICBmZWF0dXJlcy5jb25zdHJ1Y3Rvci5fX3N1cGVyX18gPSBrbGFzcztcbiAgICByZXR1cm4gZmVhdHVyZXMuY29uc3RydWN0b3I7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbWl4aW46IGZ1bmN0aW9uIG1peGluKCkge1xuICAgIHZhciBrbGFzcyA9IGFyZ3VtZW50c1swXTtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgLy8ganNoaW50IGZvcmluOmZhbHNlXG4gICAgICBmb3IgKHZhciBwcm9wIGluIGFyZ3VtZW50c1tpXS5wcm90b3R5cGUpIHtcbiAgICAgICAgdmFyIGZuID0gYXJndW1lbnRzW2ldLnByb3RvdHlwZVtwcm9wXTtcbiAgICAgICAgaWYgKHByb3AgIT09ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICBrbGFzcy5wcm90b3R5cGVbcHJvcF0gPSBmbjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2xhc3M7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaGlkZVByb3BlcnRpZXM6IGZ1bmN0aW9uIGhpZGVQcm9wZXJ0aWVzKG9iaiwgcHJvcHMpIHtcbiAgICBpZiAodHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSAhPT0gJ2Z1bmN0aW9uJykgcmV0dXJuO1xuXG4gICAgdXRpbC5hcnJheUVhY2gocHJvcHMsIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBwcm9wZXJ0eTogZnVuY3Rpb24gcHJvcGVydHkob2JqLCBuYW1lLCB2YWx1ZSwgZW51bWVyYWJsZSwgaXNWYWx1ZSkge1xuICAgIHZhciBvcHRzID0ge1xuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZW51bWVyYWJsZTogZW51bWVyYWJsZSAhPT0gdW5kZWZpbmVkID8gZW51bWVyYWJsZSA6IHRydWVcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicgJiYgIWlzVmFsdWUpIHtcbiAgICAgIG9wdHMuZ2V0ID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgb3B0cy52YWx1ZSA9IHZhbHVlOyBvcHRzLndyaXRhYmxlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBuYW1lLCBvcHRzKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBtZW1vaXplZFByb3BlcnR5OiBmdW5jdGlvbiBtZW1vaXplZFByb3BlcnR5KG9iaiwgbmFtZSwgZ2V0LCBlbnVtZXJhYmxlKSB7XG4gICAgdmFyIGNhY2hlZFZhbHVlID0gbnVsbDtcblxuICAgIC8vIGJ1aWxkIGVudW1lcmFibGUgYXR0cmlidXRlIGZvciBlYWNoIHZhbHVlIHdpdGggbGF6eSBhY2Nlc3Nvci5cbiAgICB1dGlsLnByb3BlcnR5KG9iaiwgbmFtZSwgZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoY2FjaGVkVmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgY2FjaGVkVmFsdWUgPSBnZXQoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjYWNoZWRWYWx1ZTtcbiAgICB9LCBlbnVtZXJhYmxlKTtcbiAgfSxcblxuICAvKipcbiAgICogVE9ETyBSZW1vdmUgaW4gbWFqb3IgdmVyc2lvbiByZXZpc2lvblxuICAgKiBUaGlzIGJhY2tmaWxsIHBvcHVsYXRlcyByZXNwb25zZSBkYXRhIHdpdGhvdXQgdGhlXG4gICAqIHRvcC1sZXZlbCBwYXlsb2FkIG5hbWUuXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaG9pc3RQYXlsb2FkTWVtYmVyOiBmdW5jdGlvbiBob2lzdFBheWxvYWRNZW1iZXIocmVzcCkge1xuICAgIHZhciByZXEgPSByZXNwLnJlcXVlc3Q7XG4gICAgdmFyIG9wZXJhdGlvbk5hbWUgPSByZXEub3BlcmF0aW9uO1xuICAgIHZhciBvcGVyYXRpb24gPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tvcGVyYXRpb25OYW1lXTtcbiAgICB2YXIgb3V0cHV0ID0gb3BlcmF0aW9uLm91dHB1dDtcbiAgICBpZiAob3V0cHV0LnBheWxvYWQgJiYgIW9wZXJhdGlvbi5oYXNFdmVudE91dHB1dCkge1xuICAgICAgdmFyIHBheWxvYWRNZW1iZXIgPSBvdXRwdXQubWVtYmVyc1tvdXRwdXQucGF5bG9hZF07XG4gICAgICB2YXIgcmVzcG9uc2VQYXlsb2FkID0gcmVzcC5kYXRhW291dHB1dC5wYXlsb2FkXTtcbiAgICAgIGlmIChwYXlsb2FkTWVtYmVyLnR5cGUgPT09ICdzdHJ1Y3R1cmUnKSB7XG4gICAgICAgIHV0aWwuZWFjaChyZXNwb25zZVBheWxvYWQsIGZ1bmN0aW9uKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICB1dGlsLnByb3BlcnR5KHJlc3AuZGF0YSwga2V5LCB2YWx1ZSwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENvbXB1dGUgU0hBLTI1NiBjaGVja3N1bXMgb2Ygc3RyZWFtc1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNvbXB1dGVTaGEyNTY6IGZ1bmN0aW9uIGNvbXB1dGVTaGEyNTYoYm9keSwgZG9uZSkge1xuICAgIGlmICh1dGlsLmlzTm9kZSgpKSB7XG4gICAgICB2YXIgU3RyZWFtID0gdXRpbC5zdHJlYW0uU3RyZWFtO1xuICAgICAgdmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgICAgIGlmICh0eXBlb2YgU3RyZWFtID09PSAnZnVuY3Rpb24nICYmIGJvZHkgaW5zdGFuY2VvZiBTdHJlYW0pIHtcbiAgICAgICAgaWYgKHR5cGVvZiBib2R5LnBhdGggPT09ICdzdHJpbmcnKSB7IC8vIGFzc3VtZSBmaWxlIG9iamVjdFxuICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHt9O1xuICAgICAgICAgIGlmICh0eXBlb2YgYm9keS5zdGFydCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLnN0YXJ0ID0gYm9keS5zdGFydDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHR5cGVvZiBib2R5LmVuZCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHNldHRpbmdzLmVuZCA9IGJvZHkuZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2R5ID0gZnMuY3JlYXRlUmVhZFN0cmVhbShib2R5LnBhdGgsIHNldHRpbmdzKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gVE9ETyBzdXBwb3J0IG90aGVyIHN0cmVhbSB0eXBlc1xuICAgICAgICAgIHJldHVybiBkb25lKG5ldyBFcnJvcignTm9uLWZpbGUgc3RyZWFtIG9iamVjdHMgYXJlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnbm90IHN1cHBvcnRlZCB3aXRoIFNpZ1Y0JykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdXRpbC5jcnlwdG8uc2hhMjU2KGJvZHksICdoZXgnLCBmdW5jdGlvbihlcnIsIHNoYSkge1xuICAgICAgaWYgKGVycikgZG9uZShlcnIpO1xuICAgICAgZWxzZSBkb25lKG51bGwsIHNoYSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaXNDbG9ja1NrZXdlZDogZnVuY3Rpb24gaXNDbG9ja1NrZXdlZChzZXJ2ZXJUaW1lKSB7XG4gICAgaWYgKHNlcnZlclRpbWUpIHtcbiAgICAgIHV0aWwucHJvcGVydHkoQVdTLmNvbmZpZywgJ2lzQ2xvY2tTa2V3ZWQnLFxuICAgICAgICBNYXRoLmFicyhuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIHNlcnZlclRpbWUpID49IDMwMDAwMCwgZmFsc2UpO1xuICAgICAgcmV0dXJuIEFXUy5jb25maWcuaXNDbG9ja1NrZXdlZDtcbiAgICB9XG4gIH0sXG5cbiAgYXBwbHlDbG9ja09mZnNldDogZnVuY3Rpb24gYXBwbHlDbG9ja09mZnNldChzZXJ2ZXJUaW1lKSB7XG4gICAgaWYgKHNlcnZlclRpbWUpXG4gICAgICBBV1MuY29uZmlnLnN5c3RlbUNsb2NrT2Zmc2V0ID0gc2VydmVyVGltZSAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGV4dHJhY3RSZXF1ZXN0SWQ6IGZ1bmN0aW9uIGV4dHJhY3RSZXF1ZXN0SWQocmVzcCkge1xuICAgIHZhciByZXF1ZXN0SWQgPSByZXNwLmh0dHBSZXNwb25zZS5oZWFkZXJzWyd4LWFtei1yZXF1ZXN0LWlkJ10gfHxcbiAgICAgICAgICAgICAgICAgICAgIHJlc3AuaHR0cFJlc3BvbnNlLmhlYWRlcnNbJ3gtYW16bi1yZXF1ZXN0aWQnXTtcblxuICAgIGlmICghcmVxdWVzdElkICYmIHJlc3AuZGF0YSAmJiByZXNwLmRhdGEuUmVzcG9uc2VNZXRhZGF0YSkge1xuICAgICAgcmVxdWVzdElkID0gcmVzcC5kYXRhLlJlc3BvbnNlTWV0YWRhdGEuUmVxdWVzdElkO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0SWQpIHtcbiAgICAgIHJlc3AucmVxdWVzdElkID0gcmVxdWVzdElkO1xuICAgIH1cblxuICAgIGlmIChyZXNwLmVycm9yKSB7XG4gICAgICByZXNwLmVycm9yLnJlcXVlc3RJZCA9IHJlcXVlc3RJZDtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYWRkUHJvbWlzZXM6IGZ1bmN0aW9uIGFkZFByb21pc2VzKGNvbnN0cnVjdG9ycywgUHJvbWlzZURlcGVuZGVuY3kpIHtcbiAgICB2YXIgZGVsZXRlUHJvbWlzZXMgPSBmYWxzZTtcbiAgICBpZiAoUHJvbWlzZURlcGVuZGVuY3kgPT09IHVuZGVmaW5lZCAmJiBBV1MgJiYgQVdTLmNvbmZpZykge1xuICAgICAgUHJvbWlzZURlcGVuZGVuY3kgPSBBV1MuY29uZmlnLmdldFByb21pc2VzRGVwZW5kZW5jeSgpO1xuICAgIH1cbiAgICBpZiAoUHJvbWlzZURlcGVuZGVuY3kgPT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIFByb21pc2VEZXBlbmRlbmN5ID0gUHJvbWlzZTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBQcm9taXNlRGVwZW5kZW5jeSAhPT0gJ2Z1bmN0aW9uJykgZGVsZXRlUHJvbWlzZXMgPSB0cnVlO1xuICAgIGlmICghQXJyYXkuaXNBcnJheShjb25zdHJ1Y3RvcnMpKSBjb25zdHJ1Y3RvcnMgPSBbY29uc3RydWN0b3JzXTtcblxuICAgIGZvciAodmFyIGluZCA9IDA7IGluZCA8IGNvbnN0cnVjdG9ycy5sZW5ndGg7IGluZCsrKSB7XG4gICAgICB2YXIgY29uc3RydWN0b3IgPSBjb25zdHJ1Y3RvcnNbaW5kXTtcbiAgICAgIGlmIChkZWxldGVQcm9taXNlcykge1xuICAgICAgICBpZiAoY29uc3RydWN0b3IuZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MpIHtcbiAgICAgICAgICBjb25zdHJ1Y3Rvci5kZWxldGVQcm9taXNlc0Zyb21DbGFzcygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNvbnN0cnVjdG9yLmFkZFByb21pc2VzVG9DbGFzcykge1xuICAgICAgICBjb25zdHJ1Y3Rvci5hZGRQcm9taXNlc1RvQ2xhc3MoUHJvbWlzZURlcGVuZGVuY3kpO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIFJldHVybiBhIGZ1bmN0aW9uIHRoYXQgd2lsbCByZXR1cm4gYSBwcm9taXNlIHdob3NlIGZhdGUgaXMgZGVjaWRlZCBieSB0aGVcbiAgICogY2FsbGJhY2sgYmVoYXZpb3Igb2YgdGhlIGdpdmVuIG1ldGhvZCB3aXRoIGBtZXRob2ROYW1lYC4gVGhlIG1ldGhvZCB0byBiZVxuICAgKiBwcm9taXNpZmllZCBzaG91bGQgY29uZm9ybSB0byBub2RlLmpzIGNvbnZlbnRpb24gb2YgYWNjZXB0aW5nIGEgY2FsbGJhY2sgYXNcbiAgICogbGFzdCBhcmd1bWVudCBhbmQgY2FsbGluZyB0aGF0IGNhbGxiYWNrIHdpdGggZXJyb3IgYXMgdGhlIGZpcnN0IGFyZ3VtZW50XG4gICAqIGFuZCBzdWNjZXNzIHZhbHVlIG9uIHRoZSBzZWNvbmQgYXJndW1lbnQuXG4gICAqL1xuICBwcm9taXNpZnlNZXRob2Q6IGZ1bmN0aW9uIHByb21pc2lmeU1ldGhvZChtZXRob2ROYW1lLCBQcm9taXNlRGVwZW5kZW5jeSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBwcm9taXNlKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlRGVwZW5kZW5jeShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgYXJncy5wdXNoKGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKGRhdGEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGZbbWV0aG9kTmFtZV0uYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGlzRHVhbHN0YWNrQXZhaWxhYmxlOiBmdW5jdGlvbiBpc0R1YWxzdGFja0F2YWlsYWJsZShzZXJ2aWNlKSB7XG4gICAgaWYgKCFzZXJ2aWNlKSByZXR1cm4gZmFsc2U7XG4gICAgdmFyIG1ldGFkYXRhID0gcmVxdWlyZSgnLi4vYXBpcy9tZXRhZGF0YS5qc29uJyk7XG4gICAgaWYgKHR5cGVvZiBzZXJ2aWNlICE9PSAnc3RyaW5nJykgc2VydmljZSA9IHNlcnZpY2Uuc2VydmljZUlkZW50aWZpZXI7XG4gICAgaWYgKHR5cGVvZiBzZXJ2aWNlICE9PSAnc3RyaW5nJyB8fCAhbWV0YWRhdGEuaGFzT3duUHJvcGVydHkoc2VydmljZSkpIHJldHVybiBmYWxzZTtcbiAgICByZXR1cm4gISFtZXRhZGF0YVtzZXJ2aWNlXS5kdWFsc3RhY2tBdmFpbGFibGU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY2FsY3VsYXRlUmV0cnlEZWxheTogZnVuY3Rpb24gY2FsY3VsYXRlUmV0cnlEZWxheShyZXRyeUNvdW50LCByZXRyeURlbGF5T3B0aW9ucywgZXJyKSB7XG4gICAgaWYgKCFyZXRyeURlbGF5T3B0aW9ucykgcmV0cnlEZWxheU9wdGlvbnMgPSB7fTtcbiAgICB2YXIgY3VzdG9tQmFja29mZiA9IHJldHJ5RGVsYXlPcHRpb25zLmN1c3RvbUJhY2tvZmYgfHwgbnVsbDtcbiAgICBpZiAodHlwZW9mIGN1c3RvbUJhY2tvZmYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21CYWNrb2ZmKHJldHJ5Q291bnQsIGVycik7XG4gICAgfVxuICAgIHZhciBiYXNlID0gdHlwZW9mIHJldHJ5RGVsYXlPcHRpb25zLmJhc2UgPT09ICdudW1iZXInID8gcmV0cnlEZWxheU9wdGlvbnMuYmFzZSA6IDEwMDtcbiAgICB2YXIgZGVsYXkgPSBNYXRoLnJhbmRvbSgpICogKE1hdGgucG93KDIsIHJldHJ5Q291bnQpICogYmFzZSk7XG4gICAgcmV0dXJuIGRlbGF5O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGhhbmRsZVJlcXVlc3RXaXRoUmV0cmllczogZnVuY3Rpb24gaGFuZGxlUmVxdWVzdFdpdGhSZXRyaWVzKGh0dHBSZXF1ZXN0LCBvcHRpb25zLCBjYikge1xuICAgIGlmICghb3B0aW9ucykgb3B0aW9ucyA9IHt9O1xuICAgIHZhciBodHRwID0gQVdTLkh0dHBDbGllbnQuZ2V0SW5zdGFuY2UoKTtcbiAgICB2YXIgaHR0cE9wdGlvbnMgPSBvcHRpb25zLmh0dHBPcHRpb25zIHx8IHt9O1xuICAgIHZhciByZXRyeUNvdW50ID0gMDtcblxuICAgIHZhciBlcnJDYWxsYmFjayA9IGZ1bmN0aW9uKGVycikge1xuICAgICAgdmFyIG1heFJldHJpZXMgPSBvcHRpb25zLm1heFJldHJpZXMgfHwgMDtcbiAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09ICdUaW1lb3V0RXJyb3InKSBlcnIucmV0cnlhYmxlID0gdHJ1ZTtcblxuICAgICAgLy8gQ2FsbCBgY2FsY3VsYXRlUmV0cnlEZWxheSgpYCBvbmx5IHdoZW4gcmVsZXZhbnQsIHNlZSAjMzQwMVxuICAgICAgaWYgKGVyciAmJiBlcnIucmV0cnlhYmxlICYmIHJldHJ5Q291bnQgPCBtYXhSZXRyaWVzKSB7XG4gICAgICAgIHZhciBkZWxheSA9IHV0aWwuY2FsY3VsYXRlUmV0cnlEZWxheShyZXRyeUNvdW50LCBvcHRpb25zLnJldHJ5RGVsYXlPcHRpb25zLCBlcnIpO1xuICAgICAgICBpZiAoZGVsYXkgPj0gMCkge1xuICAgICAgICAgIHJldHJ5Q291bnQrKztcbiAgICAgICAgICBzZXRUaW1lb3V0KHNlbmRSZXF1ZXN0LCBkZWxheSArIChlcnIucmV0cnlBZnRlciB8fCAwKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYihlcnIpO1xuICAgIH07XG5cbiAgICB2YXIgc2VuZFJlcXVlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBkYXRhID0gJyc7XG4gICAgICBodHRwLmhhbmRsZVJlcXVlc3QoaHR0cFJlcXVlc3QsIGh0dHBPcHRpb25zLCBmdW5jdGlvbihodHRwUmVzcG9uc2UpIHtcbiAgICAgICAgaHR0cFJlc3BvbnNlLm9uKCdkYXRhJywgZnVuY3Rpb24oY2h1bmspIHsgZGF0YSArPSBjaHVuay50b1N0cmluZygpOyB9KTtcbiAgICAgICAgaHR0cFJlc3BvbnNlLm9uKCdlbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgc3RhdHVzQ29kZSA9IGh0dHBSZXNwb25zZS5zdGF0dXNDb2RlO1xuICAgICAgICAgIGlmIChzdGF0dXNDb2RlIDwgMzAwKSB7XG4gICAgICAgICAgICBjYihudWxsLCBkYXRhKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJldHJ5QWZ0ZXIgPSBwYXJzZUludChodHRwUmVzcG9uc2UuaGVhZGVyc1sncmV0cnktYWZ0ZXInXSwgMTApICogMTAwMCB8fCAwO1xuICAgICAgICAgICAgdmFyIGVyciA9IHV0aWwuZXJyb3IobmV3IEVycm9yKCksXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgIHJldHJ5YWJsZTogc3RhdHVzQ29kZSA+PSA1MDAgfHwgc3RhdHVzQ29kZSA9PT0gNDI5XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBpZiAocmV0cnlBZnRlciAmJiBlcnIucmV0cnlhYmxlKSBlcnIucmV0cnlBZnRlciA9IHJldHJ5QWZ0ZXI7XG4gICAgICAgICAgICBlcnJDYWxsYmFjayhlcnIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBlcnJDYWxsYmFjayk7XG4gICAgfTtcblxuICAgIEFXUy51dGlsLmRlZmVyKHNlbmRSZXF1ZXN0KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICB1dWlkOiB7XG4gICAgdjQ6IGZ1bmN0aW9uIHV1aWRWNCgpIHtcbiAgICAgIHJldHVybiByZXF1aXJlKCd1dWlkJykudjQoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY29udmVydFBheWxvYWRUb1N0cmluZzogZnVuY3Rpb24gY29udmVydFBheWxvYWRUb1N0cmluZyhyZXNwKSB7XG4gICAgdmFyIHJlcSA9IHJlc3AucmVxdWVzdDtcbiAgICB2YXIgb3BlcmF0aW9uID0gcmVxLm9wZXJhdGlvbjtcbiAgICB2YXIgcnVsZXMgPSByZXEuc2VydmljZS5hcGkub3BlcmF0aW9uc1tvcGVyYXRpb25dLm91dHB1dCB8fCB7fTtcbiAgICBpZiAocnVsZXMucGF5bG9hZCAmJiByZXNwLmRhdGFbcnVsZXMucGF5bG9hZF0pIHtcbiAgICAgIHJlc3AuZGF0YVtydWxlcy5wYXlsb2FkXSA9IHJlc3AuZGF0YVtydWxlcy5wYXlsb2FkXS50b1N0cmluZygpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkZWZlcjogZnVuY3Rpb24gZGVmZXIoY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICdvYmplY3QnICYmIHR5cGVvZiBwcm9jZXNzLm5leHRUaWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9jZXNzLm5leHRUaWNrKGNhbGxiYWNrKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzZXRJbW1lZGlhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHNldEltbWVkaWF0ZShjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDApO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBnZXRSZXF1ZXN0UGF5bG9hZFNoYXBlOiBmdW5jdGlvbiBnZXRSZXF1ZXN0UGF5bG9hZFNoYXBlKHJlcSkge1xuICAgIHZhciBvcGVyYXRpb25zID0gcmVxLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnM7XG4gICAgaWYgKCFvcGVyYXRpb25zKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHZhciBvcGVyYXRpb24gPSAob3BlcmF0aW9ucyB8fCB7fSlbcmVxLm9wZXJhdGlvbl07XG4gICAgaWYgKCFvcGVyYXRpb24gfHwgIW9wZXJhdGlvbi5pbnB1dCB8fCAhb3BlcmF0aW9uLmlucHV0LnBheWxvYWQpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIG9wZXJhdGlvbi5pbnB1dC5tZW1iZXJzW29wZXJhdGlvbi5pbnB1dC5wYXlsb2FkXTtcbiAgfSxcblxuICBnZXRQcm9maWxlc0Zyb21TaGFyZWRDb25maWc6IGZ1bmN0aW9uIGdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZyhpbmlMb2FkZXIsIGZpbGVuYW1lKSB7XG4gICAgdmFyIHByb2ZpbGVzID0ge307XG4gICAgdmFyIHByb2ZpbGVzRnJvbUNvbmZpZyA9IHt9O1xuICAgIGlmIChwcm9jZXNzLmVudlt1dGlsLmNvbmZpZ09wdEluRW52XSkge1xuICAgICAgdmFyIHByb2ZpbGVzRnJvbUNvbmZpZyA9IGluaUxvYWRlci5sb2FkRnJvbSh7XG4gICAgICAgIGlzQ29uZmlnOiB0cnVlLFxuICAgICAgICBmaWxlbmFtZTogcHJvY2Vzcy5lbnZbdXRpbC5zaGFyZWRDb25maWdGaWxlRW52XVxuICAgICAgfSk7XG4gICAgfVxuICAgIHZhciBwcm9maWxlc0Zyb21DcmVkcz0ge307XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9maWxlc0Zyb21DcmVkcyA9IGluaUxvYWRlci5sb2FkRnJvbSh7XG4gICAgICAgIGZpbGVuYW1lOiBmaWxlbmFtZSB8fFxuICAgICAgICAgIChwcm9jZXNzLmVudlt1dGlsLmNvbmZpZ09wdEluRW52XSAmJiBwcm9jZXNzLmVudlt1dGlsLnNoYXJlZENyZWRlbnRpYWxzRmlsZUVudl0pXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gaWYgdXNpbmcgY29uZmlnLCBhc3N1bWUgaXQgaXMgZnVsbHkgZGVzY3JpcHRpdmUgd2l0aG91dCBhIGNyZWRlbnRpYWxzIGZpbGU6XG4gICAgICBpZiAoIXByb2Nlc3MuZW52W3V0aWwuY29uZmlnT3B0SW5FbnZdKSB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIHByb2ZpbGVOYW1lcyA9IE9iamVjdC5rZXlzKHByb2ZpbGVzRnJvbUNvbmZpZyk7IGkgPCBwcm9maWxlTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHByb2ZpbGVzW3Byb2ZpbGVOYW1lc1tpXV0gPSBvYmplY3RBc3NpZ24ocHJvZmlsZXNbcHJvZmlsZU5hbWVzW2ldXSB8fCB7fSwgcHJvZmlsZXNGcm9tQ29uZmlnW3Byb2ZpbGVOYW1lc1tpXV0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgcHJvZmlsZU5hbWVzID0gT2JqZWN0LmtleXMocHJvZmlsZXNGcm9tQ3JlZHMpOyBpIDwgcHJvZmlsZU5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBwcm9maWxlc1twcm9maWxlTmFtZXNbaV1dID0gb2JqZWN0QXNzaWduKHByb2ZpbGVzW3Byb2ZpbGVOYW1lc1tpXV0gfHwge30sIHByb2ZpbGVzRnJvbUNyZWRzW3Byb2ZpbGVOYW1lc1tpXV0pO1xuICAgIH1cbiAgICByZXR1cm4gcHJvZmlsZXM7XG5cbiAgICAvKipcbiAgICAgKiBSb3VnaGx5IHRoZSBzZW1hbnRpY3Mgb2YgYE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdEFzc2lnbih0YXJnZXQsIHNvdXJjZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyBpIDwga2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0YXJnZXRba2V5c1tpXV0gPSBzb3VyY2Vba2V5c1tpXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBBUk46IHtcbiAgICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGVBUk4oc3RyKSB7XG4gICAgICByZXR1cm4gc3RyICYmIHN0ci5pbmRleE9mKCdhcm46JykgPT09IDAgJiYgc3RyLnNwbGl0KCc6JykubGVuZ3RoID49IDY7XG4gICAgfSxcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2VBUk4oYXJuKSB7XG4gICAgICB2YXIgbWF0Y2hlZCA9IGFybi5zcGxpdCgnOicpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGFydGl0aW9uOiBtYXRjaGVkWzFdLFxuICAgICAgICBzZXJ2aWNlOiBtYXRjaGVkWzJdLFxuICAgICAgICByZWdpb246IG1hdGNoZWRbM10sXG4gICAgICAgIGFjY291bnRJZDogbWF0Y2hlZFs0XSxcbiAgICAgICAgcmVzb3VyY2U6IG1hdGNoZWQuc2xpY2UoNSkuam9pbignOicpXG4gICAgICB9O1xuICAgIH0sXG4gICAgYnVpbGQ6IGZ1bmN0aW9uIGJ1aWxkQVJOKGFybk9iamVjdCkge1xuICAgICAgaWYgKFxuICAgICAgICBhcm5PYmplY3Quc2VydmljZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIGFybk9iamVjdC5yZWdpb24gPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICBhcm5PYmplY3QuYWNjb3VudElkID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgYXJuT2JqZWN0LnJlc291cmNlID09PSB1bmRlZmluZWRcbiAgICAgICkgdGhyb3cgdXRpbC5lcnJvcihuZXcgRXJyb3IoJ0lucHV0IEFSTiBvYmplY3QgaXMgaW52YWxpZCcpKTtcbiAgICAgIHJldHVybiAnYXJuOicrIChhcm5PYmplY3QucGFydGl0aW9uIHx8ICdhd3MnKSArICc6JyArIGFybk9iamVjdC5zZXJ2aWNlICtcbiAgICAgICAgJzonICsgYXJuT2JqZWN0LnJlZ2lvbiArICc6JyArIGFybk9iamVjdC5hY2NvdW50SWQgKyAnOicgKyBhcm5PYmplY3QucmVzb3VyY2U7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGRlZmF1bHRQcm9maWxlOiAnZGVmYXVsdCcsXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY29uZmlnT3B0SW5FbnY6ICdBV1NfU0RLX0xPQURfQ09ORklHJyxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnY6ICdBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEUnLFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNoYXJlZENvbmZpZ0ZpbGVFbnY6ICdBV1NfQ09ORklHX0ZJTEUnLFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGltZHNEaXNhYmxlZEVudjogJ0FXU19FQzJfTUVUQURBVEFfRElTQUJMRUQnXG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWw7XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuLi9jb3JlJykudXRpbDtcbnZhciBUcmFuc2Zvcm0gPSByZXF1aXJlKCdzdHJlYW0nKS5UcmFuc2Zvcm07XG52YXIgYWxsb2NCdWZmZXIgPSB1dGlsLmJ1ZmZlci5hbGxvYztcblxuLyoqIEB0eXBlIHtUcmFuc2Zvcm19ICovXG5mdW5jdGlvbiBFdmVudE1lc3NhZ2VDaHVua2VyU3RyZWFtKG9wdGlvbnMpIHtcbiAgICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTtcblxuICAgIHRoaXMuY3VycmVudE1lc3NhZ2VUb3RhbExlbmd0aCA9IDA7XG4gICAgdGhpcy5jdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGggPSAwO1xuICAgIC8qKiBAdHlwZSB7QnVmZmVyfSAqL1xuICAgIHRoaXMuY3VycmVudE1lc3NhZ2UgPSBudWxsO1xuXG4gICAgLyoqIEB0eXBlIHtCdWZmZXJ9ICovXG4gICAgdGhpcy5tZXNzYWdlTGVuZ3RoQnVmZmVyID0gbnVsbDtcbn1cblxuRXZlbnRNZXNzYWdlQ2h1bmtlclN0cmVhbS5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKFRyYW5zZm9ybS5wcm90b3R5cGUpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gY2h1bmtcbiAqIEBwYXJhbSB7c3RyaW5nfSBlbmNvZGluZ1xuICogQHBhcmFtIHsqfSBjYWxsYmFja1xuICovXG5FdmVudE1lc3NhZ2VDaHVua2VyU3RyZWFtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIHZhciBjaHVua0xlbmd0aCA9IGNodW5rLmxlbmd0aDtcbiAgICB2YXIgY3VycmVudE9mZnNldCA9IDA7XG5cbiAgICB3aGlsZSAoY3VycmVudE9mZnNldCA8IGNodW5rTGVuZ3RoKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBuZXcgbWVzc2FnZSBpZiBuZWNlc3NhcnlcbiAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRNZXNzYWdlKSB7XG4gICAgICAgICAgICAvLyB3b3JraW5nIG9uIGEgbmV3IG1lc3NhZ2UsIGRldGVybWluZSB0b3RhbCBsZW5ndGhcbiAgICAgICAgICAgIHZhciBieXRlc1JlbWFpbmluZyA9IGNodW5rTGVuZ3RoIC0gY3VycmVudE9mZnNldDtcbiAgICAgICAgICAgIC8vIHByZXZlbnQgZWRnZSBjYXNlIHdoZXJlIHRvdGFsIGxlbmd0aCBzcGFucyAyIGNodW5rc1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1lc3NhZ2VMZW5ndGhCdWZmZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2VMZW5ndGhCdWZmZXIgPSBhbGxvY0J1ZmZlcig0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBudW1CeXRlc0ZvclRvdGFsID0gTWF0aC5taW4oXG4gICAgICAgICAgICAgICAgNCAtIHRoaXMuY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoLCAvLyByZW1haW5pbmcgYnl0ZXMgdG8gZmlsbCB0aGUgbWVzc2FnZUxlbmd0aEJ1ZmZlclxuICAgICAgICAgICAgICAgIGJ5dGVzUmVtYWluaW5nIC8vIGJ5dGVzIGxlZnQgaW4gY2h1bmtcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIGNodW5rLmNvcHkoXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlTGVuZ3RoQnVmZmVyLFxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRPZmZzZXQsXG4gICAgICAgICAgICAgICAgY3VycmVudE9mZnNldCArIG51bUJ5dGVzRm9yVG90YWxcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoICs9IG51bUJ5dGVzRm9yVG90YWw7XG4gICAgICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IG51bUJ5dGVzRm9yVG90YWw7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCA8IDQpIHtcbiAgICAgICAgICAgICAgICAvLyBub3QgZW5vdWdoIGluZm9ybWF0aW9uIHRvIGNyZWF0ZSB0aGUgY3VycmVudCBtZXNzYWdlXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFsbG9jYXRlTWVzc2FnZSh0aGlzLm1lc3NhZ2VMZW5ndGhCdWZmZXIucmVhZFVJbnQzMkJFKDApKTtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUxlbmd0aEJ1ZmZlciA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB3cml0ZSBkYXRhIGludG8gY3VycmVudCBtZXNzYWdlXG4gICAgICAgIHZhciBudW1CeXRlc1RvV3JpdGUgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE1lc3NhZ2VUb3RhbExlbmd0aCAtIHRoaXMuY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoLCAvLyBudW1iZXIgb2YgYnl0ZXMgbGVmdCB0byBjb21wbGV0ZSBtZXNzYWdlXG4gICAgICAgICAgICBjaHVua0xlbmd0aCAtIGN1cnJlbnRPZmZzZXQgLy8gbnVtYmVyIG9mIGJ5dGVzIGxlZnQgaW4gdGhlIG9yaWdpbmFsIGNodW5rXG4gICAgICAgICk7XG4gICAgICAgIGNodW5rLmNvcHkoXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlLCAvLyB0YXJnZXQgYnVmZmVyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCwgLy8gdGFyZ2V0IG9mZnNldFxuICAgICAgICAgICAgY3VycmVudE9mZnNldCwgLy8gY2h1bmsgb2Zmc2V0XG4gICAgICAgICAgICBjdXJyZW50T2Zmc2V0ICsgbnVtQnl0ZXNUb1dyaXRlIC8vIGNodW5rIGVuZCB0byB3cml0ZVxuICAgICAgICApO1xuICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCArPSBudW1CeXRlc1RvV3JpdGU7XG4gICAgICAgIGN1cnJlbnRPZmZzZXQgKz0gbnVtQnl0ZXNUb1dyaXRlO1xuXG4gICAgICAgIC8vIGNoZWNrIGlmIGEgbWVzc2FnZSBpcyByZWFkeSB0byBiZSBwdXNoZWRcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE1lc3NhZ2VUb3RhbExlbmd0aCAmJiB0aGlzLmN1cnJlbnRNZXNzYWdlVG90YWxMZW5ndGggPT09IHRoaXMuY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBwdXNoIG91dCB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgdGhpcy5wdXNoKHRoaXMuY3VycmVudE1lc3NhZ2UpO1xuICAgICAgICAgICAgLy8gY2xlYW51cFxuICAgICAgICAgICAgdGhpcy5jdXJyZW50TWVzc2FnZSA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRNZXNzYWdlVG90YWxMZW5ndGggPSAwO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50TWVzc2FnZVBlbmRpbmdMZW5ndGggPSAwO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2FsbGJhY2soKTtcbn07XG5cbkV2ZW50TWVzc2FnZUNodW5rZXJTdHJlYW0ucHJvdG90eXBlLl9mbHVzaCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgaWYgKHRoaXMuY3VycmVudE1lc3NhZ2VUb3RhbExlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TWVzc2FnZVRvdGFsTGVuZ3RoID09PSB0aGlzLmN1cnJlbnRNZXNzYWdlUGVuZGluZ0xlbmd0aCkge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgdGhpcy5jdXJyZW50TWVzc2FnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ1RydW5jYXRlZCBldmVudCBtZXNzYWdlIHJlY2VpdmVkLicpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gc2l6ZSBTaXplIG9mIHRoZSBtZXNzYWdlIHRvIGJlIGFsbG9jYXRlZC5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5FdmVudE1lc3NhZ2VDaHVua2VyU3RyZWFtLnByb3RvdHlwZS5hbGxvY2F0ZU1lc3NhZ2UgPSBmdW5jdGlvbihzaXplKSB7XG4gICAgaWYgKHR5cGVvZiBzaXplICE9PSAnbnVtYmVyJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dGVtcHRlZCB0byBhbGxvY2F0ZSBhbiBldmVudCBtZXNzYWdlIHdoZXJlIHNpemUgd2FzIG5vdCBhIG51bWJlcjogJyArIHNpemUpO1xuICAgIH1cbiAgICB0aGlzLmN1cnJlbnRNZXNzYWdlVG90YWxMZW5ndGggPSBzaXplO1xuICAgIHRoaXMuY3VycmVudE1lc3NhZ2VQZW5kaW5nTGVuZ3RoID0gNDtcbiAgICB0aGlzLmN1cnJlbnRNZXNzYWdlID0gYWxsb2NCdWZmZXIoc2l6ZSk7XG4gICAgdGhpcy5jdXJyZW50TWVzc2FnZS53cml0ZVVJbnQzMkJFKHNpemUsIDApO1xufTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgRXZlbnRNZXNzYWdlQ2h1bmtlclN0cmVhbTogRXZlbnRNZXNzYWdlQ2h1bmtlclN0cmVhbVxufTtcbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL2NvcmUnKS51dGlsO1xudmFyIHRvQnVmZmVyID0gdXRpbC5idWZmZXIudG9CdWZmZXI7XG5cbi8qKlxuICogQSBsb3NzbGVzcyByZXByZXNlbnRhdGlvbiBvZiBhIHNpZ25lZCwgNjQtYml0IGludGVnZXIuIEluc3RhbmNlcyBvZiB0aGlzXG4gKiBjbGFzcyBtYXkgYmUgdXNlZCBpbiBhcml0aG1ldGljIGV4cHJlc3Npb25zIGFzIGlmIHRoZXkgd2VyZSBudW1lcmljXG4gKiBwcmltaXRpdmVzLCBidXQgdGhlIGJpbmFyeSByZXByZXNlbnRhdGlvbiB3aWxsIGJlIHByZXNlcnZlZCB1bmNoYW5nZWQgYXMgdGhlXG4gKiBgYnl0ZXNgIHByb3BlcnR5IG9mIHRoZSBvYmplY3QuIFRoZSBieXRlcyBzaG91bGQgYmUgZW5jb2RlZCBhcyBiaWctZW5kaWFuLFxuICogdHdvJ3MgY29tcGxlbWVudCBpbnRlZ2Vycy5cbiAqIEBwYXJhbSB7QnVmZmVyfSBieXRlc1xuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBJbnQ2NChieXRlcykge1xuICAgIGlmIChieXRlcy5sZW5ndGggIT09IDgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnQ2NCBidWZmZXJzIG11c3QgYmUgZXhhY3RseSA4IGJ5dGVzJyk7XG4gICAgfVxuICAgIGlmICghdXRpbC5CdWZmZXIuaXNCdWZmZXIoYnl0ZXMpKSBieXRlcyA9IHRvQnVmZmVyKGJ5dGVzKTtcblxuICAgIHRoaXMuYnl0ZXMgPSBieXRlcztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyXG4gKiBAcmV0dXJucyB7SW50NjR9XG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbkludDY0LmZyb21OdW1iZXIgPSBmdW5jdGlvbihudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyID4gOTIyMzM3MjAzNjg1NDc3NTgwNyB8fCBudW1iZXIgPCAtOTIyMzM3MjAzNjg1NDc3NTgwOCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBudW1iZXIgKyAnIGlzIHRvbyBsYXJnZSAob3IsIGlmIG5lZ2F0aXZlLCB0b28gc21hbGwpIHRvIHJlcHJlc2VudCBhcyBhbiBJbnQ2NCdcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheSg4KTtcbiAgICBmb3IgKFxuICAgICAgICB2YXIgaSA9IDcsIHJlbWFpbmluZyA9IE1hdGguYWJzKE1hdGgucm91bmQobnVtYmVyKSk7XG4gICAgICAgIGkgPiAtMSAmJiByZW1haW5pbmcgPiAwO1xuICAgICAgICBpLS0sIHJlbWFpbmluZyAvPSAyNTZcbiAgICApIHtcbiAgICAgICAgYnl0ZXNbaV0gPSByZW1haW5pbmc7XG4gICAgfVxuXG4gICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgbmVnYXRlKGJ5dGVzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbmV3IEludDY0KGJ5dGVzKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn1cbiAqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuSW50NjQucHJvdG90eXBlLnZhbHVlT2YgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYnl0ZXMgPSB0aGlzLmJ5dGVzLnNsaWNlKDApO1xuICAgIHZhciBuZWdhdGl2ZSA9IGJ5dGVzWzBdICYgMTI4O1xuICAgIGlmIChuZWdhdGl2ZSkge1xuICAgICAgICBuZWdhdGUoYnl0ZXMpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXJzZUludChieXRlcy50b1N0cmluZygnaGV4JyksIDE2KSAqIChuZWdhdGl2ZSA/IC0xIDogMSk7XG59O1xuXG5JbnQ2NC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gU3RyaW5nKHRoaXMudmFsdWVPZigpKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtCdWZmZXJ9IGJ5dGVzXG4gKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIG5lZ2F0ZShieXRlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgODsgaSsrKSB7XG4gICAgICAgIGJ5dGVzW2ldIF49IDB4RkY7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSA3OyBpID4gLTE7IGktLSkge1xuICAgICAgICBieXRlc1tpXSsrO1xuICAgICAgICBpZiAoYnl0ZXNbaV0gIT09IDApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBJbnQ2NDogSW50NjRcbn07XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuLi9jb3JlJykudXRpbDtcbnZhciB0b0J1ZmZlciA9IHV0aWwuYnVmZmVyLnRvQnVmZmVyO1xuXG4vLyBBbGwgcHJlbHVkZSBjb21wb25lbnRzIGFyZSB1bnNpZ25lZCwgMzItYml0IGludGVnZXJzXG52YXIgUFJFTFVERV9NRU1CRVJfTEVOR1RIID0gNDtcbi8vIFRoZSBwcmVsdWRlIGNvbnNpc3RzIG9mIHR3byBjb21wb25lbnRzXG52YXIgUFJFTFVERV9MRU5HVEggPSBQUkVMVURFX01FTUJFUl9MRU5HVEggKiAyO1xuLy8gQ2hlY2tzdW1zIGFyZSBhbHdheXMgQ1JDMzIgaGFzaGVzLlxudmFyIENIRUNLU1VNX0xFTkdUSCA9IDQ7XG4vLyBNZXNzYWdlcyBtdXN0IGluY2x1ZGUgYSBmdWxsIHByZWx1ZGUsIGEgcHJlbHVkZSBjaGVja3N1bSwgYW5kIGEgbWVzc2FnZSBjaGVja3N1bVxudmFyIE1JTklNVU1fTUVTU0FHRV9MRU5HVEggPSBQUkVMVURFX0xFTkdUSCArIENIRUNLU1VNX0xFTkdUSCAqIDI7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKlxuICogQHBhcmFtIHtCdWZmZXJ9IG1lc3NhZ2VcbiAqL1xuZnVuY3Rpb24gc3BsaXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICBpZiAoIXV0aWwuQnVmZmVyLmlzQnVmZmVyKG1lc3NhZ2UpKSBtZXNzYWdlID0gdG9CdWZmZXIobWVzc2FnZSk7XG5cbiAgICBpZiAobWVzc2FnZS5sZW5ndGggPCBNSU5JTVVNX01FU1NBR0VfTEVOR1RIKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUHJvdmlkZWQgbWVzc2FnZSB0b28gc2hvcnQgdG8gYWNjb21tb2RhdGUgZXZlbnQgc3RyZWFtIG1lc3NhZ2Ugb3ZlcmhlYWQnKTtcbiAgICB9XG5cbiAgICBpZiAobWVzc2FnZS5sZW5ndGggIT09IG1lc3NhZ2UucmVhZFVJbnQzMkJFKDApKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignUmVwb3J0ZWQgbWVzc2FnZSBsZW5ndGggZG9lcyBub3QgbWF0Y2ggcmVjZWl2ZWQgbWVzc2FnZSBsZW5ndGgnKTtcbiAgICB9XG5cbiAgICB2YXIgZXhwZWN0ZWRQcmVsdWRlQ2hlY2tzdW0gPSBtZXNzYWdlLnJlYWRVSW50MzJCRShQUkVMVURFX0xFTkdUSCk7XG5cbiAgICBpZiAoXG4gICAgICAgIGV4cGVjdGVkUHJlbHVkZUNoZWNrc3VtICE9PSB1dGlsLmNyeXB0by5jcmMzMihcbiAgICAgICAgICAgIG1lc3NhZ2Uuc2xpY2UoMCwgUFJFTFVERV9MRU5HVEgpXG4gICAgICAgIClcbiAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgJ1RoZSBwcmVsdWRlIGNoZWNrc3VtIHNwZWNpZmllZCBpbiB0aGUgbWVzc2FnZSAoJyArXG4gICAgICAgICAgICBleHBlY3RlZFByZWx1ZGVDaGVja3N1bSArXG4gICAgICAgICAgICAnKSBkb2VzIG5vdCBtYXRjaCB0aGUgY2FsY3VsYXRlZCBDUkMzMiBjaGVja3N1bS4nXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGV4cGVjdGVkTWVzc2FnZUNoZWNrc3VtID0gbWVzc2FnZS5yZWFkVUludDMyQkUobWVzc2FnZS5sZW5ndGggLSBDSEVDS1NVTV9MRU5HVEgpO1xuXG4gICAgaWYgKFxuICAgICAgICBleHBlY3RlZE1lc3NhZ2VDaGVja3N1bSAhPT0gdXRpbC5jcnlwdG8uY3JjMzIoXG4gICAgICAgICAgICBtZXNzYWdlLnNsaWNlKDAsIG1lc3NhZ2UubGVuZ3RoIC0gQ0hFQ0tTVU1fTEVOR1RIKVxuICAgICAgICApXG4gICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAgICdUaGUgbWVzc2FnZSBjaGVja3N1bSBkaWQgbm90IG1hdGNoIHRoZSBleHBlY3RlZCB2YWx1ZSBvZiAnICtcbiAgICAgICAgICAgICAgICBleHBlY3RlZE1lc3NhZ2VDaGVja3N1bVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHZhciBoZWFkZXJzU3RhcnQgPSBQUkVMVURFX0xFTkdUSCArIENIRUNLU1VNX0xFTkdUSDtcbiAgICB2YXIgaGVhZGVyc0VuZCA9IGhlYWRlcnNTdGFydCArIG1lc3NhZ2UucmVhZFVJbnQzMkJFKFBSRUxVREVfTUVNQkVSX0xFTkdUSCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBoZWFkZXJzOiBtZXNzYWdlLnNsaWNlKGhlYWRlcnNTdGFydCwgaGVhZGVyc0VuZCksXG4gICAgICAgIGJvZHk6IG1lc3NhZ2Uuc2xpY2UoaGVhZGVyc0VuZCwgbWVzc2FnZS5sZW5ndGggLSBDSEVDS1NVTV9MRU5HVEgpLFxuICAgIH07XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIHNwbGl0TWVzc2FnZTogc3BsaXRNZXNzYWdlXG59O1xuIiwgInZhciBJbnQ2NCA9IHJlcXVpcmUoJy4vaW50NjQnKS5JbnQ2NDtcblxudmFyIHNwbGl0TWVzc2FnZSA9IHJlcXVpcmUoJy4vc3BsaXQtbWVzc2FnZScpLnNwbGl0TWVzc2FnZTtcblxudmFyIEJPT0xFQU5fVEFHID0gJ2Jvb2xlYW4nO1xudmFyIEJZVEVfVEFHID0gJ2J5dGUnO1xudmFyIFNIT1JUX1RBRyA9ICdzaG9ydCc7XG52YXIgSU5UX1RBRyA9ICdpbnRlZ2VyJztcbnZhciBMT05HX1RBRyA9ICdsb25nJztcbnZhciBCSU5BUllfVEFHID0gJ2JpbmFyeSc7XG52YXIgU1RSSU5HX1RBRyA9ICdzdHJpbmcnO1xudmFyIFRJTUVTVEFNUF9UQUcgPSAndGltZXN0YW1wJztcbnZhciBVVUlEX1RBRyA9ICd1dWlkJztcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqXG4gKiBAcGFyYW0ge0J1ZmZlcn0gaGVhZGVyc1xuICovXG5mdW5jdGlvbiBwYXJzZUhlYWRlcnMoaGVhZGVycykge1xuICAgIHZhciBvdXQgPSB7fTtcbiAgICB2YXIgcG9zaXRpb24gPSAwO1xuICAgIHdoaWxlIChwb3NpdGlvbiA8IGhlYWRlcnMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBuYW1lTGVuZ3RoID0gaGVhZGVycy5yZWFkVUludDgocG9zaXRpb24rKyk7XG4gICAgICAgIHZhciBuYW1lID0gaGVhZGVycy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyBuYW1lTGVuZ3RoKS50b1N0cmluZygpO1xuICAgICAgICBwb3NpdGlvbiArPSBuYW1lTGVuZ3RoO1xuICAgICAgICBzd2l0Y2ggKGhlYWRlcnMucmVhZFVJbnQ4KHBvc2l0aW9uKyspKSB7XG4gICAgICAgICAgICBjYXNlIDAgLyogYm9vbFRydWUgKi86XG4gICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCT09MRUFOX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAxIC8qIGJvb2xGYWxzZSAqLzpcbiAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJPT0xFQU5fVEFHLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyIC8qIGJ5dGUgKi86XG4gICAgICAgICAgICAgICAgb3V0W25hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBCWVRFX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMucmVhZEludDgocG9zaXRpb24rKylcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzIC8qIHNob3J0ICovOlxuICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU0hPUlRfVEFHLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaGVhZGVycy5yZWFkSW50MTZCRShwb3NpdGlvbilcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQgLyogaW50ZWdlciAqLzpcbiAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IElOVF9UQUcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBoZWFkZXJzLnJlYWRJbnQzMkJFKHBvc2l0aW9uKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gNDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNSAvKiBsb25nICovOlxuICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogTE9OR19UQUcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgSW50NjQoaGVhZGVycy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyA4KSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDg7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDYgLyogYnl0ZUFycmF5ICovOlxuICAgICAgICAgICAgICAgIHZhciBiaW5hcnlMZW5ndGggPSBoZWFkZXJzLnJlYWRVSW50MTZCRShwb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gMjtcbiAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IEJJTkFSWV9UQUcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBoZWFkZXJzLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIGJpbmFyeUxlbmd0aClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IGJpbmFyeUxlbmd0aDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNyAvKiBzdHJpbmcgKi86XG4gICAgICAgICAgICAgICAgdmFyIHN0cmluZ0xlbmd0aCA9IGhlYWRlcnMucmVhZFVJbnQxNkJFKHBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiArPSAyO1xuICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogU1RSSU5HX1RBRyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGhlYWRlcnMuc2xpY2UoXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uICsgc3RyaW5nTGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICkudG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gc3RyaW5nTGVuZ3RoO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA4IC8qIHRpbWVzdGFtcCAqLzpcbiAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFRJTUVTVEFNUF9UQUcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBJbnQ2NChoZWFkZXJzLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIDgpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC52YWx1ZU9mKClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gKz0gODtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgOSAvKiB1dWlkICovOlxuICAgICAgICAgICAgICAgIHZhciB1dWlkQ2hhcnMgPSBoZWFkZXJzLnNsaWNlKHBvc2l0aW9uLCBwb3NpdGlvbiArIDE2KVxuICAgICAgICAgICAgICAgICAgICAudG9TdHJpbmcoJ2hleCcpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uICs9IDE2O1xuICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogVVVJRF9UQUcsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1dWlkQ2hhcnMuc3Vic3RyKDAsIDgpICsgJy0nICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV1aWRDaGFycy5zdWJzdHIoOCwgNCkgKyAnLScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZENoYXJzLnN1YnN0cigxMiwgNCkgKyAnLScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZENoYXJzLnN1YnN0cigxNiwgNCkgKyAnLScgK1xuICAgICAgICAgICAgICAgICAgICAgICAgdXVpZENoYXJzLnN1YnN0cigyMClcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VucmVjb2duaXplZCBoZWFkZXIgdHlwZSB0YWcnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0O1xufVxuXG5mdW5jdGlvbiBwYXJzZU1lc3NhZ2UobWVzc2FnZSkge1xuICAgIHZhciBwYXJzZWQgPSBzcGxpdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgcmV0dXJuIHsgaGVhZGVyczogcGFyc2VIZWFkZXJzKHBhcnNlZC5oZWFkZXJzKSwgYm9keTogcGFyc2VkLmJvZHkgfTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgcGFyc2VNZXNzYWdlOiBwYXJzZU1lc3NhZ2Vcbn07XG4iLCAidmFyIHBhcnNlTWVzc2FnZSA9IHJlcXVpcmUoJy4vcGFyc2UtbWVzc2FnZScpLnBhcnNlTWVzc2FnZTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHsqfSBwYXJzZXJcbiAqIEBwYXJhbSB7QnVmZmVyfSBtZXNzYWdlXG4gKiBAcGFyYW0geyp9IHNoYXBlXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gcGFyc2VFdmVudChwYXJzZXIsIG1lc3NhZ2UsIHNoYXBlKSB7XG4gICAgdmFyIHBhcnNlZE1lc3NhZ2UgPSBwYXJzZU1lc3NhZ2UobWVzc2FnZSk7XG5cbiAgICAvLyBjaGVjayBpZiBtZXNzYWdlIGlzIGFuIGV2ZW50IG9yIGVycm9yXG4gICAgdmFyIG1lc3NhZ2VUeXBlID0gcGFyc2VkTWVzc2FnZS5oZWFkZXJzWyc6bWVzc2FnZS10eXBlJ107XG4gICAgaWYgKG1lc3NhZ2VUeXBlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlVHlwZS52YWx1ZSA9PT0gJ2Vycm9yJykge1xuICAgICAgICAgICAgdGhyb3cgcGFyc2VFcnJvcihwYXJzZWRNZXNzYWdlKTtcbiAgICAgICAgfSBlbHNlIGlmIChtZXNzYWdlVHlwZS52YWx1ZSAhPT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgLy8gbm90IHN1cmUgaG93IHRvIHBhcnNlIG5vbi1ldmVudHMvbm9uLWVycm9ycywgaWdub3JlIGZvciBub3dcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIGRldGVybWluZSBldmVudCB0eXBlXG4gICAgdmFyIGV2ZW50VHlwZSA9IHBhcnNlZE1lc3NhZ2UuaGVhZGVyc1snOmV2ZW50LXR5cGUnXTtcbiAgICAvLyBjaGVjayB0aGF0IHRoZSBldmVudCB0eXBlIGlzIG1vZGVsZWRcbiAgICB2YXIgZXZlbnRNb2RlbCA9IHNoYXBlLm1lbWJlcnNbZXZlbnRUeXBlLnZhbHVlXTtcbiAgICBpZiAoIWV2ZW50TW9kZWwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAvLyBjaGVjayBpZiBhbiBldmVudCBwYXlsb2FkIGV4aXN0c1xuICAgIHZhciBldmVudFBheWxvYWRNZW1iZXJOYW1lID0gZXZlbnRNb2RlbC5ldmVudFBheWxvYWRNZW1iZXJOYW1lO1xuICAgIGlmIChldmVudFBheWxvYWRNZW1iZXJOYW1lKSB7XG4gICAgICAgIHZhciBwYXlsb2FkU2hhcGUgPSBldmVudE1vZGVsLm1lbWJlcnNbZXZlbnRQYXlsb2FkTWVtYmVyTmFtZV07XG4gICAgICAgIC8vIGlmIHRoZSBzaGFwZSBpcyBiaW5hcnksIHJldHVybiB0aGUgYnl0ZSBhcnJheVxuICAgICAgICBpZiAocGF5bG9hZFNoYXBlLnR5cGUgPT09ICdiaW5hcnknKSB7XG4gICAgICAgICAgICByZXN1bHRbZXZlbnRQYXlsb2FkTWVtYmVyTmFtZV0gPSBwYXJzZWRNZXNzYWdlLmJvZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbZXZlbnRQYXlsb2FkTWVtYmVyTmFtZV0gPSBwYXJzZXIucGFyc2UocGFyc2VkTWVzc2FnZS5ib2R5LnRvU3RyaW5nKCksIHBheWxvYWRTaGFwZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyByZWFkIGV2ZW50IGhlYWRlcnNcbiAgICB2YXIgZXZlbnRIZWFkZXJOYW1lcyA9IGV2ZW50TW9kZWwuZXZlbnRIZWFkZXJNZW1iZXJOYW1lcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50SGVhZGVyTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIG5hbWUgPSBldmVudEhlYWRlck5hbWVzW2ldO1xuICAgICAgICBpZiAocGFyc2VkTWVzc2FnZS5oZWFkZXJzW25hbWVdKSB7XG4gICAgICAgICAgICAvLyBwYXJzZSB0aGUgaGVhZGVyIVxuICAgICAgICAgICAgcmVzdWx0W25hbWVdID0gZXZlbnRNb2RlbC5tZW1iZXJzW25hbWVdLnRvVHlwZShwYXJzZWRNZXNzYWdlLmhlYWRlcnNbbmFtZV0udmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG91dHB1dCA9IHt9O1xuICAgIG91dHB1dFtldmVudFR5cGUudmFsdWVdID0gcmVzdWx0O1xuICAgIHJldHVybiBvdXRwdXQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRXJyb3IobWVzc2FnZSkge1xuICAgIHZhciBlcnJvckNvZGUgPSBtZXNzYWdlLmhlYWRlcnNbJzplcnJvci1jb2RlJ107XG4gICAgdmFyIGVycm9yTWVzc2FnZSA9IG1lc3NhZ2UuaGVhZGVyc1snOmVycm9yLW1lc3NhZ2UnXTtcbiAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlLnZhbHVlIHx8IGVycm9yTWVzc2FnZSk7XG4gICAgZXJyb3IuY29kZSA9IGVycm9yLm5hbWUgPSBlcnJvckNvZGUudmFsdWUgfHwgZXJyb3JDb2RlO1xuICAgIHJldHVybiBlcnJvcjtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgcGFyc2VFdmVudDogcGFyc2VFdmVudFxufTtcbiIsICJ2YXIgVHJhbnNmb3JtID0gcmVxdWlyZSgnc3RyZWFtJykuVHJhbnNmb3JtO1xudmFyIHBhcnNlRXZlbnQgPSByZXF1aXJlKCcuL3BhcnNlLWV2ZW50JykucGFyc2VFdmVudDtcblxuLyoqIEB0eXBlIHtUcmFuc2Zvcm19ICovXG5mdW5jdGlvbiBFdmVudFVubWFyc2hhbGxlclN0cmVhbShvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgLy8gc2V0IG91dHB1dCB0byBvYmplY3QgbW9kZVxuICAgIG9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlID0gdHJ1ZTtcbiAgICBUcmFuc2Zvcm0uY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB0aGlzLl9yZWFkYWJsZVN0YXRlLm9iamVjdE1vZGUgPSB0cnVlO1xuXG4gICAgdGhpcy5wYXJzZXIgPSBvcHRpb25zLnBhcnNlcjtcbiAgICB0aGlzLmV2ZW50U3RyZWFtTW9kZWwgPSBvcHRpb25zLmV2ZW50U3RyZWFtTW9kZWw7XG59XG5cbkV2ZW50VW5tYXJzaGFsbGVyU3RyZWFtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoVHJhbnNmb3JtLnByb3RvdHlwZSk7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7QnVmZmVyfSBjaHVua1xuICogQHBhcmFtIHtzdHJpbmd9IGVuY29kaW5nXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrXG4gKi9cbkV2ZW50VW5tYXJzaGFsbGVyU3RyZWFtLnByb3RvdHlwZS5fdHJhbnNmb3JtID0gZnVuY3Rpb24oY2h1bmssIGVuY29kaW5nLCBjYWxsYmFjaykge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBldmVudCA9IHBhcnNlRXZlbnQodGhpcy5wYXJzZXIsIGNodW5rLCB0aGlzLmV2ZW50U3RyZWFtTW9kZWwpO1xuICAgICAgICB0aGlzLnB1c2goZXZlbnQpO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBFdmVudFVubWFyc2hhbGxlclN0cmVhbTogRXZlbnRVbm1hcnNoYWxsZXJTdHJlYW1cbn07XG4iLCAiLyoqXG4gKiBXaGF0IGlzIG5lY2Vzc2FyeSB0byBjcmVhdGUgYW4gZXZlbnQgc3RyZWFtIGluIG5vZGU/XG4gKiAgLSBodHRwIHJlc3BvbnNlIHN0cmVhbVxuICogIC0gcGFyc2VyXG4gKiAgLSBldmVudCBzdHJlYW0gbW9kZWxcbiAqL1xuXG52YXIgRXZlbnRNZXNzYWdlQ2h1bmtlclN0cmVhbSA9IHJlcXVpcmUoJy4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLWNodW5rZXItc3RyZWFtJykuRXZlbnRNZXNzYWdlQ2h1bmtlclN0cmVhbTtcbnZhciBFdmVudFVubWFyc2hhbGxlclN0cmVhbSA9IHJlcXVpcmUoJy4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLXVubWFyc2hhbGxlci1zdHJlYW0nKS5FdmVudFVubWFyc2hhbGxlclN0cmVhbTtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRTdHJlYW0oc3RyZWFtLCBwYXJzZXIsIG1vZGVsKSB7XG4gICAgdmFyIGV2ZW50U3RyZWFtID0gbmV3IEV2ZW50VW5tYXJzaGFsbGVyU3RyZWFtKHtcbiAgICAgICAgcGFyc2VyOiBwYXJzZXIsXG4gICAgICAgIGV2ZW50U3RyZWFtTW9kZWw6IG1vZGVsXG4gICAgfSk7XG5cbiAgICB2YXIgZXZlbnRNZXNzYWdlQ2h1bmtlciA9IG5ldyBFdmVudE1lc3NhZ2VDaHVua2VyU3RyZWFtKCk7XG5cbiAgICBzdHJlYW0ucGlwZShcbiAgICAgICAgZXZlbnRNZXNzYWdlQ2h1bmtlclxuICAgICkucGlwZShldmVudFN0cmVhbSk7XG5cbiAgICBzdHJlYW0ub24oJ2Vycm9yJywgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgIGV2ZW50TWVzc2FnZUNodW5rZXIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH0pO1xuXG4gICAgZXZlbnRNZXNzYWdlQ2h1bmtlci5vbignZXJyb3InLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgZXZlbnRTdHJlYW0uZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGV2ZW50U3RyZWFtO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVFdmVudFN0cmVhbTogY3JlYXRlRXZlbnRTdHJlYW1cbn07XG4iLCAiLyoqXG4gKiBUYWtlcyBpbiBhIGJ1ZmZlciBvZiBldmVudCBtZXNzYWdlcyBhbmQgc3BsaXRzIHRoZW0gaW50byBpbmRpdmlkdWFsIG1lc3NhZ2VzLlxuICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlclxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGV2ZW50TWVzc2FnZUNodW5rZXIoYnVmZmVyKSB7XG4gICAgLyoqIEB0eXBlIEJ1ZmZlcltdICovXG4gICAgdmFyIG1lc3NhZ2VzID0gW107XG4gICAgdmFyIG9mZnNldCA9IDA7XG5cbiAgICB3aGlsZSAob2Zmc2V0IDwgYnVmZmVyLmxlbmd0aCkge1xuICAgICAgICB2YXIgdG90YWxMZW5ndGggPSBidWZmZXIucmVhZEludDMyQkUob2Zmc2V0KTtcblxuICAgICAgICAvLyBjcmVhdGUgbmV3IGJ1ZmZlciBmb3IgaW5kaXZpZHVhbCBtZXNzYWdlIChzaGFyZXMgbWVtb3J5IHdpdGggb3JpZ2luYWwpXG4gICAgICAgIHZhciBtZXNzYWdlID0gYnVmZmVyLnNsaWNlKG9mZnNldCwgdG90YWxMZW5ndGggKyBvZmZzZXQpO1xuICAgICAgICAvLyBpbmNyZW1lbnQgb2Zmc2V0IHRvIGl0IHN0YXJ0cyBhdCB0aGUgbmV4dCBtZXNzYWdlXG4gICAgICAgIG9mZnNldCArPSB0b3RhbExlbmd0aDtcblxuICAgICAgICBtZXNzYWdlcy5wdXNoKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIHJldHVybiBtZXNzYWdlcztcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZXZlbnRNZXNzYWdlQ2h1bmtlcjogZXZlbnRNZXNzYWdlQ2h1bmtlclxufTtcbiIsICJ2YXIgZXZlbnRNZXNzYWdlQ2h1bmtlciA9IHJlcXVpcmUoJy4uL2V2ZW50LXN0cmVhbS9ldmVudC1tZXNzYWdlLWNodW5rZXInKS5ldmVudE1lc3NhZ2VDaHVua2VyO1xudmFyIHBhcnNlRXZlbnQgPSByZXF1aXJlKCcuL3BhcnNlLWV2ZW50JykucGFyc2VFdmVudDtcblxuZnVuY3Rpb24gY3JlYXRlRXZlbnRTdHJlYW0oYm9keSwgcGFyc2VyLCBtb2RlbCkge1xuICAgIHZhciBldmVudE1lc3NhZ2VzID0gZXZlbnRNZXNzYWdlQ2h1bmtlcihib2R5KTtcblxuICAgIHZhciBldmVudHMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRNZXNzYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBldmVudHMucHVzaChwYXJzZUV2ZW50KHBhcnNlciwgZXZlbnRNZXNzYWdlc1tpXSwgbW9kZWwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gZXZlbnRzO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBjcmVhdGVFdmVudFN0cmVhbTogY3JlYXRlRXZlbnRTdHJlYW1cbn07XG4iLCAibW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vcHJvdmlkZSByZWFsdGltZSBjbG9jayBmb3IgcGVyZm9ybWFuY2UgbWVhc3VyZW1lbnRcbiAgbm93OiBmdW5jdGlvbiBub3coKSB7XG4gICAgdmFyIHNlY29uZCA9IHByb2Nlc3MuaHJ0aW1lKCk7XG4gICAgcmV0dXJuIHNlY29uZFswXSAqIDEwMDAgKyAoc2Vjb25kWzFdIC8gMTAwMDAwMCk7XG4gIH1cbn07XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuLi9jb3JlJykudXRpbDtcbnZhciBkZ3JhbSA9IHJlcXVpcmUoJ2RncmFtJyk7XG52YXIgc3RyaW5nVG9CdWZmZXIgPSB1dGlsLmJ1ZmZlci50b0J1ZmZlcjtcblxudmFyIE1BWF9NRVNTQUdFX1NJWkUgPSAxMDI0ICogODsgLy8gOCBLQlxuXG4vKipcbiAqIFB1Ymxpc2hlcyBtZXRyaWNzIHZpYSB1ZHAuXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyBQYXJhbXRlcnMgZm9yIFB1Ymxpc2hlciBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLnBvcnQgPSAzMTAwMF0gUG9ydCBudW1iZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy5jbGllbnRJZCA9ICcnXSBDbGllbnQgSWRlbnRpZmllclxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5lbmFibGVkID0gZmFsc2VdIGVuYWJsZSBzZW5kaW5nIG1ldHJpY3MgZGF0YWdyYW1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBQdWJsaXNoZXIob3B0aW9ucykge1xuICAgIC8vIGhhbmRsZSBjb25maWd1cmF0aW9uXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5lbmFibGVkID0gb3B0aW9ucy5lbmFibGVkIHx8IGZhbHNlO1xuICAgIHRoaXMucG9ydCA9IG9wdGlvbnMucG9ydCB8fCAzMTAwMDtcbiAgICB0aGlzLmNsaWVudElkID0gb3B0aW9ucy5jbGllbnRJZCB8fCAnJztcbiAgICB0aGlzLmFkZHJlc3MgPSBvcHRpb25zLmhvc3QgfHwgJzEyNy4wLjAuMSc7XG4gICAgaWYgKHRoaXMuY2xpZW50SWQubGVuZ3RoID4gMjU1KSB7XG4gICAgICAgIC8vIENsaWVudElkIGhhcyBhIG1heCBsZW5ndGggb2YgMjU1XG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSB0aGlzLmNsaWVudElkLnN1YnN0cigwLCAyNTUpO1xuICAgIH1cbiAgICB0aGlzLm1lc3NhZ2VzSW5GbGlnaHQgPSAwO1xufVxuXG5QdWJsaXNoZXIucHJvdG90eXBlLmZpZWxkc1RvVHJpbSA9IHtcbiAgICBVc2VyQWdlbnQ6IDI1NixcbiAgICBTZGtFeGNlcHRpb246IDEyOCxcbiAgICBTZGtFeGNlcHRpb25NZXNzYWdlOiA1MTIsXG4gICAgQXdzRXhjZXB0aW9uOiAxMjgsXG4gICAgQXdzRXhjZXB0aW9uTWVzc2FnZTogNTEyLFxuICAgIEZpbmFsU2RrRXhjZXB0aW9uOiAxMjgsXG4gICAgRmluYWxTZGtFeGNlcHRpb25NZXNzYWdlOiA1MTIsXG4gICAgRmluYWxBd3NFeGNlcHRpb246IDEyOCxcbiAgICBGaW5hbEF3c0V4Y2VwdGlvbk1lc3NhZ2U6IDUxMlxuXG59O1xuXG4vKipcbiAqIFRyaW1zIGZpZWxkcyB0aGF0IGhhdmUgYSBzcGVjaWZpZWQgbWF4IGxlbmd0aC5cbiAqIEBwYXJhbSB7b2JqZWN0fSBldmVudCBBcGlDYWxsIG9yIEFwaUNhbGxBdHRlbXB0IGV2ZW50LlxuICogQHJldHVybnMge29iamVjdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5QdWJsaXNoZXIucHJvdG90eXBlLnRyaW1GaWVsZHMgPSBmdW5jdGlvbihldmVudCkge1xuICAgIHZhciB0cmltbWFibGVGaWVsZHMgPSBPYmplY3Qua2V5cyh0aGlzLmZpZWxkc1RvVHJpbSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGlMZW4gPSB0cmltbWFibGVGaWVsZHMubGVuZ3RoOyBpIDwgaUxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IHRyaW1tYWJsZUZpZWxkc1tpXTtcbiAgICAgICAgaWYgKGV2ZW50Lmhhc093blByb3BlcnR5KGZpZWxkKSkge1xuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IHRoaXMuZmllbGRzVG9UcmltW2ZpZWxkXTtcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGV2ZW50W2ZpZWxkXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiBtYXhMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBldmVudFtmaWVsZF0gPSB2YWx1ZS5zdWJzdHIoMCwgbWF4TGVuZ3RoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXZlbnQ7XG59O1xuXG4vKipcbiAqIEhhbmRsZXMgQXBpQ2FsbCBhbmQgQXBpQ2FsbEF0dGVtcHQgZXZlbnRzLlxuICogQHBhcmFtIHtPYmplY3R9IGV2ZW50IGFwaUNhbGwgb3IgYXBpQ2FsbEF0dGVtcHQgZXZlbnQuXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuUHVibGlzaGVyLnByb3RvdHlwZS5ldmVudEhhbmRsZXIgPSBmdW5jdGlvbihldmVudCkge1xuICAgIC8vIHNldCB0aGUgY2xpZW50SWRcbiAgICBldmVudC5DbGllbnRJZCA9IHRoaXMuY2xpZW50SWQ7XG5cbiAgICB0aGlzLnRyaW1GaWVsZHMoZXZlbnQpO1xuXG4gICAgdmFyIG1lc3NhZ2UgPSBzdHJpbmdUb0J1ZmZlcihKU09OLnN0cmluZ2lmeShldmVudCkpO1xuICAgIGlmICghdGhpcy5lbmFibGVkIHx8IG1lc3NhZ2UubGVuZ3RoID4gTUFYX01FU1NBR0VfU0laRSkge1xuICAgICAgICAvLyBkcm9wIHRoZSBtZXNzYWdlIGlmIHB1Ymxpc2hlciBub3QgZW5hYmxlZCBvciBpdCBpcyB0b28gbGFyZ2VcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMucHVibGlzaERhdGFncmFtKG1lc3NhZ2UpO1xufTtcblxuLyoqXG4gKiBQdWJsaXNoZXMgbWVzc2FnZSB0byBhbiBhZ2VudC5cbiAqIEBwYXJhbSB7QnVmZmVyfSBtZXNzYWdlIEpTT04gbWVzc2FnZSB0byBzZW5kIHRvIGFnZW50LlxuICogQGFwaSBwcml2YXRlXG4gKi9cblB1Ymxpc2hlci5wcm90b3R5cGUucHVibGlzaERhdGFncmFtID0gZnVuY3Rpb24obWVzc2FnZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgY2xpZW50ID0gdGhpcy5nZXRDbGllbnQoKTtcblxuICAgIHRoaXMubWVzc2FnZXNJbkZsaWdodCsrO1xuICAgIHRoaXMuY2xpZW50LnNlbmQobWVzc2FnZSwgMCwgbWVzc2FnZS5sZW5ndGgsIHRoaXMucG9ydCwgdGhpcy5hZGRyZXNzLCBmdW5jdGlvbihlcnIsIGJ5dGVzKSB7XG4gICAgICAgIGlmICgtLXNlbGYubWVzc2FnZXNJbkZsaWdodCA8PSAwKSB7XG4gICAgICAgICAgICAvLyBkZXN0cm95IGV4aXN0aW5nIGNsaWVudCBzbyB0aGUgZXZlbnQgbG9vcCBpc24ndCBrZXB0IG9wZW5cbiAgICAgICAgICAgIHNlbGYuZGVzdHJveUNsaWVudCgpO1xuICAgICAgICB9XG4gICAgfSk7XG59O1xuXG4vKipcbiAqIFJldHVybnMgYW4gZXhpc3RpbmcgdWRwIHNvY2tldCwgb3IgY3JlYXRlcyBvbmUgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGV4aXN0LlxuICogQGFwaSBwcml2YXRlXG4gKi9cblB1Ymxpc2hlci5wcm90b3R5cGUuZ2V0Q2xpZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLmNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGRncmFtLmNyZWF0ZVNvY2tldCgndWRwNCcpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5jbGllbnQ7XG59O1xuXG4vKipcbiAqIERlc3Ryb3lzIHRoZSB1ZHAgc29ja2V0LlxuICogQGFwaSBwcml2YXRlXG4gKi9cblB1Ymxpc2hlci5wcm90b3R5cGUuZGVzdHJveUNsaWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudC5jbG9zZSgpO1xuICAgICAgICB0aGlzLmNsaWVudCA9IHZvaWQgMDtcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgICBQdWJsaXNoZXI6IFB1Ymxpc2hlclxufTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG4vKipcbiAqIFJlc29sdmUgY2xpZW50LXNpZGUgbW9uaXRvcmluZyBjb25maWd1cmF0aW9uIGZyb20gZWl0aGVyIGVudmlyb25tZW50YWwgdmFyaWFibGVzXG4gKiBvciBzaGFyZWQgY29uZmlnIGZpbGUuIENvbmZpZ3VyYXRpb25zIGZyb20gZW52aXJvbm1lbnRhbCB2YXJpYWJsZXMgaGF2ZSBoaWdoZXIgcHJpb3JpdHlcbiAqIHRoYW4gdGhvc2UgZnJvbSBzaGFyZWQgY29uZmlnIGZpbGUuIFRoZSByZXNvbHZlciB3aWxsIHRyeSB0byByZWFkIHRoZSBzaGFyZWQgY29uZmlnIGZpbGVcbiAqIG5vIG1hdHRlciB3aGV0aGVyIHRoZSBBV1NfU0RLX0xPQURfQ09ORklHIHZhcmlhYmxlIGlzIHNldC5cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlTW9uaXRvcmluZ0NvbmZpZygpIHtcbiAgdmFyIGNvbmZpZyA9IHtcbiAgICBwb3J0OiB1bmRlZmluZWQsXG4gICAgY2xpZW50SWQ6IHVuZGVmaW5lZCxcbiAgICBlbmFibGVkOiB1bmRlZmluZWQsXG4gICAgaG9zdDogdW5kZWZpbmVkXG4gIH07XG4gIGlmIChmcm9tRW52aXJvbm1lbnQoY29uZmlnKSB8fCBmcm9tQ29uZmlnRmlsZShjb25maWcpKSByZXR1cm4gdG9KU1R5cGUoY29uZmlnKTtcbiAgcmV0dXJuIHRvSlNUeXBlKGNvbmZpZyk7XG59XG5cbi8qKlxuICogUmVzb2x2ZSBjb25maWd1cmF0aW9ucyBmcm9tIGVudmlyb25tZW50YWwgdmFyaWFibGVzLlxuICogQHBhcmFtIHtvYmplY3R9IGNsaWVudCBzaWRlIG1vbml0b3JpbmcgY29uZmlnIG9iamVjdCBuZWVkcyB0byBiZSByZXNvbHZlZFxuICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgcmVzb2x2aW5nIGNvbmZpZ3VyYXRpb25zIGlzIGRvbmVcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBmcm9tRW52aXJvbm1lbnQoY29uZmlnKSB7XG4gIGNvbmZpZy5wb3J0ID0gY29uZmlnLnBvcnQgfHwgcHJvY2Vzcy5lbnYuQVdTX0NTTV9QT1JUO1xuICBjb25maWcuZW5hYmxlZCA9IGNvbmZpZy5lbmFibGVkIHx8IHByb2Nlc3MuZW52LkFXU19DU01fRU5BQkxFRDtcbiAgY29uZmlnLmNsaWVudElkID0gY29uZmlnLmNsaWVudElkIHx8IHByb2Nlc3MuZW52LkFXU19DU01fQ0xJRU5UX0lEO1xuICBjb25maWcuaG9zdCA9IGNvbmZpZy5ob3N0IHx8IHByb2Nlc3MuZW52LkFXU19DU01fSE9TVDtcbiAgcmV0dXJuIGNvbmZpZy5wb3J0ICYmIGNvbmZpZy5lbmFibGVkICYmIGNvbmZpZy5jbGllbnRJZCAmJiBjb25maWcuaG9zdCB8fFxuICAgIFsnZmFsc2UnLCAnMCddLmluZGV4T2YoY29uZmlnLmVuYWJsZWQpID49IDA7IC8vbm8gbmVlZCB0byByZWFkIHNoYXJlZCBjb25maWcgZmlsZSBpZiBleHBsaWNpdGVseSBkaXNhYmxlZFxufVxuXG4vKipcbiAqIFJlc29sdmUgY29maWd1cmF0aW9ucyBmcm9tIHNoYXJlZCBjb25maWcgZmlsZSB3aXRoIHNwZWNpZmllZCByb2xlIG5hbWVcbiAqIEBwYXJhbSB7b2JqZWN0fSBjbGllbnQgc2lkZSBtb25pdG9yaW5nIGNvbmZpZyBvYmplY3QgbmVlZHMgdG8gYmUgcmVzb2x2ZWRcbiAqIEByZXR1cm5zIHtib29sZWFufSB3aGV0aGVyIHJlc29sdmluZyBjb25maWd1cmF0aW9ucyBpcyBkb25lXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gZnJvbUNvbmZpZ0ZpbGUoY29uZmlnKSB7XG4gIHZhciBzaGFyZWRGaWxlQ29uZmlnO1xuICB0cnkge1xuICAgIHZhciBjb25maWdGaWxlID0gQVdTLnV0aWwuaW5pTG9hZGVyLmxvYWRGcm9tKHtcbiAgICAgIGlzQ29uZmlnOiB0cnVlLFxuICAgICAgZmlsZW5hbWU6IHByb2Nlc3MuZW52W0FXUy51dGlsLnNoYXJlZENvbmZpZ0ZpbGVFbnZdXG4gICAgfSk7XG4gICAgdmFyIHNoYXJlZEZpbGVDb25maWcgPSBjb25maWdGaWxlW1xuICAgICAgcHJvY2Vzcy5lbnYuQVdTX1BST0ZJTEUgfHwgQVdTLnV0aWwuZGVmYXVsdFByb2ZpbGVcbiAgICBdO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKCFzaGFyZWRGaWxlQ29uZmlnKSByZXR1cm4gY29uZmlnO1xuICBjb25maWcucG9ydCA9IGNvbmZpZy5wb3J0IHx8IHNoYXJlZEZpbGVDb25maWcuY3NtX3BvcnQ7XG4gIGNvbmZpZy5lbmFibGVkID0gY29uZmlnLmVuYWJsZWQgfHwgc2hhcmVkRmlsZUNvbmZpZy5jc21fZW5hYmxlZDtcbiAgY29uZmlnLmNsaWVudElkID0gY29uZmlnLmNsaWVudElkIHx8IHNoYXJlZEZpbGVDb25maWcuY3NtX2NsaWVudF9pZDtcbiAgY29uZmlnLmhvc3QgPSBjb25maWcuaG9zdCB8fCBzaGFyZWRGaWxlQ29uZmlnLmNzbV9ob3N0O1xuICByZXR1cm4gY29uZmlnLnBvcnQgJiYgY29uZmlnLmVuYWJsZWQgJiYgY29uZmlnLmNsaWVudElkICYmIGNvbmZpZy5ob3N0O1xufVxuXG4vKipcbiAqIFRyYW5zZmVyIHRoZSByZXNvbHZlZCBjb25maWd1cmF0aW9uIHZhbHVlIHRvIHByb3BlciB0eXBlczogcG9ydCBhcyBudW1iZXIsIGVuYWJsZWRcbiAqIGFzIGJvb2xlYW4gYW5kIGNsaWVudElkIGFzIHN0cmluZy4gVGhlICdlbmFibGVkJyBmbGFnIGlzIHZhbHVlZCB0byBmYWxzZSB3aGVuIHNldFxuICogdG8gJ2ZhbHNlJyBvciAnMCcuXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzb2x2ZWQgY2xpZW50IHNpZGUgbW9uaXRvcmluZyBjb25maWdcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiB0b0pTVHlwZShjb25maWcpIHtcbiAgICAvL2NvbmZpZy5YWFggaXMgZWl0aGVyIHVuZGVmaW5lZCBvciBzdHJpbmdcbiAgdmFyIGZhbHN5Tm90YXRpb25zID0gWydmYWxzZScsICcwJywgdW5kZWZpbmVkXTtcbiAgaWYgKCFjb25maWcuZW5hYmxlZCB8fCBmYWxzeU5vdGF0aW9ucy5pbmRleE9mKGNvbmZpZy5lbmFibGVkLnRvTG93ZXJDYXNlKCkpID49IDApIHtcbiAgICBjb25maWcuZW5hYmxlZCA9IGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIGNvbmZpZy5lbmFibGVkID0gdHJ1ZTtcbiAgfVxuICBjb25maWcucG9ydCA9IGNvbmZpZy5wb3J0ID8gcGFyc2VJbnQoY29uZmlnLnBvcnQsIDEwKSA6IHVuZGVmaW5lZDtcbiAgcmV0dXJuIGNvbmZpZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSByZXNvbHZlTW9uaXRvcmluZ0NvbmZpZztcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIG9zID0gcmVxdWlyZSgnb3MnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5mdW5jdGlvbiBwYXJzZUZpbGUoZmlsZW5hbWUpIHtcbiAgcmV0dXJuIEFXUy51dGlsLmluaS5wYXJzZShBV1MudXRpbC5yZWFkRmlsZVN5bmMoZmlsZW5hbWUpKTtcbn1cblxuZnVuY3Rpb24gZ2V0UHJvZmlsZXMoZmlsZUNvbnRlbnQpIHtcbiAgdmFyIHRtcENvbnRlbnQgPSB7fTtcbiAgT2JqZWN0LmtleXMoZmlsZUNvbnRlbnQpLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbk5hbWUpIHtcbiAgICBpZiAoL15zc28tc2Vzc2lvblxccy8udGVzdChzZWN0aW9uTmFtZSkpIHJldHVybjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodG1wQ29udGVudCwgc2VjdGlvbk5hbWUucmVwbGFjZSgvXnByb2ZpbGVcXHMvLCAnJyksIHtcbiAgICAgIHZhbHVlOiBmaWxlQ29udGVudFtzZWN0aW9uTmFtZV0sXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gdG1wQ29udGVudDtcbn1cblxuZnVuY3Rpb24gZ2V0U3NvU2Vzc2lvbnMoZmlsZUNvbnRlbnQpIHtcbiAgdmFyIHRtcENvbnRlbnQgPSB7fTtcbiAgT2JqZWN0LmtleXMoZmlsZUNvbnRlbnQpLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbk5hbWUpIHtcbiAgICBpZiAoIS9ec3NvLXNlc3Npb25cXHMvLnRlc3Qoc2VjdGlvbk5hbWUpKSByZXR1cm47XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRtcENvbnRlbnQsIHNlY3Rpb25OYW1lLnJlcGxhY2UoL15zc28tc2Vzc2lvblxccy8sICcnKSwge1xuICAgICAgdmFsdWU6IGZpbGVDb250ZW50W3NlY3Rpb25OYW1lXSxcbiAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB0bXBDb250ZW50O1xufVxuXG4vKipcbiAqIEluaSBmaWxlIGxvYWRlciBjbGFzcyB0aGUgc2FtZSBhcyB0aGF0IHVzZWQgaW4gdGhlIFNESy4gSXQgbG9hZHMgYW5kXG4gKiBwYXJzZXMgY29uZmlnIGFuZCBjcmVkZW50aWFscyBmaWxlcyBpbiAuaW5pIGZvcm1hdCBhbmQgY2FjaGUgdGhlIGNvbnRlbnRcbiAqIHRvIGFzc3VyZSBmaWxlcyBhcmUgb25seSByZWFkIG9uY2UuXG4gKiBOb3RlIHRoYXQgY2FsbGluZyBvcGVyYXRpb25zIG9uIHRoZSBpbnN0YW5jZSBpbnN0YW50aWF0ZWQgZnJvbSB0aGlzIGNsYXNzXG4gKiB3b24ndCBhZmZlY3QgdGhlIGJlaGF2aW9yIG9mIFNESyBzaW5jZSBTREsgdXNlcyBhbiBpbnRlcm5hbCBzaW5nbGV0b24gb2ZcbiAqIHRoaXMgY2xhc3MuXG4gKiBAIW1hY3JvIG5vYnJvd3NlclxuICovXG5BV1MuSW5pTG9hZGVyID0gQVdTLnV0aWwuaW5oZXJpdCh7XG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBJbmlMb2FkZXIoKSB7XG4gICAgdGhpcy5yZXNvbHZlZFByb2ZpbGVzID0ge307XG4gICAgdGhpcy5yZXNvbHZlZFNzb1Nlc3Npb25zID0ge307XG4gIH0sXG5cbiAgLyoqIFJlbW92ZSBhbGwgY2FjaGVkIGZpbGVzLiBVc2VkIGFmdGVyIGNvbmZpZyBmaWxlcyBhcmUgdXBkYXRlZC4gKi9cbiAgY2xlYXJDYWNoZWRGaWxlczogZnVuY3Rpb24gY2xlYXJDYWNoZWRGaWxlcygpIHtcbiAgICB0aGlzLnJlc29sdmVkUHJvZmlsZXMgPSB7fTtcbiAgICB0aGlzLnJlc29sdmVkU3NvU2Vzc2lvbnMgPSB7fTtcbiAgfSxcblxuICAvKipcbiAgICogTG9hZCBjb25maWd1cmF0aW9ucyBmcm9tIGNvbmZpZy9jcmVkZW50aWFscyBmaWxlcyBhbmQgY2FjaGUgdGhlbVxuICAgKiBmb3IgbGF0ZXIgdXNlLiBJZiBubyBmaWxlIGlzIHNwZWNpZmllZCBpdCB3aWxsIHRyeSB0byBsb2FkIGRlZmF1bHQgZmlsZXMuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIFttYXBdIGluZm9ybWF0aW9uIGRlc2NyaWJpbmcgdGhlIGZpbGVcbiAgICogQG9wdGlvbiBvcHRpb25zIGZpbGVuYW1lIFtTdHJpbmddICgnfi8uYXdzL2NyZWRlbnRpYWxzJyBvciBkZWZpbmVkIGJ5XG4gICAqICAgQVdTX1NIQVJFRF9DUkVERU5USUFMU19GSUxFIHByb2Nlc3MgZW52IHZhciBvciAnfi8uYXdzL2NvbmZpZycgaWZcbiAgICogICBpc0NvbmZpZyBpcyBzZXQgdG8gdHJ1ZSlcbiAgICogICBwYXRoIHRvIHRoZSBmaWxlIHRvIGJlIHJlYWQuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBpc0NvbmZpZyBbQm9vbGVhbl0gKGZhbHNlKSBUcnVlIHRvIHJlYWQgY29uZmlnIGZpbGUuXG4gICAqIEByZXR1cm4gW21hcDxTdHJpbmcsU3RyaW5nPl0gb2JqZWN0IGNvbnRhaW5pbmcgY29udGVudHMgZnJvbSBmaWxlIGluIGtleS12YWx1ZVxuICAgKiAgIHBhaXJzLlxuICAgKi9cbiAgbG9hZEZyb206IGZ1bmN0aW9uIGxvYWRGcm9tKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgaXNDb25maWcgPSBvcHRpb25zLmlzQ29uZmlnID09PSB0cnVlO1xuICAgIHZhciBmaWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWUgfHwgdGhpcy5nZXREZWZhdWx0RmlsZVBhdGgoaXNDb25maWcpO1xuICAgIGlmICghdGhpcy5yZXNvbHZlZFByb2ZpbGVzW2ZpbGVuYW1lXSkge1xuICAgICAgdmFyIGZpbGVDb250ZW50ID0gcGFyc2VGaWxlKGZpbGVuYW1lKTtcbiAgICAgIGlmIChpc0NvbmZpZykge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yZXNvbHZlZFByb2ZpbGVzLCBmaWxlbmFtZSwge1xuICAgICAgICAgIHZhbHVlOiBnZXRQcm9maWxlcyhmaWxlQ29udGVudClcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcy5yZXNvbHZlZFByb2ZpbGVzLCBmaWxlbmFtZSwgeyB2YWx1ZTogZmlsZUNvbnRlbnQgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnJlc29sdmVkUHJvZmlsZXNbZmlsZW5hbWVdO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkIHNzbyBzZXNzaW9ucyBmcm9tIGNvbmZpZy9jcmVkZW50aWFscyBmaWxlcyBhbmQgY2FjaGUgdGhlbVxuICAgKiBmb3IgbGF0ZXIgdXNlLiBJZiBubyBmaWxlIGlzIHNwZWNpZmllZCBpdCB3aWxsIHRyeSB0byBsb2FkIGRlZmF1bHQgZmlsZS5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgW21hcF0gaW5mb3JtYXRpb24gZGVzY3JpYmluZyB0aGUgZmlsZVxuICAgKiBAb3B0aW9uIG9wdGlvbnMgZmlsZW5hbWUgW1N0cmluZ10gKCd+Ly5hd3MvY29uZmlnJyBvciBkZWZpbmVkIGJ5XG4gICAqICAgQVdTX0NPTkZJR19GSUxFIHByb2Nlc3MgZW52IHZhcilcbiAgICogQHJldHVybiBbbWFwPFN0cmluZyxTdHJpbmc+XSBvYmplY3QgY29udGFpbmluZyBjb250ZW50cyBmcm9tIGZpbGUgaW4ga2V5LXZhbHVlXG4gICAqICAgcGFpcnMuXG4gICAqL1xuICBsb2FkU3NvU2Vzc2lvbnNGcm9tOiBmdW5jdGlvbiBsb2FkU3NvU2Vzc2lvbnNGcm9tKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgZmlsZW5hbWUgPSBvcHRpb25zLmZpbGVuYW1lIHx8IHRoaXMuZ2V0RGVmYXVsdEZpbGVQYXRoKHRydWUpO1xuICAgIGlmICghdGhpcy5yZXNvbHZlZFNzb1Nlc3Npb25zW2ZpbGVuYW1lXSkge1xuICAgICAgdmFyIGZpbGVDb250ZW50ID0gcGFyc2VGaWxlKGZpbGVuYW1lKTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLnJlc29sdmVkU3NvU2Vzc2lvbnMsIGZpbGVuYW1lLCB7XG4gICAgICAgIHZhbHVlOiBnZXRTc29TZXNzaW9ucyhmaWxlQ29udGVudClcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlZFNzb1Nlc3Npb25zW2ZpbGVuYW1lXTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBnZXREZWZhdWx0RmlsZVBhdGg6IGZ1bmN0aW9uIGdldERlZmF1bHRGaWxlUGF0aChpc0NvbmZpZykge1xuICAgIHJldHVybiBwYXRoLmpvaW4oXG4gICAgICB0aGlzLmdldEhvbWVEaXIoKSxcbiAgICAgICcuYXdzJyxcbiAgICAgIGlzQ29uZmlnID8gJ2NvbmZpZycgOiAnY3JlZGVudGlhbHMnXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBnZXRIb21lRGlyOiBmdW5jdGlvbiBnZXRIb21lRGlyKCkge1xuICAgIHZhciBlbnYgPSBwcm9jZXNzLmVudjtcbiAgICB2YXIgaG9tZSA9IGVudi5IT01FIHx8XG4gICAgICBlbnYuVVNFUlBST0ZJTEUgfHxcbiAgICAgIChlbnYuSE9NRVBBVEggPyAoKGVudi5IT01FRFJJVkUgfHwgJ0M6LycpICsgZW52LkhPTUVQQVRIKSA6IG51bGwpO1xuXG4gICAgaWYgKGhvbWUpIHtcbiAgICAgIHJldHVybiBob21lO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3MuaG9tZWRpciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG9zLmhvbWVkaXIoKTtcbiAgICB9XG5cbiAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihcbiAgICAgIG5ldyBFcnJvcignQ2Fubm90IGxvYWQgY3JlZGVudGlhbHMsIEhPTUUgcGF0aCBub3Qgc2V0JylcbiAgICApO1xuICB9XG59KTtcblxudmFyIEluaUxvYWRlciA9IEFXUy5JbmlMb2FkZXI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBJbmlMb2FkZXI6IEluaUxvYWRlclxufTtcbiIsICJ2YXIgSW5pTG9hZGVyID0gcmVxdWlyZSgnLi9pbmktbG9hZGVyJykuSW5pTG9hZGVyO1xuLyoqXG4gKiBTaW5nbGV0b24gb2JqZWN0IHRvIGxvYWQgc3BlY2lmaWVkIGNvbmZpZy9jcmVkZW50aWFscyBmaWxlcy5cbiAqIEl0IHdpbGwgY2FjaGUgYWxsIHRoZSBmaWxlcyBldmVyIGxvYWRlZDtcbiAqL1xubW9kdWxlLmV4cG9ydHMuaW5pTG9hZGVyID0gbmV3IEluaUxvYWRlcigpO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuL2NvcmUnKTtcbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIHZhbGlkYXRlUmVnaW9uYWxFbmRwb2ludHNGbGFnVmFsdWUoY29uZmlnVmFsdWUsIGVycm9yT3B0aW9ucykge1xuICBpZiAodHlwZW9mIGNvbmZpZ1ZhbHVlICE9PSAnc3RyaW5nJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgZWxzZSBpZiAoWydsZWdhY3knLCAncmVnaW9uYWwnXS5pbmRleE9mKGNvbmZpZ1ZhbHVlLnRvTG93ZXJDYXNlKCkpID49IDApIHtcbiAgICByZXR1cm4gY29uZmlnVmFsdWUudG9Mb3dlckNhc2UoKTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IoKSwgZXJyb3JPcHRpb25zKTtcbiAgfVxufVxuXG4vKipcbiAqIFJlc29sdmUgdGhlIGNvbmZpZ3VyYXRpb24gdmFsdWUgZm9yIHJlZ2lvbmFsIGVuZHBvaW50IGZyb20gZGlmZmVyZW5jZSBzb3VyY2VzOiBjbGllbnRcbiAqIGNvbmZpZywgZW52aXJvbm1lbnRhbCB2YXJpYWJsZSwgc2hhcmVkIGNvbmZpZyBmaWxlLiBWYWx1ZSBjYW4gYmUgY2FzZS1pbnNlbnNpdGl2ZVxuICogJ2xlZ2FjeScgb3IgJ3JlZ2luYWwnLlxuICogQHBhcmFtIG9yaWdpbmFsQ29uZmlnIHVzZXItc3VwcGxpZWQgY29uZmlnIG9iamVjdCB0byByZXNvbHZlXG4gKiBAcGFyYW0gb3B0aW9ucyBhIG1hcCBvZiBjb25maWcgcHJvcGVydHkgbmFtZXMgZnJvbSBpbmRpdmlkdWFsIGNvbmZpZ3VyYXRpb24gc291cmNlXG4gKiAgLSBlbnY6IG5hbWUgb2YgZW52aXJvbm1lbnRhbCB2YXJpYWJsZSB0aGF0IHJlZmVycyB0byB0aGUgY29uZmlnXG4gKiAgLSBzaGFyZWRDb25maWc6IG5hbWUgb2Ygc2hhcmVkIGNvbmZpZ3VyYXRpb24gZmlsZSBwcm9wZXJ0eSB0aGF0IHJlZmVycyB0byB0aGUgY29uZmlnXG4gKiAgLSBjbGllbnRDb25maWc6IG5hbWUgb2YgY2xpZW50IGNvbmZpZ3VyYXRpb24gcHJvcGVydHkgdGhhdCByZWZlcnMgdG8gdGhlIGNvbmZpZ1xuICpcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiByZXNvbHZlUmVnaW9uYWxFbmRwb2ludHNGbGFnKG9yaWdpbmFsQ29uZmlnLCBvcHRpb25zKSB7XG4gIG9yaWdpbmFsQ29uZmlnID0gb3JpZ2luYWxDb25maWcgfHwge307XG4gIC8vdmFsaWRhdGUgY29uZmlnIHZhbHVlXG4gIHZhciByZXNvbHZlZDtcbiAgaWYgKG9yaWdpbmFsQ29uZmlnW29wdGlvbnMuY2xpZW50Q29uZmlnXSkge1xuICAgIHJlc29sdmVkID0gdmFsaWRhdGVSZWdpb25hbEVuZHBvaW50c0ZsYWdWYWx1ZShvcmlnaW5hbENvbmZpZ1tvcHRpb25zLmNsaWVudENvbmZpZ10sIHtcbiAgICAgIGNvZGU6ICdJbnZhbGlkQ29uZmlndXJhdGlvbicsXG4gICAgICBtZXNzYWdlOiAnaW52YWxpZCBcIicgKyBvcHRpb25zLmNsaWVudENvbmZpZyArICdcIiBjb25maWd1cmF0aW9uLiBFeHBlY3QgXCJsZWdhY3lcIiAnICtcbiAgICAgICcgb3IgXCJyZWdpb25hbFwiLiBHb3QgXCInICsgb3JpZ2luYWxDb25maWdbb3B0aW9ucy5jbGllbnRDb25maWddICsgJ1wiLidcbiAgICB9KTtcbiAgICBpZiAocmVzb2x2ZWQpIHJldHVybiByZXNvbHZlZDtcbiAgfVxuICBpZiAoIUFXUy51dGlsLmlzTm9kZSgpKSByZXR1cm4gcmVzb2x2ZWQ7XG4gIC8vdmFsaWRhdGUgZW52aXJvbm1lbnRhbCB2YXJpYWJsZVxuICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHByb2Nlc3MuZW52LCBvcHRpb25zLmVudikpIHtcbiAgICB2YXIgZW52RmxhZyA9IHByb2Nlc3MuZW52W29wdGlvbnMuZW52XTtcbiAgICByZXNvbHZlZCA9IHZhbGlkYXRlUmVnaW9uYWxFbmRwb2ludHNGbGFnVmFsdWUoZW52RmxhZywge1xuICAgICAgY29kZTogJ0ludmFsaWRFbnZpcm9ubWVudGFsVmFyaWFibGUnLFxuICAgICAgbWVzc2FnZTogJ2ludmFsaWQgJyArIG9wdGlvbnMuZW52ICsgJyBlbnZpcm9ubWVudGFsIHZhcmlhYmxlLiBFeHBlY3QgXCJsZWdhY3lcIiAnICtcbiAgICAgICcgb3IgXCJyZWdpb25hbFwiLiBHb3QgXCInICsgcHJvY2Vzcy5lbnZbb3B0aW9ucy5lbnZdICsgJ1wiLidcbiAgICB9KTtcbiAgICBpZiAocmVzb2x2ZWQpIHJldHVybiByZXNvbHZlZDtcbiAgfVxuICAvL3ZhbGlkYXRlIHNoYXJlZCBjb25maWcgZmlsZVxuICB2YXIgcHJvZmlsZSA9IHt9O1xuICB0cnkge1xuICAgIHZhciBwcm9maWxlcyA9IEFXUy51dGlsLmdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZyhBV1MudXRpbC5pbmlMb2FkZXIpO1xuICAgIHByb2ZpbGUgPSBwcm9maWxlc1twcm9jZXNzLmVudi5BV1NfUFJPRklMRSB8fCBBV1MudXRpbC5kZWZhdWx0UHJvZmlsZV07XG4gIH0gY2F0Y2ggKGUpIHt9O1xuICBpZiAocHJvZmlsZSAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvZmlsZSwgb3B0aW9ucy5zaGFyZWRDb25maWcpKSB7XG4gICAgdmFyIGZpbGVGbGFnID0gcHJvZmlsZVtvcHRpb25zLnNoYXJlZENvbmZpZ107XG4gICAgcmVzb2x2ZWQgPSB2YWxpZGF0ZVJlZ2lvbmFsRW5kcG9pbnRzRmxhZ1ZhbHVlKGZpbGVGbGFnLCB7XG4gICAgICBjb2RlOiAnSW52YWxpZENvbmZpZ3VyYXRpb24nLFxuICAgICAgbWVzc2FnZTogJ2ludmFsaWQgJyArIG9wdGlvbnMuc2hhcmVkQ29uZmlnICsgJyBwcm9maWxlIGNvbmZpZy4gRXhwZWN0IFwibGVnYWN5XCIgJyArXG4gICAgICAnIG9yIFwicmVnaW9uYWxcIi4gR290IFwiJyArIHByb2ZpbGVbb3B0aW9ucy5zaGFyZWRDb25maWddICsgJ1wiLidcbiAgICB9KTtcbiAgICBpZiAocmVzb2x2ZWQpIHJldHVybiByZXNvbHZlZDtcbiAgfVxuICByZXR1cm4gcmVzb2x2ZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVzb2x2ZVJlZ2lvbmFsRW5kcG9pbnRzRmxhZztcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIHJlc29sdmVSZWdpb25hbEVuZHBvaW50c0ZsYWcgPSByZXF1aXJlKCcuLi9jb25maWdfcmVnaW9uYWxfZW5kcG9pbnQnKTtcbnZhciBFTlZfUkVHSU9OQUxfRU5EUE9JTlRfRU5BQkxFRCA9ICdBV1NfU1RTX1JFR0lPTkFMX0VORFBPSU5UUyc7XG52YXIgQ09ORklHX1JFR0lPTkFMX0VORFBPSU5UX0VOQUJMRUQgPSAnc3RzX3JlZ2lvbmFsX2VuZHBvaW50cyc7XG5cbkFXUy51dGlsLnVwZGF0ZShBV1MuU1RTLnByb3RvdHlwZSwge1xuICAvKipcbiAgICogQG92ZXJsb2FkIGNyZWRlbnRpYWxzRnJvbShkYXRhLCBjcmVkZW50aWFscyA9IG51bGwpXG4gICAqICAgQ3JlYXRlcyBhIGNyZWRlbnRpYWxzIG9iamVjdCBmcm9tIFNUUyByZXNwb25zZSBkYXRhIGNvbnRhaW5pbmdcbiAgICogICBjcmVkZW50aWFscyBpbmZvcm1hdGlvbi4gVXNlZnVsIGZvciBxdWlja2x5IHNldHRpbmcgQVdTIGNyZWRlbnRpYWxzLlxuICAgKlxuICAgKiAgIEBub3RlIFRoaXMgaXMgYSBsb3ctbGV2ZWwgdXRpbGl0eSBmdW5jdGlvbi4gSWYgeW91IHdhbnQgdG8gbG9hZCB0ZW1wb3JhcnlcbiAgICogICAgIGNyZWRlbnRpYWxzIGludG8geW91ciBwcm9jZXNzIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIHRvIEFXUyByZXNvdXJjZXMsXG4gICAqICAgICB5b3Ugc2hvdWxkIHVzZSB7QVdTLlRlbXBvcmFyeUNyZWRlbnRpYWxzfSBpbnN0ZWFkLlxuICAgKiAgIEBwYXJhbSBkYXRhIFttYXBdIGRhdGEgcmV0cmlldmVkIGZyb20gYSBjYWxsIHRvIHtnZXRGZWRlcmF0ZWRUb2tlbn0sXG4gICAqICAgICB7Z2V0U2Vzc2lvblRva2VufSwge2Fzc3VtZVJvbGV9LCBvciB7YXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX0uXG4gICAqICAgQHBhcmFtIGNyZWRlbnRpYWxzIFtBV1MuQ3JlZGVudGlhbHNdIGFuIG9wdGlvbmFsIGNyZWRlbnRpYWxzIG9iamVjdCB0b1xuICAgKiAgICAgZmlsbCBpbnN0ZWFkIG9mIGNyZWF0aW5nIGEgbmV3IG9iamVjdC4gVXNlZnVsIHdoZW4gbW9kaWZ5aW5nIGFuXG4gICAqICAgICBleGlzdGluZyBjcmVkZW50aWFscyBvYmplY3QgZnJvbSBhIHJlZnJlc2ggY2FsbC5cbiAgICogICBAcmV0dXJuIFtBV1MuVGVtcG9yYXJ5Q3JlZGVudGlhbHNdIHRoZSBzZXQgb2YgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzXG4gICAqICAgICBsb2FkZWQgZnJvbSBhIHJhdyBTVFMgb3BlcmF0aW9uIHJlc3BvbnNlLlxuICAgKiAgIEBleGFtcGxlIFVzaW5nIGNyZWRlbnRpYWxzRnJvbSB0byBsb2FkIGdsb2JhbCBBV1MgY3JlZGVudGlhbHNcbiAgICogICAgIHZhciBzdHMgPSBuZXcgQVdTLlNUUygpO1xuICAgKiAgICAgc3RzLmdldFNlc3Npb25Ub2tlbihmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAqICAgICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKFwiRXJyb3IgZ2V0dGluZyBjcmVkZW50aWFsc1wiKTtcbiAgICogICAgICAgZWxzZSB7XG4gICAqICAgICAgICAgQVdTLmNvbmZpZy5jcmVkZW50aWFscyA9IHN0cy5jcmVkZW50aWFsc0Zyb20oZGF0YSk7XG4gICAqICAgICAgIH1cbiAgICogICAgIH0pO1xuICAgKiAgIEBzZWUgQVdTLlRlbXBvcmFyeUNyZWRlbnRpYWxzXG4gICAqL1xuICBjcmVkZW50aWFsc0Zyb206IGZ1bmN0aW9uIGNyZWRlbnRpYWxzRnJvbShkYXRhLCBjcmVkZW50aWFscykge1xuICAgIGlmICghZGF0YSkgcmV0dXJuIG51bGw7XG4gICAgaWYgKCFjcmVkZW50aWFscykgY3JlZGVudGlhbHMgPSBuZXcgQVdTLlRlbXBvcmFyeUNyZWRlbnRpYWxzKCk7XG4gICAgY3JlZGVudGlhbHMuZXhwaXJlZCA9IGZhbHNlO1xuICAgIGNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkID0gZGF0YS5DcmVkZW50aWFscy5BY2Nlc3NLZXlJZDtcbiAgICBjcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXkgPSBkYXRhLkNyZWRlbnRpYWxzLlNlY3JldEFjY2Vzc0tleTtcbiAgICBjcmVkZW50aWFscy5zZXNzaW9uVG9rZW4gPSBkYXRhLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbjtcbiAgICBjcmVkZW50aWFscy5leHBpcmVUaW1lID0gZGF0YS5DcmVkZW50aWFscy5FeHBpcmF0aW9uO1xuICAgIHJldHVybiBjcmVkZW50aWFscztcbiAgfSxcblxuICBhc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5OiBmdW5jdGlvbiBhc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5KHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgnYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eScsIHBhcmFtcywgY2FsbGJhY2spO1xuICB9LFxuXG4gIGFzc3VtZVJvbGVXaXRoU0FNTDogZnVuY3Rpb24gYXNzdW1lUm9sZVdpdGhTQU1MKHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5tYWtlVW5hdXRoZW50aWNhdGVkUmVxdWVzdCgnYXNzdW1lUm9sZVdpdGhTQU1MJywgcGFyYW1zLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgc2V0dXBSZXF1ZXN0TGlzdGVuZXJzOiBmdW5jdGlvbiBzZXR1cFJlcXVlc3RMaXN0ZW5lcnMocmVxdWVzdCkge1xuICAgIHJlcXVlc3QuYWRkTGlzdGVuZXIoJ3ZhbGlkYXRlJywgdGhpcy5vcHRJblJlZ2lvbmFsRW5kcG9pbnQsIHRydWUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG9wdEluUmVnaW9uYWxFbmRwb2ludDogZnVuY3Rpb24gb3B0SW5SZWdpb25hbEVuZHBvaW50KHJlcSkge1xuICAgIHZhciBzZXJ2aWNlID0gcmVxLnNlcnZpY2U7XG4gICAgdmFyIGNvbmZpZyA9IHNlcnZpY2UuY29uZmlnO1xuICAgIGNvbmZpZy5zdHNSZWdpb25hbEVuZHBvaW50cyA9IHJlc29sdmVSZWdpb25hbEVuZHBvaW50c0ZsYWcoc2VydmljZS5fb3JpZ2luYWxDb25maWcsIHtcbiAgICAgIGVudjogRU5WX1JFR0lPTkFMX0VORFBPSU5UX0VOQUJMRUQsXG4gICAgICBzaGFyZWRDb25maWc6IENPTkZJR19SRUdJT05BTF9FTkRQT0lOVF9FTkFCTEVELFxuICAgICAgY2xpZW50Q29uZmlnOiAnc3RzUmVnaW9uYWxFbmRwb2ludHMnXG4gICAgfSk7XG4gICAgaWYgKFxuICAgICAgY29uZmlnLnN0c1JlZ2lvbmFsRW5kcG9pbnRzID09PSAncmVnaW9uYWwnICYmXG4gICAgICBzZXJ2aWNlLmlzR2xvYmFsRW5kcG9pbnRcbiAgICApIHtcbiAgICAgIC8vY2xpZW50IHdpbGwgdGhyb3cgaWYgcmVnaW9uIGlzIG5vdCBzdXBwbGllZDsgcmVxdWVzdCB3aWxsIGJlIHNpZ25lZCB3aXRoIHNwZWNpZmllZCByZWdpb25cbiAgICAgIGlmICghY29uZmlnLnJlZ2lvbikge1xuICAgICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IoKSxcbiAgICAgICAgICB7Y29kZTogJ0NvbmZpZ0Vycm9yJywgbWVzc2FnZTogJ01pc3NpbmcgcmVnaW9uIGluIGNvbmZpZyd9KTtcbiAgICAgIH1cbiAgICAgIHZhciBpbnNlcnRQb2ludCA9IGNvbmZpZy5lbmRwb2ludC5pbmRleE9mKCcuYW1hem9uYXdzLmNvbScpO1xuICAgICAgdmFyIHJlZ2lvbmFsRW5kcG9pbnQgPSBjb25maWcuZW5kcG9pbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvaW50KSArXG4gICAgICAgICcuJyArIGNvbmZpZy5yZWdpb24gKyBjb25maWcuZW5kcG9pbnQuc3Vic3RyaW5nKGluc2VydFBvaW50KTtcbiAgICAgIHJlcS5odHRwUmVxdWVzdC51cGRhdGVFbmRwb2ludChyZWdpb25hbEVuZHBvaW50KTtcbiAgICAgIHJlcS5odHRwUmVxdWVzdC5yZWdpb24gPSBjb25maWcucmVnaW9uO1xuICAgIH1cbiAgfVxuXG59KTtcbiIsICJyZXF1aXJlKCcuLi9saWIvbm9kZV9sb2FkZXInKTtcbnZhciBBV1MgPSByZXF1aXJlKCcuLi9saWIvY29yZScpO1xudmFyIFNlcnZpY2UgPSBBV1MuU2VydmljZTtcbnZhciBhcGlMb2FkZXIgPSBBV1MuYXBpTG9hZGVyO1xuXG5hcGlMb2FkZXIuc2VydmljZXNbJ3N0cyddID0ge307XG5BV1MuU1RTID0gU2VydmljZS5kZWZpbmVTZXJ2aWNlKCdzdHMnLCBbJzIwMTEtMDYtMTUnXSk7XG5yZXF1aXJlKCcuLi9saWIvc2VydmljZXMvc3RzJyk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoYXBpTG9hZGVyLnNlcnZpY2VzWydzdHMnXSwgJzIwMTEtMDYtMTUnLCB7XG4gIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgIHZhciBtb2RlbCA9IHJlcXVpcmUoJy4uL2FwaXMvc3RzLTIwMTEtMDYtMTUubWluLmpzb24nKTtcbiAgICBtb2RlbC5wYWdpbmF0b3JzID0gcmVxdWlyZSgnLi4vYXBpcy9zdHMtMjAxMS0wNi0xNS5wYWdpbmF0b3JzLmpzb24nKS5wYWdpbmF0aW9uO1xuICAgIHJldHVybiBtb2RlbDtcbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBV1MuU1RTO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgU1RTID0gcmVxdWlyZSgnLi4vLi4vY2xpZW50cy9zdHMnKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRlbXBvcmFyeSBjcmVkZW50aWFscyByZXRyaWV2ZWQgZnJvbSB7QVdTLlNUU30uIFdpdGhvdXQgYW55XG4gKiBleHRyYSBwYXJhbWV0ZXJzLCBjcmVkZW50aWFscyB3aWxsIGJlIGZldGNoZWQgZnJvbSB0aGVcbiAqIHtBV1MuU1RTLmdldFNlc3Npb25Ub2tlbn0gb3BlcmF0aW9uLiBJZiBhbiBJQU0gcm9sZSBpcyBwcm92aWRlZCwgdGhlXG4gKiB7QVdTLlNUUy5hc3N1bWVSb2xlfSBvcGVyYXRpb24gd2lsbCBiZSB1c2VkIHRvIGZldGNoIGNyZWRlbnRpYWxzIGZvciB0aGVcbiAqIHJvbGUgaW5zdGVhZC5cbiAqXG4gKiBAbm90ZSBBV1MuVGVtcG9yYXJ5Q3JlZGVudGlhbHMgaXMgZGVwcmVjYXRlZCwgYnV0IHJlbWFpbnMgYXZhaWxhYmxlIGZvclxuICogICBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS4ge0FXUy5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFsc30gaXMgdGhlXG4gKiAgIHByZWZlcnJlZCBjbGFzcyBmb3IgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzLlxuICpcbiAqIFRvIHNldHVwIHRlbXBvcmFyeSBjcmVkZW50aWFscywgY29uZmlndXJlIGEgc2V0IG9mIG1hc3RlciBjcmVkZW50aWFsc1xuICogdXNpbmcgdGhlIHN0YW5kYXJkIGNyZWRlbnRpYWxzIHByb3ZpZGVycyAoZW52aXJvbm1lbnQsIEVDMiBpbnN0YW5jZSBtZXRhZGF0YSxcbiAqIG9yIGZyb20gdGhlIGZpbGVzeXN0ZW0pLCB0aGVuIHNldCB0aGUgZ2xvYmFsIGNyZWRlbnRpYWxzIHRvIGEgbmV3XG4gKiB0ZW1wb3JhcnkgY3JlZGVudGlhbHMgb2JqZWN0OlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIC8vIE5vdGUgdGhhdCBlbnZpcm9ubWVudCBjcmVkZW50aWFscyBhcmUgbG9hZGVkIGJ5IGRlZmF1bHQsXG4gKiAvLyB0aGUgZm9sbG93aW5nIGxpbmUgaXMgc2hvd24gZm9yIGNsYXJpdHk6XG4gKiBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5FbnZpcm9ubWVudENyZWRlbnRpYWxzKCdBV1MnKTtcbiAqXG4gKiAvLyBOb3cgc2V0IHRlbXBvcmFyeSBjcmVkZW50aWFscyBzZWVkZWQgZnJvbSB0aGUgbWFzdGVyIGNyZWRlbnRpYWxzXG4gKiBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5UZW1wb3JhcnlDcmVkZW50aWFscygpO1xuICpcbiAqIC8vIHN1YnNlcXVlbnQgcmVxdWVzdHMgd2lsbCBub3cgdXNlIHRlbXBvcmFyeSBjcmVkZW50aWFscyBmcm9tIEFXUyBTVFMuXG4gKiBuZXcgQVdTLlMzKCkubGlzdEJ1Y2tldChmdW5jdGlvbihlcnIsIGRhdGEpIHsgLi4uIH0pO1xuICogYGBgXG4gKlxuICogQCFhdHRyaWJ1dGUgbWFzdGVyQ3JlZGVudGlhbHNcbiAqICAgQHJldHVybiBbQVdTLkNyZWRlbnRpYWxzXSB0aGUgbWFzdGVyIChub24tdGVtcG9yYXJ5KSBjcmVkZW50aWFscyB1c2VkIHRvXG4gKiAgICAgZ2V0IGFuZCByZWZyZXNoIHRlbXBvcmFyeSBjcmVkZW50aWFscyBmcm9tIEFXUyBTVFMuXG4gKiBAbm90ZSAoc2VlIGNvbnN0cnVjdG9yKVxuICovXG5BV1MuVGVtcG9yYXJ5Q3JlZGVudGlhbHMgPSBBV1MudXRpbC5pbmhlcml0KEFXUy5DcmVkZW50aWFscywge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyB0ZW1wb3JhcnkgY3JlZGVudGlhbHMgb2JqZWN0LlxuICAgKlxuICAgKiBAbm90ZSBJbiBvcmRlciB0byBjcmVhdGUgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzLCB5b3UgZmlyc3QgbmVlZCB0byBoYXZlXG4gICAqICAgXCJtYXN0ZXJcIiBjcmVkZW50aWFscyBjb25maWd1cmVkIGluIHtBV1MuQ29uZmlnLmNyZWRlbnRpYWxzfS4gVGhlc2VcbiAgICogICBtYXN0ZXIgY3JlZGVudGlhbHMgYXJlIG5lY2Vzc2FyeSB0byByZXRyaWV2ZSB0aGUgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzLFxuICAgKiAgIGFzIHdlbGwgYXMgcmVmcmVzaCB0aGUgY3JlZGVudGlhbHMgd2hlbiB0aGV5IGV4cGlyZS5cbiAgICogQHBhcmFtIHBhcmFtcyBbbWFwXSBhIG1hcCBvZiBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0byB0aGVcbiAgICogICB7QVdTLlNUUy5hc3N1bWVSb2xlfSBvciB7QVdTLlNUUy5nZXRTZXNzaW9uVG9rZW59IG9wZXJhdGlvbnMuXG4gICAqICAgSWYgYSBgUm9sZUFybmAgcGFyYW1ldGVyIGlzIHBhc3NlZCBpbiwgY3JlZGVudGlhbHMgd2lsbCBiZSBiYXNlZCBvbiB0aGVcbiAgICogICBJQU0gcm9sZS5cbiAgICogQHBhcmFtIG1hc3RlckNyZWRlbnRpYWxzIFtBV1MuQ3JlZGVudGlhbHNdIHRoZSBtYXN0ZXIgKG5vbi10ZW1wb3JhcnkpIGNyZWRlbnRpYWxzXG4gICAqICB1c2VkIHRvIGdldCBhbmQgcmVmcmVzaCB0ZW1wb3JhcnkgY3JlZGVudGlhbHMgZnJvbSBBV1MgU1RTLlxuICAgKiBAZXhhbXBsZSBDcmVhdGluZyBhIG5ldyBjcmVkZW50aWFscyBvYmplY3QgZm9yIGdlbmVyaWMgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzXG4gICAqICAgQVdTLmNvbmZpZy5jcmVkZW50aWFscyA9IG5ldyBBV1MuVGVtcG9yYXJ5Q3JlZGVudGlhbHMoKTtcbiAgICogQGV4YW1wbGUgQ3JlYXRpbmcgYSBuZXcgY3JlZGVudGlhbHMgb2JqZWN0IGZvciBhbiBJQU0gcm9sZVxuICAgKiAgIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLlRlbXBvcmFyeUNyZWRlbnRpYWxzKHtcbiAgICogICAgIFJvbGVBcm46ICdhcm46YXdzOmlhbTo6MTIzNDU2Nzg5MDpyb2xlL1RlbXBvcmFyeUNyZWRlbnRpYWxzJyxcbiAgICogICB9KTtcbiAgICogQHNlZSBBV1MuU1RTLmFzc3VtZVJvbGVcbiAgICogQHNlZSBBV1MuU1RTLmdldFNlc3Npb25Ub2tlblxuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFRlbXBvcmFyeUNyZWRlbnRpYWxzKHBhcmFtcywgbWFzdGVyQ3JlZGVudGlhbHMpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmxvYWRNYXN0ZXJDcmVkZW50aWFscyhtYXN0ZXJDcmVkZW50aWFscyk7XG4gICAgdGhpcy5leHBpcmVkID0gdHJ1ZTtcblxuICAgIHRoaXMucGFyYW1zID0gcGFyYW1zIHx8IHt9O1xuICAgIGlmICh0aGlzLnBhcmFtcy5Sb2xlQXJuKSB7XG4gICAgICB0aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWUgPVxuICAgICAgICB0aGlzLnBhcmFtcy5Sb2xlU2Vzc2lvbk5hbWUgfHwgJ3RlbXBvcmFyeS1jcmVkZW50aWFscyc7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgY3JlZGVudGlhbHMgdXNpbmcge0FXUy5TVFMuYXNzdW1lUm9sZX0gb3JcbiAgICoge0FXUy5TVFMuZ2V0U2Vzc2lvblRva2VufSwgZGVwZW5kaW5nIG9uIHdoZXRoZXIgYW4gSUFNIHJvbGUgQVJOIHdhcyBwYXNzZWRcbiAgICogdG8gdGhlIGNyZWRlbnRpYWxzIHtjb25zdHJ1Y3Rvcn0uXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgQ2FsbGVkIHdoZW4gdGhlIFNUUyBzZXJ2aWNlIHJlc3BvbmRzIChvciBmYWlscykuIFdoZW5cbiAgICogICB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyB0aGF0IHRoZSBjcmVkZW50aWFsc1xuICAgKiAgIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QgKGFzIHRoZSBgYWNjZXNzS2V5SWRgLFxuICAgKiAgIGBzZWNyZXRBY2Nlc3NLZXlgLCBhbmQgYHNlc3Npb25Ub2tlbmAgcHJvcGVydGllcykuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkXG4gICAqIEBzZWUgZ2V0XG4gICAqL1xuICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoIChjYWxsYmFjaykge1xuICAgIHRoaXMuY29hbGVzY2VSZWZyZXNoKGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBsb2FkOiBmdW5jdGlvbiBsb2FkIChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNyZWF0ZUNsaWVudHMoKTtcbiAgICBzZWxmLm1hc3RlckNyZWRlbnRpYWxzLmdldChmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLnNlcnZpY2UuY29uZmlnLmNyZWRlbnRpYWxzID0gc2VsZi5tYXN0ZXJDcmVkZW50aWFscztcbiAgICAgIHZhciBvcGVyYXRpb24gPSBzZWxmLnBhcmFtcy5Sb2xlQXJuID9cbiAgICAgICAgc2VsZi5zZXJ2aWNlLmFzc3VtZVJvbGUgOiBzZWxmLnNlcnZpY2UuZ2V0U2Vzc2lvblRva2VuO1xuICAgICAgb3BlcmF0aW9uLmNhbGwoc2VsZi5zZXJ2aWNlLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgc2VsZi5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShkYXRhLCBzZWxmKTtcbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZE1hc3RlckNyZWRlbnRpYWxzOiBmdW5jdGlvbiBsb2FkTWFzdGVyQ3JlZGVudGlhbHMgKG1hc3RlckNyZWRlbnRpYWxzKSB7XG4gICAgdGhpcy5tYXN0ZXJDcmVkZW50aWFscyA9IG1hc3RlckNyZWRlbnRpYWxzIHx8IEFXUy5jb25maWcuY3JlZGVudGlhbHM7XG4gICAgd2hpbGUgKHRoaXMubWFzdGVyQ3JlZGVudGlhbHMubWFzdGVyQ3JlZGVudGlhbHMpIHtcbiAgICAgIHRoaXMubWFzdGVyQ3JlZGVudGlhbHMgPSB0aGlzLm1hc3RlckNyZWRlbnRpYWxzLm1hc3RlckNyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgdGhpcy5tYXN0ZXJDcmVkZW50aWFscy5nZXQgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXMubWFzdGVyQ3JlZGVudGlhbHMgPSBuZXcgQVdTLkNyZWRlbnRpYWxzKHRoaXMubWFzdGVyQ3JlZGVudGlhbHMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjcmVhdGVDbGllbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5zZXJ2aWNlID0gdGhpcy5zZXJ2aWNlIHx8IG5ldyBTVFMoe3BhcmFtczogdGhpcy5wYXJhbXN9KTtcbiAgfVxuXG59KTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIFNUUyA9IHJlcXVpcmUoJy4uLy4uL2NsaWVudHMvc3RzJyk7XG5cbi8qKlxuICogUmVwcmVzZW50cyB0ZW1wb3JhcnkgY3JlZGVudGlhbHMgcmV0cmlldmVkIGZyb20ge0FXUy5TVFN9LiBXaXRob3V0IGFueVxuICogZXh0cmEgcGFyYW1ldGVycywgY3JlZGVudGlhbHMgd2lsbCBiZSBmZXRjaGVkIGZyb20gdGhlXG4gKiB7QVdTLlNUUy5nZXRTZXNzaW9uVG9rZW59IG9wZXJhdGlvbi4gSWYgYW4gSUFNIHJvbGUgaXMgcHJvdmlkZWQsIHRoZVxuICoge0FXUy5TVFMuYXNzdW1lUm9sZX0gb3BlcmF0aW9uIHdpbGwgYmUgdXNlZCB0byBmZXRjaCBjcmVkZW50aWFscyBmb3IgdGhlXG4gKiByb2xlIGluc3RlYWQuXG4gKlxuICogQVdTLkNoYWluYWJsZVRlbXBvcmFyeUNyZWRlbnRpYWxzIGRpZmZlcnMgZnJvbSBBV1MuVGVtcG9yYXJ5Q3JlZGVudGlhbHMgaW5cbiAqIHRoZSB3YXkgbWFzdGVyQ3JlZGVudGlhbHMgYW5kIHJlZnJlc2hlcyBhcmUgaGFuZGxlZC5cbiAqIEFXUy5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscyByZWZyZXNoZXMgZXhwaXJlZCBjcmVkZW50aWFscyB1c2luZyB0aGVcbiAqIG1hc3RlckNyZWRlbnRpYWxzIHBhc3NlZCBieSB0aGUgdXNlciB0byBzdXBwb3J0IGNoYWluaW5nIG9mIFNUUyBjcmVkZW50aWFscy5cbiAqIEhvd2V2ZXIsIEFXUy5UZW1wb3JhcnlDcmVkZW50aWFscyByZWN1cnNpdmVseSBjb2xsYXBzZXMgdGhlIG1hc3RlckNyZWRlbnRpYWxzXG4gKiBkdXJpbmcgaW5zdGFudGlhdGlvbiwgcHJlY2x1ZGluZyB0aGUgYWJpbGl0eSB0byByZWZyZXNoIGNyZWRlbnRpYWxzIHdoaWNoXG4gKiByZXF1aXJlIGludGVybWVkaWF0ZSwgdGVtcG9yYXJ5IGNyZWRlbnRpYWxzLlxuICpcbiAqIEZvciBleGFtcGxlLCBpZiB0aGUgYXBwbGljYXRpb24gc2hvdWxkIHVzZSBSb2xlQSwgd2hpY2ggbXVzdCBiZSBhc3N1bWVkIGZyb21cbiAqIFJvbGVCLCBhbmQgdGhlIGVudmlyb25tZW50IHByb3ZpZGVzIGNyZWRlbnRpYWxzIHdoaWNoIGNhbiBhc3N1bWUgUm9sZUIsIHRoZW5cbiAqIEFXUy5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscyBtdXN0IGJlIHVzZWQgdG8gc3VwcG9ydCByZWZyZXNoaW5nIHRoZVxuICogdGVtcG9yYXJ5IGNyZWRlbnRpYWxzIGZvciBSb2xlQTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgcm9sZUFDcmVkcyA9IG5ldyBBV1MuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHMoe1xuICogICBwYXJhbXM6IHtSb2xlQXJuOiAnUm9sZUEnfSxcbiAqICAgbWFzdGVyQ3JlZGVudGlhbHM6IG5ldyBBV1MuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHMoe1xuICogICAgIHBhcmFtczoge1JvbGVBcm46ICdSb2xlQid9LFxuICogICAgIG1hc3RlckNyZWRlbnRpYWxzOiBuZXcgQVdTLkVudmlyb25tZW50Q3JlZGVudGlhbHMoJ0FXUycpXG4gKiAgIH0pXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIElmIEFXUy5UZW1wb3JhcnlDcmVkZW50aWFscyBoYWQgYmVlbiB1c2VkIGluIHRoZSBwcmV2aW91cyBleGFtcGxlLFxuICogYHJvbGVBQ3JlZHNgIHdvdWxkIGZhaWwgdG8gcmVmcmVzaCBiZWNhdXNlIGByb2xlQUNyZWRzYCB3b3VsZFxuICogdXNlIHRoZSBlbnZpcm9ubWVudCBjcmVkZW50aWFscyBmb3IgdGhlIEFzc3VtZVJvbGUgcmVxdWVzdC5cbiAqXG4gKiBBbm90aGVyIGRpZmZlcmVuY2UgaXMgdGhhdCBBV1MuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHMgY3JlYXRlcyB0aGUgU1RTXG4gKiBzZXJ2aWNlIGluc3RhbmNlIGR1cmluZyBpbnN0YW50aWF0aW9uIHdoaWxlIEFXUy5UZW1wb3JhcnlDcmVkZW50aWFscyBjcmVhdGVzXG4gKiB0aGUgU1RTIHNlcnZpY2UgaW5zdGFuY2UgZHVyaW5nIHRoZSBmaXJzdCByZWZyZXNoLiBDcmVhdGluZyB0aGUgc2VydmljZVxuICogaW5zdGFuY2UgZHVyaW5nIGluc3RhbnRpYXRpb24gZWZmZWN0aXZlbHkgY2FwdHVyZXMgdGhlIG1hc3RlciBjcmVkZW50aWFsc1xuICogZnJvbSB0aGUgZ2xvYmFsIGNvbmZpZywgc28gdGhhdCBzdWJzZXF1ZW50IGNoYW5nZXMgdG8gdGhlIGdsb2JhbCBjb25maWcgZG9cbiAqIG5vdCBhZmZlY3QgdGhlIG1hc3RlciBjcmVkZW50aWFscyB1c2VkIHRvIHJlZnJlc2ggdGhlIHRlbXBvcmFyeSBjcmVkZW50aWFscy5cbiAqXG4gKiBUaGlzIGFsbG93cyBhbiBpbnN0YW5jZSBvZiBBV1MuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHMgdG8gYmUgYXNzaWduZWRcbiAqIHRvIEFXUy5jb25maWcuY3JlZGVudGlhbHM6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIGVudkNyZWRzID0gbmV3IEFXUy5FbnZpcm9ubWVudENyZWRlbnRpYWxzKCdBV1MnKTtcbiAqIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBlbnZDcmVkcztcbiAqIC8vIG1hc3RlckNyZWRlbnRpYWxzIHdpbGwgYmUgZW52Q3JlZHNcbiAqIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLkNoYWluYWJsZVRlbXBvcmFyeUNyZWRlbnRpYWxzKHtcbiAqICAgcGFyYW1zOiB7Um9sZUFybjogJy4uLid9XG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIFNpbWlsYXJseSwgdG8gdXNlIHRoZSBDcmVkZW50aWFsUHJvdmlkZXJDaGFpbidzIGRlZmF1bHQgcHJvdmlkZXJzIGFzIHRoZVxuICogbWFzdGVyIGNyZWRlbnRpYWxzLCBzaW1wbHkgY3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mXG4gKiBBV1MuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHM6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQVdTLmNvbmZpZy5jcmVkZW50aWFscyA9IG5ldyBDaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscyh7XG4gKiAgIHBhcmFtczoge1JvbGVBcm46ICcuLi4nfVxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBAIWF0dHJpYnV0ZSBzZXJ2aWNlXG4gKiAgIEByZXR1cm4gW0FXUy5TVFNdIHRoZSBTVFMgc2VydmljZSBpbnN0YW5jZSB1c2VkIHRvXG4gKiAgICAgZ2V0IGFuZCByZWZyZXNoIHRlbXBvcmFyeSBjcmVkZW50aWFscyBmcm9tIEFXUyBTVFMuXG4gKiBAbm90ZSAoc2VlIGNvbnN0cnVjdG9yKVxuICovXG5BV1MuQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHMgPSBBV1MudXRpbC5pbmhlcml0KEFXUy5DcmVkZW50aWFscywge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyB0ZW1wb3JhcnkgY3JlZGVudGlhbHMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyBbbWFwXSBhIHNldCBvZiBvcHRpb25zXG4gICAqIEBvcHRpb24gb3B0aW9ucyBwYXJhbXMgW21hcF0gKHt9KSBhIG1hcCBvZiBvcHRpb25zIHRoYXQgYXJlIHBhc3NlZCB0byB0aGVcbiAgICogICB7QVdTLlNUUy5hc3N1bWVSb2xlfSBvciB7QVdTLlNUUy5nZXRTZXNzaW9uVG9rZW59IG9wZXJhdGlvbnMuXG4gICAqICAgSWYgYSBgUm9sZUFybmAgcGFyYW1ldGVyIGlzIHBhc3NlZCBpbiwgY3JlZGVudGlhbHMgd2lsbCBiZSBiYXNlZCBvbiB0aGVcbiAgICogICBJQU0gcm9sZS4gSWYgYSBgU2VyaWFsTnVtYmVyYCBwYXJhbWV0ZXIgaXMgcGFzc2VkIGluLCB7dG9rZW5Db2RlRm59IG11c3RcbiAgICogICBhbHNvIGJlIHBhc3NlZCBpbiBvciBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cbiAgICogQG9wdGlvbiBvcHRpb25zIG1hc3RlckNyZWRlbnRpYWxzIFtBV1MuQ3JlZGVudGlhbHNdIHRoZSBtYXN0ZXIgY3JlZGVudGlhbHNcbiAgICogICB1c2VkIHRvIGdldCBhbmQgcmVmcmVzaCB0ZW1wb3JhcnkgY3JlZGVudGlhbHMgZnJvbSBBV1MgU1RTLiBCeSBkZWZhdWx0LFxuICAgKiAgIEFXUy5jb25maWcuY3JlZGVudGlhbHMgb3IgQVdTLmNvbmZpZy5jcmVkZW50aWFsUHJvdmlkZXIgd2lsbCBiZSB1c2VkLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgdG9rZW5Db2RlRm4gW0Z1bmN0aW9uXSAobnVsbCkgRnVuY3Rpb24gdG8gcHJvdmlkZVxuICAgKiAgIGBUb2tlbkNvZGVgLCBpZiBgU2VyaWFsTnVtYmVyYCBpcyBwcm92aWRlZCBmb3IgcHJvZmlsZSBpbiB7cGFyYW1zfS4gRnVuY3Rpb25cbiAgICogICBpcyBjYWxsZWQgd2l0aCB2YWx1ZSBvZiBgU2VyaWFsTnVtYmVyYCBhbmQgYGNhbGxiYWNrYCwgYW5kIHNob3VsZCBwcm92aWRlXG4gICAqICAgdGhlIGBUb2tlbkNvZGVgIG9yIGFuIGVycm9yIHRvIHRoZSBjYWxsYmFjayBpbiB0aGUgZm9ybWF0XG4gICAqICAgYGNhbGxiYWNrKGVyciwgdG9rZW4pYC5cbiAgICogQGV4YW1wbGUgQ3JlYXRpbmcgYSBuZXcgY3JlZGVudGlhbHMgb2JqZWN0IGZvciBnZW5lcmljIHRlbXBvcmFyeSBjcmVkZW50aWFsc1xuICAgKiAgIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLkNoYWluYWJsZVRlbXBvcmFyeUNyZWRlbnRpYWxzKCk7XG4gICAqIEBleGFtcGxlIENyZWF0aW5nIGEgbmV3IGNyZWRlbnRpYWxzIG9iamVjdCBmb3IgYW4gSUFNIHJvbGVcbiAgICogICBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5DaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscyh7XG4gICAqICAgICBwYXJhbXM6IHtcbiAgICogICAgICAgUm9sZUFybjogJ2Fybjphd3M6aWFtOjoxMjM0NTY3ODkwOnJvbGUvVGVtcG9yYXJ5Q3JlZGVudGlhbHMnXG4gICAqICAgICB9XG4gICAqICAgfSk7XG4gICAqIEBzZWUgQVdTLlNUUy5hc3N1bWVSb2xlXG4gICAqIEBzZWUgQVdTLlNUUy5nZXRTZXNzaW9uVG9rZW5cbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBDaGFpbmFibGVUZW1wb3JhcnlDcmVkZW50aWFscyhvcHRpb25zKSB7XG4gICAgQVdTLkNyZWRlbnRpYWxzLmNhbGwodGhpcyk7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy5lcnJvckNvZGUgPSAnQ2hhaW5hYmxlVGVtcG9yYXJ5Q3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUnO1xuICAgIHRoaXMuZXhwaXJlZCA9IHRydWU7XG4gICAgdGhpcy50b2tlbkNvZGVGbiA9IG51bGw7XG5cbiAgICB2YXIgcGFyYW1zID0gQVdTLnV0aWwuY29weShvcHRpb25zLnBhcmFtcykgfHwge307XG4gICAgaWYgKHBhcmFtcy5Sb2xlQXJuKSB7XG4gICAgICBwYXJhbXMuUm9sZVNlc3Npb25OYW1lID0gcGFyYW1zLlJvbGVTZXNzaW9uTmFtZSB8fCAndGVtcG9yYXJ5LWNyZWRlbnRpYWxzJztcbiAgICB9XG4gICAgaWYgKHBhcmFtcy5TZXJpYWxOdW1iZXIpIHtcbiAgICAgIGlmICghb3B0aW9ucy50b2tlbkNvZGVGbiB8fCAodHlwZW9mIG9wdGlvbnMudG9rZW5Db2RlRm4gIT09ICdmdW5jdGlvbicpKSB7XG4gICAgICAgIHRocm93IG5ldyBBV1MudXRpbC5lcnJvcihcbiAgICAgICAgICBuZXcgRXJyb3IoJ3Rva2VuQ29kZUZuIG11c3QgYmUgYSBmdW5jdGlvbiB3aGVuIHBhcmFtcy5TZXJpYWxOdW1iZXIgaXMgZ2l2ZW4nKSxcbiAgICAgICAgICB7Y29kZTogdGhpcy5lcnJvckNvZGV9XG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLnRva2VuQ29kZUZuID0gb3B0aW9ucy50b2tlbkNvZGVGbjtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGNvbmZpZyA9IEFXUy51dGlsLm1lcmdlKFxuICAgICAge1xuICAgICAgICBwYXJhbXM6IHBhcmFtcyxcbiAgICAgICAgY3JlZGVudGlhbHM6IG9wdGlvbnMubWFzdGVyQ3JlZGVudGlhbHMgfHwgQVdTLmNvbmZpZy5jcmVkZW50aWFsc1xuICAgICAgfSxcbiAgICAgIG9wdGlvbnMuc3RzQ29uZmlnIHx8IHt9XG4gICAgKTtcbiAgICB0aGlzLnNlcnZpY2UgPSBuZXcgU1RTKGNvbmZpZyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyBjcmVkZW50aWFscyB1c2luZyB7QVdTLlNUUy5hc3N1bWVSb2xlfSBvclxuICAgKiB7QVdTLlNUUy5nZXRTZXNzaW9uVG9rZW59LCBkZXBlbmRpbmcgb24gd2hldGhlciBhbiBJQU0gcm9sZSBBUk4gd2FzIHBhc3NlZFxuICAgKiB0byB0aGUgY3JlZGVudGlhbHMge2NvbnN0cnVjdG9yfS5cbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBDYWxsZWQgd2hlbiB0aGUgU1RTIHNlcnZpY2UgcmVzcG9uZHMgKG9yIGZhaWxzKS4gV2hlblxuICAgKiAgIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIGl0IG1lYW5zIHRoYXQgdGhlIGNyZWRlbnRpYWxzXG4gICAqICAgaW5mb3JtYXRpb24gaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlIGBhY2Nlc3NLZXlJZGAsXG4gICAqICAgYHNlY3JldEFjY2Vzc0tleWAsIGFuZCBgc2Vzc2lvblRva2VuYCBwcm9wZXJ0aWVzKS5cbiAgICogICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWRcbiAgICogQHNlZSBBV1MuQ3JlZGVudGlhbHMuZ2V0XG4gICAqL1xuICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5jb2FsZXNjZVJlZnJlc2goY2FsbGJhY2sgfHwgQVdTLnV0aWwuZm4uY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqL1xuICBsb2FkOiBmdW5jdGlvbiBsb2FkKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBvcGVyYXRpb24gPSBzZWxmLnNlcnZpY2UuY29uZmlnLnBhcmFtcy5Sb2xlQXJuID8gJ2Fzc3VtZVJvbGUnIDogJ2dldFNlc3Npb25Ub2tlbic7XG4gICAgdGhpcy5nZXRUb2tlbkNvZGUoZnVuY3Rpb24gKGVyciwgdG9rZW5Db2RlKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh0b2tlbkNvZGUpIHtcbiAgICAgICAgcGFyYW1zLlRva2VuQ29kZSA9IHRva2VuQ29kZTtcbiAgICAgIH1cbiAgICAgIHNlbGYuc2VydmljZVtvcGVyYXRpb25dKHBhcmFtcywgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIHNlbGYuc2VydmljZS5jcmVkZW50aWFsc0Zyb20oZGF0YSwgc2VsZik7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldFRva2VuQ29kZTogZnVuY3Rpb24gZ2V0VG9rZW5Db2RlKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICh0aGlzLnRva2VuQ29kZUZuKSB7XG4gICAgICB0aGlzLnRva2VuQ29kZUZuKHRoaXMuc2VydmljZS5jb25maWcucGFyYW1zLlNlcmlhbE51bWJlciwgZnVuY3Rpb24gKGVyciwgdG9rZW4pIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHZhciBtZXNzYWdlID0gZXJyO1xuICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICAgICAgbWVzc2FnZSA9IGVyci5tZXNzYWdlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYWxsYmFjayhcbiAgICAgICAgICAgIEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoJ0Vycm9yIGZldGNoaW5nIE1GQSB0b2tlbjogJyArIG1lc3NhZ2UpLFxuICAgICAgICAgICAgICB7IGNvZGU6IHNlbGYuZXJyb3JDb2RlfVxuICAgICAgICAgICAgKVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHRva2VuKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhudWxsKTtcbiAgICB9XG4gIH1cbn0pO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgU1RTID0gcmVxdWlyZSgnLi4vLi4vY2xpZW50cy9zdHMnKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGNyZWRlbnRpYWxzIHJldHJpZXZlZCBmcm9tIFNUUyBXZWIgSWRlbnRpdHkgRmVkZXJhdGlvbiBzdXBwb3J0LlxuICpcbiAqIEJ5IGRlZmF1bHQgdGhpcyBwcm92aWRlciBnZXRzIGNyZWRlbnRpYWxzIHVzaW5nIHRoZVxuICoge0FXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX0gc2VydmljZSBvcGVyYXRpb24uIFRoaXMgb3BlcmF0aW9uXG4gKiByZXF1aXJlcyBhIGBSb2xlQXJuYCBjb250YWluaW5nIHRoZSBBUk4gb2YgdGhlIElBTSB0cnVzdCBwb2xpY3kgZm9yIHRoZVxuICogYXBwbGljYXRpb24gZm9yIHdoaWNoIGNyZWRlbnRpYWxzIHdpbGwgYmUgZ2l2ZW4uIEluIGFkZGl0aW9uLCB0aGVcbiAqIGBXZWJJZGVudGl0eVRva2VuYCBtdXN0IGJlIHNldCB0byB0aGUgdG9rZW4gcHJvdmlkZWQgYnkgdGhlIGlkZW50aXR5XG4gKiBwcm92aWRlci4gU2VlIHtjb25zdHJ1Y3Rvcn0gZm9yIGFuIGV4YW1wbGUgb24gY3JlYXRpbmcgYSBjcmVkZW50aWFsc1xuICogb2JqZWN0IHdpdGggcHJvcGVyIGBSb2xlQXJuYCBhbmQgYFdlYklkZW50aXR5VG9rZW5gIHZhbHVlcy5cbiAqXG4gKiAjIyBSZWZyZXNoaW5nIENyZWRlbnRpYWxzIGZyb20gSWRlbnRpdHkgU2VydmljZVxuICpcbiAqIEluIGFkZGl0aW9uIHRvIEFXUyBjcmVkZW50aWFscyBleHBpcmluZyBhZnRlciBhIGdpdmVuIGFtb3VudCBvZiB0aW1lLCB0aGVcbiAqIGxvZ2luIHRva2VuIGZyb20gdGhlIGlkZW50aXR5IHByb3ZpZGVyIHdpbGwgYWxzbyBleHBpcmUuIE9uY2UgdGhpcyB0b2tlblxuICogZXhwaXJlcywgaXQgd2lsbCBub3QgYmUgdXNhYmxlIHRvIHJlZnJlc2ggQVdTIGNyZWRlbnRpYWxzLCBhbmQgYW5vdGhlclxuICogdG9rZW4gd2lsbCBiZSBuZWVkZWQuIFRoZSBTREsgZG9lcyBub3QgbWFuYWdlIHJlZnJlc2hpbmcgb2YgdGhlIHRva2VuIHZhbHVlLFxuICogYnV0IHRoaXMgY2FuIGJlIGRvbmUgdGhyb3VnaCBhIFwicmVmcmVzaCB0b2tlblwiIHN1cHBvcnRlZCBieSBtb3N0IGlkZW50aXR5XG4gKiBwcm92aWRlcnMuIENvbnN1bHQgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBpZGVudGl0eSBwcm92aWRlciBmb3IgcmVmcmVzaGluZ1xuICogdG9rZW5zLiBPbmNlIHRoZSByZWZyZXNoZWQgdG9rZW4gaXMgYWNxdWlyZWQsIHlvdSBzaG91bGQgbWFrZSBzdXJlIHRvIHVwZGF0ZVxuICogdGhpcyBuZXcgdG9rZW4gaW4gdGhlIGNyZWRlbnRpYWxzIG9iamVjdCdzIHtwYXJhbXN9IHByb3BlcnR5LiBUaGUgZm9sbG93aW5nXG4gKiBjb2RlIHdpbGwgdXBkYXRlIHRoZSBXZWJJZGVudGl0eVRva2VuLCBhc3N1bWluZyB5b3UgaGF2ZSByZXRyaWV2ZWQgYW4gdXBkYXRlZFxuICogdG9rZW4gZnJvbSB0aGUgaWRlbnRpdHkgcHJvdmlkZXI6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQVdTLmNvbmZpZy5jcmVkZW50aWFscy5wYXJhbXMuV2ViSWRlbnRpdHlUb2tlbiA9IHVwZGF0ZWRUb2tlbjtcbiAqIGBgYFxuICpcbiAqIEZ1dHVyZSBjYWxscyB0byBgY3JlZGVudGlhbHMucmVmcmVzaCgpYCB3aWxsIG5vdyB1c2UgdGhlIG5ldyB0b2tlbi5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBwYXJhbXNcbiAqICAgQHJldHVybiBbbWFwXSB0aGUgbWFwIG9mIHBhcmFtcyBwYXNzZWQgdG9cbiAqICAgICB7QVdTLlNUUy5hc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5fS4gVG8gdXBkYXRlIHRoZSB0b2tlbiwgc2V0IHRoZVxuICogICAgIGBwYXJhbXMuV2ViSWRlbnRpdHlUb2tlbmAgcHJvcGVydHkuXG4gKiBAIWF0dHJpYnV0ZSBkYXRhXG4gKiAgIEByZXR1cm4gW21hcF0gdGhlIHJhdyBkYXRhIHJlc3BvbnNlIGZyb20gdGhlIGNhbGwgdG9cbiAqICAgICB7QVdTLlNUUy5hc3N1bWVSb2xlV2l0aFdlYklkZW50aXR5fS4gVXNlIHRoaXMgaWYgeW91IHdhbnQgdG8gZ2V0XG4gKiAgICAgYWNjZXNzIHRvIG90aGVyIHByb3BlcnRpZXMgZnJvbSB0aGUgcmVzcG9uc2UuXG4gKi9cbkFXUy5XZWJJZGVudGl0eUNyZWRlbnRpYWxzID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuQ3JlZGVudGlhbHMsIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY3JlZGVudGlhbHMgb2JqZWN0LlxuICAgKiBAcGFyYW0gKHNlZSBBV1MuU1RTLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkpXG4gICAqIEBleGFtcGxlIENyZWF0aW5nIGEgbmV3IGNyZWRlbnRpYWxzIG9iamVjdFxuICAgKiAgIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLldlYklkZW50aXR5Q3JlZGVudGlhbHMoe1xuICAgKiAgICAgUm9sZUFybjogJ2Fybjphd3M6aWFtOjoxMjM0NTY3ODkwOnJvbGUvV2ViSWRlbnRpdHknLFxuICAgKiAgICAgV2ViSWRlbnRpdHlUb2tlbjogJ0FCQ0RFRkdISUpLTE1OT1AnLCAvLyB0b2tlbiBmcm9tIGlkZW50aXR5IHNlcnZpY2VcbiAgICogICAgIFJvbGVTZXNzaW9uTmFtZTogJ3dlYicgLy8gb3B0aW9uYWwgbmFtZSwgZGVmYXVsdHMgdG8gd2ViLWlkZW50aXR5XG4gICAqICAgfSwge1xuICAgKiAgICAgLy8gb3B0aW9uYWxseSBwcm92aWRlIGNvbmZpZ3VyYXRpb24gdG8gYXBwbHkgdG8gdGhlIHVuZGVybHlpbmcgQVdTLlNUUyBzZXJ2aWNlIGNsaWVudFxuICAgKiAgICAgLy8gaWYgY29uZmlndXJhdGlvbiBpcyBub3QgcHJvdmlkZWQsIHRoZW4gY29uZmlndXJhdGlvbiB3aWxsIGJlIHB1bGxlZCBmcm9tIEFXUy5jb25maWdcbiAgICpcbiAgICogICAgIC8vIHNwZWNpZnkgdGltZW91dCBvcHRpb25zXG4gICAqICAgICBodHRwT3B0aW9uczoge1xuICAgKiAgICAgICB0aW1lb3V0OiAxMDBcbiAgICogICAgIH1cbiAgICogICB9KTtcbiAgICogQHNlZSBBV1MuU1RTLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHlcbiAgICogQHNlZSBBV1MuQ29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gV2ViSWRlbnRpdHlDcmVkZW50aWFscyhwYXJhbXMsIGNsaWVudENvbmZpZykge1xuICAgIEFXUy5DcmVkZW50aWFscy5jYWxsKHRoaXMpO1xuICAgIHRoaXMuZXhwaXJlZCA9IHRydWU7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lID0gdGhpcy5wYXJhbXMuUm9sZVNlc3Npb25OYW1lIHx8ICd3ZWItaWRlbnRpdHknO1xuICAgIHRoaXMuZGF0YSA9IG51bGw7XG4gICAgdGhpcy5fY2xpZW50Q29uZmlnID0gQVdTLnV0aWwuY29weShjbGllbnRDb25maWcgfHwge30pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWZyZXNoZXMgY3JlZGVudGlhbHMgdXNpbmcge0FXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX1cbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBDYWxsZWQgd2hlbiB0aGUgU1RTIHNlcnZpY2UgcmVzcG9uZHMgKG9yIGZhaWxzKS4gV2hlblxuICAgKiAgIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIGl0IG1lYW5zIHRoYXQgdGhlIGNyZWRlbnRpYWxzXG4gICAqICAgaW5mb3JtYXRpb24gaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlIGBhY2Nlc3NLZXlJZGAsXG4gICAqICAgYHNlY3JldEFjY2Vzc0tleWAsIGFuZCBgc2Vzc2lvblRva2VuYCBwcm9wZXJ0aWVzKS5cbiAgICogICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWRcbiAgICogQHNlZSBnZXRcbiAgICovXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goY2FsbGJhY2spIHtcbiAgICB0aGlzLmNvYWxlc2NlUmVmcmVzaChjYWxsYmFjayB8fCBBV1MudXRpbC5mbi5jYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNyZWF0ZUNsaWVudHMoKTtcbiAgICBzZWxmLnNlcnZpY2UuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eShmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICBzZWxmLmRhdGEgPSBudWxsO1xuICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgc2VsZi5kYXRhID0gZGF0YTtcbiAgICAgICAgc2VsZi5zZXJ2aWNlLmNyZWRlbnRpYWxzRnJvbShkYXRhLCBzZWxmKTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY3JlYXRlQ2xpZW50czogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnNlcnZpY2UpIHtcbiAgICAgIHZhciBzdHNDb25maWcgPSBBV1MudXRpbC5tZXJnZSh7fSwgdGhpcy5fY2xpZW50Q29uZmlnKTtcbiAgICAgIHN0c0NvbmZpZy5wYXJhbXMgPSB0aGlzLnBhcmFtcztcbiAgICAgIHRoaXMuc2VydmljZSA9IG5ldyBTVFMoc3RzQ29uZmlnKTtcbiAgICB9XG4gIH1cblxufSk7XG4iLCAicmVxdWlyZSgnLi4vbGliL25vZGVfbG9hZGVyJyk7XG52YXIgQVdTID0gcmVxdWlyZSgnLi4vbGliL2NvcmUnKTtcbnZhciBTZXJ2aWNlID0gQVdTLlNlcnZpY2U7XG52YXIgYXBpTG9hZGVyID0gQVdTLmFwaUxvYWRlcjtcblxuYXBpTG9hZGVyLnNlcnZpY2VzWydjb2duaXRvaWRlbnRpdHknXSA9IHt9O1xuQVdTLkNvZ25pdG9JZGVudGl0eSA9IFNlcnZpY2UuZGVmaW5lU2VydmljZSgnY29nbml0b2lkZW50aXR5JywgWycyMDE0LTA2LTMwJ10pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGFwaUxvYWRlci5zZXJ2aWNlc1snY29nbml0b2lkZW50aXR5J10sICcyMDE0LTA2LTMwJywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICB2YXIgbW9kZWwgPSByZXF1aXJlKCcuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5taW4uanNvbicpO1xuICAgIG1vZGVsLnBhZ2luYXRvcnMgPSByZXF1aXJlKCcuLi9hcGlzL2NvZ25pdG8taWRlbnRpdHktMjAxNC0wNi0zMC5wYWdpbmF0b3JzLmpzb24nKS5wYWdpbmF0aW9uO1xuICAgIHJldHVybiBtb2RlbDtcbiAgfSxcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgY29uZmlndXJhYmxlOiB0cnVlXG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBBV1MuQ29nbml0b0lkZW50aXR5O1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgQ29nbml0b0lkZW50aXR5ID0gcmVxdWlyZSgnLi4vLi4vY2xpZW50cy9jb2duaXRvaWRlbnRpdHknKTtcbnZhciBTVFMgPSByZXF1aXJlKCcuLi8uLi9jbGllbnRzL3N0cycpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgY3JlZGVudGlhbHMgcmV0cmlldmVkIGZyb20gU1RTIFdlYiBJZGVudGl0eSBGZWRlcmF0aW9uIHVzaW5nXG4gKiB0aGUgQW1hem9uIENvZ25pdG8gSWRlbnRpdHkgc2VydmljZS5cbiAqXG4gKiBCeSBkZWZhdWx0IHRoaXMgcHJvdmlkZXIgZ2V0cyBjcmVkZW50aWFscyB1c2luZyB0aGVcbiAqIHtBV1MuQ29nbml0b0lkZW50aXR5LmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHl9IHNlcnZpY2Ugb3BlcmF0aW9uLCB3aGljaFxuICogcmVxdWlyZXMgZWl0aGVyIGFuIGBJZGVudGl0eUlkYCBvciBhbiBgSWRlbnRpdHlQb29sSWRgIChBbWF6b24gQ29nbml0b1xuICogSWRlbnRpdHkgUG9vbCBJRCksIHdoaWNoIGlzIHVzZWQgdG8gY2FsbCB7QVdTLkNvZ25pdG9JZGVudGl0eS5nZXRJZH0gdG9cbiAqIG9idGFpbiBhbiBgSWRlbnRpdHlJZGAuIElmIHRoZSBpZGVudGl0eSBvciBpZGVudGl0eSBwb29sIGlzIG5vdCBjb25maWd1cmVkIGluXG4gKiB0aGUgQW1hem9uIENvZ25pdG8gQ29uc29sZSB0byB1c2UgSUFNIHJvbGVzIHdpdGggdGhlIGFwcHJvcHJpYXRlIHBlcm1pc3Npb25zLFxuICogdGhlbiBhZGRpdGlvbmFsbHkgYSBgUm9sZUFybmAgaXMgcmVxdWlyZWQgY29udGFpbmluZyB0aGUgQVJOIG9mIHRoZSBJQU0gdHJ1c3RcbiAqIHBvbGljeSBmb3IgdGhlIEFtYXpvbiBDb2duaXRvIHJvbGUgdGhhdCB0aGUgdXNlciB3aWxsIGxvZyBpbnRvLiBJZiBhIGBSb2xlQXJuYFxuICogaXMgcHJvdmlkZWQsIHRoZW4gdGhpcyBwcm92aWRlciBnZXRzIGNyZWRlbnRpYWxzIHVzaW5nIHRoZVxuICoge0FXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX0gc2VydmljZSBvcGVyYXRpb24sIGFmdGVyIGZpcnN0IGdldHRpbmcgYW5cbiAqIE9wZW4gSUQgdG9rZW4gZnJvbSB7QVdTLkNvZ25pdG9JZGVudGl0eS5nZXRPcGVuSWRUb2tlbn0uXG4gKlxuICogSW4gYWRkaXRpb24sIGlmIHRoaXMgY3JlZGVudGlhbCBwcm92aWRlciBpcyB1c2VkIHRvIHByb3ZpZGUgYXV0aGVudGljYXRlZFxuICogbG9naW4sIHRoZSBgTG9naW5zYCBtYXAgbWF5IGJlIHNldCB0byB0aGUgdG9rZW5zIHByb3ZpZGVkIGJ5IHRoZSByZXNwZWN0aXZlXG4gKiBpZGVudGl0eSBwcm92aWRlcnMuIFNlZSB7Y29uc3RydWN0b3J9IGZvciBhbiBleGFtcGxlIG9uIGNyZWF0aW5nIGEgY3JlZGVudGlhbHNcbiAqIG9iamVjdCB3aXRoIHByb3BlciBwcm9wZXJ0eSB2YWx1ZXMuXG4gKlxuICogIyMgUmVmcmVzaGluZyBDcmVkZW50aWFscyBmcm9tIElkZW50aXR5IFNlcnZpY2VcbiAqXG4gKiBJbiBhZGRpdGlvbiB0byBBV1MgY3JlZGVudGlhbHMgZXhwaXJpbmcgYWZ0ZXIgYSBnaXZlbiBhbW91bnQgb2YgdGltZSwgdGhlXG4gKiBsb2dpbiB0b2tlbiBmcm9tIHRoZSBpZGVudGl0eSBwcm92aWRlciB3aWxsIGFsc28gZXhwaXJlLiBPbmNlIHRoaXMgdG9rZW5cbiAqIGV4cGlyZXMsIGl0IHdpbGwgbm90IGJlIHVzYWJsZSB0byByZWZyZXNoIEFXUyBjcmVkZW50aWFscywgYW5kIGFub3RoZXJcbiAqIHRva2VuIHdpbGwgYmUgbmVlZGVkLiBUaGUgU0RLIGRvZXMgbm90IG1hbmFnZSByZWZyZXNoaW5nIG9mIHRoZSB0b2tlbiB2YWx1ZSxcbiAqIGJ1dCB0aGlzIGNhbiBiZSBkb25lIHRocm91Z2ggYSBcInJlZnJlc2ggdG9rZW5cIiBzdXBwb3J0ZWQgYnkgbW9zdCBpZGVudGl0eVxuICogcHJvdmlkZXJzLiBDb25zdWx0IHRoZSBkb2N1bWVudGF0aW9uIGZvciB0aGUgaWRlbnRpdHkgcHJvdmlkZXIgZm9yIHJlZnJlc2hpbmdcbiAqIHRva2Vucy4gT25jZSB0aGUgcmVmcmVzaGVkIHRva2VuIGlzIGFjcXVpcmVkLCB5b3Ugc2hvdWxkIG1ha2Ugc3VyZSB0byB1cGRhdGVcbiAqIHRoaXMgbmV3IHRva2VuIGluIHRoZSBjcmVkZW50aWFscyBvYmplY3QncyB7cGFyYW1zfSBwcm9wZXJ0eS4gVGhlIGZvbGxvd2luZ1xuICogY29kZSB3aWxsIHVwZGF0ZSB0aGUgV2ViSWRlbnRpdHlUb2tlbiwgYXNzdW1pbmcgeW91IGhhdmUgcmV0cmlldmVkIGFuIHVwZGF0ZWRcbiAqIHRva2VuIGZyb20gdGhlIGlkZW50aXR5IHByb3ZpZGVyOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEFXUy5jb25maWcuY3JlZGVudGlhbHMucGFyYW1zLkxvZ2luc1snZ3JhcGguZmFjZWJvb2suY29tJ10gPSB1cGRhdGVkVG9rZW47XG4gKiBgYGBcbiAqXG4gKiBGdXR1cmUgY2FsbHMgdG8gYGNyZWRlbnRpYWxzLnJlZnJlc2goKWAgd2lsbCBub3cgdXNlIHRoZSBuZXcgdG9rZW4uXG4gKlxuICogQCFhdHRyaWJ1dGUgcGFyYW1zXG4gKiAgIEByZXR1cm4gW21hcF0gdGhlIG1hcCBvZiBwYXJhbXMgcGFzc2VkIHRvXG4gKiAgICAge0FXUy5Db2duaXRvSWRlbnRpdHkuZ2V0SWR9LFxuICogICAgIHtBV1MuQ29nbml0b0lkZW50aXR5LmdldE9wZW5JZFRva2VufSwgYW5kXG4gKiAgICAge0FXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX0uIFRvIHVwZGF0ZSB0aGUgdG9rZW4sIHNldCB0aGVcbiAqICAgICBgcGFyYW1zLldlYklkZW50aXR5VG9rZW5gIHByb3BlcnR5LlxuICogQCFhdHRyaWJ1dGUgZGF0YVxuICogICBAcmV0dXJuIFttYXBdIHRoZSByYXcgZGF0YSByZXNwb25zZSBmcm9tIHRoZSBjYWxsIHRvXG4gKiAgICAge0FXUy5Db2duaXRvSWRlbnRpdHkuZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eX0sIG9yXG4gKiAgICAge0FXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX0uIFVzZSB0aGlzIGlmIHlvdSB3YW50IHRvIGdldFxuICogICAgIGFjY2VzcyB0byBvdGhlciBwcm9wZXJ0aWVzIGZyb20gdGhlIHJlc3BvbnNlLlxuICogQCFhdHRyaWJ1dGUgaWRlbnRpdHlJZFxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBDb2duaXRvIElEIHJldHVybmVkIGJ5IHRoZSBsYXN0IGNhbGwgdG9cbiAqICAgICB7QVdTLkNvZ25pdG9JZGVudGl0eS5nZXRPcGVuSWRUb2tlbn0uIFRoaXMgSUQgcmVwcmVzZW50cyB0aGUgYWN0dWFsXG4gKiAgICAgZmluYWwgcmVzb2x2ZWQgaWRlbnRpdHkgSUQgZnJvbSBBbWF6b24gQ29nbml0by5cbiAqL1xuQVdTLkNvZ25pdG9JZGVudGl0eUNyZWRlbnRpYWxzID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuQ3JlZGVudGlhbHMsIHtcbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9jYWxTdG9yYWdlS2V5OiB7XG4gICAgaWQ6ICdhd3MuY29nbml0by5pZGVudGl0eS1pZC4nLFxuICAgIHByb3ZpZGVyczogJ2F3cy5jb2duaXRvLmlkZW50aXR5LXByb3ZpZGVycy4nXG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgY3JlZGVudGlhbHMgb2JqZWN0LlxuICAgKiBAZXhhbXBsZSBDcmVhdGluZyBhIG5ldyBjcmVkZW50aWFscyBvYmplY3RcbiAgICogICBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5Db2duaXRvSWRlbnRpdHlDcmVkZW50aWFscyh7XG4gICAqXG4gICAqICAgICAvLyBlaXRoZXIgSWRlbnRpdHlQb29sSWQgb3IgSWRlbnRpdHlJZCBpcyByZXF1aXJlZFxuICAgKiAgICAgLy8gU2VlIHRoZSBJZGVudGl0eVBvb2xJZCBwYXJhbSBmb3IgQVdTLkNvZ25pdG9JZGVudGl0eS5nZXRJRCAobGlua2VkIGJlbG93KVxuICAgKiAgICAgLy8gU2VlIHRoZSBJZGVudGl0eUlkIHBhcmFtIGZvciBBV1MuQ29nbml0b0lkZW50aXR5LmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHlcbiAgICogICAgIC8vIG9yIEFXUy5Db2duaXRvSWRlbnRpdHkuZ2V0T3BlbklkVG9rZW4gKGxpbmtlZCBiZWxvdylcbiAgICogICAgIElkZW50aXR5UG9vbElkOiAndXMtZWFzdC0xOjE2OTllYmMwLTc5MDAtNDA5OS1iOTEwLTJkZjk0ZjUyYTAzMCcsXG4gICAqICAgICBJZGVudGl0eUlkOiAndXMtZWFzdC0xOjEyOGQwYTc0LWM4MmYtNDU1My05MTZkLTkwMDUzZTRhOGIwZidcbiAgICpcbiAgICogICAgIC8vIG9wdGlvbmFsLCBvbmx5IG5lY2Vzc2FyeSB3aGVuIHRoZSBpZGVudGl0eSBwb29sIGlzIG5vdCBjb25maWd1cmVkXG4gICAqICAgICAvLyB0byB1c2UgSUFNIHJvbGVzIGluIHRoZSBBbWF6b24gQ29nbml0byBDb25zb2xlXG4gICAqICAgICAvLyBTZWUgdGhlIFJvbGVBcm4gcGFyYW0gZm9yIEFXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSAobGlua2VkIGJlbG93KVxuICAgKiAgICAgUm9sZUFybjogJ2Fybjphd3M6aWFtOjoxMjM0NTY3ODkwOnJvbGUvTVlBUFAtQ29nbml0b0lkZW50aXR5JyxcbiAgICpcbiAgICogICAgIC8vIG9wdGlvbmFsIHRva2VucywgdXNlZCBmb3IgYXV0aGVudGljYXRlZCBsb2dpblxuICAgKiAgICAgLy8gU2VlIHRoZSBMb2dpbnMgcGFyYW0gZm9yIEFXUy5Db2duaXRvSWRlbnRpdHkuZ2V0SUQgKGxpbmtlZCBiZWxvdylcbiAgICogICAgIExvZ2luczoge1xuICAgKiAgICAgICAnZ3JhcGguZmFjZWJvb2suY29tJzogJ0ZCVE9LRU4nLFxuICAgKiAgICAgICAnd3d3LmFtYXpvbi5jb20nOiAnQU1BWk9OVE9LRU4nLFxuICAgKiAgICAgICAnYWNjb3VudHMuZ29vZ2xlLmNvbSc6ICdHT09HTEVUT0tFTicsXG4gICAqICAgICAgICdhcGkudHdpdHRlci5jb20nOiAnVFdJVFRFUlRPS0VOJyxcbiAgICogICAgICAgJ3d3dy5kaWdpdHMuY29tJzogJ0RJR0lUU1RPS0VOJ1xuICAgKiAgICAgfSxcbiAgICpcbiAgICogICAgIC8vIG9wdGlvbmFsIG5hbWUsIGRlZmF1bHRzIHRvIHdlYi1pZGVudGl0eVxuICAgKiAgICAgLy8gU2VlIHRoZSBSb2xlU2Vzc2lvbk5hbWUgcGFyYW0gZm9yIEFXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eSAobGlua2VkIGJlbG93KVxuICAgKiAgICAgUm9sZVNlc3Npb25OYW1lOiAnd2ViJyxcbiAgICpcbiAgICogICAgIC8vIG9wdGlvbmFsLCBvbmx5IG5lY2Vzc2FyeSB3aGVuIGFwcGxpY2F0aW9uIHJ1bnMgaW4gYSBicm93c2VyXG4gICAqICAgICAvLyBhbmQgbXVsdGlwbGUgdXNlcnMgYXJlIHNpZ25lZCBpbiBhdCBvbmNlLCB1c2VkIGZvciBjYWNoaW5nXG4gICAqICAgICBMb2dpbklkOiAnZXhhbXBsZUBnbWFpbC5jb20nXG4gICAqXG4gICAqICAgfSwge1xuICAgKiAgICAgIC8vIG9wdGlvbmFsbHkgcHJvdmlkZSBjb25maWd1cmF0aW9uIHRvIGFwcGx5IHRvIHRoZSB1bmRlcmx5aW5nIHNlcnZpY2UgY2xpZW50c1xuICAgKiAgICAgIC8vIGlmIGNvbmZpZ3VyYXRpb24gaXMgbm90IHByb3ZpZGVkLCB0aGVuIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBwdWxsZWQgZnJvbSBBV1MuY29uZmlnXG4gICAqXG4gICAqICAgICAgLy8gcmVnaW9uIHNob3VsZCBtYXRjaCB0aGUgcmVnaW9uIHlvdXIgaWRlbnRpdHkgcG9vbCBpcyBsb2NhdGVkIGluXG4gICAqICAgICAgcmVnaW9uOiAndXMtZWFzdC0xJyxcbiAgICpcbiAgICogICAgICAvLyBzcGVjaWZ5IHRpbWVvdXQgb3B0aW9uc1xuICAgKiAgICAgIGh0dHBPcHRpb25zOiB7XG4gICAqICAgICAgICB0aW1lb3V0OiAxMDBcbiAgICogICAgICB9XG4gICAqICAgfSk7XG4gICAqIEBzZWUgQVdTLkNvZ25pdG9JZGVudGl0eS5nZXRJZFxuICAgKiBAc2VlIEFXUy5Db2duaXRvSWRlbnRpdHkuZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eVxuICAgKiBAc2VlIEFXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eVxuICAgKiBAc2VlIEFXUy5Db2duaXRvSWRlbnRpdHkuZ2V0T3BlbklkVG9rZW5cbiAgICogQHNlZSBBV1MuQ29uZmlnXG4gICAqIEBub3RlIElmIGEgcmVnaW9uIGlzIG5vdCBwcm92aWRlZCBpbiB0aGUgZ2xvYmFsIEFXUy5jb25maWcsIG9yXG4gICAqICAgc3BlY2lmaWVkIGluIHRoZSBgY2xpZW50Q29uZmlnYCB0byB0aGUgQ29nbml0b0lkZW50aXR5Q3JlZGVudGlhbHNcbiAgICogICBjb25zdHJ1Y3RvciwgeW91IG1heSBlbmNvdW50ZXIgYSAnTWlzc2luZyBjcmVkZW50aWFscyBpbiBjb25maWcnIGVycm9yXG4gICAqICAgd2hlbiBjYWxsaW5nIG1ha2luZyBhIHNlcnZpY2UgY2FsbC5cbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBDb2duaXRvSWRlbnRpdHlDcmVkZW50aWFscyhwYXJhbXMsIGNsaWVudENvbmZpZykge1xuICAgIEFXUy5DcmVkZW50aWFscy5jYWxsKHRoaXMpO1xuICAgIHRoaXMuZXhwaXJlZCA9IHRydWU7XG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5kYXRhID0gbnVsbDtcbiAgICB0aGlzLl9pZGVudGl0eUlkID0gbnVsbDtcbiAgICB0aGlzLl9jbGllbnRDb25maWcgPSBBV1MudXRpbC5jb3B5KGNsaWVudENvbmZpZyB8fCB7fSk7XG4gICAgdGhpcy5sb2FkQ2FjaGVkSWQoKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsICdpZGVudGl0eUlkJywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi5sb2FkQ2FjaGVkSWQoKTtcbiAgICAgICAgcmV0dXJuIHNlbGYuX2lkZW50aXR5SWQgfHwgc2VsZi5wYXJhbXMuSWRlbnRpdHlJZDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKGlkZW50aXR5SWQpIHtcbiAgICAgICAgc2VsZi5faWRlbnRpdHlJZCA9IGlkZW50aXR5SWQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyBjcmVkZW50aWFscyB1c2luZyB7QVdTLkNvZ25pdG9JZGVudGl0eS5nZXRDcmVkZW50aWFsc0ZvcklkZW50aXR5fSxcbiAgICogb3Ige0FXUy5TVFMuYXNzdW1lUm9sZVdpdGhXZWJJZGVudGl0eX0uXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgQ2FsbGVkIHdoZW4gdGhlIFNUUyBzZXJ2aWNlIHJlc3BvbmRzIChvciBmYWlscykuIFdoZW5cbiAgICogICB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyB0aGF0IHRoZSBjcmVkZW50aWFsc1xuICAgKiAgIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QgKGFzIHRoZSBgYWNjZXNzS2V5SWRgLFxuICAgKiAgIGBzZWNyZXRBY2Nlc3NLZXlgLCBhbmQgYHNlc3Npb25Ub2tlbmAgcHJvcGVydGllcykuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkXG4gICAqIEBzZWUgQVdTLkNyZWRlbnRpYWxzLmdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIHRoaXMuY29hbGVzY2VSZWZyZXNoKGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNyZWF0ZUNsaWVudHMoKTtcbiAgICBzZWxmLmRhdGEgPSBudWxsO1xuICAgIHNlbGYuX2lkZW50aXR5SWQgPSBudWxsO1xuICAgIHNlbGYuZ2V0SWQoZnVuY3Rpb24oZXJyKSB7XG4gICAgICBpZiAoIWVycikge1xuICAgICAgICBpZiAoIXNlbGYucGFyYW1zLlJvbGVBcm4pIHtcbiAgICAgICAgICBzZWxmLmdldENyZWRlbnRpYWxzRm9ySWRlbnRpdHkoY2FsbGJhY2spO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGYuZ2V0Q3JlZGVudGlhbHNGcm9tU1RTKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5jbGVhcklkT25Ob3RBdXRob3JpemVkKGVycik7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFycyB0aGUgY2FjaGVkIENvZ25pdG8gSUQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50bHkgY29uZmlndXJlZFxuICAgKiBpZGVudGl0eSBwb29sIElELiBVc2UgdGhpcyB0byBtYW51YWxseSBpbnZhbGlkYXRlIHlvdXIgY2FjaGUgaWZcbiAgICogdGhlIGlkZW50aXR5IHBvb2wgSUQgd2FzIGRlbGV0ZWQuXG4gICAqL1xuICBjbGVhckNhY2hlZElkOiBmdW5jdGlvbiBjbGVhckNhY2hlKCkge1xuICAgIHRoaXMuX2lkZW50aXR5SWQgPSBudWxsO1xuICAgIGRlbGV0ZSB0aGlzLnBhcmFtcy5JZGVudGl0eUlkO1xuXG4gICAgdmFyIHBvb2xJZCA9IHRoaXMucGFyYW1zLklkZW50aXR5UG9vbElkO1xuICAgIHZhciBsb2dpbklkID0gdGhpcy5wYXJhbXMuTG9naW5JZCB8fCAnJztcbiAgICBkZWxldGUgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5LmlkICsgcG9vbElkICsgbG9naW5JZF07XG4gICAgZGVsZXRlIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleS5wcm92aWRlcnMgKyBwb29sSWQgKyBsb2dpbklkXTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBjbGVhcklkT25Ob3RBdXRob3JpemVkOiBmdW5jdGlvbiBjbGVhcklkT25Ob3RBdXRob3JpemVkKGVycikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoZXJyLmNvZGUgPT0gJ05vdEF1dGhvcml6ZWRFeGNlcHRpb24nKSB7XG4gICAgICBzZWxmLmNsZWFyQ2FjaGVkSWQoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHJpZXZlcyBhIENvZ25pdG8gSUQsIGxvYWRpbmcgZnJvbSBjYWNoZSBpZiBpdCB3YXMgYWxyZWFkeSByZXRyaWV2ZWRcbiAgICogb24gdGhpcyBkZXZpY2UuXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIsIGlkZW50aXR5SWQpXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3IsIG51bGxdIGFuIGVycm9yIG9iamVjdCBpZiB0aGUgY2FsbCBmYWlsZWQgb3IgbnVsbCBpZlxuICAgKiAgICAgaXQgc3VjY2VlZGVkLlxuICAgKiAgIEBwYXJhbSBpZGVudGl0eUlkIFtTdHJpbmcsIG51bGxdIGlmIHN1Y2Nlc3NmdWwsIHRoZSBjYWxsYmFjayB3aWxsIHJldHVyblxuICAgKiAgICAgdGhlIENvZ25pdG8gSUQuXG4gICAqIEBub3RlIElmIG5vdCBsb2FkZWQgZXhwbGljaXRseSwgdGhlIENvZ25pdG8gSUQgaXMgbG9hZGVkIGFuZCBzdG9yZWQgaW5cbiAgICogICBsb2NhbFN0b3JhZ2UgaW4gdGhlIGJyb3dzZXIgZW52aXJvbm1lbnQgb2YgYSBkZXZpY2UuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZ2V0SWQ6IGZ1bmN0aW9uIGdldElkKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGlmICh0eXBlb2Ygc2VsZi5wYXJhbXMuSWRlbnRpdHlJZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBzZWxmLnBhcmFtcy5JZGVudGl0eUlkKTtcbiAgICB9XG5cbiAgICBzZWxmLmNvZ25pdG8uZ2V0SWQoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICBpZiAoIWVyciAmJiBkYXRhLklkZW50aXR5SWQpIHtcbiAgICAgICAgc2VsZi5wYXJhbXMuSWRlbnRpdHlJZCA9IGRhdGEuSWRlbnRpdHlJZDtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZGF0YS5JZGVudGl0eUlkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBsb2FkQ3JlZGVudGlhbHM6IGZ1bmN0aW9uIGxvYWRDcmVkZW50aWFscyhkYXRhLCBjcmVkZW50aWFscykge1xuICAgIGlmICghZGF0YSB8fCAhY3JlZGVudGlhbHMpIHJldHVybjtcbiAgICBjcmVkZW50aWFscy5leHBpcmVkID0gZmFsc2U7XG4gICAgY3JlZGVudGlhbHMuYWNjZXNzS2V5SWQgPSBkYXRhLkNyZWRlbnRpYWxzLkFjY2Vzc0tleUlkO1xuICAgIGNyZWRlbnRpYWxzLnNlY3JldEFjY2Vzc0tleSA9IGRhdGEuQ3JlZGVudGlhbHMuU2VjcmV0S2V5O1xuICAgIGNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbiA9IGRhdGEuQ3JlZGVudGlhbHMuU2Vzc2lvblRva2VuO1xuICAgIGNyZWRlbnRpYWxzLmV4cGlyZVRpbWUgPSBkYXRhLkNyZWRlbnRpYWxzLkV4cGlyYXRpb247XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eTogZnVuY3Rpb24gZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eShjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNvZ25pdG8uZ2V0Q3JlZGVudGlhbHNGb3JJZGVudGl0eShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgIGlmICghZXJyKSB7XG4gICAgICAgIHNlbGYuY2FjaGVJZChkYXRhKTtcbiAgICAgICAgc2VsZi5kYXRhID0gZGF0YTtcbiAgICAgICAgc2VsZi5sb2FkQ3JlZGVudGlhbHMoc2VsZi5kYXRhLCBzZWxmKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYuY2xlYXJJZE9uTm90QXV0aG9yaXplZChlcnIpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBnZXRDcmVkZW50aWFsc0Zyb21TVFM6IGZ1bmN0aW9uIGdldENyZWRlbnRpYWxzRnJvbVNUUyhjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNvZ25pdG8uZ2V0T3BlbklkVG9rZW4oZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICBpZiAoIWVycikge1xuICAgICAgICBzZWxmLmNhY2hlSWQoZGF0YSk7XG4gICAgICAgIHNlbGYucGFyYW1zLldlYklkZW50aXR5VG9rZW4gPSBkYXRhLlRva2VuO1xuICAgICAgICBzZWxmLndlYklkZW50aXR5Q3JlZGVudGlhbHMucmVmcmVzaChmdW5jdGlvbih3ZWJFcnIpIHtcbiAgICAgICAgICBpZiAoIXdlYkVycikge1xuICAgICAgICAgICAgc2VsZi5kYXRhID0gc2VsZi53ZWJJZGVudGl0eUNyZWRlbnRpYWxzLmRhdGE7XG4gICAgICAgICAgICBzZWxmLnN0cy5jcmVkZW50aWFsc0Zyb20oc2VsZi5kYXRhLCBzZWxmKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FsbGJhY2sod2ViRXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLmNsZWFySWRPbk5vdEF1dGhvcml6ZWQoZXJyKTtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBsb2FkQ2FjaGVkSWQ6IGZ1bmN0aW9uIGxvYWRDYWNoZWRJZCgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICAvLyBpbiB0aGUgYnJvd3NlciB3ZSBzb3VyY2UgZGVmYXVsdCBJZGVudGl0eUlkIGZyb20gbG9jYWxTdG9yYWdlXG4gICAgaWYgKEFXUy51dGlsLmlzQnJvd3NlcigpICYmICFzZWxmLnBhcmFtcy5JZGVudGl0eUlkKSB7XG4gICAgICB2YXIgaWQgPSBzZWxmLmdldFN0b3JhZ2UoJ2lkJyk7XG4gICAgICBpZiAoaWQgJiYgc2VsZi5wYXJhbXMuTG9naW5zKSB7XG4gICAgICAgIHZhciBhY3R1YWxQcm92aWRlcnMgPSBPYmplY3Qua2V5cyhzZWxmLnBhcmFtcy5Mb2dpbnMpO1xuICAgICAgICB2YXIgY2FjaGVkUHJvdmlkZXJzID1cbiAgICAgICAgICAoc2VsZi5nZXRTdG9yYWdlKCdwcm92aWRlcnMnKSB8fCAnJykuc3BsaXQoJywnKTtcblxuICAgICAgICAvLyBvbmx5IGxvYWQgSUQgaWYgYXQgbGVhc3Qgb25lIHByb3ZpZGVyIHVzZWQgdGhpcyBJRCBiZWZvcmVcbiAgICAgICAgdmFyIGludGVyc2VjdCA9IGNhY2hlZFByb3ZpZGVycy5maWx0ZXIoZnVuY3Rpb24obikge1xuICAgICAgICAgIHJldHVybiBhY3R1YWxQcm92aWRlcnMuaW5kZXhPZihuKSAhPT0gLTE7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaW50ZXJzZWN0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIHNlbGYucGFyYW1zLklkZW50aXR5SWQgPSBpZDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpZCkge1xuICAgICAgICBzZWxmLnBhcmFtcy5JZGVudGl0eUlkID0gaWQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZUNsaWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBjbGllbnRDb25maWcgPSB0aGlzLl9jbGllbnRDb25maWc7XG4gICAgdGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzID0gdGhpcy53ZWJJZGVudGl0eUNyZWRlbnRpYWxzIHx8XG4gICAgICBuZXcgQVdTLldlYklkZW50aXR5Q3JlZGVudGlhbHModGhpcy5wYXJhbXMsIGNsaWVudENvbmZpZyk7XG4gICAgaWYgKCF0aGlzLmNvZ25pdG8pIHtcbiAgICAgIHZhciBjb2duaXRvQ29uZmlnID0gQVdTLnV0aWwubWVyZ2Uoe30sIGNsaWVudENvbmZpZyk7XG4gICAgICBjb2duaXRvQ29uZmlnLnBhcmFtcyA9IHRoaXMucGFyYW1zO1xuICAgICAgdGhpcy5jb2duaXRvID0gbmV3IENvZ25pdG9JZGVudGl0eShjb2duaXRvQ29uZmlnKTtcbiAgICB9XG4gICAgdGhpcy5zdHMgPSB0aGlzLnN0cyB8fCBuZXcgU1RTKGNsaWVudENvbmZpZyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY2FjaGVJZDogZnVuY3Rpb24gY2FjaGVJZChkYXRhKSB7XG4gICAgdGhpcy5faWRlbnRpdHlJZCA9IGRhdGEuSWRlbnRpdHlJZDtcbiAgICB0aGlzLnBhcmFtcy5JZGVudGl0eUlkID0gdGhpcy5faWRlbnRpdHlJZDtcblxuICAgIC8vIGNhY2hlIHRoaXMgSWRlbnRpdHlJZCBpbiBicm93c2VyIGxvY2FsU3RvcmFnZSBpZiBwb3NzaWJsZVxuICAgIGlmIChBV1MudXRpbC5pc0Jyb3dzZXIoKSkge1xuICAgICAgdGhpcy5zZXRTdG9yYWdlKCdpZCcsIGRhdGEuSWRlbnRpdHlJZCk7XG5cbiAgICAgIGlmICh0aGlzLnBhcmFtcy5Mb2dpbnMpIHtcbiAgICAgICAgdGhpcy5zZXRTdG9yYWdlKCdwcm92aWRlcnMnLCBPYmplY3Qua2V5cyh0aGlzLnBhcmFtcy5Mb2dpbnMpLmpvaW4oJywnKSk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldFN0b3JhZ2U6IGZ1bmN0aW9uIGdldFN0b3JhZ2Uoa2V5KSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVt0aGlzLmxvY2FsU3RvcmFnZUtleVtrZXldICsgdGhpcy5wYXJhbXMuSWRlbnRpdHlQb29sSWQgKyAodGhpcy5wYXJhbXMuTG9naW5JZCB8fCAnJyldO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNldFN0b3JhZ2U6IGZ1bmN0aW9uIHNldFN0b3JhZ2Uoa2V5LCB2YWwpIHtcbiAgICB0cnkge1xuICAgICAgdGhpcy5zdG9yYWdlW3RoaXMubG9jYWxTdG9yYWdlS2V5W2tleV0gKyB0aGlzLnBhcmFtcy5JZGVudGl0eVBvb2xJZCArICh0aGlzLnBhcmFtcy5Mb2dpbklkIHx8ICcnKV0gPSB2YWw7XG4gICAgfSBjYXRjaCAoXykge31cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzdG9yYWdlOiAoZnVuY3Rpb24oKSB7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBzdG9yYWdlID0gQVdTLnV0aWwuaXNCcm93c2VyKCkgJiYgd2luZG93LmxvY2FsU3RvcmFnZSAhPT0gbnVsbCAmJiB0eXBlb2Ygd2luZG93LmxvY2FsU3RvcmFnZSA9PT0gJ29iamVjdCcgP1xuICAgICAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2UgOiB7fTtcblxuICAgICAgLy8gVGVzdCBzZXQvcmVtb3ZlIHdoaWNoIHdvdWxkIHRocm93IGFuIGVycm9yIGluIFNhZmFyaSdzIHByaXZhdGUgYnJvd3NpbmdcbiAgICAgIHN0b3JhZ2VbJ2F3cy50ZXN0LXN0b3JhZ2UnXSA9ICdmb29iYXInO1xuICAgICAgZGVsZXRlIHN0b3JhZ2VbJ2F3cy50ZXN0LXN0b3JhZ2UnXTtcblxuICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgfSBjYXRjaCAoXykge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgfSkoKVxufSk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcbnZhciBTVFMgPSByZXF1aXJlKCcuLi8uLi9jbGllbnRzL3N0cycpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgY3JlZGVudGlhbHMgcmV0cmlldmVkIGZyb20gU1RTIFNBTUwgc3VwcG9ydC5cbiAqXG4gKiBCeSBkZWZhdWx0IHRoaXMgcHJvdmlkZXIgZ2V0cyBjcmVkZW50aWFscyB1c2luZyB0aGVcbiAqIHtBV1MuU1RTLmFzc3VtZVJvbGVXaXRoU0FNTH0gc2VydmljZSBvcGVyYXRpb24uIFRoaXMgb3BlcmF0aW9uXG4gKiByZXF1aXJlcyBhIGBSb2xlQXJuYCBjb250YWluaW5nIHRoZSBBUk4gb2YgdGhlIElBTSB0cnVzdCBwb2xpY3kgZm9yIHRoZVxuICogYXBwbGljYXRpb24gZm9yIHdoaWNoIGNyZWRlbnRpYWxzIHdpbGwgYmUgZ2l2ZW4sIGFzIHdlbGwgYXMgYSBgUHJpbmNpcGFsQXJuYFxuICogcmVwcmVzZW50aW5nIHRoZSBBUk4gZm9yIHRoZSBTQU1MIGlkZW50aXR5IHByb3ZpZGVyLiBJbiBhZGRpdGlvbiwgdGhlXG4gKiBgU0FNTEFzc2VydGlvbmAgbXVzdCBiZSBzZXQgdG8gdGhlIHRva2VuIHByb3ZpZGVkIGJ5IHRoZSBpZGVudGl0eVxuICogcHJvdmlkZXIuIFNlZSB7Y29uc3RydWN0b3J9IGZvciBhbiBleGFtcGxlIG9uIGNyZWF0aW5nIGEgY3JlZGVudGlhbHNcbiAqIG9iamVjdCB3aXRoIHByb3BlciBgUm9sZUFybmAsIGBQcmluY2lwYWxBcm5gLCBhbmQgYFNBTUxBc3NlcnRpb25gIHZhbHVlcy5cbiAqXG4gKiAjIyBSZWZyZXNoaW5nIENyZWRlbnRpYWxzIGZyb20gSWRlbnRpdHkgU2VydmljZVxuICpcbiAqIEluIGFkZGl0aW9uIHRvIEFXUyBjcmVkZW50aWFscyBleHBpcmluZyBhZnRlciBhIGdpdmVuIGFtb3VudCBvZiB0aW1lLCB0aGVcbiAqIGxvZ2luIHRva2VuIGZyb20gdGhlIGlkZW50aXR5IHByb3ZpZGVyIHdpbGwgYWxzbyBleHBpcmUuIE9uY2UgdGhpcyB0b2tlblxuICogZXhwaXJlcywgaXQgd2lsbCBub3QgYmUgdXNhYmxlIHRvIHJlZnJlc2ggQVdTIGNyZWRlbnRpYWxzLCBhbmQgYW5vdGhlclxuICogdG9rZW4gd2lsbCBiZSBuZWVkZWQuIFRoZSBTREsgZG9lcyBub3QgbWFuYWdlIHJlZnJlc2hpbmcgb2YgdGhlIHRva2VuIHZhbHVlLFxuICogYnV0IHRoaXMgY2FuIGJlIGRvbmUgdGhyb3VnaCBhIFwicmVmcmVzaCB0b2tlblwiIHN1cHBvcnRlZCBieSBtb3N0IGlkZW50aXR5XG4gKiBwcm92aWRlcnMuIENvbnN1bHQgdGhlIGRvY3VtZW50YXRpb24gZm9yIHRoZSBpZGVudGl0eSBwcm92aWRlciBmb3IgcmVmcmVzaGluZ1xuICogdG9rZW5zLiBPbmNlIHRoZSByZWZyZXNoZWQgdG9rZW4gaXMgYWNxdWlyZWQsIHlvdSBzaG91bGQgbWFrZSBzdXJlIHRvIHVwZGF0ZVxuICogdGhpcyBuZXcgdG9rZW4gaW4gdGhlIGNyZWRlbnRpYWxzIG9iamVjdCdzIHtwYXJhbXN9IHByb3BlcnR5LiBUaGUgZm9sbG93aW5nXG4gKiBjb2RlIHdpbGwgdXBkYXRlIHRoZSBTQU1MQXNzZXJ0aW9uLCBhc3N1bWluZyB5b3UgaGF2ZSByZXRyaWV2ZWQgYW4gdXBkYXRlZFxuICogdG9rZW4gZnJvbSB0aGUgaWRlbnRpdHkgcHJvdmlkZXI6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQVdTLmNvbmZpZy5jcmVkZW50aWFscy5wYXJhbXMuU0FNTEFzc2VydGlvbiA9IHVwZGF0ZWRUb2tlbjtcbiAqIGBgYFxuICpcbiAqIEZ1dHVyZSBjYWxscyB0byBgY3JlZGVudGlhbHMucmVmcmVzaCgpYCB3aWxsIG5vdyB1c2UgdGhlIG5ldyB0b2tlbi5cbiAqXG4gKiBAIWF0dHJpYnV0ZSBwYXJhbXNcbiAqICAgQHJldHVybiBbbWFwXSB0aGUgbWFwIG9mIHBhcmFtcyBwYXNzZWQgdG9cbiAqICAgICB7QVdTLlNUUy5hc3N1bWVSb2xlV2l0aFNBTUx9LiBUbyB1cGRhdGUgdGhlIHRva2VuLCBzZXQgdGhlXG4gKiAgICAgYHBhcmFtcy5TQU1MQXNzZXJ0aW9uYCBwcm9wZXJ0eS5cbiAqL1xuQVdTLlNBTUxDcmVkZW50aWFscyA9IEFXUy51dGlsLmluaGVyaXQoQVdTLkNyZWRlbnRpYWxzLCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IGNyZWRlbnRpYWxzIG9iamVjdC5cbiAgICogQHBhcmFtIChzZWUgQVdTLlNUUy5hc3N1bWVSb2xlV2l0aFNBTUwpXG4gICAqIEBleGFtcGxlIENyZWF0aW5nIGEgbmV3IGNyZWRlbnRpYWxzIG9iamVjdFxuICAgKiAgIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLlNBTUxDcmVkZW50aWFscyh7XG4gICAqICAgICBSb2xlQXJuOiAnYXJuOmF3czppYW06OjEyMzQ1Njc4OTA6cm9sZS9TQU1MUm9sZScsXG4gICAqICAgICBQcmluY2lwYWxBcm46ICdhcm46YXdzOmlhbTo6MTIzNDU2Nzg5MDpyb2xlL1NBTUxQcmluY2lwYWwnLFxuICAgKiAgICAgU0FNTEFzc2VydGlvbjogJ2Jhc2U2NC10b2tlbicsIC8vIGJhc2U2NC1lbmNvZGVkIHRva2VuIGZyb20gSWRQXG4gICAqICAgfSk7XG4gICAqIEBzZWUgQVdTLlNUUy5hc3N1bWVSb2xlV2l0aFNBTUxcbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBTQU1MQ3JlZGVudGlhbHMocGFyYW1zKSB7XG4gICAgQVdTLkNyZWRlbnRpYWxzLmNhbGwodGhpcyk7XG4gICAgdGhpcy5leHBpcmVkID0gdHJ1ZTtcbiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcztcbiAgfSxcblxuICAvKipcbiAgICogUmVmcmVzaGVzIGNyZWRlbnRpYWxzIHVzaW5nIHtBV1MuU1RTLmFzc3VtZVJvbGVXaXRoU0FNTH1cbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBDYWxsZWQgd2hlbiB0aGUgU1RTIHNlcnZpY2UgcmVzcG9uZHMgKG9yIGZhaWxzKS4gV2hlblxuICAgKiAgIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIGl0IG1lYW5zIHRoYXQgdGhlIGNyZWRlbnRpYWxzXG4gICAqICAgaW5mb3JtYXRpb24gaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlIGBhY2Nlc3NLZXlJZGAsXG4gICAqICAgYHNlY3JldEFjY2Vzc0tleWAsIGFuZCBgc2Vzc2lvblRva2VuYCBwcm9wZXJ0aWVzKS5cbiAgICogICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWRcbiAgICogQHNlZSBnZXRcbiAgICovXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goY2FsbGJhY2spIHtcbiAgICB0aGlzLmNvYWxlc2NlUmVmcmVzaChjYWxsYmFjayB8fCBBV1MudXRpbC5mbi5jYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLmNyZWF0ZUNsaWVudHMoKTtcbiAgICBzZWxmLnNlcnZpY2UuYXNzdW1lUm9sZVdpdGhTQU1MKGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgIGlmICghZXJyKSB7XG4gICAgICAgIHNlbGYuc2VydmljZS5jcmVkZW50aWFsc0Zyb20oZGF0YSwgc2VsZik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNyZWF0ZUNsaWVudHM6IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuc2VydmljZSA9IHRoaXMuc2VydmljZSB8fCBuZXcgU1RTKHtwYXJhbXM6IHRoaXMucGFyYW1zfSk7XG4gIH1cblxufSk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcbnZhciBwcm9jID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpO1xudmFyIGluaUxvYWRlciA9IEFXUy51dGlsLmluaUxvYWRlcjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGNyZWRlbnRpYWxzIGxvYWRlZCBmcm9tIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlXG4gKiAoZGVmYXVsdGluZyB0byB+Ly5hd3MvY3JlZGVudGlhbHMgb3IgZGVmaW5lZCBieSB0aGVcbiAqIGBBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEVgIGVudmlyb25tZW50IHZhcmlhYmxlKS5cbiAqXG4gKiAjIyBVc2luZyBwcm9jZXNzIGNyZWRlbnRpYWxzXG4gKlxuICogVGhlIGNyZWRlbnRpYWxzIGZpbGUgY2FuIHNwZWNpZnkgYSBjcmVkZW50aWFsIHByb3ZpZGVyIHRoYXQgZXhlY3V0ZXNcbiAqIGEgZ2l2ZW4gcHJvY2VzcyBhbmQgYXR0ZW1wdHMgdG8gcmVhZCBpdHMgc3Rkb3V0IHRvIHJlY2lldmUgYSBKU09OIHBheWxvYWRcbiAqIGNvbnRhaW5pbmcgdGhlIGNyZWRlbnRpYWxzOlxuICpcbiAqICAgICBbZGVmYXVsdF1cbiAqICAgICBjcmVkZW50aWFsX3Byb2Nlc3MgPSAvdXNyL2Jpbi9jcmVkZW50aWFsX3Byb2NcbiAqXG4gKiBBdXRvbWF0aWNhbGx5IGhhbmRsZXMgcmVmcmVzaGluZyBjcmVkZW50aWFscyBpZiBhbiBFeHBpcmF0aW9uIHRpbWUgaXNcbiAqIHByb3ZpZGVkIGluIHRoZSBjcmVkZW50aWFscyBwYXlsb2FkLiBDcmVkZW50aWFscyBzdXBwbGllZCBpbiB0aGUgc2FtZSBwcm9maWxlXG4gKiB3aWxsIHRha2UgcHJlY2VkZW5jZSBvdmVyIHRoZSBjcmVkZW50aWFsX3Byb2Nlc3MuXG4gKlxuICogU291cmNpbmcgY3JlZGVudGlhbHMgZnJvbSBhbiBleHRlcm5hbCBwcm9jZXNzIGNhbiBwb3RlbnRpYWxseSBiZSBkYW5nZXJvdXMsXG4gKiBzbyBwcm9jZWVkIHdpdGggY2F1dGlvbi4gT3RoZXIgY3JlZGVudGlhbCBwcm92aWRlcnMgc2hvdWxkIGJlIHByZWZlcnJlZCBpZlxuICogYXQgYWxsIHBvc3NpYmxlLiBJZiB1c2luZyB0aGlzIG9wdGlvbiwgeW91IHNob3VsZCBtYWtlIHN1cmUgdGhhdCB0aGUgc2hhcmVkXG4gKiBjcmVkZW50aWFscyBmaWxlIGlzIGFzIGxvY2tlZCBkb3duIGFzIHBvc3NpYmxlIHVzaW5nIHNlY3VyaXR5IGJlc3QgcHJhY3RpY2VzXG4gKiBmb3IgeW91ciBvcGVyYXRpbmcgc3lzdGVtLlxuICpcbiAqICMjIFVzaW5nIGN1c3RvbSBwcm9maWxlc1xuICpcbiAqIFRoZSBTREsgc3VwcG9ydHMgbG9hZGluZyBjcmVkZW50aWFscyBmb3Igc2VwYXJhdGUgcHJvZmlsZXMuIFRoaXMgY2FuIGJlIGRvbmVcbiAqIGluIHR3byB3YXlzOlxuICpcbiAqIDEuIFNldCB0aGUgYEFXU19QUk9GSUxFYCBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbiB5b3VyIHByb2Nlc3MgcHJpb3IgdG9cbiAqICAgIGxvYWRpbmcgdGhlIFNESy5cbiAqIDIuIERpcmVjdGx5IGxvYWQgdGhlIEFXUy5Qcm9jZXNzQ3JlZGVudGlhbHMgcHJvdmlkZXI6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIGNyZWRzID0gbmV3IEFXUy5Qcm9jZXNzQ3JlZGVudGlhbHMoe3Byb2ZpbGU6ICdteXByb2ZpbGUnfSk7XG4gKiBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gY3JlZHM7XG4gKiBgYGBcbiAqXG4gKiBAIW1hY3JvIG5vYnJvd3NlclxuICovXG5BV1MuUHJvY2Vzc0NyZWRlbnRpYWxzID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuQ3JlZGVudGlhbHMsIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgUHJvY2Vzc0NyZWRlbnRpYWxzIG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgW21hcF0gYSBzZXQgb2Ygb3B0aW9uc1xuICAgKiBAb3B0aW9uIG9wdGlvbnMgcHJvZmlsZSBbU3RyaW5nXSAoQVdTX1BST0ZJTEUgZW52IHZhciBvciAnZGVmYXVsdCcpXG4gICAqICAgdGhlIG5hbWUgb2YgdGhlIHByb2ZpbGUgdG8gbG9hZC5cbiAgICogQG9wdGlvbiBvcHRpb25zIGZpbGVuYW1lIFtTdHJpbmddICgnfi8uYXdzL2NyZWRlbnRpYWxzJyBvciBkZWZpbmVkIGJ5XG4gICAqICAgQVdTX1NIQVJFRF9DUkVERU5USUFMU19GSUxFIHByb2Nlc3MgZW52IHZhcilcbiAgICogICB0aGUgZmlsZW5hbWUgdG8gdXNlIHdoZW4gbG9hZGluZyBjcmVkZW50aWFscy5cbiAgICogQG9wdGlvbiBvcHRpb25zIGNhbGxiYWNrIFtGdW5jdGlvbl0gKGVycikgQ3JlZGVudGlhbHMgYXJlIGVhZ2VybHkgbG9hZGVkXG4gICAqICAgYnkgdGhlIGNvbnN0cnVjdG9yLiBXaGVuIHRoZSBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCBubyBlcnJvciwgdGhlXG4gICAqICAgY3JlZGVudGlhbHMgaGF2ZSBiZWVuIGxvYWRlZCBzdWNjZXNzZnVsbHkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gUHJvY2Vzc0NyZWRlbnRpYWxzKG9wdGlvbnMpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5maWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWU7XG4gICAgdGhpcy5wcm9maWxlID0gb3B0aW9ucy5wcm9maWxlIHx8IHByb2Nlc3MuZW52LkFXU19QUk9GSUxFIHx8IEFXUy51dGlsLmRlZmF1bHRQcm9maWxlO1xuICAgIHRoaXMuZ2V0KG9wdGlvbnMuY2FsbGJhY2sgfHwgQVdTLnV0aWwuZm4ubm9vcCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0cnkge1xuICAgICAgdmFyIHByb2ZpbGVzID0gQVdTLnV0aWwuZ2V0UHJvZmlsZXNGcm9tU2hhcmVkQ29uZmlnKGluaUxvYWRlciwgdGhpcy5maWxlbmFtZSk7XG4gICAgICB2YXIgcHJvZmlsZSA9IHByb2ZpbGVzW3RoaXMucHJvZmlsZV0gfHwge307XG5cbiAgICAgIGlmIChPYmplY3Qua2V5cyhwcm9maWxlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgbmV3IEVycm9yKCdQcm9maWxlICcgKyB0aGlzLnByb2ZpbGUgKyAnIG5vdCBmb3VuZCcpLFxuICAgICAgICAgIHsgY29kZTogJ1Byb2Nlc3NDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAocHJvZmlsZVsnY3JlZGVudGlhbF9wcm9jZXNzJ10pIHtcbiAgICAgICAgdGhpcy5sb2FkVmlhQ3JlZGVudGlhbFByb2Nlc3MocHJvZmlsZSwgZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgY2FsbGJhY2soZXJyLCBudWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5leHBpcmVkID0gZmFsc2U7XG4gICAgICAgICAgICBzZWxmLmFjY2Vzc0tleUlkID0gZGF0YS5BY2Nlc3NLZXlJZDtcbiAgICAgICAgICAgIHNlbGYuc2VjcmV0QWNjZXNzS2V5ID0gZGF0YS5TZWNyZXRBY2Nlc3NLZXk7XG4gICAgICAgICAgICBzZWxmLnNlc3Npb25Ub2tlbiA9IGRhdGEuU2Vzc2lvblRva2VuO1xuICAgICAgICAgICAgaWYgKGRhdGEuRXhwaXJhdGlvbikge1xuICAgICAgICAgICAgICBzZWxmLmV4cGlyZVRpbWUgPSBuZXcgRGF0ZShkYXRhLkV4cGlyYXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignUHJvZmlsZSAnICsgdGhpcy5wcm9maWxlICsgJyBkaWQgbm90IGluY2x1ZGUgY3JlZGVudGlhbCBwcm9jZXNzJyksXG4gICAgICAgICAgeyBjb2RlOiAnUHJvY2Vzc0NyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgKiBFeGVjdXRlcyB0aGUgY3JlZGVudGlhbF9wcm9jZXNzIGFuZCByZXRyaWV2ZXNcbiAgKiBjcmVkZW50aWFscyBmcm9tIHRoZSBvdXRwdXRcbiAgKiBAYXBpIHByaXZhdGVcbiAgKiBAcGFyYW0gcHJvZmlsZSBbbWFwXSBjcmVkZW50aWFscyBwcm9maWxlXG4gICogQHRocm93cyBQcm9jZXNzQ3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmVcbiAgKi9cbiAgbG9hZFZpYUNyZWRlbnRpYWxQcm9jZXNzOiBmdW5jdGlvbiBsb2FkVmlhQ3JlZGVudGlhbFByb2Nlc3MocHJvZmlsZSwgY2FsbGJhY2spIHtcbiAgICBwcm9jLmV4ZWMocHJvZmlsZVsnY3JlZGVudGlhbF9wcm9jZXNzJ10sIHsgZW52OiBwcm9jZXNzLmVudiB9LCBmdW5jdGlvbihlcnIsIHN0ZE91dCwgc3RkRXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignY3JlZGVudGlhbF9wcm9jZXNzIHJldHVybmVkIGVycm9yJyksXG4gICAgICAgICAgeyBjb2RlOiAnUHJvY2Vzc0NyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJ31cbiAgICAgICAgKSwgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciBjcmVkRGF0YSA9IEpTT04ucGFyc2Uoc3RkT3V0KTtcbiAgICAgICAgICBpZiAoY3JlZERhdGEuRXhwaXJhdGlvbikge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRUaW1lID0gQVdTLnV0aWwuZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgICAgICB2YXIgZXhwaXJlVGltZSA9IG5ldyBEYXRlKGNyZWREYXRhLkV4cGlyYXRpb24pO1xuICAgICAgICAgICAgaWYgKGV4cGlyZVRpbWUgPCBjdXJyZW50VGltZSkge1xuICAgICAgICAgICAgICB0aHJvdyBFcnJvcignY3JlZGVudGlhbF9wcm9jZXNzIHJldHVybmVkIGV4cGlyZWQgY3JlZGVudGlhbHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoY3JlZERhdGEuVmVyc2lvbiAhPT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2NyZWRlbnRpYWxfcHJvY2VzcyBkb2VzIG5vdCByZXR1cm4gVmVyc2lvbiA9PSAxJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIGNyZWREYXRhKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY2FsbGJhY2soQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgICBuZXcgRXJyb3IoZXJyLm1lc3NhZ2UpLFxuICAgICAgICAgICAgeyBjb2RlOiAnUHJvY2Vzc0NyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJ31cbiAgICAgICAgICApLCBudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgY3JlZGVudGlhbHMgZnJvbSB0aGUgY3JlZGVudGlhbCBwcm9jZXNzXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgQ2FsbGVkIGFmdGVyIHRoZSBjcmVkZW50aWFsIHByb2Nlc3MgaGFzIGJlZW4gZXhlY3V0ZWQuIFdoZW4gdGhpc1xuICAgKiAgIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyB0aGF0IHRoZSBjcmVkZW50aWFsc1xuICAgKiAgIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QgKGFzIHRoZSBgYWNjZXNzS2V5SWRgLFxuICAgKiAgIGBzZWNyZXRBY2Nlc3NLZXlgLCBhbmQgYHNlc3Npb25Ub2tlbmAgcHJvcGVydGllcykuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkXG4gICAqIEBzZWUgZ2V0XG4gICAqL1xuICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGNhbGxiYWNrKSB7XG4gICAgaW5pTG9hZGVyLmNsZWFyQ2FjaGVkRmlsZXMoKTtcbiAgICB0aGlzLmNvYWxlc2NlUmVmcmVzaChjYWxsYmFjayB8fCBBV1MudXRpbC5mbi5jYWxsYmFjayk7XG4gIH1cbn0pO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIGV4cG9ydHMuZGVmYXVsdHMgPSB7XG4gICAgXCIwLjFcIjoge1xuICAgICAgZXhwbGljaXRDaGFya2V5OiBmYWxzZSxcbiAgICAgIHRyaW06IHRydWUsXG4gICAgICBub3JtYWxpemU6IHRydWUsXG4gICAgICBub3JtYWxpemVUYWdzOiBmYWxzZSxcbiAgICAgIGF0dHJrZXk6IFwiQFwiLFxuICAgICAgY2hhcmtleTogXCIjXCIsXG4gICAgICBleHBsaWNpdEFycmF5OiBmYWxzZSxcbiAgICAgIGlnbm9yZUF0dHJzOiBmYWxzZSxcbiAgICAgIG1lcmdlQXR0cnM6IGZhbHNlLFxuICAgICAgZXhwbGljaXRSb290OiBmYWxzZSxcbiAgICAgIHZhbGlkYXRvcjogbnVsbCxcbiAgICAgIHhtbG5zOiBmYWxzZSxcbiAgICAgIGV4cGxpY2l0Q2hpbGRyZW46IGZhbHNlLFxuICAgICAgY2hpbGRrZXk6ICdAQCcsXG4gICAgICBjaGFyc0FzQ2hpbGRyZW46IGZhbHNlLFxuICAgICAgaW5jbHVkZVdoaXRlQ2hhcnM6IGZhbHNlLFxuICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgYXR0ck5hbWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgYXR0clZhbHVlUHJvY2Vzc29yczogbnVsbCxcbiAgICAgIHRhZ05hbWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgdmFsdWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgZW1wdHlUYWc6ICcnXG4gICAgfSxcbiAgICBcIjAuMlwiOiB7XG4gICAgICBleHBsaWNpdENoYXJrZXk6IGZhbHNlLFxuICAgICAgdHJpbTogZmFsc2UsXG4gICAgICBub3JtYWxpemU6IGZhbHNlLFxuICAgICAgbm9ybWFsaXplVGFnczogZmFsc2UsXG4gICAgICBhdHRya2V5OiBcIiRcIixcbiAgICAgIGNoYXJrZXk6IFwiX1wiLFxuICAgICAgZXhwbGljaXRBcnJheTogdHJ1ZSxcbiAgICAgIGlnbm9yZUF0dHJzOiBmYWxzZSxcbiAgICAgIG1lcmdlQXR0cnM6IGZhbHNlLFxuICAgICAgZXhwbGljaXRSb290OiB0cnVlLFxuICAgICAgdmFsaWRhdG9yOiBudWxsLFxuICAgICAgeG1sbnM6IGZhbHNlLFxuICAgICAgZXhwbGljaXRDaGlsZHJlbjogZmFsc2UsXG4gICAgICBwcmVzZXJ2ZUNoaWxkcmVuT3JkZXI6IGZhbHNlLFxuICAgICAgY2hpbGRrZXk6ICckJCcsXG4gICAgICBjaGFyc0FzQ2hpbGRyZW46IGZhbHNlLFxuICAgICAgaW5jbHVkZVdoaXRlQ2hhcnM6IGZhbHNlLFxuICAgICAgYXN5bmM6IGZhbHNlLFxuICAgICAgc3RyaWN0OiB0cnVlLFxuICAgICAgYXR0ck5hbWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgYXR0clZhbHVlUHJvY2Vzc29yczogbnVsbCxcbiAgICAgIHRhZ05hbWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgdmFsdWVQcm9jZXNzb3JzOiBudWxsLFxuICAgICAgcm9vdE5hbWU6ICdyb290JyxcbiAgICAgIHhtbGRlYzoge1xuICAgICAgICAndmVyc2lvbic6ICcxLjAnLFxuICAgICAgICAnZW5jb2RpbmcnOiAnVVRGLTgnLFxuICAgICAgICAnc3RhbmRhbG9uZSc6IHRydWVcbiAgICAgIH0sXG4gICAgICBkb2N0eXBlOiBudWxsLFxuICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAncHJldHR5JzogdHJ1ZSxcbiAgICAgICAgJ2luZGVudCc6ICcgICcsXG4gICAgICAgICduZXdsaW5lJzogJ1xcbidcbiAgICAgIH0sXG4gICAgICBoZWFkbGVzczogZmFsc2UsXG4gICAgICBjaHVua1NpemU6IDEwMDAwLFxuICAgICAgZW1wdHlUYWc6ICcnLFxuICAgICAgY2RhdGE6IGZhbHNlXG4gICAgfVxuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBhc3NpZ24sIGlzQXJyYXksIGlzRW1wdHksIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCBpc1BsYWluT2JqZWN0LFxuICAgIHNsaWNlID0gW10uc2xpY2UsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGFzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpLCBrZXksIGxlbiwgc291cmNlLCBzb3VyY2VzLCB0YXJnZXQ7XG4gICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdLCBzb3VyY2VzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgaWYgKGlzRnVuY3Rpb24oT2JqZWN0LmFzc2lnbikpIHtcbiAgICAgIE9iamVjdC5hc3NpZ24uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gc291cmNlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBzb3VyY2UgPSBzb3VyY2VzW2ldO1xuICAgICAgICBpZiAoc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xuXG4gIGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gISF2YWwgJiYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXSc7XG4gIH07XG5cbiAgaXNPYmplY3QgPSBmdW5jdGlvbih2YWwpIHtcbiAgICB2YXIgcmVmO1xuICAgIHJldHVybiAhIXZhbCAmJiAoKHJlZiA9IHR5cGVvZiB2YWwpID09PSAnZnVuY3Rpb24nIHx8IHJlZiA9PT0gJ29iamVjdCcpO1xuICB9O1xuXG4gIGlzQXJyYXkgPSBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihBcnJheS5pc0FycmF5KSkge1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBBcnJheV0nO1xuICAgIH1cbiAgfTtcblxuICBpc0VtcHR5ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgdmFyIGtleTtcbiAgICBpZiAoaXNBcnJheSh2YWwpKSB7XG4gICAgICByZXR1cm4gIXZhbC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAoa2V5IGluIHZhbCkge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbCh2YWwsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgIHZhciBjdG9yLCBwcm90bztcbiAgICByZXR1cm4gaXNPYmplY3QodmFsKSAmJiAocHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsKSkgJiYgKGN0b3IgPSBwcm90by5jb25zdHJ1Y3RvcikgJiYgKHR5cGVvZiBjdG9yID09PSAnZnVuY3Rpb24nKSAmJiAoY3RvciBpbnN0YW5jZW9mIGN0b3IpICYmIChGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjdG9yKSA9PT0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoT2JqZWN0KSk7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuYXNzaWduID0gYXNzaWduO1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG4gIG1vZHVsZS5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbiAgbW9kdWxlLmV4cG9ydHMuaXNBcnJheSA9IGlzQXJyYXk7XG5cbiAgbW9kdWxlLmV4cG9ydHMuaXNFbXB0eSA9IGlzRW1wdHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMuaXNQbGFpbk9iamVjdCA9IGlzUGxhaW5PYmplY3Q7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTEF0dHJpYnV0ZTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTEF0dHJpYnV0ZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxBdHRyaWJ1dGUocGFyZW50LCBuYW1lLCB2YWx1ZSkge1xuICAgICAgdGhpcy5vcHRpb25zID0gcGFyZW50Lm9wdGlvbnM7XG4gICAgICB0aGlzLnN0cmluZ2lmeSA9IHBhcmVudC5zdHJpbmdpZnk7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYXR0cmlidXRlIG5hbWUgb2YgZWxlbWVudCBcIiArIHBhcmVudC5uYW1lKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYXR0cmlidXRlIHZhbHVlIGZvciBhdHRyaWJ1dGUgXCIgKyBuYW1lICsgXCIgb2YgZWxlbWVudCBcIiArIHBhcmVudC5uYW1lKTtcbiAgICAgIH1cbiAgICAgIHRoaXMubmFtZSA9IHRoaXMuc3RyaW5naWZ5LmF0dE5hbWUobmFtZSk7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuYXR0VmFsdWUodmFsdWUpO1xuICAgIH1cblxuICAgIFhNTEF0dHJpYnV0ZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxBdHRyaWJ1dGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmF0dHJpYnV0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTEF0dHJpYnV0ZTtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxBdHRyaWJ1dGUsIFhNTEVsZW1lbnQsIFhNTE5vZGUsIGlzRnVuY3Rpb24sIGlzT2JqZWN0LCByZWYsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICByZWYgPSByZXF1aXJlKCcuL1V0aWxpdHknKSwgaXNPYmplY3QgPSByZWYuaXNPYmplY3QsIGlzRnVuY3Rpb24gPSByZWYuaXNGdW5jdGlvbjtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgWE1MQXR0cmlidXRlID0gcmVxdWlyZSgnLi9YTUxBdHRyaWJ1dGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTEVsZW1lbnQgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxFbGVtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTEVsZW1lbnQocGFyZW50LCBuYW1lLCBhdHRyaWJ1dGVzKSB7XG4gICAgICBYTUxFbGVtZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZWxlbWVudCBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5uYW1lID0gdGhpcy5zdHJpbmdpZnkuZWxlTmFtZShuYW1lKTtcbiAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHt9O1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgIT0gbnVsbCkge1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHRyaWJ1dGVzKTtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJlbnQuaXNEb2N1bWVudCkge1xuICAgICAgICB0aGlzLmlzUm9vdCA9IHRydWU7XG4gICAgICAgIHRoaXMuZG9jdW1lbnRPYmplY3QgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudC5yb290T2JqZWN0ID0gdGhpcztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGF0dCwgYXR0TmFtZSwgY2xvbmVkU2VsZiwgcmVmMTtcbiAgICAgIGNsb25lZFNlbGYgPSBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgICAgaWYgKGNsb25lZFNlbGYuaXNSb290KSB7XG4gICAgICAgIGNsb25lZFNlbGYuZG9jdW1lbnRPYmplY3QgPSBudWxsO1xuICAgICAgfVxuICAgICAgY2xvbmVkU2VsZi5hdHRyaWJ1dGVzID0ge307XG4gICAgICByZWYxID0gdGhpcy5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChhdHROYW1lIGluIHJlZjEpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmMSwgYXR0TmFtZSkpIGNvbnRpbnVlO1xuICAgICAgICBhdHQgPSByZWYxW2F0dE5hbWVdO1xuICAgICAgICBjbG9uZWRTZWxmLmF0dHJpYnV0ZXNbYXR0TmFtZV0gPSBhdHQuY2xvbmUoKTtcbiAgICAgIH1cbiAgICAgIGNsb25lZFNlbGYuY2hpbGRyZW4gPSBbXTtcbiAgICAgIHRoaXMuY2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbihjaGlsZCkge1xuICAgICAgICB2YXIgY2xvbmVkQ2hpbGQ7XG4gICAgICAgIGNsb25lZENoaWxkID0gY2hpbGQuY2xvbmUoKTtcbiAgICAgICAgY2xvbmVkQ2hpbGQucGFyZW50ID0gY2xvbmVkU2VsZjtcbiAgICAgICAgcmV0dXJuIGNsb25lZFNlbGYuY2hpbGRyZW4ucHVzaChjbG9uZWRDaGlsZCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbG9uZWRTZWxmO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5hdHRyaWJ1dGUgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgdmFyIGF0dE5hbWUsIGF0dFZhbHVlO1xuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gbmFtZS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgICAgZm9yIChhdHROYW1lIGluIG5hbWUpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChuYW1lLCBhdHROYW1lKSkgY29udGludWU7XG4gICAgICAgICAgYXR0VmFsdWUgPSBuYW1lW2F0dE5hbWVdO1xuICAgICAgICAgIHRoaXMuYXR0cmlidXRlKGF0dE5hbWUsIGF0dFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNraXBOdWxsQXR0cmlidXRlcyB8fCAodmFsdWUgIT0gbnVsbCkpIHtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZXNbbmFtZV0gPSBuZXcgWE1MQXR0cmlidXRlKHRoaXMsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgICAgIHZhciBhdHROYW1lLCBpLCBsZW47XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgYXR0cmlidXRlIG5hbWVcIik7XG4gICAgICB9XG4gICAgICBuYW1lID0gbmFtZS52YWx1ZU9mKCk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSBuYW1lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgYXR0TmFtZSA9IG5hbWVbaV07XG4gICAgICAgICAgZGVsZXRlIHRoaXMuYXR0cmlidXRlc1thdHROYW1lXTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuYXR0cmlidXRlc1tuYW1lXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5lbGVtZW50KHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxFbGVtZW50LnByb3RvdHlwZS5hdHQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRWxlbWVudC5wcm90b3R5cGUuYSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUobmFtZSwgdmFsdWUpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRWxlbWVudDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MQ0RhdGEsIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxDRGF0YSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTENEYXRhLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTENEYXRhKHBhcmVudCwgdGV4dCkge1xuICAgICAgWE1MQ0RhdGEuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBDREFUQSB0ZXh0XCIpO1xuICAgICAgfVxuICAgICAgdGhpcy50ZXh0ID0gdGhpcy5zdHJpbmdpZnkuY2RhdGEodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MQ0RhdGEucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gT2JqZWN0LmNyZWF0ZSh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MQ0RhdGEucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmNkYXRhKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MQ0RhdGE7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENvbW1lbnQsIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxDb21tZW50ID0gKGZ1bmN0aW9uKHN1cGVyQ2xhc3MpIHtcbiAgICBleHRlbmQoWE1MQ29tbWVudCwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxDb21tZW50KHBhcmVudCwgdGV4dCkge1xuICAgICAgWE1MQ29tbWVudC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKHRleHQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIGNvbW1lbnQgdGV4dFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudGV4dCA9IHRoaXMuc3RyaW5naWZ5LmNvbW1lbnQodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MQ29tbWVudC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBPYmplY3QuY3JlYXRlKHRoaXMpO1xuICAgIH07XG5cbiAgICBYTUxDb21tZW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5jb21tZW50KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MQ29tbWVudDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRGVjbGFyYXRpb24sIFhNTE5vZGUsIGlzT2JqZWN0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgaXNPYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc09iamVjdDtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEZWNsYXJhdGlvbiA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTERlY2xhcmF0aW9uLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERlY2xhcmF0aW9uKHBhcmVudCwgdmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHZhciByZWY7XG4gICAgICBYTUxEZWNsYXJhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBwYXJlbnQpO1xuICAgICAgaWYgKGlzT2JqZWN0KHZlcnNpb24pKSB7XG4gICAgICAgIHJlZiA9IHZlcnNpb24sIHZlcnNpb24gPSByZWYudmVyc2lvbiwgZW5jb2RpbmcgPSByZWYuZW5jb2RpbmcsIHN0YW5kYWxvbmUgPSByZWYuc3RhbmRhbG9uZTtcbiAgICAgIH1cbiAgICAgIGlmICghdmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gJzEuMCc7XG4gICAgICB9XG4gICAgICB0aGlzLnZlcnNpb24gPSB0aGlzLnN0cmluZ2lmeS54bWxWZXJzaW9uKHZlcnNpb24pO1xuICAgICAgaWYgKGVuY29kaW5nICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5lbmNvZGluZyA9IHRoaXMuc3RyaW5naWZ5LnhtbEVuY29kaW5nKGVuY29kaW5nKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGFuZGFsb25lICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5zdGFuZGFsb25lID0gdGhpcy5zdHJpbmdpZnkueG1sU3RhbmRhbG9uZShzdGFuZGFsb25lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxEZWNsYXJhdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuZGVjbGFyYXRpb24odGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEZWNsYXJhdGlvbjtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRFREQXR0TGlzdCwgWE1MTm9kZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTERUREF0dExpc3QgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVERBdHRMaXN0LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERUREF0dExpc3QocGFyZW50LCBlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBYTUxEVERBdHRMaXN0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAoZWxlbWVudE5hbWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIERURCBlbGVtZW50IG5hbWVcIik7XG4gICAgICB9XG4gICAgICBpZiAoYXR0cmlidXRlTmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRFREIGF0dHJpYnV0ZSBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFhdHRyaWJ1dGVUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRFREIGF0dHJpYnV0ZSB0eXBlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFkZWZhdWx0VmFsdWVUeXBlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRFREIGF0dHJpYnV0ZSBkZWZhdWx0XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZVR5cGUuaW5kZXhPZignIycpICE9PSAwKSB7XG4gICAgICAgIGRlZmF1bHRWYWx1ZVR5cGUgPSAnIycgKyBkZWZhdWx0VmFsdWVUeXBlO1xuICAgICAgfVxuICAgICAgaWYgKCFkZWZhdWx0VmFsdWVUeXBlLm1hdGNoKC9eKCNSRVFVSVJFRHwjSU1QTElFRHwjRklYRUR8I0RFRkFVTFQpJC8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGVmYXVsdCB2YWx1ZSB0eXBlOyBleHBlY3RlZDogI1JFUVVJUkVELCAjSU1QTElFRCwgI0ZJWEVEIG9yICNERUZBVUxUXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGRlZmF1bHRWYWx1ZSAmJiAhZGVmYXVsdFZhbHVlVHlwZS5tYXRjaCgvXigjRklYRUR8I0RFRkFVTFQpJC8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkRlZmF1bHQgdmFsdWUgb25seSBhcHBsaWVzIHRvICNGSVhFRCBvciAjREVGQVVMVFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxlbWVudE5hbWUgPSB0aGlzLnN0cmluZ2lmeS5lbGVOYW1lKGVsZW1lbnROYW1lKTtcbiAgICAgIHRoaXMuYXR0cmlidXRlTmFtZSA9IHRoaXMuc3RyaW5naWZ5LmF0dE5hbWUoYXR0cmlidXRlTmFtZSk7XG4gICAgICB0aGlzLmF0dHJpYnV0ZVR5cGUgPSB0aGlzLnN0cmluZ2lmeS5kdGRBdHRUeXBlKGF0dHJpYnV0ZVR5cGUpO1xuICAgICAgdGhpcy5kZWZhdWx0VmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5kdGRBdHREZWZhdWx0KGRlZmF1bHRWYWx1ZSk7XG4gICAgICB0aGlzLmRlZmF1bHRWYWx1ZVR5cGUgPSBkZWZhdWx0VmFsdWVUeXBlO1xuICAgIH1cblxuICAgIFhNTERUREF0dExpc3QucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmR0ZEF0dExpc3QodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEVERBdHRMaXN0O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEVERFbnRpdHksIFhNTE5vZGUsIGlzT2JqZWN0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgaXNPYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc09iamVjdDtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEVERFbnRpdHkgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxEVERFbnRpdHksIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MRFRERW50aXR5KHBhcmVudCwgcGUsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBYTUxEVERFbnRpdHkuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBlbnRpdHkgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgZW50aXR5IHZhbHVlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5wZSA9ICEhcGU7XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5lbGVOYW1lKG5hbWUpO1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuc3RyaW5naWZ5LmR0ZEVudGl0eVZhbHVlKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdmFsdWUucHViSUQgJiYgIXZhbHVlLnN5c0lEKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHVibGljIGFuZC9vciBzeXN0ZW0gaWRlbnRpZmllcnMgYXJlIHJlcXVpcmVkIGZvciBhbiBleHRlcm5hbCBlbnRpdHlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLnB1YklEICYmICF2YWx1ZS5zeXNJRCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5c3RlbSBpZGVudGlmaWVyIGlzIHJlcXVpcmVkIGZvciBhIHB1YmxpYyBleHRlcm5hbCBlbnRpdHlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlLnB1YklEICE9IG51bGwpIHtcbiAgICAgICAgICB0aGlzLnB1YklEID0gdGhpcy5zdHJpbmdpZnkuZHRkUHViSUQodmFsdWUucHViSUQpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZS5zeXNJRCAhPSBudWxsKSB7XG4gICAgICAgICAgdGhpcy5zeXNJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFN5c0lEKHZhbHVlLnN5c0lEKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUubkRhdGEgIT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMubkRhdGEgPSB0aGlzLnN0cmluZ2lmeS5kdGRORGF0YSh2YWx1ZS5uRGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucGUgJiYgdGhpcy5uRGF0YSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdGF0aW9uIGRlY2xhcmF0aW9uIGlzIG5vdCBhbGxvd2VkIGluIGEgcGFyYW1ldGVyIGVudGl0eVwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIFhNTERUREVudGl0eS5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykuZHRkRW50aXR5KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRFRERW50aXR5O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEVERFbGVtZW50LCBYTUxOb2RlLFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRFRERWxlbWVudCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTERUREVsZW1lbnQsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MRFRERWxlbWVudChwYXJlbnQsIG5hbWUsIHZhbHVlKSB7XG4gICAgICBYTUxEVERFbGVtZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgRFREIGVsZW1lbnQgbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSAnKCNQQ0RBVEEpJztcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICB2YWx1ZSA9ICcoJyArIHZhbHVlLmpvaW4oJywnKSArICcpJztcbiAgICAgIH1cbiAgICAgIHRoaXMubmFtZSA9IHRoaXMuc3RyaW5naWZ5LmVsZU5hbWUobmFtZSk7XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuZHRkRWxlbWVudFZhbHVlKHZhbHVlKTtcbiAgICB9XG5cbiAgICBYTUxEVERFbGVtZW50LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMud3JpdGVyLnNldChvcHRpb25zKS5kdGRFbGVtZW50KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRFRERWxlbWVudDtcblxuICB9KShYTUxOb2RlKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICB2YXIgWE1MRFRETm90YXRpb24sIFhNTE5vZGUsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEVEROb3RhdGlvbiA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTERURE5vdGF0aW9uLCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERURE5vdGF0aW9uKHBhcmVudCwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIFhNTERURE5vdGF0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgbm90YXRpb24gbmFtZVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghdmFsdWUucHViSUQgJiYgIXZhbHVlLnN5c0lEKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlB1YmxpYyBvciBzeXN0ZW0gaWRlbnRpZmllcnMgYXJlIHJlcXVpcmVkIGZvciBhbiBleHRlcm5hbCBlbnRpdHlcIik7XG4gICAgICB9XG4gICAgICB0aGlzLm5hbWUgPSB0aGlzLnN0cmluZ2lmeS5lbGVOYW1lKG5hbWUpO1xuICAgICAgaWYgKHZhbHVlLnB1YklEICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wdWJJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFB1YklEKHZhbHVlLnB1YklEKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZS5zeXNJRCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3lzSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRTeXNJRCh2YWx1ZS5zeXNJRCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRFRETm90YXRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmR0ZE5vdGF0aW9uKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRFRETm90YXRpb247XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERUREF0dExpc3QsIFhNTERUREVsZW1lbnQsIFhNTERUREVudGl0eSwgWE1MRFRETm90YXRpb24sIFhNTERvY1R5cGUsIFhNTE5vZGUsIGlzT2JqZWN0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgaXNPYmplY3QgPSByZXF1aXJlKCcuL1V0aWxpdHknKS5pc09iamVjdDtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVudGl0eSA9IHJlcXVpcmUoJy4vWE1MRFRERW50aXR5Jyk7XG5cbiAgWE1MRFRERWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRFRERWxlbWVudCcpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MRG9jVHlwZSA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTERvY1R5cGUsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MRG9jVHlwZShwYXJlbnQsIHB1YklELCBzeXNJRCkge1xuICAgICAgdmFyIHJlZiwgcmVmMTtcbiAgICAgIFhNTERvY1R5cGUuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIHRoaXMuZG9jdW1lbnRPYmplY3QgPSBwYXJlbnQ7XG4gICAgICBpZiAoaXNPYmplY3QocHViSUQpKSB7XG4gICAgICAgIHJlZiA9IHB1YklELCBwdWJJRCA9IHJlZi5wdWJJRCwgc3lzSUQgPSByZWYuc3lzSUQ7XG4gICAgICB9XG4gICAgICBpZiAoc3lzSUQgPT0gbnVsbCkge1xuICAgICAgICByZWYxID0gW3B1YklELCBzeXNJRF0sIHN5c0lEID0gcmVmMVswXSwgcHViSUQgPSByZWYxWzFdO1xuICAgICAgfVxuICAgICAgaWYgKHB1YklEICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wdWJJRCA9IHRoaXMuc3RyaW5naWZ5LmR0ZFB1YklEKHB1YklEKTtcbiAgICAgIH1cbiAgICAgIGlmIChzeXNJRCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3lzSUQgPSB0aGlzLnN0cmluZ2lmeS5kdGRTeXNJRChzeXNJRCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUuZWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVERFbGVtZW50KHRoaXMsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUuYXR0TGlzdCA9IGZ1bmN0aW9uKGVsZW1lbnROYW1lLCBhdHRyaWJ1dGVOYW1lLCBhdHRyaWJ1dGVUeXBlLCBkZWZhdWx0VmFsdWVUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIGNoaWxkID0gbmV3IFhNTERUREF0dExpc3QodGhpcywgZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVudGl0eSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVERFbnRpdHkodGhpcywgZmFsc2UsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUucEVudGl0eSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVERFbnRpdHkodGhpcywgdHJ1ZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2NUeXBlLnByb3RvdHlwZS5ub3RhdGlvbiA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxEVEROb3RhdGlvbih0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmRvY1R5cGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLmVsZSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50KG5hbWUsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUuYXR0ID0gZnVuY3Rpb24oZWxlbWVudE5hbWUsIGF0dHJpYnV0ZU5hbWUsIGF0dHJpYnV0ZVR5cGUsIGRlZmF1bHRWYWx1ZVR5cGUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuYXR0TGlzdChlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jVHlwZS5wcm90b3R5cGUuZW50ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmVudGl0eShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLnBlbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucEVudGl0eShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub3RhdGlvbihuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY1R5cGUucHJvdG90eXBlLnVwID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5yb290KCkgfHwgdGhpcy5kb2N1bWVudE9iamVjdDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTERvY1R5cGU7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTE5vZGUsIFhNTFJhdyxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTE5vZGUgPSByZXF1aXJlKCcuL1hNTE5vZGUnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFJhdyA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFJhdywgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxSYXcocGFyZW50LCB0ZXh0KSB7XG4gICAgICBYTUxSYXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyByYXcgdGV4dFwiKTtcbiAgICAgIH1cbiAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5yYXcodGV4dCk7XG4gICAgfVxuXG4gICAgWE1MUmF3LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTFJhdy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykucmF3KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MUmF3O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxOb2RlLCBYTUxUZXh0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MVGV4dCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFRleHQsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MVGV4dChwYXJlbnQsIHRleHQpIHtcbiAgICAgIFhNTFRleHQuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgcGFyZW50KTtcbiAgICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBlbGVtZW50IHRleHRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnZhbHVlID0gdGhpcy5zdHJpbmdpZnkuZWxlVGV4dCh0ZXh0KTtcbiAgICB9XG5cbiAgICBYTUxUZXh0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTFRleHQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLnRleHQodGhpcyk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxUZXh0O1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxOb2RlLCBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxOb2RlID0gcmVxdWlyZSgnLi9YTUxOb2RlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKHBhcmVudCwgdGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIHBhcmVudCk7XG4gICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBpbnN0cnVjdGlvbiB0YXJnZXRcIik7XG4gICAgICB9XG4gICAgICB0aGlzLnRhcmdldCA9IHRoaXMuc3RyaW5naWZ5Lmluc1RhcmdldCh0YXJnZXQpO1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnN0cmluZ2lmeS5pbnNWYWx1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE9iamVjdC5jcmVhdGUodGhpcyk7XG4gICAgfTtcblxuICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbi5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICByZXR1cm4gdGhpcy5vcHRpb25zLndyaXRlci5zZXQob3B0aW9ucykucHJvY2Vzc2luZ0luc3RydWN0aW9uKHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uO1xuXG4gIH0pKFhNTE5vZGUpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxDRGF0YSwgWE1MQ29tbWVudCwgWE1MRGVjbGFyYXRpb24sIFhNTERvY1R5cGUsIFhNTEVsZW1lbnQsIFhNTE5vZGUsIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgWE1MUmF3LCBYTUxUZXh0LCBpc0VtcHR5LCBpc0Z1bmN0aW9uLCBpc09iamVjdCwgcmVmLFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICByZWYgPSByZXF1aXJlKCcuL1V0aWxpdHknKSwgaXNPYmplY3QgPSByZWYuaXNPYmplY3QsIGlzRnVuY3Rpb24gPSByZWYuaXNGdW5jdGlvbiwgaXNFbXB0eSA9IHJlZi5pc0VtcHR5O1xuXG4gIFhNTEVsZW1lbnQgPSBudWxsO1xuXG4gIFhNTENEYXRhID0gbnVsbDtcblxuICBYTUxDb21tZW50ID0gbnVsbDtcblxuICBYTUxEZWNsYXJhdGlvbiA9IG51bGw7XG5cbiAgWE1MRG9jVHlwZSA9IG51bGw7XG5cbiAgWE1MUmF3ID0gbnVsbDtcblxuICBYTUxUZXh0ID0gbnVsbDtcblxuICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBudWxsO1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MTm9kZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxOb2RlKHBhcmVudCkge1xuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5wYXJlbnQub3B0aW9ucztcbiAgICAgICAgdGhpcy5zdHJpbmdpZnkgPSB0aGlzLnBhcmVudC5zdHJpbmdpZnk7XG4gICAgICB9XG4gICAgICB0aGlzLmNoaWxkcmVuID0gW107XG4gICAgICBpZiAoIVhNTEVsZW1lbnQpIHtcbiAgICAgICAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuICAgICAgICBYTUxDRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ0RhdGEnKTtcbiAgICAgICAgWE1MQ29tbWVudCA9IHJlcXVpcmUoJy4vWE1MQ29tbWVudCcpO1xuICAgICAgICBYTUxEZWNsYXJhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRGVjbGFyYXRpb24nKTtcbiAgICAgICAgWE1MRG9jVHlwZSA9IHJlcXVpcmUoJy4vWE1MRG9jVHlwZScpO1xuICAgICAgICBYTUxSYXcgPSByZXF1aXJlKCcuL1hNTFJhdycpO1xuICAgICAgICBYTUxUZXh0ID0gcmVxdWlyZSgnLi9YTUxUZXh0Jyk7XG4gICAgICAgIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IHJlcXVpcmUoJy4vWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHZhciBjaGlsZE5vZGUsIGl0ZW0sIGosIGssIGtleSwgbGFzdENoaWxkLCBsZW4sIGxlbjEsIHJlZjEsIHZhbDtcbiAgICAgIGxhc3RDaGlsZCA9IG51bGw7XG4gICAgICBpZiAoYXR0cmlidXRlcyA9PSBudWxsKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgIH1cbiAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLnZhbHVlT2YoKTtcbiAgICAgIGlmICghaXNPYmplY3QoYXR0cmlidXRlcykpIHtcbiAgICAgICAgcmVmMSA9IFthdHRyaWJ1dGVzLCB0ZXh0XSwgdGV4dCA9IHJlZjFbMF0sIGF0dHJpYnV0ZXMgPSByZWYxWzFdO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gbmFtZS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShuYW1lKSkge1xuICAgICAgICBmb3IgKGogPSAwLCBsZW4gPSBuYW1lLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgaXRlbSA9IG5hbWVbal07XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGl0ZW0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24obmFtZSkpIHtcbiAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KG5hbWUuYXBwbHkoKSk7XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG5hbWUpKSB7XG4gICAgICAgIGZvciAoa2V5IGluIG5hbWUpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChuYW1lLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICB2YWwgPSBuYW1lW2tleV07XG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsKSkge1xuICAgICAgICAgICAgdmFsID0gdmFsLmFwcGx5KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoaXNPYmplY3QodmFsKSkgJiYgKGlzRW1wdHkodmFsKSkpIHtcbiAgICAgICAgICAgIHZhbCA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghdGhpcy5vcHRpb25zLmlnbm9yZURlY29yYXRvcnMgJiYgdGhpcy5zdHJpbmdpZnkuY29udmVydEF0dEtleSAmJiBrZXkuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0QXR0S2V5KSA9PT0gMCkge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5hdHRyaWJ1dGUoa2V5LnN1YnN0cih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0QXR0S2V5Lmxlbmd0aCksIHZhbCk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5vcHRpb25zLnNlcGFyYXRlQXJyYXlJdGVtcyAmJiBBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIGZvciAoayA9IDAsIGxlbjEgPSB2YWwubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7XG4gICAgICAgICAgICAgIGl0ZW0gPSB2YWxba107XG4gICAgICAgICAgICAgIGNoaWxkTm9kZSA9IHt9O1xuICAgICAgICAgICAgICBjaGlsZE5vZGVba2V5XSA9IGl0ZW07XG4gICAgICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMuZWxlbWVudChjaGlsZE5vZGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QodmFsKSkge1xuICAgICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5lbGVtZW50KGtleSk7XG4gICAgICAgICAgICBsYXN0Q2hpbGQuZWxlbWVudCh2YWwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmVsZW1lbnQoa2V5LCB2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlRGVjb3JhdG9ycyAmJiB0aGlzLnN0cmluZ2lmeS5jb252ZXJ0VGV4dEtleSAmJiBuYW1lLmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydFRleHRLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy50ZXh0KHRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlRGVjb3JhdG9ycyAmJiB0aGlzLnN0cmluZ2lmeS5jb252ZXJ0Q0RhdGFLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRDRGF0YUtleSkgPT09IDApIHtcbiAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmNkYXRhKHRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlRGVjb3JhdG9ycyAmJiB0aGlzLnN0cmluZ2lmeS5jb252ZXJ0Q29tbWVudEtleSAmJiBuYW1lLmluZGV4T2YodGhpcy5zdHJpbmdpZnkuY29udmVydENvbW1lbnRLZXkpID09PSAwKSB7XG4gICAgICAgICAgbGFzdENoaWxkID0gdGhpcy5jb21tZW50KHRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlRGVjb3JhdG9ycyAmJiB0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UmF3S2V5ICYmIG5hbWUuaW5kZXhPZih0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UmF3S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGxhc3RDaGlsZCA9IHRoaXMucmF3KHRleHQpO1xuICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuaWdub3JlRGVjb3JhdG9ycyAmJiB0aGlzLnN0cmluZ2lmeS5jb252ZXJ0UElLZXkgJiYgbmFtZS5pbmRleE9mKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRQSUtleSkgPT09IDApIHtcbiAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLmluc3RydWN0aW9uKG5hbWUuc3Vic3RyKHRoaXMuc3RyaW5naWZ5LmNvbnZlcnRQSUtleS5sZW5ndGgpLCB0ZXh0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsYXN0Q2hpbGQgPSB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChsYXN0Q2hpbGQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgY3JlYXRlIGFueSBlbGVtZW50cyB3aXRoOiBcIiArIG5hbWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxhc3RDaGlsZDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaWYgKHRoaXMuaXNSb290KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBpbnNlcnQgZWxlbWVudHMgYXQgcm9vdCBsZXZlbFwiKTtcbiAgICAgIH1cbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCByZW1vdmVkKTtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICB2YXIgY2hpbGQsIGksIHJlbW92ZWQ7XG4gICAgICBpZiAodGhpcy5pc1Jvb3QpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGluc2VydCBlbGVtZW50cyBhdCByb290IGxldmVsXCIpO1xuICAgICAgfVxuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICByZW1vdmVkID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGkgKyAxKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuZWxlbWVudChuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCByZW1vdmVkKTtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSwgcmVmMTtcbiAgICAgIGlmICh0aGlzLmlzUm9vdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVtb3ZlIHRoZSByb290IGVsZW1lbnRcIik7XG4gICAgICB9XG4gICAgICBpID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uaW5kZXhPZih0aGlzKTtcbiAgICAgIFtdLnNwbGljZS5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgW2ksIGkgLSBpICsgMV0uY29uY2F0KHJlZjEgPSBbXSkpLCByZWYxO1xuICAgICAgcmV0dXJuIHRoaXMucGFyZW50O1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5ub2RlID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIGNoaWxkLCByZWYxO1xuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gbmFtZS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVzIHx8IChhdHRyaWJ1dGVzID0ge30pO1xuICAgICAgYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXMudmFsdWVPZigpO1xuICAgICAgaWYgKCFpc09iamVjdChhdHRyaWJ1dGVzKSkge1xuICAgICAgICByZWYxID0gW2F0dHJpYnV0ZXMsIHRleHRdLCB0ZXh0ID0gcmVmMVswXSwgYXR0cmlidXRlcyA9IHJlZjFbMV07XG4gICAgICB9XG4gICAgICBjaGlsZCA9IG5ldyBYTUxFbGVtZW50KHRoaXMsIG5hbWUsIGF0dHJpYnV0ZXMpO1xuICAgICAgaWYgKHRleHQgIT0gbnVsbCkge1xuICAgICAgICBjaGlsZC50ZXh0KHRleHQpO1xuICAgICAgfVxuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiBjaGlsZDtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudGV4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxUZXh0KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjaGlsZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY2RhdGEgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkO1xuICAgICAgY2hpbGQgPSBuZXcgWE1MQ0RhdGEodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZDtcbiAgICAgIGNoaWxkID0gbmV3IFhNTENvbW1lbnQodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5jb21tZW50QmVmb3JlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuY29tbWVudCh2YWx1ZSk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuY29tbWVudEFmdGVyID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHZhciBjaGlsZCwgaSwgcmVtb3ZlZDtcbiAgICAgIGkgPSB0aGlzLnBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHRoaXMpO1xuICAgICAgcmVtb3ZlZCA9IHRoaXMucGFyZW50LmNoaWxkcmVuLnNwbGljZShpICsgMSk7XG4gICAgICBjaGlsZCA9IHRoaXMucGFyZW50LmNvbW1lbnQodmFsdWUpO1xuICAgICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkodGhpcy5wYXJlbnQuY2hpbGRyZW4sIHJlbW92ZWQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgY2hpbGQ7XG4gICAgICBjaGlsZCA9IG5ldyBYTUxSYXcodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNoaWxkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnN0cnVjdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBpbnNUYXJnZXQsIGluc1ZhbHVlLCBpbnN0cnVjdGlvbiwgaiwgbGVuO1xuICAgICAgaWYgKHRhcmdldCAhPSBudWxsKSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldC52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLnZhbHVlT2YoKTtcbiAgICAgIH1cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgZm9yIChqID0gMCwgbGVuID0gdGFyZ2V0Lmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgaW5zVGFyZ2V0ID0gdGFyZ2V0W2pdO1xuICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24oaW5zVGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdCh0YXJnZXQpKSB7XG4gICAgICAgIGZvciAoaW5zVGFyZ2V0IGluIHRhcmdldCkge1xuICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHRhcmdldCwgaW5zVGFyZ2V0KSkgY29udGludWU7XG4gICAgICAgICAgaW5zVmFsdWUgPSB0YXJnZXRbaW5zVGFyZ2V0XTtcbiAgICAgICAgICB0aGlzLmluc3RydWN0aW9uKGluc1RhcmdldCwgaW5zVmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmFwcGx5KCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdHJ1Y3Rpb24gPSBuZXcgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKHRoaXMsIHRhcmdldCwgdmFsdWUpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaW5zdHJ1Y3Rpb24pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmluc3RydWN0aW9uQmVmb3JlID0gZnVuY3Rpb24odGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICByZW1vdmVkID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGkpO1xuICAgICAgY2hpbGQgPSB0aGlzLnBhcmVudC5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICAgIEFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KHRoaXMucGFyZW50LmNoaWxkcmVuLCByZW1vdmVkKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbnN0cnVjdGlvbkFmdGVyID0gZnVuY3Rpb24odGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgdmFyIGNoaWxkLCBpLCByZW1vdmVkO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICByZW1vdmVkID0gdGhpcy5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGkgKyAxKTtcbiAgICAgIGNoaWxkID0gdGhpcy5wYXJlbnQuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgICBBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseSh0aGlzLnBhcmVudC5jaGlsZHJlbiwgcmVtb3ZlZCk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZGVjbGFyYXRpb24gPSBmdW5jdGlvbih2ZXJzaW9uLCBlbmNvZGluZywgc3RhbmRhbG9uZSkge1xuICAgICAgdmFyIGRvYywgeG1sZGVjO1xuICAgICAgZG9jID0gdGhpcy5kb2N1bWVudCgpO1xuICAgICAgeG1sZGVjID0gbmV3IFhNTERlY2xhcmF0aW9uKGRvYywgdmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpO1xuICAgICAgaWYgKGRvYy5jaGlsZHJlblswXSBpbnN0YW5jZW9mIFhNTERlY2xhcmF0aW9uKSB7XG4gICAgICAgIGRvYy5jaGlsZHJlblswXSA9IHhtbGRlYztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvYy5jaGlsZHJlbi51bnNoaWZ0KHhtbGRlYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jLnJvb3QoKSB8fCBkb2M7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRvY3R5cGUgPSBmdW5jdGlvbihwdWJJRCwgc3lzSUQpIHtcbiAgICAgIHZhciBjaGlsZCwgZG9jLCBkb2N0eXBlLCBpLCBqLCBrLCBsZW4sIGxlbjEsIHJlZjEsIHJlZjI7XG4gICAgICBkb2MgPSB0aGlzLmRvY3VtZW50KCk7XG4gICAgICBkb2N0eXBlID0gbmV3IFhNTERvY1R5cGUoZG9jLCBwdWJJRCwgc3lzSUQpO1xuICAgICAgcmVmMSA9IGRvYy5jaGlsZHJlbjtcbiAgICAgIGZvciAoaSA9IGogPSAwLCBsZW4gPSByZWYxLmxlbmd0aDsgaiA8IGxlbjsgaSA9ICsraikge1xuICAgICAgICBjaGlsZCA9IHJlZjFbaV07XG4gICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFhNTERvY1R5cGUpIHtcbiAgICAgICAgICBkb2MuY2hpbGRyZW5baV0gPSBkb2N0eXBlO1xuICAgICAgICAgIHJldHVybiBkb2N0eXBlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWYyID0gZG9jLmNoaWxkcmVuO1xuICAgICAgZm9yIChpID0gayA9IDAsIGxlbjEgPSByZWYyLmxlbmd0aDsgayA8IGxlbjE7IGkgPSArK2spIHtcbiAgICAgICAgY2hpbGQgPSByZWYyW2ldO1xuICAgICAgICBpZiAoY2hpbGQuaXNSb290KSB7XG4gICAgICAgICAgZG9jLmNoaWxkcmVuLnNwbGljZShpLCAwLCBkb2N0eXBlKTtcbiAgICAgICAgICByZXR1cm4gZG9jdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZG9jLmNoaWxkcmVuLnB1c2goZG9jdHlwZSk7XG4gICAgICByZXR1cm4gZG9jdHlwZTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzUm9vdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcm9vdCBub2RlIGhhcyBubyBwYXJlbnQuIFVzZSBkb2MoKSBpZiB5b3UgbmVlZCB0byBnZXQgdGhlIGRvY3VtZW50IG9iamVjdC5cIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQ7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnJvb3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgbm9kZSA9IHRoaXM7XG4gICAgICB3aGlsZSAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5pc0RvY3VtZW50KSB7XG4gICAgICAgICAgcmV0dXJuIG5vZGUucm9vdE9iamVjdDtcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLmlzUm9vdCkge1xuICAgICAgICAgIHJldHVybiBub2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5vZGUgPSBub2RlLnBhcmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5kb2N1bWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICBub2RlID0gdGhpcztcbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLmlzRG9jdW1lbnQpIHtcbiAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub2RlID0gbm9kZS5wYXJlbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQoKS5lbmQob3B0aW9ucyk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnByZXYgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBpZiAoaSA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQWxyZWFkeSBhdCB0aGUgZmlyc3Qgbm9kZVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnBhcmVudC5jaGlsZHJlbltpIC0gMV07XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBpO1xuICAgICAgaSA9IHRoaXMucGFyZW50LmNoaWxkcmVuLmluZGV4T2YodGhpcyk7XG4gICAgICBpZiAoaSA9PT0gLTEgfHwgaSA9PT0gdGhpcy5wYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBbHJlYWR5IGF0IHRoZSBsYXN0IG5vZGVcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5wYXJlbnQuY2hpbGRyZW5baSArIDFdO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbXBvcnREb2N1bWVudCA9IGZ1bmN0aW9uKGRvYykge1xuICAgICAgdmFyIGNsb25lZFJvb3Q7XG4gICAgICBjbG9uZWRSb290ID0gZG9jLnJvb3QoKS5jbG9uZSgpO1xuICAgICAgY2xvbmVkUm9vdC5wYXJlbnQgPSB0aGlzO1xuICAgICAgY2xvbmVkUm9vdC5pc1Jvb3QgPSBmYWxzZTtcbiAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChjbG9uZWRSb290KTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5lbGUgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5ub2QgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5ub2RlKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS50eHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRhdCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZGF0YSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmNvbSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jb21tZW50KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaW5zID0gZnVuY3Rpb24odGFyZ2V0LCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW5zdHJ1Y3Rpb24odGFyZ2V0LCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmRvYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQoKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZGVjID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlY2xhcmF0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZHRkID0gZnVuY3Rpb24ocHViSUQsIHN5c0lEKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2N0eXBlKHB1YklELCBzeXNJRCk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmUgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5uID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZShuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZGF0YSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tbWVudCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTE5vZGUucHJvdG90eXBlLnIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmF3KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MTm9kZS5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS51ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy51cCgpO1xuICAgIH07XG5cbiAgICBYTUxOb2RlLnByb3RvdHlwZS5pbXBvcnRYTUxCdWlsZGVyID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbXBvcnREb2N1bWVudChkb2MpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MTm9kZTtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxTdHJpbmdpZmllcixcbiAgICBiaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxTdHJpbmdpZmllciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxTdHJpbmdpZmllcihvcHRpb25zKSB7XG4gICAgICB0aGlzLmFzc2VydExlZ2FsQ2hhciA9IGJpbmQodGhpcy5hc3NlcnRMZWdhbENoYXIsIHRoaXMpO1xuICAgICAgdmFyIGtleSwgcmVmLCB2YWx1ZTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICB0aGlzLm5vRG91YmxlRW5jb2RpbmcgPSBvcHRpb25zLm5vRG91YmxlRW5jb2Rpbmc7XG4gICAgICByZWYgPSBvcHRpb25zLnN0cmluZ2lmeSB8fCB7fTtcbiAgICAgIGZvciAoa2V5IGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICB2YWx1ZSA9IHJlZltrZXldO1xuICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZWxlTmFtZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICByZXR1cm4gdGhpcy5hc3NlcnRMZWdhbENoYXIodmFsKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmVsZVRleHQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHZhbCA9ICcnICsgdmFsIHx8ICcnO1xuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHRoaXMuZWxFc2NhcGUodmFsKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jZGF0YSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICB2YWwgPSB2YWwucmVwbGFjZSgnXV0+JywgJ11dXV0+PCFbQ0RBVEFbPicpO1xuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHZhbCk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb21tZW50ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIGlmICh2YWwubWF0Y2goLy0tLykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tbWVudCB0ZXh0IGNhbm5vdCBjb250YWluIGRvdWJsZS1oeXBlbjogXCIgKyB2YWwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0TGVnYWxDaGFyKHZhbCk7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmF0dE5hbWUgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmF0dFZhbHVlID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICB2YWwgPSAnJyArIHZhbCB8fCAnJztcbiAgICAgIHJldHVybiB0aGlzLmF0dEVzY2FwZSh2YWwpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuaW5zVGFyZ2V0ID0gZnVuY3Rpb24odmFsKSB7XG4gICAgICByZXR1cm4gJycgKyB2YWwgfHwgJyc7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5pbnNWYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICBpZiAodmFsLm1hdGNoKC9cXD8+LykpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm9jZXNzaW5nIGluc3RydWN0aW9uIHZhbHVlOiBcIiArIHZhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUueG1sVmVyc2lvbiA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICBpZiAoIXZhbC5tYXRjaCgvMVxcLlswLTldKy8pKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdmVyc2lvbiBudW1iZXI6IFwiICsgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS54bWxFbmNvZGluZyA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgdmFsID0gJycgKyB2YWwgfHwgJyc7XG4gICAgICBpZiAoIXZhbC5tYXRjaCgvXltBLVphLXpdKD86W0EtWmEtejAtOS5fLV0pKiQvKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGVuY29kaW5nOiBcIiArIHZhbCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUueG1sU3RhbmRhbG9uZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHZhbCkge1xuICAgICAgICByZXR1cm4gXCJ5ZXNcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcIm5vXCI7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5kdGRQdWJJRCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgcmV0dXJuICcnICsgdmFsIHx8ICcnO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkU3lzSUQgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmR0ZEVsZW1lbnRWYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgcmV0dXJuICcnICsgdmFsIHx8ICcnO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkQXR0VHlwZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgcmV0dXJuICcnICsgdmFsIHx8ICcnO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkQXR0RGVmYXVsdCA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgaWYgKHZhbCAhPSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5kdGRFbnRpdHlWYWx1ZSA9IGZ1bmN0aW9uKHZhbCkge1xuICAgICAgcmV0dXJuICcnICsgdmFsIHx8ICcnO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuZHRkTkRhdGEgPSBmdW5jdGlvbih2YWwpIHtcbiAgICAgIHJldHVybiAnJyArIHZhbCB8fCAnJztcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRBdHRLZXkgPSAnQCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydFBJS2V5ID0gJz8nO1xuXG4gICAgWE1MU3RyaW5naWZpZXIucHJvdG90eXBlLmNvbnZlcnRUZXh0S2V5ID0gJyN0ZXh0JztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0Q0RhdGFLZXkgPSAnI2NkYXRhJztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5jb252ZXJ0Q29tbWVudEtleSA9ICcjY29tbWVudCc7XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuY29udmVydFJhd0tleSA9ICcjcmF3JztcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5hc3NlcnRMZWdhbENoYXIgPSBmdW5jdGlvbihzdHIpIHtcbiAgICAgIHZhciByZXM7XG4gICAgICByZXMgPSBzdHIubWF0Y2goL1tcXDBcXHVGRkZFXFx1RkZGRl18W1xcdUQ4MDAtXFx1REJGRl0oPyFbXFx1REMwMC1cXHVERkZGXSl8KD86W15cXHVEODAwLVxcdURCRkZdfF4pW1xcdURDMDAtXFx1REZGRl0vKTtcbiAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gc3RyaW5nOiBcIiArIHN0ciArIFwiIGF0IGluZGV4IFwiICsgcmVzLmluZGV4KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzdHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ2lmaWVyLnByb3RvdHlwZS5lbEVzY2FwZSA9IGZ1bmN0aW9uKHN0cikge1xuICAgICAgdmFyIGFtcHJlZ2V4O1xuICAgICAgYW1wcmVnZXggPSB0aGlzLm5vRG91YmxlRW5jb2RpbmcgPyAvKD8hJlxcUys7KSYvZyA6IC8mL2c7XG4gICAgICByZXR1cm4gc3RyLnJlcGxhY2UoYW1wcmVnZXgsICcmYW1wOycpLnJlcGxhY2UoLzwvZywgJyZsdDsnKS5yZXBsYWNlKC8+L2csICcmZ3Q7JykucmVwbGFjZSgvXFxyL2csICcmI3hEOycpO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdpZmllci5wcm90b3R5cGUuYXR0RXNjYXBlID0gZnVuY3Rpb24oc3RyKSB7XG4gICAgICB2YXIgYW1wcmVnZXg7XG4gICAgICBhbXByZWdleCA9IHRoaXMubm9Eb3VibGVFbmNvZGluZyA/IC8oPyEmXFxTKzspJi9nIDogLyYvZztcbiAgICAgIHJldHVybiBzdHIucmVwbGFjZShhbXByZWdleCwgJyZhbXA7JykucmVwbGFjZSgvPC9nLCAnJmx0OycpLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKS5yZXBsYWNlKC9cXHQvZywgJyYjeDk7JykucmVwbGFjZSgvXFxuL2csICcmI3hBOycpLnJlcGxhY2UoL1xcci9nLCAnJiN4RDsnKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFhNTFN0cmluZ2lmaWVyO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTFdyaXRlckJhc2UsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIG1vZHVsZS5leHBvcnRzID0gWE1MV3JpdGVyQmFzZSA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYTUxXcml0ZXJCYXNlKG9wdGlvbnMpIHtcbiAgICAgIHZhciBrZXksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgdmFsdWU7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgdGhpcy5wcmV0dHkgPSBvcHRpb25zLnByZXR0eSB8fCBmYWxzZTtcbiAgICAgIHRoaXMuYWxsb3dFbXB0eSA9IChyZWYgPSBvcHRpb25zLmFsbG93RW1wdHkpICE9IG51bGwgPyByZWYgOiBmYWxzZTtcbiAgICAgIGlmICh0aGlzLnByZXR0eSkge1xuICAgICAgICB0aGlzLmluZGVudCA9IChyZWYxID0gb3B0aW9ucy5pbmRlbnQpICE9IG51bGwgPyByZWYxIDogJyAgJztcbiAgICAgICAgdGhpcy5uZXdsaW5lID0gKHJlZjIgPSBvcHRpb25zLm5ld2xpbmUpICE9IG51bGwgPyByZWYyIDogJ1xcbic7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gKHJlZjMgPSBvcHRpb25zLm9mZnNldCkgIT0gbnVsbCA/IHJlZjMgOiAwO1xuICAgICAgICB0aGlzLmRvbnRwcmV0dHl0ZXh0bm9kZXMgPSAocmVmNCA9IG9wdGlvbnMuZG9udHByZXR0eXRleHRub2RlcykgIT0gbnVsbCA/IHJlZjQgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgPSAnJztcbiAgICAgICAgdGhpcy5uZXdsaW5lID0gJyc7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5kb250cHJldHR5dGV4dG5vZGVzID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3BhY2ViZWZvcmVzbGFzaCA9IChyZWY1ID0gb3B0aW9ucy5zcGFjZWJlZm9yZXNsYXNoKSAhPSBudWxsID8gcmVmNSA6ICcnO1xuICAgICAgaWYgKHRoaXMuc3BhY2ViZWZvcmVzbGFzaCA9PT0gdHJ1ZSkge1xuICAgICAgICB0aGlzLnNwYWNlYmVmb3Jlc2xhc2ggPSAnICc7XG4gICAgICB9XG4gICAgICB0aGlzLm5ld2xpbmVkZWZhdWx0ID0gdGhpcy5uZXdsaW5lO1xuICAgICAgdGhpcy5wcmV0dHlkZWZhdWx0ID0gdGhpcy5wcmV0dHk7XG4gICAgICByZWY2ID0gb3B0aW9ucy53cml0ZXIgfHwge307XG4gICAgICBmb3IgKGtleSBpbiByZWY2KSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZjYsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICB2YWx1ZSA9IHJlZjZba2V5XTtcbiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgdmFyIGtleSwgcmVmLCB2YWx1ZTtcbiAgICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB7fSk7XG4gICAgICBpZiAoXCJwcmV0dHlcIiBpbiBvcHRpb25zKSB7XG4gICAgICAgIHRoaXMucHJldHR5ID0gb3B0aW9ucy5wcmV0dHk7XG4gICAgICB9XG4gICAgICBpZiAoXCJhbGxvd0VtcHR5XCIgaW4gb3B0aW9ucykge1xuICAgICAgICB0aGlzLmFsbG93RW1wdHkgPSBvcHRpb25zLmFsbG93RW1wdHk7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5wcmV0dHkpIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgPSBcImluZGVudFwiIGluIG9wdGlvbnMgPyBvcHRpb25zLmluZGVudCA6ICcgICc7XG4gICAgICAgIHRoaXMubmV3bGluZSA9IFwibmV3bGluZVwiIGluIG9wdGlvbnMgPyBvcHRpb25zLm5ld2xpbmUgOiAnXFxuJztcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBcIm9mZnNldFwiIGluIG9wdGlvbnMgPyBvcHRpb25zLm9mZnNldCA6IDA7XG4gICAgICAgIHRoaXMuZG9udHByZXR0eXRleHRub2RlcyA9IFwiZG9udHByZXR0eXRleHRub2Rlc1wiIGluIG9wdGlvbnMgPyBvcHRpb25zLmRvbnRwcmV0dHl0ZXh0bm9kZXMgOiAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgPSAnJztcbiAgICAgICAgdGhpcy5uZXdsaW5lID0gJyc7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgdGhpcy5kb250cHJldHR5dGV4dG5vZGVzID0gMDtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3BhY2ViZWZvcmVzbGFzaCA9IFwic3BhY2ViZWZvcmVzbGFzaFwiIGluIG9wdGlvbnMgPyBvcHRpb25zLnNwYWNlYmVmb3Jlc2xhc2ggOiAnJztcbiAgICAgIGlmICh0aGlzLnNwYWNlYmVmb3Jlc2xhc2ggPT09IHRydWUpIHtcbiAgICAgICAgdGhpcy5zcGFjZWJlZm9yZXNsYXNoID0gJyAnO1xuICAgICAgfVxuICAgICAgdGhpcy5uZXdsaW5lZGVmYXVsdCA9IHRoaXMubmV3bGluZTtcbiAgICAgIHRoaXMucHJldHR5ZGVmYXVsdCA9IHRoaXMucHJldHR5O1xuICAgICAgcmVmID0gb3B0aW9ucy53cml0ZXIgfHwge307XG4gICAgICBmb3IgKGtleSBpbiByZWYpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSByZWZba2V5XTtcbiAgICAgICAgdGhpc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MV3JpdGVyQmFzZS5wcm90b3R5cGUuc3BhY2UgPSBmdW5jdGlvbihsZXZlbCkge1xuICAgICAgdmFyIGluZGVudDtcbiAgICAgIGlmICh0aGlzLnByZXR0eSkge1xuICAgICAgICBpbmRlbnQgPSAobGV2ZWwgfHwgMCkgKyB0aGlzLm9mZnNldCArIDE7XG4gICAgICAgIGlmIChpbmRlbnQgPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIG5ldyBBcnJheShpbmRlbnQpLmpvaW4odGhpcy5pbmRlbnQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gWE1MV3JpdGVyQmFzZTtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxDRGF0YSwgWE1MQ29tbWVudCwgWE1MRFREQXR0TGlzdCwgWE1MRFRERWxlbWVudCwgWE1MRFRERW50aXR5LCBYTUxEVEROb3RhdGlvbiwgWE1MRGVjbGFyYXRpb24sIFhNTERvY1R5cGUsIFhNTEVsZW1lbnQsIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiwgWE1MUmF3LCBYTUxTdHJpbmdXcml0ZXIsIFhNTFRleHQsIFhNTFdyaXRlckJhc2UsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBYTUxEZWNsYXJhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRGVjbGFyYXRpb24nKTtcblxuICBYTUxEb2NUeXBlID0gcmVxdWlyZSgnLi9YTUxEb2NUeXBlJyk7XG5cbiAgWE1MQ0RhdGEgPSByZXF1aXJlKCcuL1hNTENEYXRhJyk7XG5cbiAgWE1MQ29tbWVudCA9IHJlcXVpcmUoJy4vWE1MQ29tbWVudCcpO1xuXG4gIFhNTEVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTEVsZW1lbnQnKTtcblxuICBYTUxSYXcgPSByZXF1aXJlKCcuL1hNTFJhdycpO1xuXG4gIFhNTFRleHQgPSByZXF1aXJlKCcuL1hNTFRleHQnKTtcblxuICBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSByZXF1aXJlKCcuL1hNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbicpO1xuXG4gIFhNTERUREF0dExpc3QgPSByZXF1aXJlKCcuL1hNTERUREF0dExpc3QnKTtcblxuICBYTUxEVERFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxEVERFbGVtZW50Jyk7XG5cbiAgWE1MRFRERW50aXR5ID0gcmVxdWlyZSgnLi9YTUxEVERFbnRpdHknKTtcblxuICBYTUxEVEROb3RhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRFRETm90YXRpb24nKTtcblxuICBYTUxXcml0ZXJCYXNlID0gcmVxdWlyZSgnLi9YTUxXcml0ZXJCYXNlJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxTdHJpbmdXcml0ZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChYTUxTdHJpbmdXcml0ZXIsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gWE1MU3RyaW5nV3JpdGVyKG9wdGlvbnMpIHtcbiAgICAgIFhNTFN0cmluZ1dyaXRlci5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmRvY3VtZW50ID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgciwgcmVmO1xuICAgICAgdGhpcy50ZXh0aXNwcmVzZW50ID0gZmFsc2U7XG4gICAgICByID0gJyc7XG4gICAgICByZWYgPSBkb2MuY2hpbGRyZW47XG4gICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgIHIgKz0gKGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERlY2xhcmF0aW9uKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVjbGFyYXRpb24oY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRG9jVHlwZSk6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmRvY1R5cGUoY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQoY2hpbGQpO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc2luZ0luc3RydWN0aW9uKGNoaWxkKTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQoY2hpbGQsIDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLnByZXR0eSAmJiByLnNsaWNlKC10aGlzLm5ld2xpbmUubGVuZ3RoKSA9PT0gdGhpcy5uZXdsaW5lKSB7XG4gICAgICAgIHIgPSByLnNsaWNlKDAsIC10aGlzLm5ld2xpbmUubGVuZ3RoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmF0dHJpYnV0ZSA9IGZ1bmN0aW9uKGF0dCkge1xuICAgICAgcmV0dXJuICcgJyArIGF0dC5uYW1lICsgJz1cIicgKyBhdHQudmFsdWUgKyAnXCInO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArICc8IVtDREFUQVsnICsgbm9kZS50ZXh0ICsgJ11dPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCEtLSAnICsgbm9kZS50ZXh0ICsgJyAtLT4nICsgdGhpcy5uZXdsaW5lO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpO1xuICAgICAgciArPSAnPD94bWwgdmVyc2lvbj1cIicgKyBub2RlLnZlcnNpb24gKyAnXCInO1xuICAgICAgaWYgKG5vZGUuZW5jb2RpbmcgIT0gbnVsbCkge1xuICAgICAgICByICs9ICcgZW5jb2Rpbmc9XCInICsgbm9kZS5lbmNvZGluZyArICdcIic7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5zdGFuZGFsb25lICE9IG51bGwpIHtcbiAgICAgICAgciArPSAnIHN0YW5kYWxvbmU9XCInICsgbm9kZS5zdGFuZGFsb25lICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIHIgKz0gdGhpcy5zcGFjZWJlZm9yZXNsYXNoICsgJz8+JztcbiAgICAgIHIgKz0gdGhpcy5uZXdsaW5lO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZG9jVHlwZSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgciwgcmVmO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCk7XG4gICAgICByICs9ICc8IURPQ1RZUEUgJyArIG5vZGUucm9vdCgpLm5hbWU7XG4gICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICByICs9ICcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICByICs9ICcgWyc7XG4gICAgICAgIHIgKz0gdGhpcy5uZXdsaW5lO1xuICAgICAgICByZWYgPSBub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBjaGlsZCA9IHJlZltpXTtcbiAgICAgICAgICByICs9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFREQXR0TGlzdCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHRkQXR0TGlzdChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERWxlbWVudCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHRkRWxlbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFRERW50aXR5KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdGRFbnRpdHkoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERURE5vdGF0aW9uKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kdGROb3RhdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ0RhdGEpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNkYXRhKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24pOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIERURCBub2RlIHR5cGU6IFwiICsgY2hpbGQuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuY2FsbCh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICByICs9ICddJztcbiAgICAgIH1cbiAgICAgIHIgKz0gdGhpcy5zcGFjZWJlZm9yZXNsYXNoICsgJz4nO1xuICAgICAgciArPSB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciBhdHQsIGNoaWxkLCBpLCBqLCBsZW4sIGxlbjEsIG5hbWUsIHIsIHJlZiwgcmVmMSwgcmVmMiwgc3BhY2UsIHRleHRpc3ByZXNlbnR3YXNzZXQ7XG4gICAgICBsZXZlbCB8fCAobGV2ZWwgPSAwKTtcbiAgICAgIHRleHRpc3ByZXNlbnR3YXNzZXQgPSBmYWxzZTtcbiAgICAgIGlmICh0aGlzLnRleHRpc3ByZXNlbnQpIHtcbiAgICAgICAgdGhpcy5uZXdsaW5lID0gJyc7XG4gICAgICAgIHRoaXMucHJldHR5ID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm5ld2xpbmUgPSB0aGlzLm5ld2xpbmVkZWZhdWx0O1xuICAgICAgICB0aGlzLnByZXR0eSA9IHRoaXMucHJldHR5ZGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gdGhpcy5zcGFjZShsZXZlbCk7XG4gICAgICByID0gJyc7XG4gICAgICByICs9IHNwYWNlICsgJzwnICsgbm9kZS5uYW1lO1xuICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChuYW1lIGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIG5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgYXR0ID0gcmVmW25hbWVdO1xuICAgICAgICByICs9IHRoaXMuYXR0cmlidXRlKGF0dCk7XG4gICAgICB9XG4gICAgICBpZiAobm9kZS5jaGlsZHJlbi5sZW5ndGggPT09IDAgfHwgbm9kZS5jaGlsZHJlbi5ldmVyeShmdW5jdGlvbihlKSB7XG4gICAgICAgIHJldHVybiBlLnZhbHVlID09PSAnJztcbiAgICAgIH0pKSB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93RW1wdHkpIHtcbiAgICAgICAgICByICs9ICc+PC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHIgKz0gdGhpcy5zcGFjZWJlZm9yZXNsYXNoICsgJy8+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLnByZXR0eSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMSAmJiAobm9kZS5jaGlsZHJlblswXS52YWx1ZSAhPSBudWxsKSkge1xuICAgICAgICByICs9ICc+JztcbiAgICAgICAgciArPSBub2RlLmNoaWxkcmVuWzBdLnZhbHVlO1xuICAgICAgICByICs9ICc8LycgKyBub2RlLm5hbWUgKyAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodGhpcy5kb250cHJldHR5dGV4dG5vZGVzKSB7XG4gICAgICAgICAgcmVmMSA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgY2hpbGQgPSByZWYxW2ldO1xuICAgICAgICAgICAgaWYgKGNoaWxkLnZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgdGhpcy50ZXh0aXNwcmVzZW50Kys7XG4gICAgICAgICAgICAgIHRleHRpc3ByZXNlbnR3YXNzZXQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudGV4dGlzcHJlc2VudCkge1xuICAgICAgICAgIHRoaXMubmV3bGluZSA9ICcnO1xuICAgICAgICAgIHRoaXMucHJldHR5ID0gZmFsc2U7XG4gICAgICAgICAgc3BhY2UgPSB0aGlzLnNwYWNlKGxldmVsKTtcbiAgICAgICAgfVxuICAgICAgICByICs9ICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgICAgcmVmMiA9IG5vZGUuY2hpbGRyZW47XG4gICAgICAgIGZvciAoaiA9IDAsIGxlbjEgPSByZWYyLmxlbmd0aDsgaiA8IGxlbjE7IGorKykge1xuICAgICAgICAgIGNoaWxkID0gcmVmMltqXTtcbiAgICAgICAgICByICs9IChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ0RhdGEpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNkYXRhKGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb21tZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxFbGVtZW50KTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxSYXcpOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJhdyhjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MVGV4dCk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24oY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBYTUwgbm9kZSB0eXBlOiBcIiArIGNoaWxkLmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhbGwodGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRleHRpc3ByZXNlbnR3YXNzZXQpIHtcbiAgICAgICAgICB0aGlzLnRleHRpc3ByZXNlbnQtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudGV4dGlzcHJlc2VudCkge1xuICAgICAgICAgIHRoaXMubmV3bGluZSA9IHRoaXMubmV3bGluZWRlZmF1bHQ7XG4gICAgICAgICAgdGhpcy5wcmV0dHkgPSB0aGlzLnByZXR0eWRlZmF1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgciArPSBzcGFjZSArICc8LycgKyBub2RlLm5hbWUgKyAnPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCkgKyAnPD8nICsgbm9kZS50YXJnZXQ7XG4gICAgICBpZiAobm9kZS52YWx1ZSkge1xuICAgICAgICByICs9ICcgJyArIG5vZGUudmFsdWU7XG4gICAgICB9XG4gICAgICByICs9IHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICc/PicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICByZXR1cm4gcjtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5yYXcgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3BhY2UobGV2ZWwpICsgbm9kZS52YWx1ZSArIHRoaXMubmV3bGluZTtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS50ZXh0ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArIG5vZGUudmFsdWUgKyB0aGlzLm5ld2xpbmU7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUuZHRkQXR0TGlzdCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgcjtcbiAgICAgIHIgPSB0aGlzLnNwYWNlKGxldmVsKSArICc8IUFUVExJU1QgJyArIG5vZGUuZWxlbWVudE5hbWUgKyAnICcgKyBub2RlLmF0dHJpYnV0ZU5hbWUgKyAnICcgKyBub2RlLmF0dHJpYnV0ZVR5cGU7XG4gICAgICBpZiAobm9kZS5kZWZhdWx0VmFsdWVUeXBlICE9PSAnI0RFRkFVTFQnKSB7XG4gICAgICAgIHIgKz0gJyAnICsgbm9kZS5kZWZhdWx0VmFsdWVUeXBlO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHIgKz0gJyBcIicgKyBub2RlLmRlZmF1bHRWYWx1ZSArICdcIic7XG4gICAgICB9XG4gICAgICByICs9IHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmR0ZEVsZW1lbnQgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhRUxFTUVOVCAnICsgbm9kZS5uYW1lICsgJyAnICsgbm9kZS52YWx1ZSArIHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICc+JyArIHRoaXMubmV3bGluZTtcbiAgICB9O1xuXG4gICAgWE1MU3RyaW5nV3JpdGVyLnByb3RvdHlwZS5kdGRFbnRpdHkgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIHI7XG4gICAgICByID0gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCFFTlRJVFknO1xuICAgICAgaWYgKG5vZGUucGUpIHtcbiAgICAgICAgciArPSAnICUnO1xuICAgICAgfVxuICAgICAgciArPSAnICcgKyBub2RlLm5hbWU7XG4gICAgICBpZiAobm9kZS52YWx1ZSkge1xuICAgICAgICByICs9ICcgXCInICsgbm9kZS52YWx1ZSArICdcIic7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgICAgciArPSAnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgICByICs9ICcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgICB9XG4gICAgICAgIGlmIChub2RlLm5EYXRhKSB7XG4gICAgICAgICAgciArPSAnIE5EQVRBICcgKyBub2RlLm5EYXRhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByICs9IHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICc+JyArIHRoaXMubmV3bGluZTtcbiAgICAgIHJldHVybiByO1xuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmR0ZE5vdGF0aW9uID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHZhciByO1xuICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhTk9UQVRJT04gJyArIG5vZGUubmFtZTtcbiAgICAgIGlmIChub2RlLnB1YklEICYmIG5vZGUuc3lzSUQpIHtcbiAgICAgICAgciArPSAnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInO1xuICAgICAgfSBlbHNlIGlmIChub2RlLnB1YklEKSB7XG4gICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIic7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgciArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgIH1cbiAgICAgIHIgKz0gdGhpcy5zcGFjZWJlZm9yZXNsYXNoICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgcmV0dXJuIHI7XG4gICAgfTtcblxuICAgIFhNTFN0cmluZ1dyaXRlci5wcm90b3R5cGUub3Blbk5vZGUgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdmFyIGF0dCwgbmFtZSwgciwgcmVmO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICBpZiAobm9kZSBpbnN0YW5jZW9mIFhNTEVsZW1lbnQpIHtcbiAgICAgICAgciA9IHRoaXMuc3BhY2UobGV2ZWwpICsgJzwnICsgbm9kZS5uYW1lO1xuICAgICAgICByZWYgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgIGZvciAobmFtZSBpbiByZWYpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIG5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgICBhdHQgPSByZWZbbmFtZV07XG4gICAgICAgICAgciArPSB0aGlzLmF0dHJpYnV0ZShhdHQpO1xuICAgICAgICB9XG4gICAgICAgIHIgKz0gKG5vZGUuY2hpbGRyZW4gPyAnPicgOiAnLz4nKSArIHRoaXMubmV3bGluZTtcbiAgICAgICAgcmV0dXJuIHI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gdGhpcy5zcGFjZShsZXZlbCkgKyAnPCFET0NUWVBFICcgKyBub2RlLnJvb3ROb2RlTmFtZTtcbiAgICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICAgIHIgKz0gJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfSBlbHNlIGlmIChub2RlLnN5c0lEKSB7XG4gICAgICAgICAgciArPSAnIFNZU1RFTSBcIicgKyBub2RlLnN5c0lEICsgJ1wiJztcbiAgICAgICAgfVxuICAgICAgICByICs9IChub2RlLmNoaWxkcmVuID8gJyBbJyA6ICc+JykgKyB0aGlzLm5ld2xpbmU7XG4gICAgICAgIHJldHVybiByO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxTdHJpbmdXcml0ZXIucHJvdG90eXBlLmNsb3NlTm9kZSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICBsZXZlbCB8fCAobGV2ZWwgPSAwKTtcbiAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgY2FzZSAhKG5vZGUgaW5zdGFuY2VvZiBYTUxFbGVtZW50KTpcbiAgICAgICAgICByZXR1cm4gdGhpcy5zcGFjZShsZXZlbCkgKyAnPC8nICsgbm9kZS5uYW1lICsgJz4nICsgdGhpcy5uZXdsaW5lO1xuICAgICAgICBjYXNlICEobm9kZSBpbnN0YW5jZW9mIFhNTERvY1R5cGUpOlxuICAgICAgICAgIHJldHVybiB0aGlzLnNwYWNlKGxldmVsKSArICddPicgKyB0aGlzLm5ld2xpbmU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxTdHJpbmdXcml0ZXI7XG5cbiAgfSkoWE1MV3JpdGVyQmFzZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTERvY3VtZW50LCBYTUxOb2RlLCBYTUxTdHJpbmdXcml0ZXIsIFhNTFN0cmluZ2lmaWVyLCBpc1BsYWluT2JqZWN0LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgaXNQbGFpbk9iamVjdCA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLmlzUGxhaW5PYmplY3Q7XG5cbiAgWE1MTm9kZSA9IHJlcXVpcmUoJy4vWE1MTm9kZScpO1xuXG4gIFhNTFN0cmluZ2lmaWVyID0gcmVxdWlyZSgnLi9YTUxTdHJpbmdpZmllcicpO1xuXG4gIFhNTFN0cmluZ1dyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5nV3JpdGVyJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEb2N1bWVudCA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTERvY3VtZW50LCBzdXBlckNsYXNzKTtcblxuICAgIGZ1bmN0aW9uIFhNTERvY3VtZW50KG9wdGlvbnMpIHtcbiAgICAgIFhNTERvY3VtZW50Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG51bGwpO1xuICAgICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHt9KTtcbiAgICAgIGlmICghb3B0aW9ucy53cml0ZXIpIHtcbiAgICAgICAgb3B0aW9ucy53cml0ZXIgPSBuZXcgWE1MU3RyaW5nV3JpdGVyKCk7XG4gICAgICB9XG4gICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgdGhpcy5zdHJpbmdpZnkgPSBuZXcgWE1MU3RyaW5naWZpZXIob3B0aW9ucyk7XG4gICAgICB0aGlzLmlzRG9jdW1lbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIFhNTERvY3VtZW50LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbih3cml0ZXIpIHtcbiAgICAgIHZhciB3cml0ZXJPcHRpb25zO1xuICAgICAgaWYgKCF3cml0ZXIpIHtcbiAgICAgICAgd3JpdGVyID0gdGhpcy5vcHRpb25zLndyaXRlcjtcbiAgICAgIH0gZWxzZSBpZiAoaXNQbGFpbk9iamVjdCh3cml0ZXIpKSB7XG4gICAgICAgIHdyaXRlck9wdGlvbnMgPSB3cml0ZXI7XG4gICAgICAgIHdyaXRlciA9IHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KHdyaXRlck9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyaXRlci5kb2N1bWVudCh0aGlzKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnQucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy53cml0ZXIuc2V0KG9wdGlvbnMpLmRvY3VtZW50KHRoaXMpO1xuICAgIH07XG5cbiAgICByZXR1cm4gWE1MRG9jdW1lbnQ7XG5cbiAgfSkoWE1MTm9kZSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTEF0dHJpYnV0ZSwgWE1MQ0RhdGEsIFhNTENvbW1lbnQsIFhNTERUREF0dExpc3QsIFhNTERUREVsZW1lbnQsIFhNTERUREVudGl0eSwgWE1MRFRETm90YXRpb24sIFhNTERlY2xhcmF0aW9uLCBYTUxEb2NUeXBlLCBYTUxEb2N1bWVudENCLCBYTUxFbGVtZW50LCBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24sIFhNTFJhdywgWE1MU3RyaW5nV3JpdGVyLCBYTUxTdHJpbmdpZmllciwgWE1MVGV4dCwgaXNGdW5jdGlvbiwgaXNPYmplY3QsIGlzUGxhaW5PYmplY3QsIHJlZixcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgcmVmID0gcmVxdWlyZSgnLi9VdGlsaXR5JyksIGlzT2JqZWN0ID0gcmVmLmlzT2JqZWN0LCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb24sIGlzUGxhaW5PYmplY3QgPSByZWYuaXNQbGFpbk9iamVjdDtcblxuICBYTUxFbGVtZW50ID0gcmVxdWlyZSgnLi9YTUxFbGVtZW50Jyk7XG5cbiAgWE1MQ0RhdGEgPSByZXF1aXJlKCcuL1hNTENEYXRhJyk7XG5cbiAgWE1MQ29tbWVudCA9IHJlcXVpcmUoJy4vWE1MQ29tbWVudCcpO1xuXG4gIFhNTFJhdyA9IHJlcXVpcmUoJy4vWE1MUmF3Jyk7XG5cbiAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuXG4gIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IHJlcXVpcmUoJy4vWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uJyk7XG5cbiAgWE1MRGVjbGFyYXRpb24gPSByZXF1aXJlKCcuL1hNTERlY2xhcmF0aW9uJyk7XG5cbiAgWE1MRG9jVHlwZSA9IHJlcXVpcmUoJy4vWE1MRG9jVHlwZScpO1xuXG4gIFhNTERUREF0dExpc3QgPSByZXF1aXJlKCcuL1hNTERUREF0dExpc3QnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVEROb3RhdGlvbiA9IHJlcXVpcmUoJy4vWE1MRFRETm90YXRpb24nKTtcblxuICBYTUxBdHRyaWJ1dGUgPSByZXF1aXJlKCcuL1hNTEF0dHJpYnV0ZScpO1xuXG4gIFhNTFN0cmluZ2lmaWVyID0gcmVxdWlyZSgnLi9YTUxTdHJpbmdpZmllcicpO1xuXG4gIFhNTFN0cmluZ1dyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5nV3JpdGVyJyk7XG5cbiAgbW9kdWxlLmV4cG9ydHMgPSBYTUxEb2N1bWVudENCID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFhNTERvY3VtZW50Q0Iob3B0aW9ucywgb25EYXRhLCBvbkVuZCkge1xuICAgICAgdmFyIHdyaXRlck9wdGlvbnM7XG4gICAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgICAgaWYgKCFvcHRpb25zLndyaXRlcikge1xuICAgICAgICBvcHRpb25zLndyaXRlciA9IG5ldyBYTUxTdHJpbmdXcml0ZXIob3B0aW9ucyk7XG4gICAgICB9IGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qob3B0aW9ucy53cml0ZXIpKSB7XG4gICAgICAgIHdyaXRlck9wdGlvbnMgPSBvcHRpb25zLndyaXRlcjtcbiAgICAgICAgb3B0aW9ucy53cml0ZXIgPSBuZXcgWE1MU3RyaW5nV3JpdGVyKHdyaXRlck9wdGlvbnMpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgIHRoaXMud3JpdGVyID0gb3B0aW9ucy53cml0ZXI7XG4gICAgICB0aGlzLnN0cmluZ2lmeSA9IG5ldyBYTUxTdHJpbmdpZmllcihvcHRpb25zKTtcbiAgICAgIHRoaXMub25EYXRhQ2FsbGJhY2sgPSBvbkRhdGEgfHwgZnVuY3Rpb24oKSB7fTtcbiAgICAgIHRoaXMub25FbmRDYWxsYmFjayA9IG9uRW5kIHx8IGZ1bmN0aW9uKCkge307XG4gICAgICB0aGlzLmN1cnJlbnROb2RlID0gbnVsbDtcbiAgICAgIHRoaXMuY3VycmVudExldmVsID0gLTE7XG4gICAgICB0aGlzLm9wZW5UYWdzID0ge307XG4gICAgICB0aGlzLmRvY3VtZW50U3RhcnRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5kb2N1bWVudENvbXBsZXRlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5yb290ID0gbnVsbDtcbiAgICB9XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5ub2RlID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgdmFyIHJlZjE7XG4gICAgICBpZiAobmFtZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgbm9kZSBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucm9vdCAmJiB0aGlzLmN1cnJlbnRMZXZlbCA9PT0gLTEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG9jdW1lbnQgY2FuIG9ubHkgaGF2ZSBvbmUgcm9vdCBub2RlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbmFtZSA9IG5hbWUudmFsdWVPZigpO1xuICAgICAgaWYgKGF0dHJpYnV0ZXMgPT0gbnVsbCkge1xuICAgICAgICBhdHRyaWJ1dGVzID0ge307XG4gICAgICB9XG4gICAgICBhdHRyaWJ1dGVzID0gYXR0cmlidXRlcy52YWx1ZU9mKCk7XG4gICAgICBpZiAoIWlzT2JqZWN0KGF0dHJpYnV0ZXMpKSB7XG4gICAgICAgIHJlZjEgPSBbYXR0cmlidXRlcywgdGV4dF0sIHRleHQgPSByZWYxWzBdLCBhdHRyaWJ1dGVzID0gcmVmMVsxXTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBuZXcgWE1MRWxlbWVudCh0aGlzLCBuYW1lLCBhdHRyaWJ1dGVzKTtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUuY2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuY3VycmVudExldmVsKys7XG4gICAgICB0aGlzLm9wZW5UYWdzW3RoaXMuY3VycmVudExldmVsXSA9IHRoaXMuY3VycmVudE5vZGU7XG4gICAgICBpZiAodGV4dCAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMudGV4dCh0ZXh0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lbGVtZW50ID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUgJiYgdGhpcy5jdXJyZW50Tm9kZSBpbnN0YW5jZW9mIFhNTERvY1R5cGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZHRkRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZShuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBhdHROYW1lLCBhdHRWYWx1ZTtcbiAgICAgIGlmICghdGhpcy5jdXJyZW50Tm9kZSB8fCB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImF0dCgpIGNhbiBvbmx5IGJlIHVzZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgYW4gZWxlKCkgY2FsbCBpbiBjYWxsYmFjayBtb2RlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5hbWUgIT0gbnVsbCkge1xuICAgICAgICBuYW1lID0gbmFtZS52YWx1ZU9mKCk7XG4gICAgICB9XG4gICAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcbiAgICAgICAgZm9yIChhdHROYW1lIGluIG5hbWUpIHtcbiAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChuYW1lLCBhdHROYW1lKSkgY29udGludWU7XG4gICAgICAgICAgYXR0VmFsdWUgPSBuYW1lW2F0dE5hbWVdO1xuICAgICAgICAgIHRoaXMuYXR0cmlidXRlKGF0dE5hbWUsIGF0dFZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5hcHBseSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLnNraXBOdWxsQXR0cmlidXRlcyB8fCAodmFsdWUgIT0gbnVsbCkpIHtcbiAgICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmF0dHJpYnV0ZXNbbmFtZV0gPSBuZXcgWE1MQXR0cmlidXRlKHRoaXMsIG5hbWUsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgdmFyIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBub2RlID0gbmV3IFhNTFRleHQodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIudGV4dChub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5jZGF0YSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MQ0RhdGEodGhpcywgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuY2RhdGEobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY29tbWVudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MQ29tbWVudCh0aGlzLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5jb21tZW50KG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnJhdyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MUmF3KHRoaXMsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLnJhdyhub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5pbnN0cnVjdGlvbiA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHZhciBpLCBpbnNUYXJnZXQsIGluc1ZhbHVlLCBsZW4sIG5vZGU7XG4gICAgICB0aGlzLm9wZW5DdXJyZW50KCk7XG4gICAgICBpZiAodGFyZ2V0ICE9IG51bGwpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LnZhbHVlT2YoKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUudmFsdWVPZigpO1xuICAgICAgfVxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodGFyZ2V0KSkge1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSB0YXJnZXQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpbnNUYXJnZXQgPSB0YXJnZXRbaV07XG4gICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbihpbnNUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRhcmdldCkpIHtcbiAgICAgICAgZm9yIChpbnNUYXJnZXQgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwodGFyZ2V0LCBpbnNUYXJnZXQpKSBjb250aW51ZTtcbiAgICAgICAgICBpbnNWYWx1ZSA9IHRhcmdldFtpbnNUYXJnZXRdO1xuICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb24oaW5zVGFyZ2V0LCBpbnNWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlKSkge1xuICAgICAgICAgIHZhbHVlID0gdmFsdWUuYXBwbHkoKTtcbiAgICAgICAgfVxuICAgICAgICBub2RlID0gbmV3IFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbih0aGlzLCB0YXJnZXQsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIucHJvY2Vzc2luZ0luc3RydWN0aW9uKG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmRlY2xhcmF0aW9uID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgaWYgKHRoaXMuZG9jdW1lbnRTdGFydGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImRlY2xhcmF0aW9uKCkgbXVzdCBiZSB0aGUgZmlyc3Qgbm9kZVwiKTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBuZXcgWE1MRGVjbGFyYXRpb24odGhpcywgdmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZGVjbGFyYXRpb24obm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZG9jdHlwZSA9IGZ1bmN0aW9uKHJvb3QsIHB1YklELCBzeXNJRCkge1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgaWYgKHJvb3QgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNaXNzaW5nIHJvb3Qgbm9kZSBuYW1lXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucm9vdCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkdGQoKSBtdXN0IGNvbWUgYmVmb3JlIHRoZSByb290IG5vZGVcIik7XG4gICAgICB9XG4gICAgICB0aGlzLmN1cnJlbnROb2RlID0gbmV3IFhNTERvY1R5cGUodGhpcywgcHViSUQsIHN5c0lEKTtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUucm9vdE5vZGVOYW1lID0gcm9vdDtcbiAgICAgIHRoaXMuY3VycmVudE5vZGUuY2hpbGRyZW4gPSBmYWxzZTtcbiAgICAgIHRoaXMuY3VycmVudExldmVsKys7XG4gICAgICB0aGlzLm9wZW5UYWdzW3RoaXMuY3VycmVudExldmVsXSA9IHRoaXMuY3VycmVudE5vZGU7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZHRkRWxlbWVudCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFRERWxlbWVudCh0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGRFbGVtZW50KG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmF0dExpc3QgPSBmdW5jdGlvbihlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICB2YXIgbm9kZTtcbiAgICAgIHRoaXMub3BlbkN1cnJlbnQoKTtcbiAgICAgIG5vZGUgPSBuZXcgWE1MRFREQXR0TGlzdCh0aGlzLCBlbGVtZW50TmFtZSwgYXR0cmlidXRlTmFtZSwgYXR0cmlidXRlVHlwZSwgZGVmYXVsdFZhbHVlVHlwZSwgZGVmYXVsdFZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmR0ZEF0dExpc3Qobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwgKyAxKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZW50aXR5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxEVERFbnRpdHkodGhpcywgZmFsc2UsIG5hbWUsIHZhbHVlKTtcbiAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmR0ZEVudGl0eShub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5wRW50aXR5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxEVERFbnRpdHkodGhpcywgdHJ1ZSwgbmFtZSwgdmFsdWUpO1xuICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIuZHRkRW50aXR5KG5vZGUsIHRoaXMuY3VycmVudExldmVsICsgMSkpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm5vdGF0aW9uID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHZhciBub2RlO1xuICAgICAgdGhpcy5vcGVuQ3VycmVudCgpO1xuICAgICAgbm9kZSA9IG5ldyBYTUxEVEROb3RhdGlvbih0aGlzLCBuYW1lLCB2YWx1ZSk7XG4gICAgICB0aGlzLm9uRGF0YSh0aGlzLndyaXRlci5kdGROb3RhdGlvbihub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCArIDEpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS51cCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY3VycmVudExldmVsIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgZG9jdW1lbnQgbm9kZSBoYXMgbm8gcGFyZW50XCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUpIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudE5vZGUuY2hpbGRyZW4pIHtcbiAgICAgICAgICB0aGlzLmNsb3NlTm9kZSh0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLm9wZW5Ob2RlKHRoaXMuY3VycmVudE5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jbG9zZU5vZGUodGhpcy5vcGVuVGFnc1t0aGlzLmN1cnJlbnRMZXZlbF0pO1xuICAgICAgfVxuICAgICAgZGVsZXRlIHRoaXMub3BlblRhZ3NbdGhpcy5jdXJyZW50TGV2ZWxdO1xuICAgICAgdGhpcy5jdXJyZW50TGV2ZWwtLTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdoaWxlICh0aGlzLmN1cnJlbnRMZXZlbCA+PSAwKSB7XG4gICAgICAgIHRoaXMudXAoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLm9uRW5kKCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9wZW5DdXJyZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZSkge1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlLmNoaWxkcmVuID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMub3Blbk5vZGUodGhpcy5jdXJyZW50Tm9kZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9wZW5Ob2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgaWYgKCFub2RlLmlzT3Blbikge1xuICAgICAgICBpZiAoIXRoaXMucm9vdCAmJiB0aGlzLmN1cnJlbnRMZXZlbCA9PT0gMCAmJiBub2RlIGluc3RhbmNlb2YgWE1MRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMucm9vdCA9IG5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkRhdGEodGhpcy53cml0ZXIub3Blbk5vZGUobm9kZSwgdGhpcy5jdXJyZW50TGV2ZWwpKTtcbiAgICAgICAgcmV0dXJuIG5vZGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY2xvc2VOb2RlID0gZnVuY3Rpb24obm9kZSkge1xuICAgICAgaWYgKCFub2RlLmlzQ2xvc2VkKSB7XG4gICAgICAgIHRoaXMub25EYXRhKHRoaXMud3JpdGVyLmNsb3NlTm9kZShub2RlLCB0aGlzLmN1cnJlbnRMZXZlbCkpO1xuICAgICAgICByZXR1cm4gbm9kZS5pc0Nsb3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9uRGF0YSA9IGZ1bmN0aW9uKGNodW5rKSB7XG4gICAgICB0aGlzLmRvY3VtZW50U3RhcnRlZCA9IHRydWU7XG4gICAgICByZXR1cm4gdGhpcy5vbkRhdGFDYWxsYmFjayhjaHVuayk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm9uRW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmRvY3VtZW50Q29tcGxldGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzLm9uRW5kQ2FsbGJhY2soKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZWxlID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm5vZCA9IGZ1bmN0aW9uKG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpIHtcbiAgICAgIHJldHVybiB0aGlzLm5vZGUobmFtZSwgYXR0cmlidXRlcywgdGV4dCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnR4dCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZGF0ID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNkYXRhKHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuY29tID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmNvbW1lbnQodmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5pbnMgPSBmdW5jdGlvbih0YXJnZXQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbnN0cnVjdGlvbih0YXJnZXQsIHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZGVjID0gZnVuY3Rpb24odmVyc2lvbiwgZW5jb2RpbmcsIHN0YW5kYWxvbmUpIHtcbiAgICAgIHJldHVybiB0aGlzLmRlY2xhcmF0aW9uKHZlcnNpb24sIGVuY29kaW5nLCBzdGFuZGFsb25lKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZHRkID0gZnVuY3Rpb24ocm9vdCwgcHViSUQsIHN5c0lEKSB7XG4gICAgICByZXR1cm4gdGhpcy5kb2N0eXBlKHJvb3QsIHB1YklELCBzeXNJRCk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmUgPSBmdW5jdGlvbihuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KSB7XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50KG5hbWUsIGF0dHJpYnV0ZXMsIHRleHQpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5uID0gZnVuY3Rpb24obmFtZSwgYXR0cmlidXRlcywgdGV4dCkge1xuICAgICAgcmV0dXJuIHRoaXMubm9kZShuYW1lLCBhdHRyaWJ1dGVzLCB0ZXh0KTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUudCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZCA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5jZGF0YSh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLmMgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29tbWVudCh2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnIgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmF3KHZhbHVlKTtcbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuaSA9IGZ1bmN0aW9uKHRhcmdldCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmluc3RydWN0aW9uKHRhcmdldCwgdmFsdWUpO1xuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5hdHQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmN1cnJlbnROb2RlICYmIHRoaXMuY3VycmVudE5vZGUgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dExpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzLmF0dHJpYnV0ZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBYTUxEb2N1bWVudENCLnByb3RvdHlwZS5hID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJyZW50Tm9kZSAmJiB0aGlzLmN1cnJlbnROb2RlIGluc3RhbmNlb2YgWE1MRG9jVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgWE1MRG9jdW1lbnRDQi5wcm90b3R5cGUuZW50ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiB0aGlzLmVudGl0eShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLnBlbnQgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucEVudGl0eShuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIFhNTERvY3VtZW50Q0IucHJvdG90eXBlLm5vdCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gdGhpcy5ub3RhdGlvbihuYW1lLCB2YWx1ZSk7XG4gICAgfTtcblxuICAgIHJldHVybiBYTUxEb2N1bWVudENCO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCAiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcbihmdW5jdGlvbigpIHtcbiAgdmFyIFhNTENEYXRhLCBYTUxDb21tZW50LCBYTUxEVERBdHRMaXN0LCBYTUxEVERFbGVtZW50LCBYTUxEVERFbnRpdHksIFhNTERURE5vdGF0aW9uLCBYTUxEZWNsYXJhdGlvbiwgWE1MRG9jVHlwZSwgWE1MRWxlbWVudCwgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uLCBYTUxSYXcsIFhNTFN0cmVhbVdyaXRlciwgWE1MVGV4dCwgWE1MV3JpdGVyQmFzZSxcbiAgICBleHRlbmQgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7IGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKGhhc1Byb3AuY2FsbChwYXJlbnQsIGtleSkpIGNoaWxkW2tleV0gPSBwYXJlbnRba2V5XTsgfSBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0gY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOyBjaGlsZC5wcm90b3R5cGUgPSBuZXcgY3RvcigpOyBjaGlsZC5fX3N1cGVyX18gPSBwYXJlbnQucHJvdG90eXBlOyByZXR1cm4gY2hpbGQ7IH0sXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIFhNTERlY2xhcmF0aW9uID0gcmVxdWlyZSgnLi9YTUxEZWNsYXJhdGlvbicpO1xuXG4gIFhNTERvY1R5cGUgPSByZXF1aXJlKCcuL1hNTERvY1R5cGUnKTtcblxuICBYTUxDRGF0YSA9IHJlcXVpcmUoJy4vWE1MQ0RhdGEnKTtcblxuICBYTUxDb21tZW50ID0gcmVxdWlyZSgnLi9YTUxDb21tZW50Jyk7XG5cbiAgWE1MRWxlbWVudCA9IHJlcXVpcmUoJy4vWE1MRWxlbWVudCcpO1xuXG4gIFhNTFJhdyA9IHJlcXVpcmUoJy4vWE1MUmF3Jyk7XG5cbiAgWE1MVGV4dCA9IHJlcXVpcmUoJy4vWE1MVGV4dCcpO1xuXG4gIFhNTFByb2Nlc3NpbmdJbnN0cnVjdGlvbiA9IHJlcXVpcmUoJy4vWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uJyk7XG5cbiAgWE1MRFREQXR0TGlzdCA9IHJlcXVpcmUoJy4vWE1MRFREQXR0TGlzdCcpO1xuXG4gIFhNTERUREVsZW1lbnQgPSByZXF1aXJlKCcuL1hNTERUREVsZW1lbnQnKTtcblxuICBYTUxEVERFbnRpdHkgPSByZXF1aXJlKCcuL1hNTERUREVudGl0eScpO1xuXG4gIFhNTERURE5vdGF0aW9uID0gcmVxdWlyZSgnLi9YTUxEVEROb3RhdGlvbicpO1xuXG4gIFhNTFdyaXRlckJhc2UgPSByZXF1aXJlKCcuL1hNTFdyaXRlckJhc2UnKTtcblxuICBtb2R1bGUuZXhwb3J0cyA9IFhNTFN0cmVhbVdyaXRlciA9IChmdW5jdGlvbihzdXBlckNsYXNzKSB7XG4gICAgZXh0ZW5kKFhNTFN0cmVhbVdyaXRlciwgc3VwZXJDbGFzcyk7XG5cbiAgICBmdW5jdGlvbiBYTUxTdHJlYW1Xcml0ZXIoc3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICBYTUxTdHJlYW1Xcml0ZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7XG4gICAgICB0aGlzLnN0cmVhbSA9IHN0cmVhbTtcbiAgICB9XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmRvY3VtZW50ID0gZnVuY3Rpb24oZG9jKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGosIGxlbiwgbGVuMSwgcmVmLCByZWYxLCByZXN1bHRzO1xuICAgICAgcmVmID0gZG9jLmNoaWxkcmVuO1xuICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGNoaWxkID0gcmVmW2ldO1xuICAgICAgICBjaGlsZC5pc0xhc3RSb290Tm9kZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZG9jLmNoaWxkcmVuW2RvYy5jaGlsZHJlbi5sZW5ndGggLSAxXS5pc0xhc3RSb290Tm9kZSA9IHRydWU7XG4gICAgICByZWYxID0gZG9jLmNoaWxkcmVuO1xuICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgZm9yIChqID0gMCwgbGVuMSA9IHJlZjEubGVuZ3RoOyBqIDwgbGVuMTsgaisrKSB7XG4gICAgICAgIGNoaWxkID0gcmVmMVtqXTtcbiAgICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERlY2xhcmF0aW9uKTpcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmRlY2xhcmF0aW9uKGNoaWxkKSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEb2NUeXBlKTpcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmRvY1R5cGUoY2hpbGQpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTENvbW1lbnQpOlxuICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHRoaXMuY29tbWVudChjaGlsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUHJvY2Vzc2luZ0luc3RydWN0aW9uKTpcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihjaGlsZCkpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJlc3VsdHMucHVzaCh0aGlzLmVsZW1lbnQoY2hpbGQpKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuYXR0cmlidXRlID0gZnVuY3Rpb24oYXR0KSB7XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUoJyAnICsgYXR0Lm5hbWUgKyAnPVwiJyArIGF0dC52YWx1ZSArICdcIicpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmNkYXRhID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IVtDREFUQVsnICsgbm9kZS50ZXh0ICsgJ11dPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmNvbW1lbnQgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2UobGV2ZWwpICsgJzwhLS0gJyArIG5vZGUudGV4dCArICcgLS0+JyArIHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZGVjbGFyYXRpb24gPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkpO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJzw/eG1sIHZlcnNpb249XCInICsgbm9kZS52ZXJzaW9uICsgJ1wiJyk7XG4gICAgICBpZiAobm9kZS5lbmNvZGluZyAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgZW5jb2Rpbmc9XCInICsgbm9kZS5lbmNvZGluZyArICdcIicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuc3RhbmRhbG9uZSAhPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgc3RhbmRhbG9uZT1cIicgKyBub2RlLnN0YW5kYWxvbmUgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICc/PicpO1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZG9jVHlwZSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgY2hpbGQsIGksIGxlbiwgcmVmO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSk7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPCFET0NUWVBFICcgKyBub2RlLnJvb3QoKS5uYW1lKTtcbiAgICAgIGlmIChub2RlLnB1YklEICYmIG5vZGUuc3lzSUQpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJyk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID4gMCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFsnKTtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICAgICAgcmVmID0gbm9kZS5jaGlsZHJlbjtcbiAgICAgICAgZm9yIChpID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgY2hpbGQgPSByZWZbaV07XG4gICAgICAgICAgc3dpdGNoIChmYWxzZSkge1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MRFREQXR0TGlzdCk6XG4gICAgICAgICAgICAgIHRoaXMuZHRkQXR0TGlzdChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxEVERFbGVtZW50KTpcbiAgICAgICAgICAgICAgdGhpcy5kdGRFbGVtZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERUREVudGl0eSk6XG4gICAgICAgICAgICAgIHRoaXMuZHRkRW50aXR5KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTERURE5vdGF0aW9uKTpcbiAgICAgICAgICAgICAgdGhpcy5kdGROb3RhdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDRGF0YSk6XG4gICAgICAgICAgICAgIHRoaXMuY2RhdGEoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MQ29tbWVudCk6XG4gICAgICAgICAgICAgIHRoaXMuY29tbWVudChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24pOlxuICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIERURCBub2RlIHR5cGU6IFwiICsgY2hpbGQuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCddJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlYmVmb3Jlc2xhc2ggKyAnPicpO1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZWxlbWVudCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB2YXIgYXR0LCBjaGlsZCwgaSwgbGVuLCBuYW1lLCByZWYsIHJlZjEsIHNwYWNlO1xuICAgICAgbGV2ZWwgfHwgKGxldmVsID0gMCk7XG4gICAgICBzcGFjZSA9IHRoaXMuc3BhY2UobGV2ZWwpO1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoc3BhY2UgKyAnPCcgKyBub2RlLm5hbWUpO1xuICAgICAgcmVmID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgICAgZm9yIChuYW1lIGluIHJlZikge1xuICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChyZWYsIG5hbWUpKSBjb250aW51ZTtcbiAgICAgICAgYXR0ID0gcmVmW25hbWVdO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZShhdHQpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwIHx8IG5vZGUuY2hpbGRyZW4uZXZlcnkoZnVuY3Rpb24oZSkge1xuICAgICAgICByZXR1cm4gZS52YWx1ZSA9PT0gJyc7XG4gICAgICB9KSkge1xuICAgICAgICBpZiAodGhpcy5hbGxvd0VtcHR5KSB7XG4gICAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJz48LycgKyBub2RlLm5hbWUgKyAnPicpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICcvPicpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMucHJldHR5ICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIChub2RlLmNoaWxkcmVuWzBdLnZhbHVlICE9IG51bGwpKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc+Jyk7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKG5vZGUuY2hpbGRyZW5bMF0udmFsdWUpO1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnPC8nICsgbm9kZS5uYW1lICsgJz4nKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCc+JyArIHRoaXMubmV3bGluZSk7XG4gICAgICAgIHJlZjEgPSBub2RlLmNoaWxkcmVuO1xuICAgICAgICBmb3IgKGkgPSAwLCBsZW4gPSByZWYxLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgY2hpbGQgPSByZWYxW2ldO1xuICAgICAgICAgIHN3aXRjaCAoZmFsc2UpIHtcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTENEYXRhKTpcbiAgICAgICAgICAgICAgdGhpcy5jZGF0YShjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxDb21tZW50KTpcbiAgICAgICAgICAgICAgdGhpcy5jb21tZW50KGNoaWxkLCBsZXZlbCArIDEpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgIShjaGlsZCBpbnN0YW5jZW9mIFhNTEVsZW1lbnQpOlxuICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MUmF3KTpcbiAgICAgICAgICAgICAgdGhpcy5yYXcoY2hpbGQsIGxldmVsICsgMSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAhKGNoaWxkIGluc3RhbmNlb2YgWE1MVGV4dCk6XG4gICAgICAgICAgICAgIHRoaXMudGV4dChjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICEoY2hpbGQgaW5zdGFuY2VvZiBYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24pOlxuICAgICAgICAgICAgICB0aGlzLnByb2Nlc3NpbmdJbnN0cnVjdGlvbihjaGlsZCwgbGV2ZWwgKyAxKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIFhNTCBub2RlIHR5cGU6IFwiICsgY2hpbGQuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKHNwYWNlICsgJzwvJyArIG5vZGUubmFtZSArICc+Jyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5wcm9jZXNzaW5nSW5zdHJ1Y3Rpb24gPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyAnPD8nICsgbm9kZS50YXJnZXQpO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyAnICsgbm9kZS52YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZWJlZm9yZXNsYXNoICsgJz8+JyArIHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUucmF3ID0gZnVuY3Rpb24obm9kZSwgbGV2ZWwpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArIG5vZGUudmFsdWUgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLnRleHQgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2UobGV2ZWwpICsgbm9kZS52YWx1ZSArIHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZHRkQXR0TGlzdCA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IUFUVExJU1QgJyArIG5vZGUuZWxlbWVudE5hbWUgKyAnICcgKyBub2RlLmF0dHJpYnV0ZU5hbWUgKyAnICcgKyBub2RlLmF0dHJpYnV0ZVR5cGUpO1xuICAgICAgaWYgKG5vZGUuZGVmYXVsdFZhbHVlVHlwZSAhPT0gJyNERUZBVUxUJykge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnICcgKyBub2RlLmRlZmF1bHRWYWx1ZVR5cGUpO1xuICAgICAgfVxuICAgICAgaWYgKG5vZGUuZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgXCInICsgbm9kZS5kZWZhdWx0VmFsdWUgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlYmVmb3Jlc2xhc2ggKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEVsZW1lbnQgPSBmdW5jdGlvbihub2RlLCBsZXZlbCkge1xuICAgICAgdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZShsZXZlbCkgKyAnPCFFTEVNRU5UICcgKyBub2RlLm5hbWUgKyAnICcgKyBub2RlLnZhbHVlKTtcbiAgICAgIHJldHVybiB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlYmVmb3Jlc2xhc2ggKyAnPicgKyB0aGlzLmVuZGxpbmUobm9kZSkpO1xuICAgIH07XG5cbiAgICBYTUxTdHJlYW1Xcml0ZXIucHJvdG90eXBlLmR0ZEVudGl0eSA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IUVOVElUWScpO1xuICAgICAgaWYgKG5vZGUucGUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyAlJyk7XG4gICAgICB9XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSgnICcgKyBub2RlLm5hbWUpO1xuICAgICAgaWYgKG5vZGUudmFsdWUpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBcIicgKyBub2RlLnZhbHVlICsgJ1wiJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobm9kZS5wdWJJRCAmJiBub2RlLnN5c0lEKSB7XG4gICAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBQVUJMSUMgXCInICsgbm9kZS5wdWJJRCArICdcIiBcIicgKyBub2RlLnN5c0lEICsgJ1wiJyk7XG4gICAgICAgIH0gZWxzZSBpZiAobm9kZS5zeXNJRCkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgU1lTVEVNIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobm9kZS5uRGF0YSkge1xuICAgICAgICAgIHRoaXMuc3RyZWFtLndyaXRlKCcgTkRBVEEgJyArIG5vZGUubkRhdGEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5zdHJlYW0ud3JpdGUodGhpcy5zcGFjZWJlZm9yZXNsYXNoICsgJz4nICsgdGhpcy5lbmRsaW5lKG5vZGUpKTtcbiAgICB9O1xuXG4gICAgWE1MU3RyZWFtV3JpdGVyLnByb3RvdHlwZS5kdGROb3RhdGlvbiA9IGZ1bmN0aW9uKG5vZGUsIGxldmVsKSB7XG4gICAgICB0aGlzLnN0cmVhbS53cml0ZSh0aGlzLnNwYWNlKGxldmVsKSArICc8IU5PVEFUSU9OICcgKyBub2RlLm5hbWUpO1xuICAgICAgaWYgKG5vZGUucHViSUQgJiYgbm9kZS5zeXNJRCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiIFwiJyArIG5vZGUuc3lzSUQgKyAnXCInKTtcbiAgICAgIH0gZWxzZSBpZiAobm9kZS5wdWJJRCkge1xuICAgICAgICB0aGlzLnN0cmVhbS53cml0ZSgnIFBVQkxJQyBcIicgKyBub2RlLnB1YklEICsgJ1wiJyk7XG4gICAgICB9IGVsc2UgaWYgKG5vZGUuc3lzSUQpIHtcbiAgICAgICAgdGhpcy5zdHJlYW0ud3JpdGUoJyBTWVNURU0gXCInICsgbm9kZS5zeXNJRCArICdcIicpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyZWFtLndyaXRlKHRoaXMuc3BhY2ViZWZvcmVzbGFzaCArICc+JyArIHRoaXMuZW5kbGluZShub2RlKSk7XG4gICAgfTtcblxuICAgIFhNTFN0cmVhbVdyaXRlci5wcm90b3R5cGUuZW5kbGluZSA9IGZ1bmN0aW9uKG5vZGUpIHtcbiAgICAgIGlmICghbm9kZS5pc0xhc3RSb290Tm9kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXdsaW5lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gWE1MU3RyZWFtV3JpdGVyO1xuXG4gIH0pKFhNTFdyaXRlckJhc2UpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIHZhciBYTUxEb2N1bWVudCwgWE1MRG9jdW1lbnRDQiwgWE1MU3RyZWFtV3JpdGVyLCBYTUxTdHJpbmdXcml0ZXIsIGFzc2lnbiwgaXNGdW5jdGlvbiwgcmVmO1xuXG4gIHJlZiA9IHJlcXVpcmUoJy4vVXRpbGl0eScpLCBhc3NpZ24gPSByZWYuYXNzaWduLCBpc0Z1bmN0aW9uID0gcmVmLmlzRnVuY3Rpb247XG5cbiAgWE1MRG9jdW1lbnQgPSByZXF1aXJlKCcuL1hNTERvY3VtZW50Jyk7XG5cbiAgWE1MRG9jdW1lbnRDQiA9IHJlcXVpcmUoJy4vWE1MRG9jdW1lbnRDQicpO1xuXG4gIFhNTFN0cmluZ1dyaXRlciA9IHJlcXVpcmUoJy4vWE1MU3RyaW5nV3JpdGVyJyk7XG5cbiAgWE1MU3RyZWFtV3JpdGVyID0gcmVxdWlyZSgnLi9YTUxTdHJlYW1Xcml0ZXInKTtcblxuICBtb2R1bGUuZXhwb3J0cy5jcmVhdGUgPSBmdW5jdGlvbihuYW1lLCB4bWxkZWMsIGRvY3R5cGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgZG9jLCByb290O1xuICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlJvb3QgZWxlbWVudCBuZWVkcyBhIG5hbWVcIik7XG4gICAgfVxuICAgIG9wdGlvbnMgPSBhc3NpZ24oe30sIHhtbGRlYywgZG9jdHlwZSwgb3B0aW9ucyk7XG4gICAgZG9jID0gbmV3IFhNTERvY3VtZW50KG9wdGlvbnMpO1xuICAgIHJvb3QgPSBkb2MuZWxlbWVudChuYW1lKTtcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGxlc3MpIHtcbiAgICAgIGRvYy5kZWNsYXJhdGlvbihvcHRpb25zKTtcbiAgICAgIGlmICgob3B0aW9ucy5wdWJJRCAhPSBudWxsKSB8fCAob3B0aW9ucy5zeXNJRCAhPSBudWxsKSkge1xuICAgICAgICBkb2MuZG9jdHlwZShvcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH07XG5cbiAgbW9kdWxlLmV4cG9ydHMuYmVnaW4gPSBmdW5jdGlvbihvcHRpb25zLCBvbkRhdGEsIG9uRW5kKSB7XG4gICAgdmFyIHJlZjE7XG4gICAgaWYgKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgIHJlZjEgPSBbb3B0aW9ucywgb25EYXRhXSwgb25EYXRhID0gcmVmMVswXSwgb25FbmQgPSByZWYxWzFdO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAob25EYXRhKSB7XG4gICAgICByZXR1cm4gbmV3IFhNTERvY3VtZW50Q0Iob3B0aW9ucywgb25EYXRhLCBvbkVuZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgWE1MRG9jdW1lbnQob3B0aW9ucyk7XG4gICAgfVxuICB9O1xuXG4gIG1vZHVsZS5leHBvcnRzLnN0cmluZ1dyaXRlciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFhNTFN0cmluZ1dyaXRlcihvcHRpb25zKTtcbiAgfTtcblxuICBtb2R1bGUuZXhwb3J0cy5zdHJlYW1Xcml0ZXIgPSBmdW5jdGlvbihzdHJlYW0sIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gbmV3IFhNTFN0cmVhbVdyaXRlcihzdHJlYW0sIG9wdGlvbnMpO1xuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICB2YXIgYnVpbGRlciwgZGVmYXVsdHMsIGVzY2FwZUNEQVRBLCByZXF1aXJlc0NEQVRBLCB3cmFwQ0RBVEEsXG4gICAgaGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5O1xuXG4gIGJ1aWxkZXIgPSByZXF1aXJlKCd4bWxidWlsZGVyJyk7XG5cbiAgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJykuZGVmYXVsdHM7XG5cbiAgcmVxdWlyZXNDREFUQSA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gXCJzdHJpbmdcIiAmJiAoZW50cnkuaW5kZXhPZignJicpID49IDAgfHwgZW50cnkuaW5kZXhPZignPicpID49IDAgfHwgZW50cnkuaW5kZXhPZignPCcpID49IDApO1xuICB9O1xuXG4gIHdyYXBDREFUQSA9IGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgcmV0dXJuIFwiPCFbQ0RBVEFbXCIgKyAoZXNjYXBlQ0RBVEEoZW50cnkpKSArIFwiXV0+XCI7XG4gIH07XG5cbiAgZXNjYXBlQ0RBVEEgPSBmdW5jdGlvbihlbnRyeSkge1xuICAgIHJldHVybiBlbnRyeS5yZXBsYWNlKCddXT4nLCAnXV1dXT48IVtDREFUQVs+Jyk7XG4gIH07XG5cbiAgZXhwb3J0cy5CdWlsZGVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIEJ1aWxkZXIob3B0cykge1xuICAgICAgdmFyIGtleSwgcmVmLCB2YWx1ZTtcbiAgICAgIHRoaXMub3B0aW9ucyA9IHt9O1xuICAgICAgcmVmID0gZGVmYXVsdHNbXCIwLjJcIl07XG4gICAgICBmb3IgKGtleSBpbiByZWYpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgdmFsdWUgPSByZWZba2V5XTtcbiAgICAgICAgdGhpcy5vcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGZvciAoa2V5IGluIG9wdHMpIHtcbiAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwob3B0cywga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gb3B0c1trZXldO1xuICAgICAgICB0aGlzLm9wdGlvbnNba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIEJ1aWxkZXIucHJvdG90eXBlLmJ1aWxkT2JqZWN0ID0gZnVuY3Rpb24ocm9vdE9iaikge1xuICAgICAgdmFyIGF0dHJrZXksIGNoYXJrZXksIHJlbmRlciwgcm9vdEVsZW1lbnQsIHJvb3ROYW1lO1xuICAgICAgYXR0cmtleSA9IHRoaXMub3B0aW9ucy5hdHRya2V5O1xuICAgICAgY2hhcmtleSA9IHRoaXMub3B0aW9ucy5jaGFya2V5O1xuICAgICAgaWYgKChPYmplY3Qua2V5cyhyb290T2JqKS5sZW5ndGggPT09IDEpICYmICh0aGlzLm9wdGlvbnMucm9vdE5hbWUgPT09IGRlZmF1bHRzWycwLjInXS5yb290TmFtZSkpIHtcbiAgICAgICAgcm9vdE5hbWUgPSBPYmplY3Qua2V5cyhyb290T2JqKVswXTtcbiAgICAgICAgcm9vdE9iaiA9IHJvb3RPYmpbcm9vdE5hbWVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcm9vdE5hbWUgPSB0aGlzLm9wdGlvbnMucm9vdE5hbWU7XG4gICAgICB9XG4gICAgICByZW5kZXIgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGVsZW1lbnQsIG9iaikge1xuICAgICAgICAgIHZhciBhdHRyLCBjaGlsZCwgZW50cnksIGluZGV4LCBrZXksIHZhbHVlO1xuICAgICAgICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuY2RhdGEgJiYgcmVxdWlyZXNDREFUQShvYmopKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucmF3KHdyYXBDREFUQShvYmopKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQudHh0KG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGZvciAoaW5kZXggaW4gb2JqKSB7XG4gICAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKG9iaiwgaW5kZXgpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2hpbGQgPSBvYmpbaW5kZXhdO1xuICAgICAgICAgICAgICBmb3IgKGtleSBpbiBjaGlsZCkge1xuICAgICAgICAgICAgICAgIGVudHJ5ID0gY2hpbGRba2V5XTtcbiAgICAgICAgICAgICAgICBlbGVtZW50ID0gcmVuZGVyKGVsZW1lbnQuZWxlKGtleSksIGVudHJ5KS51cCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgICBpZiAoIWhhc1Byb3AuY2FsbChvYmosIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjaGlsZCA9IG9ialtrZXldO1xuICAgICAgICAgICAgICBpZiAoa2V5ID09PSBhdHRya2V5KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgICAgZm9yIChhdHRyIGluIGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gY2hpbGRbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LmF0dChhdHRyLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gY2hhcmtleSkge1xuICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmNkYXRhICYmIHJlcXVpcmVzQ0RBVEEoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5yYXcod3JhcENEQVRBKGNoaWxkKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnR4dChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgZm9yIChpbmRleCBpbiBjaGlsZCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwoY2hpbGQsIGluZGV4KSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICBlbnRyeSA9IGNoaWxkW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZW50cnkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmNkYXRhICYmIHJlcXVpcmVzQ0RBVEEoZW50cnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuZWxlKGtleSkucmF3KHdyYXBDREFUQShlbnRyeSkpLnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuZWxlKGtleSwgZW50cnkpLnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgPSByZW5kZXIoZWxlbWVudC5lbGUoa2V5KSwgZW50cnkpLnVwKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBjaGlsZCA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSByZW5kZXIoZWxlbWVudC5lbGUoa2V5KSwgY2hpbGQpLnVwKCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjaGlsZCA9PT0gJ3N0cmluZycgJiYgX3RoaXMub3B0aW9ucy5jZGF0YSAmJiByZXF1aXJlc0NEQVRBKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnQuZWxlKGtleSkucmF3KHdyYXBDREFUQShjaGlsZCkpLnVwKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkID0gJyc7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudC5lbGUoa2V5LCBjaGlsZC50b1N0cmluZygpKS51cCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgcm9vdEVsZW1lbnQgPSBidWlsZGVyLmNyZWF0ZShyb290TmFtZSwgdGhpcy5vcHRpb25zLnhtbGRlYywgdGhpcy5vcHRpb25zLmRvY3R5cGUsIHtcbiAgICAgICAgaGVhZGxlc3M6IHRoaXMub3B0aW9ucy5oZWFkbGVzcyxcbiAgICAgICAgYWxsb3dTdXJyb2dhdGVDaGFyczogdGhpcy5vcHRpb25zLmFsbG93U3Vycm9nYXRlQ2hhcnNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlbmRlcihyb290RWxlbWVudCwgcm9vdE9iaikuZW5kKHRoaXMub3B0aW9ucy5yZW5kZXJPcHRzKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEJ1aWxkZXI7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICI7KGZ1bmN0aW9uIChzYXgpIHsgLy8gd3JhcHBlciBmb3Igbm9uLW5vZGUgZW52c1xuICBzYXgucGFyc2VyID0gZnVuY3Rpb24gKHN0cmljdCwgb3B0KSB7IHJldHVybiBuZXcgU0FYUGFyc2VyKHN0cmljdCwgb3B0KSB9XG4gIHNheC5TQVhQYXJzZXIgPSBTQVhQYXJzZXJcbiAgc2F4LlNBWFN0cmVhbSA9IFNBWFN0cmVhbVxuICBzYXguY3JlYXRlU3RyZWFtID0gY3JlYXRlU3RyZWFtXG5cbiAgLy8gV2hlbiB3ZSBwYXNzIHRoZSBNQVhfQlVGRkVSX0xFTkdUSCBwb3NpdGlvbiwgc3RhcnQgY2hlY2tpbmcgZm9yIGJ1ZmZlciBvdmVycnVucy5cbiAgLy8gV2hlbiB3ZSBjaGVjaywgc2NoZWR1bGUgdGhlIG5leHQgY2hlY2sgZm9yIE1BWF9CVUZGRVJfTEVOR1RIIC0gKG1heChidWZmZXIgbGVuZ3RocykpLFxuICAvLyBzaW5jZSB0aGF0J3MgdGhlIGVhcmxpZXN0IHRoYXQgYSBidWZmZXIgb3ZlcnJ1biBjb3VsZCBvY2N1ci4gIFRoaXMgd2F5LCBjaGVja3MgYXJlXG4gIC8vIGFzIHJhcmUgYXMgcmVxdWlyZWQsIGJ1dCBhcyBvZnRlbiBhcyBuZWNlc3NhcnkgdG8gZW5zdXJlIG5ldmVyIGNyb3NzaW5nIHRoaXMgYm91bmQuXG4gIC8vIEZ1cnRoZXJtb3JlLCBidWZmZXJzIGFyZSBvbmx5IHRlc3RlZCBhdCBtb3N0IG9uY2UgcGVyIHdyaXRlKCksIHNvIHBhc3NpbmcgYSB2ZXJ5XG4gIC8vIGxhcmdlIHN0cmluZyBpbnRvIHdyaXRlKCkgbWlnaHQgaGF2ZSB1bmRlc2lyYWJsZSBlZmZlY3RzLCBidXQgdGhpcyBpcyBtYW5hZ2VhYmxlIGJ5XG4gIC8vIHRoZSBjYWxsZXIsIHNvIGl0IGlzIGFzc3VtZWQgdG8gYmUgc2FmZS4gIFRodXMsIGEgY2FsbCB0byB3cml0ZSgpIG1heSwgaW4gdGhlIGV4dHJlbWVcbiAgLy8gZWRnZSBjYXNlLCByZXN1bHQgaW4gY3JlYXRpbmcgYXQgbW9zdCBvbmUgY29tcGxldGUgY29weSBvZiB0aGUgc3RyaW5nIHBhc3NlZCBpbi5cbiAgLy8gU2V0IHRvIEluZmluaXR5IHRvIGhhdmUgdW5saW1pdGVkIGJ1ZmZlcnMuXG4gIHNheC5NQVhfQlVGRkVSX0xFTkdUSCA9IDY0ICogMTAyNFxuXG4gIHZhciBidWZmZXJzID0gW1xuICAgICdjb21tZW50JywgJ3NnbWxEZWNsJywgJ3RleHROb2RlJywgJ3RhZ05hbWUnLCAnZG9jdHlwZScsXG4gICAgJ3Byb2NJbnN0TmFtZScsICdwcm9jSW5zdEJvZHknLCAnZW50aXR5JywgJ2F0dHJpYk5hbWUnLFxuICAgICdhdHRyaWJWYWx1ZScsICdjZGF0YScsICdzY3JpcHQnXG4gIF1cblxuICBzYXguRVZFTlRTID0gW1xuICAgICd0ZXh0JyxcbiAgICAncHJvY2Vzc2luZ2luc3RydWN0aW9uJyxcbiAgICAnc2dtbGRlY2xhcmF0aW9uJyxcbiAgICAnZG9jdHlwZScsXG4gICAgJ2NvbW1lbnQnLFxuICAgICdvcGVudGFnc3RhcnQnLFxuICAgICdhdHRyaWJ1dGUnLFxuICAgICdvcGVudGFnJyxcbiAgICAnY2xvc2V0YWcnLFxuICAgICdvcGVuY2RhdGEnLFxuICAgICdjZGF0YScsXG4gICAgJ2Nsb3NlY2RhdGEnLFxuICAgICdlcnJvcicsXG4gICAgJ2VuZCcsXG4gICAgJ3JlYWR5JyxcbiAgICAnc2NyaXB0JyxcbiAgICAnb3Blbm5hbWVzcGFjZScsXG4gICAgJ2Nsb3NlbmFtZXNwYWNlJ1xuICBdXG5cbiAgZnVuY3Rpb24gU0FYUGFyc2VyIChzdHJpY3QsIG9wdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSB7XG4gICAgICByZXR1cm4gbmV3IFNBWFBhcnNlcihzdHJpY3QsIG9wdClcbiAgICB9XG5cbiAgICB2YXIgcGFyc2VyID0gdGhpc1xuICAgIGNsZWFyQnVmZmVycyhwYXJzZXIpXG4gICAgcGFyc2VyLnEgPSBwYXJzZXIuYyA9ICcnXG4gICAgcGFyc2VyLmJ1ZmZlckNoZWNrUG9zaXRpb24gPSBzYXguTUFYX0JVRkZFUl9MRU5HVEhcbiAgICBwYXJzZXIub3B0ID0gb3B0IHx8IHt9XG4gICAgcGFyc2VyLm9wdC5sb3dlcmNhc2UgPSBwYXJzZXIub3B0Lmxvd2VyY2FzZSB8fCBwYXJzZXIub3B0Lmxvd2VyY2FzZXRhZ3NcbiAgICBwYXJzZXIubG9vc2VDYXNlID0gcGFyc2VyLm9wdC5sb3dlcmNhc2UgPyAndG9Mb3dlckNhc2UnIDogJ3RvVXBwZXJDYXNlJ1xuICAgIHBhcnNlci50YWdzID0gW11cbiAgICBwYXJzZXIuY2xvc2VkID0gcGFyc2VyLmNsb3NlZFJvb3QgPSBwYXJzZXIuc2F3Um9vdCA9IGZhbHNlXG4gICAgcGFyc2VyLnRhZyA9IHBhcnNlci5lcnJvciA9IG51bGxcbiAgICBwYXJzZXIuc3RyaWN0ID0gISFzdHJpY3RcbiAgICBwYXJzZXIubm9zY3JpcHQgPSAhIShzdHJpY3QgfHwgcGFyc2VyLm9wdC5ub3NjcmlwdClcbiAgICBwYXJzZXIuc3RhdGUgPSBTLkJFR0lOXG4gICAgcGFyc2VyLnN0cmljdEVudGl0aWVzID0gcGFyc2VyLm9wdC5zdHJpY3RFbnRpdGllc1xuICAgIHBhcnNlci5FTlRJVElFUyA9IHBhcnNlci5zdHJpY3RFbnRpdGllcyA/IE9iamVjdC5jcmVhdGUoc2F4LlhNTF9FTlRJVElFUykgOiBPYmplY3QuY3JlYXRlKHNheC5FTlRJVElFUylcbiAgICBwYXJzZXIuYXR0cmliTGlzdCA9IFtdXG5cbiAgICAvLyBuYW1lc3BhY2VzIGZvcm0gYSBwcm90b3R5cGUgY2hhaW4uXG4gICAgLy8gaXQgYWx3YXlzIHBvaW50cyBhdCB0aGUgY3VycmVudCB0YWcsXG4gICAgLy8gd2hpY2ggcHJvdG9zIHRvIGl0cyBwYXJlbnQgdGFnLlxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICBwYXJzZXIubnMgPSBPYmplY3QuY3JlYXRlKHJvb3ROUylcbiAgICB9XG5cbiAgICAvLyBtb3N0bHkganVzdCBmb3IgZXJyb3IgcmVwb3J0aW5nXG4gICAgcGFyc2VyLnRyYWNrUG9zaXRpb24gPSBwYXJzZXIub3B0LnBvc2l0aW9uICE9PSBmYWxzZVxuICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgcGFyc2VyLnBvc2l0aW9uID0gcGFyc2VyLmxpbmUgPSBwYXJzZXIuY29sdW1uID0gMFxuICAgIH1cbiAgICBlbWl0KHBhcnNlciwgJ29ucmVhZHknKVxuICB9XG5cbiAgaWYgKCFPYmplY3QuY3JlYXRlKSB7XG4gICAgT2JqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChvKSB7XG4gICAgICBmdW5jdGlvbiBGICgpIHt9XG4gICAgICBGLnByb3RvdHlwZSA9IG9cbiAgICAgIHZhciBuZXdmID0gbmV3IEYoKVxuICAgICAgcmV0dXJuIG5ld2ZcbiAgICB9XG4gIH1cblxuICBpZiAoIU9iamVjdC5rZXlzKSB7XG4gICAgT2JqZWN0LmtleXMgPSBmdW5jdGlvbiAobykge1xuICAgICAgdmFyIGEgPSBbXVxuICAgICAgZm9yICh2YXIgaSBpbiBvKSBpZiAoby5oYXNPd25Qcm9wZXJ0eShpKSkgYS5wdXNoKGkpXG4gICAgICByZXR1cm4gYVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrQnVmZmVyTGVuZ3RoIChwYXJzZXIpIHtcbiAgICB2YXIgbWF4QWxsb3dlZCA9IE1hdGgubWF4KHNheC5NQVhfQlVGRkVSX0xFTkdUSCwgMTApXG4gICAgdmFyIG1heEFjdHVhbCA9IDBcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGJ1ZmZlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICB2YXIgbGVuID0gcGFyc2VyW2J1ZmZlcnNbaV1dLmxlbmd0aFxuICAgICAgaWYgKGxlbiA+IG1heEFsbG93ZWQpIHtcbiAgICAgICAgLy8gVGV4dC9jZGF0YSBub2RlcyBjYW4gZ2V0IGJpZywgYW5kIHNpbmNlIHRoZXkncmUgYnVmZmVyZWQsXG4gICAgICAgIC8vIHdlIGNhbiBnZXQgaGVyZSB1bmRlciBub3JtYWwgY29uZGl0aW9ucy5cbiAgICAgICAgLy8gQXZvaWQgaXNzdWVzIGJ5IGVtaXR0aW5nIHRoZSB0ZXh0IG5vZGUgbm93LFxuICAgICAgICAvLyBzbyBhdCBsZWFzdCBpdCB3b24ndCBnZXQgYW55IGJpZ2dlci5cbiAgICAgICAgc3dpdGNoIChidWZmZXJzW2ldKSB7XG4gICAgICAgICAgY2FzZSAndGV4dE5vZGUnOlxuICAgICAgICAgICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdjZGF0YSc6XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICBjYXNlICdzY3JpcHQnOlxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGVycm9yKHBhcnNlciwgJ01heCBidWZmZXIgbGVuZ3RoIGV4Y2VlZGVkOiAnICsgYnVmZmVyc1tpXSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbWF4QWN0dWFsID0gTWF0aC5tYXgobWF4QWN0dWFsLCBsZW4pXG4gICAgfVxuICAgIC8vIHNjaGVkdWxlIHRoZSBuZXh0IGNoZWNrIGZvciB0aGUgZWFybGllc3QgcG9zc2libGUgYnVmZmVyIG92ZXJydW4uXG4gICAgdmFyIG0gPSBzYXguTUFYX0JVRkZFUl9MRU5HVEggLSBtYXhBY3R1YWxcbiAgICBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbiA9IG0gKyBwYXJzZXIucG9zaXRpb25cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyQnVmZmVycyAocGFyc2VyKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBidWZmZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgcGFyc2VyW2J1ZmZlcnNbaV1dID0gJydcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmbHVzaEJ1ZmZlcnMgKHBhcnNlcikge1xuICAgIGNsb3NlVGV4dChwYXJzZXIpXG4gICAgaWYgKHBhcnNlci5jZGF0YSAhPT0gJycpIHtcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2RhdGEnLCBwYXJzZXIuY2RhdGEpXG4gICAgICBwYXJzZXIuY2RhdGEgPSAnJ1xuICAgIH1cbiAgICBpZiAocGFyc2VyLnNjcmlwdCAhPT0gJycpIHtcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uc2NyaXB0JywgcGFyc2VyLnNjcmlwdClcbiAgICAgIHBhcnNlci5zY3JpcHQgPSAnJ1xuICAgIH1cbiAgfVxuXG4gIFNBWFBhcnNlci5wcm90b3R5cGUgPSB7XG4gICAgZW5kOiBmdW5jdGlvbiAoKSB7IGVuZCh0aGlzKSB9LFxuICAgIHdyaXRlOiB3cml0ZSxcbiAgICByZXN1bWU6IGZ1bmN0aW9uICgpIHsgdGhpcy5lcnJvciA9IG51bGw7IHJldHVybiB0aGlzIH0sXG4gICAgY2xvc2U6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMud3JpdGUobnVsbCkgfSxcbiAgICBmbHVzaDogZnVuY3Rpb24gKCkgeyBmbHVzaEJ1ZmZlcnModGhpcykgfVxuICB9XG5cbiAgdmFyIFN0cmVhbVxuICB0cnkge1xuICAgIFN0cmVhbSA9IHJlcXVpcmUoJ3N0cmVhbScpLlN0cmVhbVxuICB9IGNhdGNoIChleCkge1xuICAgIFN0cmVhbSA9IGZ1bmN0aW9uICgpIHt9XG4gIH1cblxuICB2YXIgc3RyZWFtV3JhcHMgPSBzYXguRVZFTlRTLmZpbHRlcihmdW5jdGlvbiAoZXYpIHtcbiAgICByZXR1cm4gZXYgIT09ICdlcnJvcicgJiYgZXYgIT09ICdlbmQnXG4gIH0pXG5cbiAgZnVuY3Rpb24gY3JlYXRlU3RyZWFtIChzdHJpY3QsIG9wdCkge1xuICAgIHJldHVybiBuZXcgU0FYU3RyZWFtKHN0cmljdCwgb3B0KVxuICB9XG5cbiAgZnVuY3Rpb24gU0FYU3RyZWFtIChzdHJpY3QsIG9wdCkge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBTQVhTdHJlYW0pKSB7XG4gICAgICByZXR1cm4gbmV3IFNBWFN0cmVhbShzdHJpY3QsIG9wdClcbiAgICB9XG5cbiAgICBTdHJlYW0uYXBwbHkodGhpcylcblxuICAgIHRoaXMuX3BhcnNlciA9IG5ldyBTQVhQYXJzZXIoc3RyaWN0LCBvcHQpXG4gICAgdGhpcy53cml0YWJsZSA9IHRydWVcbiAgICB0aGlzLnJlYWRhYmxlID0gdHJ1ZVxuXG4gICAgdmFyIG1lID0gdGhpc1xuXG4gICAgdGhpcy5fcGFyc2VyLm9uZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgbWUuZW1pdCgnZW5kJylcbiAgICB9XG5cbiAgICB0aGlzLl9wYXJzZXIub25lcnJvciA9IGZ1bmN0aW9uIChlcikge1xuICAgICAgbWUuZW1pdCgnZXJyb3InLCBlcilcblxuICAgICAgLy8gaWYgZGlkbid0IHRocm93LCB0aGVuIG1lYW5zIGVycm9yIHdhcyBoYW5kbGVkLlxuICAgICAgLy8gZ28gYWhlYWQgYW5kIGNsZWFyIGVycm9yLCBzbyB3ZSBjYW4gd3JpdGUgYWdhaW4uXG4gICAgICBtZS5fcGFyc2VyLmVycm9yID0gbnVsbFxuICAgIH1cblxuICAgIHRoaXMuX2RlY29kZXIgPSBudWxsXG5cbiAgICBzdHJlYW1XcmFwcy5mb3JFYWNoKGZ1bmN0aW9uIChldikge1xuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1lLCAnb24nICsgZXYsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG1lLl9wYXJzZXJbJ29uJyArIGV2XVxuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChoKSB7XG4gICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBtZS5yZW1vdmVBbGxMaXN0ZW5lcnMoZXYpXG4gICAgICAgICAgICBtZS5fcGFyc2VyWydvbicgKyBldl0gPSBoXG4gICAgICAgICAgICByZXR1cm4gaFxuICAgICAgICAgIH1cbiAgICAgICAgICBtZS5vbihldiwgaClcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoU3RyZWFtLnByb3RvdHlwZSwge1xuICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICB2YWx1ZTogU0FYU3RyZWFtXG4gICAgfVxuICB9KVxuXG4gIFNBWFN0cmVhbS5wcm90b3R5cGUud3JpdGUgPSBmdW5jdGlvbiAoZGF0YSkge1xuICAgIGlmICh0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICB0eXBlb2YgQnVmZmVyLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmXG4gICAgICBCdWZmZXIuaXNCdWZmZXIoZGF0YSkpIHtcbiAgICAgIGlmICghdGhpcy5fZGVjb2Rlcikge1xuICAgICAgICB2YXIgU0QgPSByZXF1aXJlKCdzdHJpbmdfZGVjb2RlcicpLlN0cmluZ0RlY29kZXJcbiAgICAgICAgdGhpcy5fZGVjb2RlciA9IG5ldyBTRCgndXRmOCcpXG4gICAgICB9XG4gICAgICBkYXRhID0gdGhpcy5fZGVjb2Rlci53cml0ZShkYXRhKVxuICAgIH1cblxuICAgIHRoaXMuX3BhcnNlci53cml0ZShkYXRhLnRvU3RyaW5nKCkpXG4gICAgdGhpcy5lbWl0KCdkYXRhJywgZGF0YSlcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAoY2h1bmspIHtcbiAgICBpZiAoY2h1bmsgJiYgY2h1bmsubGVuZ3RoKSB7XG4gICAgICB0aGlzLndyaXRlKGNodW5rKVxuICAgIH1cbiAgICB0aGlzLl9wYXJzZXIuZW5kKClcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgU0FYU3RyZWFtLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChldiwgaGFuZGxlcikge1xuICAgIHZhciBtZSA9IHRoaXNcbiAgICBpZiAoIW1lLl9wYXJzZXJbJ29uJyArIGV2XSAmJiBzdHJlYW1XcmFwcy5pbmRleE9mKGV2KSAhPT0gLTEpIHtcbiAgICAgIG1lLl9wYXJzZXJbJ29uJyArIGV2XSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID09PSAxID8gW2FyZ3VtZW50c1swXV0gOiBBcnJheS5hcHBseShudWxsLCBhcmd1bWVudHMpXG4gICAgICAgIGFyZ3Muc3BsaWNlKDAsIDAsIGV2KVxuICAgICAgICBtZS5lbWl0LmFwcGx5KG1lLCBhcmdzKVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBTdHJlYW0ucHJvdG90eXBlLm9uLmNhbGwobWUsIGV2LCBoYW5kbGVyKVxuICB9XG5cbiAgLy8gY2hhcmFjdGVyIGNsYXNzZXMgYW5kIHRva2Vuc1xuICB2YXIgd2hpdGVzcGFjZSA9ICdcXHJcXG5cXHQgJ1xuXG4gIC8vIHRoaXMgcmVhbGx5IG5lZWRzIHRvIGJlIHJlcGxhY2VkIHdpdGggY2hhcmFjdGVyIGNsYXNzZXMuXG4gIC8vIFhNTCBhbGxvd3MgYWxsIG1hbm5lciBvZiByaWRpY3Vsb3VzIG51bWJlcnMgYW5kIGRpZ2l0cy5cbiAgdmFyIG51bWJlciA9ICcwMTI0MzU2Nzg5J1xuICB2YXIgbGV0dGVyID0gJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonXG5cbiAgLy8gKExldHRlciB8IFwiX1wiIHwgXCI6XCIpXG4gIHZhciBxdW90ZSA9ICdcXCdcIidcbiAgdmFyIGF0dHJpYkVuZCA9IHdoaXRlc3BhY2UgKyAnPidcbiAgdmFyIENEQVRBID0gJ1tDREFUQVsnXG4gIHZhciBET0NUWVBFID0gJ0RPQ1RZUEUnXG4gIHZhciBYTUxfTkFNRVNQQUNFID0gJ2h0dHA6Ly93d3cudzMub3JnL1hNTC8xOTk4L25hbWVzcGFjZSdcbiAgdmFyIFhNTE5TX05BTUVTUEFDRSA9ICdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zLydcbiAgdmFyIHJvb3ROUyA9IHsgeG1sOiBYTUxfTkFNRVNQQUNFLCB4bWxuczogWE1MTlNfTkFNRVNQQUNFIH1cblxuICAvLyB0dXJuIGFsbCB0aGUgc3RyaW5nIGNoYXJhY3RlciBzZXRzIGludG8gY2hhcmFjdGVyIGNsYXNzIG9iamVjdHMuXG4gIHdoaXRlc3BhY2UgPSBjaGFyQ2xhc3Mod2hpdGVzcGFjZSlcbiAgbnVtYmVyID0gY2hhckNsYXNzKG51bWJlcilcbiAgbGV0dGVyID0gY2hhckNsYXNzKGxldHRlcilcblxuICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMteG1sLyNOVC1OYW1lU3RhcnRDaGFyXG4gIC8vIFRoaXMgaW1wbGVtZW50YXRpb24gd29ya3Mgb24gc3RyaW5ncywgYSBzaW5nbGUgY2hhcmFjdGVyIGF0IGEgdGltZVxuICAvLyBhcyBzdWNoLCBpdCBjYW5ub3QgZXZlciBzdXBwb3J0IGFzdHJhbC1wbGFuZSBjaGFyYWN0ZXJzICgxMDAwMC1FRkZGRilcbiAgLy8gd2l0aG91dCBhIHNpZ25pZmljYW50IGJyZWFraW5nIGNoYW5nZSB0byBlaXRoZXIgdGhpcyAgcGFyc2VyLCBvciB0aGVcbiAgLy8gSmF2YVNjcmlwdCBsYW5ndWFnZS4gIEltcGxlbWVudGF0aW9uIG9mIGFuIGVtb2ppLWNhcGFibGUgeG1sIHBhcnNlclxuICAvLyBpcyBsZWZ0IGFzIGFuIGV4ZXJjaXNlIGZvciB0aGUgcmVhZGVyLlxuICB2YXIgbmFtZVN0YXJ0ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vXG5cbiAgdmFyIG5hbWVCb2R5ID0gL1s6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRFxcdTAwQjdcXHUwMzAwLVxcdTAzNkZcXHUyMDNGLVxcdTIwNDBcXC5cXGQtXS9cblxuICB2YXIgZW50aXR5U3RhcnQgPSAvWyM6X0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNlxcdTAwRjgtXFx1MDJGRlxcdTAzNzAtXFx1MDM3RFxcdTAzN0YtXFx1MUZGRlxcdTIwMEMtXFx1MjAwRFxcdTIwNzAtXFx1MjE4RlxcdTJDMDAtXFx1MkZFRlxcdTMwMDEtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZGRF0vXG4gIHZhciBlbnRpdHlCb2R5ID0gL1sjOl9BLVphLXpcXHUwMEMwLVxcdTAwRDZcXHUwMEQ4LVxcdTAwRjZcXHUwMEY4LVxcdTAyRkZcXHUwMzcwLVxcdTAzN0RcXHUwMzdGLVxcdTFGRkZcXHUyMDBDLVxcdTIwMERcXHUyMDcwLVxcdTIxOEZcXHUyQzAwLVxcdTJGRUZcXHUzMDAxLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRkRcXHUwMEI3XFx1MDMwMC1cXHUwMzZGXFx1MjAzRi1cXHUyMDQwXFwuXFxkLV0vXG5cbiAgcXVvdGUgPSBjaGFyQ2xhc3MocXVvdGUpXG4gIGF0dHJpYkVuZCA9IGNoYXJDbGFzcyhhdHRyaWJFbmQpXG5cbiAgZnVuY3Rpb24gY2hhckNsYXNzIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnNwbGl0KCcnKS5yZWR1Y2UoZnVuY3Rpb24gKHMsIGMpIHtcbiAgICAgIHNbY10gPSB0cnVlXG4gICAgICByZXR1cm4gc1xuICAgIH0sIHt9KVxuICB9XG5cbiAgZnVuY3Rpb24gaXNSZWdFeHAgKGMpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGMpID09PSAnW29iamVjdCBSZWdFeHBdJ1xuICB9XG5cbiAgZnVuY3Rpb24gaXMgKGNoYXJjbGFzcywgYykge1xuICAgIHJldHVybiBpc1JlZ0V4cChjaGFyY2xhc3MpID8gISFjLm1hdGNoKGNoYXJjbGFzcykgOiBjaGFyY2xhc3NbY11cbiAgfVxuXG4gIGZ1bmN0aW9uIG5vdCAoY2hhcmNsYXNzLCBjKSB7XG4gICAgcmV0dXJuICFpcyhjaGFyY2xhc3MsIGMpXG4gIH1cblxuICB2YXIgUyA9IDBcbiAgc2F4LlNUQVRFID0ge1xuICAgIEJFR0lOOiBTKyssIC8vIGxlYWRpbmcgYnl0ZSBvcmRlciBtYXJrIG9yIHdoaXRlc3BhY2VcbiAgICBCRUdJTl9XSElURVNQQUNFOiBTKyssIC8vIGxlYWRpbmcgd2hpdGVzcGFjZVxuICAgIFRFWFQ6IFMrKywgLy8gZ2VuZXJhbCBzdHVmZlxuICAgIFRFWFRfRU5USVRZOiBTKyssIC8vICZhbXAgYW5kIHN1Y2guXG4gICAgT1BFTl9XQUtBOiBTKyssIC8vIDxcbiAgICBTR01MX0RFQ0w6IFMrKywgLy8gPCFCTEFSR1xuICAgIFNHTUxfREVDTF9RVU9URUQ6IFMrKywgLy8gPCFCTEFSRyBmb28gXCJiYXJcbiAgICBET0NUWVBFOiBTKyssIC8vIDwhRE9DVFlQRVxuICAgIERPQ1RZUEVfUVVPVEVEOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFxuICAgIERPQ1RZUEVfRFREOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFwiIFsgLi4uXG4gICAgRE9DVFlQRV9EVERfUVVPVEVEOiBTKyssIC8vIDwhRE9DVFlQRSBcIi8vYmxhaFwiIFsgXCJmb29cbiAgICBDT01NRU5UX1NUQVJUSU5HOiBTKyssIC8vIDwhLVxuICAgIENPTU1FTlQ6IFMrKywgLy8gPCEtLVxuICAgIENPTU1FTlRfRU5ESU5HOiBTKyssIC8vIDwhLS0gYmxhaCAtXG4gICAgQ09NTUVOVF9FTkRFRDogUysrLCAvLyA8IS0tIGJsYWggLS1cbiAgICBDREFUQTogUysrLCAvLyA8IVtDREFUQVsgc29tZXRoaW5nXG4gICAgQ0RBVEFfRU5ESU5HOiBTKyssIC8vIF1cbiAgICBDREFUQV9FTkRJTkdfMjogUysrLCAvLyBdXVxuICAgIFBST0NfSU5TVDogUysrLCAvLyA8P2hpXG4gICAgUFJPQ19JTlNUX0JPRFk6IFMrKywgLy8gPD9oaSB0aGVyZVxuICAgIFBST0NfSU5TVF9FTkRJTkc6IFMrKywgLy8gPD9oaSBcInRoZXJlXCIgP1xuICAgIE9QRU5fVEFHOiBTKyssIC8vIDxzdHJvbmdcbiAgICBPUEVOX1RBR19TTEFTSDogUysrLCAvLyA8c3Ryb25nIC9cbiAgICBBVFRSSUI6IFMrKywgLy8gPGFcbiAgICBBVFRSSUJfTkFNRTogUysrLCAvLyA8YSBmb29cbiAgICBBVFRSSUJfTkFNRV9TQVdfV0hJVEU6IFMrKywgLy8gPGEgZm9vIF9cbiAgICBBVFRSSUJfVkFMVUU6IFMrKywgLy8gPGEgZm9vPVxuICAgIEFUVFJJQl9WQUxVRV9RVU9URUQ6IFMrKywgLy8gPGEgZm9vPVwiYmFyXG4gICAgQVRUUklCX1ZBTFVFX0NMT1NFRDogUysrLCAvLyA8YSBmb289XCJiYXJcIlxuICAgIEFUVFJJQl9WQUxVRV9VTlFVT1RFRDogUysrLCAvLyA8YSBmb289YmFyXG4gICAgQVRUUklCX1ZBTFVFX0VOVElUWV9ROiBTKyssIC8vIDxmb28gYmFyPVwiJnF1b3Q7XCJcbiAgICBBVFRSSUJfVkFMVUVfRU5USVRZX1U6IFMrKywgLy8gPGZvbyBiYXI9JnF1b3RcbiAgICBDTE9TRV9UQUc6IFMrKywgLy8gPC9hXG4gICAgQ0xPU0VfVEFHX1NBV19XSElURTogUysrLCAvLyA8L2EgICA+XG4gICAgU0NSSVBUOiBTKyssIC8vIDxzY3JpcHQ+IC4uLlxuICAgIFNDUklQVF9FTkRJTkc6IFMrKyAvLyA8c2NyaXB0PiAuLi4gPFxuICB9XG5cbiAgc2F4LlhNTF9FTlRJVElFUyA9IHtcbiAgICAnYW1wJzogJyYnLFxuICAgICdndCc6ICc+JyxcbiAgICAnbHQnOiAnPCcsXG4gICAgJ3F1b3QnOiAnXCInLFxuICAgICdhcG9zJzogXCInXCJcbiAgfVxuXG4gIHNheC5FTlRJVElFUyA9IHtcbiAgICAnYW1wJzogJyYnLFxuICAgICdndCc6ICc+JyxcbiAgICAnbHQnOiAnPCcsXG4gICAgJ3F1b3QnOiAnXCInLFxuICAgICdhcG9zJzogXCInXCIsXG4gICAgJ0FFbGlnJzogMTk4LFxuICAgICdBYWN1dGUnOiAxOTMsXG4gICAgJ0FjaXJjJzogMTk0LFxuICAgICdBZ3JhdmUnOiAxOTIsXG4gICAgJ0FyaW5nJzogMTk3LFxuICAgICdBdGlsZGUnOiAxOTUsXG4gICAgJ0F1bWwnOiAxOTYsXG4gICAgJ0NjZWRpbCc6IDE5OSxcbiAgICAnRVRIJzogMjA4LFxuICAgICdFYWN1dGUnOiAyMDEsXG4gICAgJ0VjaXJjJzogMjAyLFxuICAgICdFZ3JhdmUnOiAyMDAsXG4gICAgJ0V1bWwnOiAyMDMsXG4gICAgJ0lhY3V0ZSc6IDIwNSxcbiAgICAnSWNpcmMnOiAyMDYsXG4gICAgJ0lncmF2ZSc6IDIwNCxcbiAgICAnSXVtbCc6IDIwNyxcbiAgICAnTnRpbGRlJzogMjA5LFxuICAgICdPYWN1dGUnOiAyMTEsXG4gICAgJ09jaXJjJzogMjEyLFxuICAgICdPZ3JhdmUnOiAyMTAsXG4gICAgJ09zbGFzaCc6IDIxNixcbiAgICAnT3RpbGRlJzogMjEzLFxuICAgICdPdW1sJzogMjE0LFxuICAgICdUSE9STic6IDIyMixcbiAgICAnVWFjdXRlJzogMjE4LFxuICAgICdVY2lyYyc6IDIxOSxcbiAgICAnVWdyYXZlJzogMjE3LFxuICAgICdVdW1sJzogMjIwLFxuICAgICdZYWN1dGUnOiAyMjEsXG4gICAgJ2FhY3V0ZSc6IDIyNSxcbiAgICAnYWNpcmMnOiAyMjYsXG4gICAgJ2FlbGlnJzogMjMwLFxuICAgICdhZ3JhdmUnOiAyMjQsXG4gICAgJ2FyaW5nJzogMjI5LFxuICAgICdhdGlsZGUnOiAyMjcsXG4gICAgJ2F1bWwnOiAyMjgsXG4gICAgJ2NjZWRpbCc6IDIzMSxcbiAgICAnZWFjdXRlJzogMjMzLFxuICAgICdlY2lyYyc6IDIzNCxcbiAgICAnZWdyYXZlJzogMjMyLFxuICAgICdldGgnOiAyNDAsXG4gICAgJ2V1bWwnOiAyMzUsXG4gICAgJ2lhY3V0ZSc6IDIzNyxcbiAgICAnaWNpcmMnOiAyMzgsXG4gICAgJ2lncmF2ZSc6IDIzNixcbiAgICAnaXVtbCc6IDIzOSxcbiAgICAnbnRpbGRlJzogMjQxLFxuICAgICdvYWN1dGUnOiAyNDMsXG4gICAgJ29jaXJjJzogMjQ0LFxuICAgICdvZ3JhdmUnOiAyNDIsXG4gICAgJ29zbGFzaCc6IDI0OCxcbiAgICAnb3RpbGRlJzogMjQ1LFxuICAgICdvdW1sJzogMjQ2LFxuICAgICdzemxpZyc6IDIyMyxcbiAgICAndGhvcm4nOiAyNTQsXG4gICAgJ3VhY3V0ZSc6IDI1MCxcbiAgICAndWNpcmMnOiAyNTEsXG4gICAgJ3VncmF2ZSc6IDI0OSxcbiAgICAndXVtbCc6IDI1MixcbiAgICAneWFjdXRlJzogMjUzLFxuICAgICd5dW1sJzogMjU1LFxuICAgICdjb3B5JzogMTY5LFxuICAgICdyZWcnOiAxNzQsXG4gICAgJ25ic3AnOiAxNjAsXG4gICAgJ2lleGNsJzogMTYxLFxuICAgICdjZW50JzogMTYyLFxuICAgICdwb3VuZCc6IDE2MyxcbiAgICAnY3VycmVuJzogMTY0LFxuICAgICd5ZW4nOiAxNjUsXG4gICAgJ2JydmJhcic6IDE2NixcbiAgICAnc2VjdCc6IDE2NyxcbiAgICAndW1sJzogMTY4LFxuICAgICdvcmRmJzogMTcwLFxuICAgICdsYXF1byc6IDE3MSxcbiAgICAnbm90JzogMTcyLFxuICAgICdzaHknOiAxNzMsXG4gICAgJ21hY3InOiAxNzUsXG4gICAgJ2RlZyc6IDE3NixcbiAgICAncGx1c21uJzogMTc3LFxuICAgICdzdXAxJzogMTg1LFxuICAgICdzdXAyJzogMTc4LFxuICAgICdzdXAzJzogMTc5LFxuICAgICdhY3V0ZSc6IDE4MCxcbiAgICAnbWljcm8nOiAxODEsXG4gICAgJ3BhcmEnOiAxODIsXG4gICAgJ21pZGRvdCc6IDE4MyxcbiAgICAnY2VkaWwnOiAxODQsXG4gICAgJ29yZG0nOiAxODYsXG4gICAgJ3JhcXVvJzogMTg3LFxuICAgICdmcmFjMTQnOiAxODgsXG4gICAgJ2ZyYWMxMic6IDE4OSxcbiAgICAnZnJhYzM0JzogMTkwLFxuICAgICdpcXVlc3QnOiAxOTEsXG4gICAgJ3RpbWVzJzogMjE1LFxuICAgICdkaXZpZGUnOiAyNDcsXG4gICAgJ09FbGlnJzogMzM4LFxuICAgICdvZWxpZyc6IDMzOSxcbiAgICAnU2Nhcm9uJzogMzUyLFxuICAgICdzY2Fyb24nOiAzNTMsXG4gICAgJ1l1bWwnOiAzNzYsXG4gICAgJ2Zub2YnOiA0MDIsXG4gICAgJ2NpcmMnOiA3MTAsXG4gICAgJ3RpbGRlJzogNzMyLFxuICAgICdBbHBoYSc6IDkxMyxcbiAgICAnQmV0YSc6IDkxNCxcbiAgICAnR2FtbWEnOiA5MTUsXG4gICAgJ0RlbHRhJzogOTE2LFxuICAgICdFcHNpbG9uJzogOTE3LFxuICAgICdaZXRhJzogOTE4LFxuICAgICdFdGEnOiA5MTksXG4gICAgJ1RoZXRhJzogOTIwLFxuICAgICdJb3RhJzogOTIxLFxuICAgICdLYXBwYSc6IDkyMixcbiAgICAnTGFtYmRhJzogOTIzLFxuICAgICdNdSc6IDkyNCxcbiAgICAnTnUnOiA5MjUsXG4gICAgJ1hpJzogOTI2LFxuICAgICdPbWljcm9uJzogOTI3LFxuICAgICdQaSc6IDkyOCxcbiAgICAnUmhvJzogOTI5LFxuICAgICdTaWdtYSc6IDkzMSxcbiAgICAnVGF1JzogOTMyLFxuICAgICdVcHNpbG9uJzogOTMzLFxuICAgICdQaGknOiA5MzQsXG4gICAgJ0NoaSc6IDkzNSxcbiAgICAnUHNpJzogOTM2LFxuICAgICdPbWVnYSc6IDkzNyxcbiAgICAnYWxwaGEnOiA5NDUsXG4gICAgJ2JldGEnOiA5NDYsXG4gICAgJ2dhbW1hJzogOTQ3LFxuICAgICdkZWx0YSc6IDk0OCxcbiAgICAnZXBzaWxvbic6IDk0OSxcbiAgICAnemV0YSc6IDk1MCxcbiAgICAnZXRhJzogOTUxLFxuICAgICd0aGV0YSc6IDk1MixcbiAgICAnaW90YSc6IDk1MyxcbiAgICAna2FwcGEnOiA5NTQsXG4gICAgJ2xhbWJkYSc6IDk1NSxcbiAgICAnbXUnOiA5NTYsXG4gICAgJ251JzogOTU3LFxuICAgICd4aSc6IDk1OCxcbiAgICAnb21pY3Jvbic6IDk1OSxcbiAgICAncGknOiA5NjAsXG4gICAgJ3Jobyc6IDk2MSxcbiAgICAnc2lnbWFmJzogOTYyLFxuICAgICdzaWdtYSc6IDk2MyxcbiAgICAndGF1JzogOTY0LFxuICAgICd1cHNpbG9uJzogOTY1LFxuICAgICdwaGknOiA5NjYsXG4gICAgJ2NoaSc6IDk2NyxcbiAgICAncHNpJzogOTY4LFxuICAgICdvbWVnYSc6IDk2OSxcbiAgICAndGhldGFzeW0nOiA5NzcsXG4gICAgJ3Vwc2loJzogOTc4LFxuICAgICdwaXYnOiA5ODIsXG4gICAgJ2Vuc3AnOiA4MTk0LFxuICAgICdlbXNwJzogODE5NSxcbiAgICAndGhpbnNwJzogODIwMSxcbiAgICAnenduaic6IDgyMDQsXG4gICAgJ3p3aic6IDgyMDUsXG4gICAgJ2xybSc6IDgyMDYsXG4gICAgJ3JsbSc6IDgyMDcsXG4gICAgJ25kYXNoJzogODIxMSxcbiAgICAnbWRhc2gnOiA4MjEyLFxuICAgICdsc3F1byc6IDgyMTYsXG4gICAgJ3JzcXVvJzogODIxNyxcbiAgICAnc2JxdW8nOiA4MjE4LFxuICAgICdsZHF1byc6IDgyMjAsXG4gICAgJ3JkcXVvJzogODIyMSxcbiAgICAnYmRxdW8nOiA4MjIyLFxuICAgICdkYWdnZXInOiA4MjI0LFxuICAgICdEYWdnZXInOiA4MjI1LFxuICAgICdidWxsJzogODIyNixcbiAgICAnaGVsbGlwJzogODIzMCxcbiAgICAncGVybWlsJzogODI0MCxcbiAgICAncHJpbWUnOiA4MjQyLFxuICAgICdQcmltZSc6IDgyNDMsXG4gICAgJ2xzYXF1byc6IDgyNDksXG4gICAgJ3JzYXF1byc6IDgyNTAsXG4gICAgJ29saW5lJzogODI1NCxcbiAgICAnZnJhc2wnOiA4MjYwLFxuICAgICdldXJvJzogODM2NCxcbiAgICAnaW1hZ2UnOiA4NDY1LFxuICAgICd3ZWllcnAnOiA4NDcyLFxuICAgICdyZWFsJzogODQ3NixcbiAgICAndHJhZGUnOiA4NDgyLFxuICAgICdhbGVmc3ltJzogODUwMSxcbiAgICAnbGFycic6IDg1OTIsXG4gICAgJ3VhcnInOiA4NTkzLFxuICAgICdyYXJyJzogODU5NCxcbiAgICAnZGFycic6IDg1OTUsXG4gICAgJ2hhcnInOiA4NTk2LFxuICAgICdjcmFycic6IDg2MjksXG4gICAgJ2xBcnInOiA4NjU2LFxuICAgICd1QXJyJzogODY1NyxcbiAgICAnckFycic6IDg2NTgsXG4gICAgJ2RBcnInOiA4NjU5LFxuICAgICdoQXJyJzogODY2MCxcbiAgICAnZm9yYWxsJzogODcwNCxcbiAgICAncGFydCc6IDg3MDYsXG4gICAgJ2V4aXN0JzogODcwNyxcbiAgICAnZW1wdHknOiA4NzA5LFxuICAgICduYWJsYSc6IDg3MTEsXG4gICAgJ2lzaW4nOiA4NzEyLFxuICAgICdub3Rpbic6IDg3MTMsXG4gICAgJ25pJzogODcxNSxcbiAgICAncHJvZCc6IDg3MTksXG4gICAgJ3N1bSc6IDg3MjEsXG4gICAgJ21pbnVzJzogODcyMixcbiAgICAnbG93YXN0JzogODcyNyxcbiAgICAncmFkaWMnOiA4NzMwLFxuICAgICdwcm9wJzogODczMyxcbiAgICAnaW5maW4nOiA4NzM0LFxuICAgICdhbmcnOiA4NzM2LFxuICAgICdhbmQnOiA4NzQzLFxuICAgICdvcic6IDg3NDQsXG4gICAgJ2NhcCc6IDg3NDUsXG4gICAgJ2N1cCc6IDg3NDYsXG4gICAgJ2ludCc6IDg3NDcsXG4gICAgJ3RoZXJlNCc6IDg3NTYsXG4gICAgJ3NpbSc6IDg3NjQsXG4gICAgJ2NvbmcnOiA4NzczLFxuICAgICdhc3ltcCc6IDg3NzYsXG4gICAgJ25lJzogODgwMCxcbiAgICAnZXF1aXYnOiA4ODAxLFxuICAgICdsZSc6IDg4MDQsXG4gICAgJ2dlJzogODgwNSxcbiAgICAnc3ViJzogODgzNCxcbiAgICAnc3VwJzogODgzNSxcbiAgICAnbnN1Yic6IDg4MzYsXG4gICAgJ3N1YmUnOiA4ODM4LFxuICAgICdzdXBlJzogODgzOSxcbiAgICAnb3BsdXMnOiA4ODUzLFxuICAgICdvdGltZXMnOiA4ODU1LFxuICAgICdwZXJwJzogODg2OSxcbiAgICAnc2RvdCc6IDg5MDEsXG4gICAgJ2xjZWlsJzogODk2OCxcbiAgICAncmNlaWwnOiA4OTY5LFxuICAgICdsZmxvb3InOiA4OTcwLFxuICAgICdyZmxvb3InOiA4OTcxLFxuICAgICdsYW5nJzogOTAwMSxcbiAgICAncmFuZyc6IDkwMDIsXG4gICAgJ2xveic6IDk2NzQsXG4gICAgJ3NwYWRlcyc6IDk4MjQsXG4gICAgJ2NsdWJzJzogOTgyNyxcbiAgICAnaGVhcnRzJzogOTgyOSxcbiAgICAnZGlhbXMnOiA5ODMwXG4gIH1cblxuICBPYmplY3Qua2V5cyhzYXguRU5USVRJRVMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBlID0gc2F4LkVOVElUSUVTW2tleV1cbiAgICB2YXIgcyA9IHR5cGVvZiBlID09PSAnbnVtYmVyJyA/IFN0cmluZy5mcm9tQ2hhckNvZGUoZSkgOiBlXG4gICAgc2F4LkVOVElUSUVTW2tleV0gPSBzXG4gIH0pXG5cbiAgZm9yICh2YXIgcyBpbiBzYXguU1RBVEUpIHtcbiAgICBzYXguU1RBVEVbc2F4LlNUQVRFW3NdXSA9IHNcbiAgfVxuXG4gIC8vIHNob3J0aGFuZFxuICBTID0gc2F4LlNUQVRFXG5cbiAgZnVuY3Rpb24gZW1pdCAocGFyc2VyLCBldmVudCwgZGF0YSkge1xuICAgIHBhcnNlcltldmVudF0gJiYgcGFyc2VyW2V2ZW50XShkYXRhKVxuICB9XG5cbiAgZnVuY3Rpb24gZW1pdE5vZGUgKHBhcnNlciwgbm9kZVR5cGUsIGRhdGEpIHtcbiAgICBpZiAocGFyc2VyLnRleHROb2RlKSBjbG9zZVRleHQocGFyc2VyKVxuICAgIGVtaXQocGFyc2VyLCBub2RlVHlwZSwgZGF0YSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsb3NlVGV4dCAocGFyc2VyKSB7XG4gICAgcGFyc2VyLnRleHROb2RlID0gdGV4dG9wdHMocGFyc2VyLm9wdCwgcGFyc2VyLnRleHROb2RlKVxuICAgIGlmIChwYXJzZXIudGV4dE5vZGUpIGVtaXQocGFyc2VyLCAnb250ZXh0JywgcGFyc2VyLnRleHROb2RlKVxuICAgIHBhcnNlci50ZXh0Tm9kZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiB0ZXh0b3B0cyAob3B0LCB0ZXh0KSB7XG4gICAgaWYgKG9wdC50cmltKSB0ZXh0ID0gdGV4dC50cmltKClcbiAgICBpZiAob3B0Lm5vcm1hbGl6ZSkgdGV4dCA9IHRleHQucmVwbGFjZSgvXFxzKy9nLCAnICcpXG4gICAgcmV0dXJuIHRleHRcbiAgfVxuXG4gIGZ1bmN0aW9uIGVycm9yIChwYXJzZXIsIGVyKSB7XG4gICAgY2xvc2VUZXh0KHBhcnNlcilcbiAgICBpZiAocGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgIGVyICs9ICdcXG5MaW5lOiAnICsgcGFyc2VyLmxpbmUgK1xuICAgICAgICAnXFxuQ29sdW1uOiAnICsgcGFyc2VyLmNvbHVtbiArXG4gICAgICAgICdcXG5DaGFyOiAnICsgcGFyc2VyLmNcbiAgICB9XG4gICAgZXIgPSBuZXcgRXJyb3IoZXIpXG4gICAgcGFyc2VyLmVycm9yID0gZXJcbiAgICBlbWl0KHBhcnNlciwgJ29uZXJyb3InLCBlcilcbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICBmdW5jdGlvbiBlbmQgKHBhcnNlcikge1xuICAgIGlmIChwYXJzZXIuc2F3Um9vdCAmJiAhcGFyc2VyLmNsb3NlZFJvb3QpIHN0cmljdEZhaWwocGFyc2VyLCAnVW5jbG9zZWQgcm9vdCB0YWcnKVxuICAgIGlmICgocGFyc2VyLnN0YXRlICE9PSBTLkJFR0lOKSAmJlxuICAgICAgKHBhcnNlci5zdGF0ZSAhPT0gUy5CRUdJTl9XSElURVNQQUNFKSAmJlxuICAgICAgKHBhcnNlci5zdGF0ZSAhPT0gUy5URVhUKSkge1xuICAgICAgZXJyb3IocGFyc2VyLCAnVW5leHBlY3RlZCBlbmQnKVxuICAgIH1cbiAgICBjbG9zZVRleHQocGFyc2VyKVxuICAgIHBhcnNlci5jID0gJydcbiAgICBwYXJzZXIuY2xvc2VkID0gdHJ1ZVxuICAgIGVtaXQocGFyc2VyLCAnb25lbmQnKVxuICAgIFNBWFBhcnNlci5jYWxsKHBhcnNlciwgcGFyc2VyLnN0cmljdCwgcGFyc2VyLm9wdClcbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICBmdW5jdGlvbiBzdHJpY3RGYWlsIChwYXJzZXIsIG1lc3NhZ2UpIHtcbiAgICBpZiAodHlwZW9mIHBhcnNlciAhPT0gJ29iamVjdCcgfHwgIShwYXJzZXIgaW5zdGFuY2VvZiBTQVhQYXJzZXIpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2JhZCBjYWxsIHRvIHN0cmljdEZhaWwnKVxuICAgIH1cbiAgICBpZiAocGFyc2VyLnN0cmljdCkge1xuICAgICAgZXJyb3IocGFyc2VyLCBtZXNzYWdlKVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld1RhZyAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSBwYXJzZXIudGFnTmFtZSA9IHBhcnNlci50YWdOYW1lW3BhcnNlci5sb29zZUNhc2VdKClcbiAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgdmFyIHRhZyA9IHBhcnNlci50YWcgPSB7IG5hbWU6IHBhcnNlci50YWdOYW1lLCBhdHRyaWJ1dGVzOiB7fSB9XG5cbiAgICAvLyB3aWxsIGJlIG92ZXJyaWRkZW4gaWYgdGFnIGNvbnRhaWxzIGFuIHhtbG5zPVwiZm9vXCIgb3IgeG1sbnM6Zm9vPVwiYmFyXCJcbiAgICBpZiAocGFyc2VyLm9wdC54bWxucykge1xuICAgICAgdGFnLm5zID0gcGFyZW50Lm5zXG4gICAgfVxuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW50YWdzdGFydCcsIHRhZylcbiAgfVxuXG4gIGZ1bmN0aW9uIHFuYW1lIChuYW1lLCBhdHRyaWJ1dGUpIHtcbiAgICB2YXIgaSA9IG5hbWUuaW5kZXhPZignOicpXG4gICAgdmFyIHF1YWxOYW1lID0gaSA8IDAgPyBbICcnLCBuYW1lIF0gOiBuYW1lLnNwbGl0KCc6JylcbiAgICB2YXIgcHJlZml4ID0gcXVhbE5hbWVbMF1cbiAgICB2YXIgbG9jYWwgPSBxdWFsTmFtZVsxXVxuXG4gICAgLy8gPHggXCJ4bWxuc1wiPVwiaHR0cDovL2Zvb1wiPlxuICAgIGlmIChhdHRyaWJ1dGUgJiYgbmFtZSA9PT0gJ3htbG5zJykge1xuICAgICAgcHJlZml4ID0gJ3htbG5zJ1xuICAgICAgbG9jYWwgPSAnJ1xuICAgIH1cblxuICAgIHJldHVybiB7IHByZWZpeDogcHJlZml4LCBsb2NhbDogbG9jYWwgfVxuICB9XG5cbiAgZnVuY3Rpb24gYXR0cmliIChwYXJzZXIpIHtcbiAgICBpZiAoIXBhcnNlci5zdHJpY3QpIHtcbiAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYk5hbWVbcGFyc2VyLmxvb3NlQ2FzZV0oKVxuICAgIH1cblxuICAgIGlmIChwYXJzZXIuYXR0cmliTGlzdC5pbmRleE9mKHBhcnNlci5hdHRyaWJOYW1lKSAhPT0gLTEgfHxcbiAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShwYXJzZXIuYXR0cmliTmFtZSkpIHtcbiAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmIChwYXJzZXIub3B0LnhtbG5zKSB7XG4gICAgICB2YXIgcW4gPSBxbmFtZShwYXJzZXIuYXR0cmliTmFtZSwgdHJ1ZSlcbiAgICAgIHZhciBwcmVmaXggPSBxbi5wcmVmaXhcbiAgICAgIHZhciBsb2NhbCA9IHFuLmxvY2FsXG5cbiAgICAgIGlmIChwcmVmaXggPT09ICd4bWxucycpIHtcbiAgICAgICAgLy8gbmFtZXNwYWNlIGJpbmRpbmcgYXR0cmlidXRlLiBwdXNoIHRoZSBiaW5kaW5nIGludG8gc2NvcGVcbiAgICAgICAgaWYgKGxvY2FsID09PSAneG1sJyAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTF9OQU1FU1BBQ0UpIHtcbiAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICd4bWw6IHByZWZpeCBtdXN0IGJlIGJvdW5kIHRvICcgKyBYTUxfTkFNRVNQQUNFICsgJ1xcbicgK1xuICAgICAgICAgICAgJ0FjdHVhbDogJyArIHBhcnNlci5hdHRyaWJWYWx1ZSlcbiAgICAgICAgfSBlbHNlIGlmIChsb2NhbCA9PT0gJ3htbG5zJyAmJiBwYXJzZXIuYXR0cmliVmFsdWUgIT09IFhNTE5TX05BTUVTUEFDRSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLFxuICAgICAgICAgICAgJ3htbG5zOiBwcmVmaXggbXVzdCBiZSBib3VuZCB0byAnICsgWE1MTlNfTkFNRVNQQUNFICsgJ1xcbicgK1xuICAgICAgICAgICAgJ0FjdHVhbDogJyArIHBhcnNlci5hdHRyaWJWYWx1ZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZ1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBwYXJzZXIudGFnc1twYXJzZXIudGFncy5sZW5ndGggLSAxXSB8fCBwYXJzZXJcbiAgICAgICAgICBpZiAodGFnLm5zID09PSBwYXJlbnQubnMpIHtcbiAgICAgICAgICAgIHRhZy5ucyA9IE9iamVjdC5jcmVhdGUocGFyZW50Lm5zKVxuICAgICAgICAgIH1cbiAgICAgICAgICB0YWcubnNbbG9jYWxdID0gcGFyc2VyLmF0dHJpYlZhbHVlXG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gZGVmZXIgb25hdHRyaWJ1dGUgZXZlbnRzIHVudGlsIGFsbCBhdHRyaWJ1dGVzIGhhdmUgYmVlbiBzZWVuXG4gICAgICAvLyBzbyBhbnkgbmV3IGJpbmRpbmdzIGNhbiB0YWtlIGVmZmVjdC4gcHJlc2VydmUgYXR0cmlidXRlIG9yZGVyXG4gICAgICAvLyBzbyBkZWZlcnJlZCBldmVudHMgY2FuIGJlIGVtaXR0ZWQgaW4gZG9jdW1lbnQgb3JkZXJcbiAgICAgIHBhcnNlci5hdHRyaWJMaXN0LnB1c2goW3BhcnNlci5hdHRyaWJOYW1lLCBwYXJzZXIuYXR0cmliVmFsdWVdKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpbiBub24teG1sbnMgbW9kZSwgd2UgY2FuIGVtaXQgdGhlIGV2ZW50IHJpZ2h0IGF3YXlcbiAgICAgIHBhcnNlci50YWcuYXR0cmlidXRlc1twYXJzZXIuYXR0cmliTmFtZV0gPSBwYXJzZXIuYXR0cmliVmFsdWVcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywge1xuICAgICAgICBuYW1lOiBwYXJzZXIuYXR0cmliTmFtZSxcbiAgICAgICAgdmFsdWU6IHBhcnNlci5hdHRyaWJWYWx1ZVxuICAgICAgfSlcbiAgICB9XG5cbiAgICBwYXJzZXIuYXR0cmliTmFtZSA9IHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gIH1cblxuICBmdW5jdGlvbiBvcGVuVGFnIChwYXJzZXIsIHNlbGZDbG9zaW5nKSB7XG4gICAgaWYgKHBhcnNlci5vcHQueG1sbnMpIHtcbiAgICAgIC8vIGVtaXQgbmFtZXNwYWNlIGJpbmRpbmcgZXZlbnRzXG4gICAgICB2YXIgdGFnID0gcGFyc2VyLnRhZ1xuXG4gICAgICAvLyBhZGQgbmFtZXNwYWNlIGluZm8gdG8gdGFnXG4gICAgICB2YXIgcW4gPSBxbmFtZShwYXJzZXIudGFnTmFtZSlcbiAgICAgIHRhZy5wcmVmaXggPSBxbi5wcmVmaXhcbiAgICAgIHRhZy5sb2NhbCA9IHFuLmxvY2FsXG4gICAgICB0YWcudXJpID0gdGFnLm5zW3FuLnByZWZpeF0gfHwgJydcblxuICAgICAgaWYgKHRhZy5wcmVmaXggJiYgIXRhZy51cmkpIHtcbiAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdVbmJvdW5kIG5hbWVzcGFjZSBwcmVmaXg6ICcgK1xuICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHBhcnNlci50YWdOYW1lKSlcbiAgICAgICAgdGFnLnVyaSA9IHFuLnByZWZpeFxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICBpZiAodGFnLm5zICYmIHBhcmVudC5ucyAhPT0gdGFnLm5zKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ub3Blbm5hbWVzcGFjZScsIHtcbiAgICAgICAgICAgIHByZWZpeDogcCxcbiAgICAgICAgICAgIHVyaTogdGFnLm5zW3BdXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH1cblxuICAgICAgLy8gaGFuZGxlIGRlZmVycmVkIG9uYXR0cmlidXRlIGV2ZW50c1xuICAgICAgLy8gTm90ZTogZG8gbm90IGFwcGx5IGRlZmF1bHQgbnMgdG8gYXR0cmlidXRlczpcbiAgICAgIC8vICAgaHR0cDovL3d3dy53My5vcmcvVFIvUkVDLXhtbC1uYW1lcy8jZGVmYXVsdGluZ1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdmFyIG52ID0gcGFyc2VyLmF0dHJpYkxpc3RbaV1cbiAgICAgICAgdmFyIG5hbWUgPSBudlswXVxuICAgICAgICB2YXIgdmFsdWUgPSBudlsxXVxuICAgICAgICB2YXIgcXVhbE5hbWUgPSBxbmFtZShuYW1lLCB0cnVlKVxuICAgICAgICB2YXIgcHJlZml4ID0gcXVhbE5hbWUucHJlZml4XG4gICAgICAgIHZhciBsb2NhbCA9IHF1YWxOYW1lLmxvY2FsXG4gICAgICAgIHZhciB1cmkgPSBwcmVmaXggPT09ICcnID8gJycgOiAodGFnLm5zW3ByZWZpeF0gfHwgJycpXG4gICAgICAgIHZhciBhID0ge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgIHByZWZpeDogcHJlZml4LFxuICAgICAgICAgIGxvY2FsOiBsb2NhbCxcbiAgICAgICAgICB1cmk6IHVyaVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUncyBhbnkgYXR0cmlidXRlcyB3aXRoIGFuIHVuZGVmaW5lZCBuYW1lc3BhY2UsXG4gICAgICAgIC8vIHRoZW4gZmFpbCBvbiB0aGVtIG5vdy5cbiAgICAgICAgaWYgKHByZWZpeCAmJiBwcmVmaXggIT09ICd4bWxucycgJiYgIXVyaSkge1xuICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5ib3VuZCBuYW1lc3BhY2UgcHJlZml4OiAnICtcbiAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByZWZpeCkpXG4gICAgICAgICAgYS51cmkgPSBwcmVmaXhcbiAgICAgICAgfVxuICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbbmFtZV0gPSBhXG4gICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uYXR0cmlidXRlJywgYSlcbiAgICAgIH1cbiAgICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICB9XG5cbiAgICBwYXJzZXIudGFnLmlzU2VsZkNsb3NpbmcgPSAhIXNlbGZDbG9zaW5nXG5cbiAgICAvLyBwcm9jZXNzIHRoZSB0YWdcbiAgICBwYXJzZXIuc2F3Um9vdCA9IHRydWVcbiAgICBwYXJzZXIudGFncy5wdXNoKHBhcnNlci50YWcpXG4gICAgZW1pdE5vZGUocGFyc2VyLCAnb25vcGVudGFnJywgcGFyc2VyLnRhZylcbiAgICBpZiAoIXNlbGZDbG9zaW5nKSB7XG4gICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIDxzY3JpcHQ+IGluIG5vbi1zdHJpY3QgbW9kZS5cbiAgICAgIGlmICghcGFyc2VyLm5vc2NyaXB0ICYmIHBhcnNlci50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzY3JpcHQnKSB7XG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgIH1cbiAgICAgIHBhcnNlci50YWcgPSBudWxsXG4gICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgfVxuICAgIHBhcnNlci5hdHRyaWJOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICBwYXJzZXIuYXR0cmliTGlzdC5sZW5ndGggPSAwXG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVRhZyAocGFyc2VyKSB7XG4gICAgaWYgKCFwYXJzZXIudGFnTmFtZSkge1xuICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdXZWlyZCBlbXB0eSBjbG9zZSB0YWcuJylcbiAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSAnPC8+J1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICByZXR1cm5cbiAgICB9XG5cbiAgICBpZiAocGFyc2VyLnNjcmlwdCkge1xuICAgICAgaWYgKHBhcnNlci50YWdOYW1lICE9PSAnc2NyaXB0Jykge1xuICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZSArICc+J1xuICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuU0NSSVBUXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25zY3JpcHQnLCBwYXJzZXIuc2NyaXB0KVxuICAgICAgcGFyc2VyLnNjcmlwdCA9ICcnXG4gICAgfVxuXG4gICAgLy8gZmlyc3QgbWFrZSBzdXJlIHRoYXQgdGhlIGNsb3NpbmcgdGFnIGFjdHVhbGx5IGV4aXN0cy5cbiAgICAvLyA8YT48Yj48L2M+PC9iPjwvYT4gd2lsbCBjbG9zZSBldmVyeXRoaW5nLCBvdGhlcndpc2UuXG4gICAgdmFyIHQgPSBwYXJzZXIudGFncy5sZW5ndGhcbiAgICB2YXIgdGFnTmFtZSA9IHBhcnNlci50YWdOYW1lXG4gICAgaWYgKCFwYXJzZXIuc3RyaWN0KSB7XG4gICAgICB0YWdOYW1lID0gdGFnTmFtZVtwYXJzZXIubG9vc2VDYXNlXSgpXG4gICAgfVxuICAgIHZhciBjbG9zZVRvID0gdGFnTmFtZVxuICAgIHdoaWxlICh0LS0pIHtcbiAgICAgIHZhciBjbG9zZSA9IHBhcnNlci50YWdzW3RdXG4gICAgICBpZiAoY2xvc2UubmFtZSAhPT0gY2xvc2VUbykge1xuICAgICAgICAvLyBmYWlsIHRoZSBmaXJzdCB0aW1lIGluIHN0cmljdCBtb2RlXG4gICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5leHBlY3RlZCBjbG9zZSB0YWcnKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBkaWRuJ3QgZmluZCBpdC4gIHdlIGFscmVhZHkgZmFpbGVkIGZvciBzdHJpY3QsIHNvIGp1c3QgYWJvcnQuXG4gICAgaWYgKHQgPCAwKSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ1VubWF0Y2hlZCBjbG9zaW5nIHRhZzogJyArIHBhcnNlci50YWdOYW1lKVxuICAgICAgcGFyc2VyLnRleHROb2RlICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZSArICc+J1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgcGFyc2VyLnRhZ05hbWUgPSB0YWdOYW1lXG4gICAgdmFyIHMgPSBwYXJzZXIudGFncy5sZW5ndGhcbiAgICB3aGlsZSAocy0tID4gdCkge1xuICAgICAgdmFyIHRhZyA9IHBhcnNlci50YWcgPSBwYXJzZXIudGFncy5wb3AoKVxuICAgICAgcGFyc2VyLnRhZ05hbWUgPSBwYXJzZXIudGFnLm5hbWVcbiAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29uY2xvc2V0YWcnLCBwYXJzZXIudGFnTmFtZSlcblxuICAgICAgdmFyIHggPSB7fVxuICAgICAgZm9yICh2YXIgaSBpbiB0YWcubnMpIHtcbiAgICAgICAgeFtpXSA9IHRhZy5uc1tpXVxuICAgICAgfVxuXG4gICAgICB2YXIgcGFyZW50ID0gcGFyc2VyLnRhZ3NbcGFyc2VyLnRhZ3MubGVuZ3RoIC0gMV0gfHwgcGFyc2VyXG4gICAgICBpZiAocGFyc2VyLm9wdC54bWxucyAmJiB0YWcubnMgIT09IHBhcmVudC5ucykge1xuICAgICAgICAvLyByZW1vdmUgbmFtZXNwYWNlIGJpbmRpbmdzIGludHJvZHVjZWQgYnkgdGFnXG4gICAgICAgIE9iamVjdC5rZXlzKHRhZy5ucykuZm9yRWFjaChmdW5jdGlvbiAocCkge1xuICAgICAgICAgIHZhciBuID0gdGFnLm5zW3BdXG4gICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZW5hbWVzcGFjZScsIHsgcHJlZml4OiBwLCB1cmk6IG4gfSlcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHQgPT09IDApIHBhcnNlci5jbG9zZWRSb290ID0gdHJ1ZVxuICAgIHBhcnNlci50YWdOYW1lID0gcGFyc2VyLmF0dHJpYlZhbHVlID0gcGFyc2VyLmF0dHJpYk5hbWUgPSAnJ1xuICAgIHBhcnNlci5hdHRyaWJMaXN0Lmxlbmd0aCA9IDBcbiAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgfVxuXG4gIGZ1bmN0aW9uIHBhcnNlRW50aXR5IChwYXJzZXIpIHtcbiAgICB2YXIgZW50aXR5ID0gcGFyc2VyLmVudGl0eVxuICAgIHZhciBlbnRpdHlMQyA9IGVudGl0eS50b0xvd2VyQ2FzZSgpXG4gICAgdmFyIG51bVxuICAgIHZhciBudW1TdHIgPSAnJ1xuXG4gICAgaWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHldKSB7XG4gICAgICByZXR1cm4gcGFyc2VyLkVOVElUSUVTW2VudGl0eV1cbiAgICB9XG4gICAgaWYgKHBhcnNlci5FTlRJVElFU1tlbnRpdHlMQ10pIHtcbiAgICAgIHJldHVybiBwYXJzZXIuRU5USVRJRVNbZW50aXR5TENdXG4gICAgfVxuICAgIGVudGl0eSA9IGVudGl0eUxDXG4gICAgaWYgKGVudGl0eS5jaGFyQXQoMCkgPT09ICcjJykge1xuICAgICAgaWYgKGVudGl0eS5jaGFyQXQoMSkgPT09ICd4Jykge1xuICAgICAgICBlbnRpdHkgPSBlbnRpdHkuc2xpY2UoMilcbiAgICAgICAgbnVtID0gcGFyc2VJbnQoZW50aXR5LCAxNilcbiAgICAgICAgbnVtU3RyID0gbnVtLnRvU3RyaW5nKDE2KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW50aXR5ID0gZW50aXR5LnNsaWNlKDEpXG4gICAgICAgIG51bSA9IHBhcnNlSW50KGVudGl0eSwgMTApXG4gICAgICAgIG51bVN0ciA9IG51bS50b1N0cmluZygxMClcbiAgICAgIH1cbiAgICB9XG4gICAgZW50aXR5ID0gZW50aXR5LnJlcGxhY2UoL14wKy8sICcnKVxuICAgIGlmIChudW1TdHIudG9Mb3dlckNhc2UoKSAhPT0gZW50aXR5KSB7XG4gICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgY2hhcmFjdGVyIGVudGl0eScpXG4gICAgICByZXR1cm4gJyYnICsgcGFyc2VyLmVudGl0eSArICc7J1xuICAgIH1cblxuICAgIHJldHVybiBTdHJpbmcuZnJvbUNvZGVQb2ludChudW0pXG4gIH1cblxuICBmdW5jdGlvbiBiZWdpbldoaXRlU3BhY2UgKHBhcnNlciwgYykge1xuICAgIGlmIChjID09PSAnPCcpIHtcbiAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBXG4gICAgICBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvblxuICAgIH0gZWxzZSBpZiAobm90KHdoaXRlc3BhY2UsIGMpKSB7XG4gICAgICAvLyBoYXZlIHRvIHByb2Nlc3MgdGhpcyBhcyBhIHRleHQgbm9kZS5cbiAgICAgIC8vIHdlaXJkLCBidXQgaGFwcGVucy5cbiAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnTm9uLXdoaXRlc3BhY2UgYmVmb3JlIGZpcnN0IHRhZy4nKVxuICAgICAgcGFyc2VyLnRleHROb2RlID0gY1xuICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hhckF0IChjaHVuaywgaSkge1xuICAgIHZhciByZXN1bHQgPSAnJ1xuICAgIGlmIChpIDwgY2h1bmsubGVuZ3RoKSB7XG4gICAgICByZXN1bHQgPSBjaHVuay5jaGFyQXQoaSlcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGUgKGNodW5rKSB7XG4gICAgdmFyIHBhcnNlciA9IHRoaXNcbiAgICBpZiAodGhpcy5lcnJvcikge1xuICAgICAgdGhyb3cgdGhpcy5lcnJvclxuICAgIH1cbiAgICBpZiAocGFyc2VyLmNsb3NlZCkge1xuICAgICAgcmV0dXJuIGVycm9yKHBhcnNlcixcbiAgICAgICAgJ0Nhbm5vdCB3cml0ZSBhZnRlciBjbG9zZS4gQXNzaWduIGFuIG9ucmVhZHkgaGFuZGxlci4nKVxuICAgIH1cbiAgICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICAgIHJldHVybiBlbmQocGFyc2VyKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIGNodW5rID09PSAnb2JqZWN0Jykge1xuICAgICAgY2h1bmsgPSBjaHVuay50b1N0cmluZygpXG4gICAgfVxuICAgIHZhciBpID0gMFxuICAgIHZhciBjID0gJydcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgYyA9IGNoYXJBdChjaHVuaywgaSsrKVxuICAgICAgcGFyc2VyLmMgPSBjXG4gICAgICBpZiAoIWMpIHtcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICAgIGlmIChwYXJzZXIudHJhY2tQb3NpdGlvbikge1xuICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICBpZiAoYyA9PT0gJ1xcbicpIHtcbiAgICAgICAgICBwYXJzZXIubGluZSsrXG4gICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBwYXJzZXIuY29sdW1uKytcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgY2FzZSBTLkJFR0lOOlxuICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQkVHSU5fV0hJVEVTUEFDRVxuICAgICAgICAgIGlmIChjID09PSAnXFx1RkVGRicpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGJlZ2luV2hpdGVTcGFjZShwYXJzZXIsIGMpXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQkVHSU5fV0hJVEVTUEFDRTpcbiAgICAgICAgICBiZWdpbldoaXRlU3BhY2UocGFyc2VyLCBjKVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlRFWFQ6XG4gICAgICAgICAgaWYgKHBhcnNlci5zYXdSb290ICYmICFwYXJzZXIuY2xvc2VkUm9vdCkge1xuICAgICAgICAgICAgdmFyIHN0YXJ0aSA9IGkgLSAxXG4gICAgICAgICAgICB3aGlsZSAoYyAmJiBjICE9PSAnPCcgJiYgYyAhPT0gJyYnKSB7XG4gICAgICAgICAgICAgIGMgPSBjaGFyQXQoY2h1bmssIGkrKylcbiAgICAgICAgICAgICAgaWYgKGMgJiYgcGFyc2VyLnRyYWNrUG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgICBwYXJzZXIucG9zaXRpb24rK1xuICAgICAgICAgICAgICAgIGlmIChjID09PSAnXFxuJykge1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmxpbmUrK1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmNvbHVtbiA9IDBcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcGFyc2VyLmNvbHVtbisrXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gY2h1bmsuc3Vic3RyaW5nKHN0YXJ0aSwgaSAtIDEpXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPCcgJiYgIShwYXJzZXIuc2F3Um9vdCAmJiBwYXJzZXIuY2xvc2VkUm9vdCAmJiAhcGFyc2VyLnN0cmljdCkpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9XQUtBXG4gICAgICAgICAgICBwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiA9IHBhcnNlci5wb3NpdGlvblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobm90KHdoaXRlc3BhY2UsIGMpICYmICghcGFyc2VyLnNhd1Jvb3QgfHwgcGFyc2VyLmNsb3NlZFJvb3QpKSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVGV4dCBkYXRhIG91dHNpZGUgb2Ygcm9vdCBub2RlLicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVF9FTlRJVFlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBhcnNlci50ZXh0Tm9kZSArPSBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVDpcbiAgICAgICAgICAvLyBvbmx5IG5vbi1zdHJpY3RcbiAgICAgICAgICBpZiAoYyA9PT0gJzwnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVF9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNDUklQVF9FTkRJTkc6XG4gICAgICAgICAgaWYgKGMgPT09ICcvJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DTE9TRV9UQUdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnNjcmlwdCArPSAnPCcgKyBjXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNDUklQVFxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1dBS0E6XG4gICAgICAgICAgLy8gZWl0aGVyIGEgLywgPywgISwgb3IgdGV4dCBpcyBjb21pbmcgbmV4dC5cbiAgICAgICAgICBpZiAoYyA9PT0gJyEnKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlNHTUxfREVDTFxuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzKHdoaXRlc3BhY2UsIGMpKSB7XG4gICAgICAgICAgICAvLyB3YWl0IGZvciBpdC4uLlxuICAgICAgICAgIH0gZWxzZSBpZiAoaXMobmFtZVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR1xuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSBjXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0xPU0VfVEFHXG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9ICcnXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUXG4gICAgICAgICAgICBwYXJzZXIucHJvY0luc3ROYW1lID0gcGFyc2VyLnByb2NJbnN0Qm9keSA9ICcnXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5lbmNvZGVkIDwnKVxuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIHNvbWUgd2hpdGVzcGFjZSwgdGhlbiBhZGQgdGhhdCBpbi5cbiAgICAgICAgICAgIGlmIChwYXJzZXIuc3RhcnRUYWdQb3NpdGlvbiArIDEgPCBwYXJzZXIucG9zaXRpb24pIHtcbiAgICAgICAgICAgICAgdmFyIHBhZCA9IHBhcnNlci5wb3NpdGlvbiAtIHBhcnNlci5zdGFydFRhZ1Bvc2l0aW9uXG4gICAgICAgICAgICAgIGMgPSBuZXcgQXJyYXkocGFkKS5qb2luKCcgJykgKyBjXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIudGV4dE5vZGUgKz0gJzwnICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlNHTUxfREVDTDpcbiAgICAgICAgICBpZiAoKHBhcnNlci5zZ21sRGVjbCArIGMpLnRvVXBwZXJDYXNlKCkgPT09IENEQVRBKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbm9wZW5jZGF0YScpXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNEQVRBXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhcnNlci5zZ21sRGVjbCArIGMgPT09ICctLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnNnbWxEZWNsID0gJydcbiAgICAgICAgICB9IGVsc2UgaWYgKChwYXJzZXIuc2dtbERlY2wgKyBjKS50b1VwcGVyQ2FzZSgpID09PSBET0NUWVBFKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICAgIGlmIChwYXJzZXIuZG9jdHlwZSB8fCBwYXJzZXIuc2F3Um9vdCkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlcixcbiAgICAgICAgICAgICAgICAnSW5hcHByb3ByaWF0ZWx5IGxvY2F0ZWQgZG9jdHlwZSBkZWNsYXJhdGlvbicpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgPSAnJ1xuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbnNnbWxkZWNsYXJhdGlvbicsIHBhcnNlci5zZ21sRGVjbClcbiAgICAgICAgICAgIHBhcnNlci5zZ21sRGVjbCA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzKHF1b3RlLCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xfUVVPVEVEXG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgKz0gY1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc2dtbERlY2wgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5TR01MX0RFQ0xfUVVPVEVEOlxuICAgICAgICAgIGlmIChjID09PSBwYXJzZXIucSkge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TR01MX0RFQ0xcbiAgICAgICAgICAgIHBhcnNlci5xID0gJydcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VyLnNnbWxEZWNsICs9IGNcbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuVEVYVFxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25kb2N0eXBlJywgcGFyc2VyLmRvY3R5cGUpXG4gICAgICAgICAgICBwYXJzZXIuZG9jdHlwZSA9IHRydWUgLy8ganVzdCByZW1lbWJlciB0aGF0IHdlIHNhdyBpdC5cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgICAgaWYgKGMgPT09ICdbJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzKHF1b3RlLCBjKSkge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfUVVPVEVEXG4gICAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5ET0NUWVBFX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuRE9DVFlQRV9EVEQ6XG4gICAgICAgICAgcGFyc2VyLmRvY3R5cGUgKz0gY1xuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuRE9DVFlQRVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXMocXVvdGUsIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREX1FVT1RFRFxuICAgICAgICAgICAgcGFyc2VyLnEgPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkRPQ1RZUEVfRFREX1FVT1RFRDpcbiAgICAgICAgICBwYXJzZXIuZG9jdHlwZSArPSBjXG4gICAgICAgICAgaWYgKGMgPT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkRPQ1RZUEVfRFREXG4gICAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlQ6XG4gICAgICAgICAgaWYgKGMgPT09ICctJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UX0VORElOR1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY29tbWVudCArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnLScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVF9FTkRFRFxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgPSB0ZXh0b3B0cyhwYXJzZXIub3B0LCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIGlmIChwYXJzZXIuY29tbWVudCkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNvbW1lbnQnLCBwYXJzZXIuY29tbWVudClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBhcnNlci5jb21tZW50ID0gJydcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DT01NRU5UXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNPTU1FTlRfRU5ERUQ6XG4gICAgICAgICAgaWYgKGMgIT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdNYWxmb3JtZWQgY29tbWVudCcpXG4gICAgICAgICAgICAvLyBhbGxvdyA8IS0tIGJsYWggLS0gYmxvbyAtLT4gaW4gbm9uLXN0cmljdCBtb2RlLFxuICAgICAgICAgICAgLy8gd2hpY2ggaXMgYSBjb21tZW50IG9mIFwiIGJsYWggLS0gYmxvbyBcIlxuICAgICAgICAgICAgcGFyc2VyLmNvbW1lbnQgKz0gJy0tJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ09NTUVOVFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEE6XG4gICAgICAgICAgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5DREFUQV9FTkRJTkdcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9IGNcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnXScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFfRU5ESU5HXzJcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0RBVEFfRU5ESU5HXzI6XG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgaWYgKHBhcnNlci5jZGF0YSkge1xuICAgICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmNkYXRhJywgcGFyc2VyLmNkYXRhKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW1pdE5vZGUocGFyc2VyLCAnb25jbG9zZWNkYXRhJylcbiAgICAgICAgICAgIHBhcnNlci5jZGF0YSA9ICcnXG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICddJykge1xuICAgICAgICAgICAgcGFyc2VyLmNkYXRhICs9ICddJ1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwYXJzZXIuY2RhdGEgKz0gJ11dJyArIGNcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQ0RBVEFcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuUFJPQ19JTlNUOlxuICAgICAgICAgIGlmIChjID09PSAnPycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0VORElOR1xuICAgICAgICAgIH0gZWxzZSBpZiAoaXMod2hpdGVzcGFjZSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuUFJPQ19JTlNUX0JPRFlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSArPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLlBST0NfSU5TVF9CT0RZOlxuICAgICAgICAgIGlmICghcGFyc2VyLnByb2NJbnN0Qm9keSAmJiBpcyh3aGl0ZXNwYWNlLCBjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc/Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfRU5ESU5HXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gY1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5QUk9DX0lOU1RfRU5ESU5HOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGVtaXROb2RlKHBhcnNlciwgJ29ucHJvY2Vzc2luZ2luc3RydWN0aW9uJywge1xuICAgICAgICAgICAgICBuYW1lOiBwYXJzZXIucHJvY0luc3ROYW1lLFxuICAgICAgICAgICAgICBib2R5OiBwYXJzZXIucHJvY0luc3RCb2R5XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgcGFyc2VyLnByb2NJbnN0TmFtZSA9IHBhcnNlci5wcm9jSW5zdEJvZHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5URVhUXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5wcm9jSW5zdEJvZHkgKz0gJz8nICsgY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5QUk9DX0lOU1RfQk9EWVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5PUEVOX1RBRzpcbiAgICAgICAgICBpZiAoaXMobmFtZUJvZHksIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG5ld1RhZyhwYXJzZXIpXG4gICAgICAgICAgICBpZiAoYyA9PT0gJz4nKSB7XG4gICAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5PUEVOX1RBR19TTEFTSFxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKG5vdCh3aGl0ZXNwYWNlLCBjKSkge1xuICAgICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgaW4gdGFnIG5hbWUnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLk9QRU5fVEFHX1NMQVNIOlxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyLCB0cnVlKVxuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ZvcndhcmQtc2xhc2ggaW4gb3BlbmluZyB0YWcgbm90IGZvbGxvd2VkIGJ5ID4nKVxuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCOlxuICAgICAgICAgIC8vIGhhdmVuJ3QgcmVhZCB0aGUgYXR0cmlidXRlIG5hbWUgeWV0LlxuICAgICAgICAgIGlmIChpcyh3aGl0ZXNwYWNlLCBjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnLycpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuT1BFTl9UQUdfU0xBU0hcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gY1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX05BTUU6XG4gICAgICAgICAgaWYgKGMgPT09ICc9Jykge1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVcbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSBwYXJzZXIuYXR0cmliTmFtZVxuICAgICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXMod2hpdGVzcGFjZSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVfU0FXX1dISVRFXG4gICAgICAgICAgfSBlbHNlIGlmIChpcyhuYW1lQm9keSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lICs9IGNcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX05BTUVfU0FXX1dISVRFOlxuICAgICAgICAgIGlmIChjID09PSAnPScpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFXG4gICAgICAgICAgfSBlbHNlIGlmIChpcyh3aGl0ZXNwYWNlLCBjKSkge1xuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdBdHRyaWJ1dGUgd2l0aG91dCB2YWx1ZScpXG4gICAgICAgICAgICBwYXJzZXIudGFnLmF0dHJpYnV0ZXNbcGFyc2VyLmF0dHJpYk5hbWVdID0gJydcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJWYWx1ZSA9ICcnXG4gICAgICAgICAgICBlbWl0Tm9kZShwYXJzZXIsICdvbmF0dHJpYnV0ZScsIHtcbiAgICAgICAgICAgICAgbmFtZTogcGFyc2VyLmF0dHJpYk5hbWUsXG4gICAgICAgICAgICAgIHZhbHVlOiAnJ1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gJydcbiAgICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGlzKG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYk5hbWUgPSBjXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBhdHRyaWJ1dGUgbmFtZScpXG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRTpcbiAgICAgICAgICBpZiAoaXMod2hpdGVzcGFjZSwgYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfSBlbHNlIGlmIChpcyhxdW90ZSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5xID0gY1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfUVVPVEVEXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnVW5xdW90ZWQgYXR0cmlidXRlIHZhbHVlJylcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEXG4gICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgPSBjXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9RVU9URUQ6XG4gICAgICAgICAgaWYgKGMgIT09IHBhcnNlci5xKSB7XG4gICAgICAgICAgICBpZiAoYyA9PT0gJyYnKSB7XG4gICAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX0VOVElUWV9RXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIuYXR0cmliVmFsdWUgKz0gY1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICB9XG4gICAgICAgICAgYXR0cmliKHBhcnNlcilcbiAgICAgICAgICBwYXJzZXIucSA9ICcnXG4gICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5BVFRSSUJfVkFMVUVfQ0xPU0VEXG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0NMT1NFRDpcbiAgICAgICAgICBpZiAoaXMod2hpdGVzcGFjZSwgYykpIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfSBlbHNlIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIG9wZW5UYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoYyA9PT0gJy8nKSB7XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLk9QRU5fVEFHX1NMQVNIXG4gICAgICAgICAgfSBlbHNlIGlmIChpcyhuYW1lU3RhcnQsIGMpKSB7XG4gICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ05vIHdoaXRlc3BhY2UgYmV0d2VlbiBhdHRyaWJ1dGVzJylcbiAgICAgICAgICAgIHBhcnNlci5hdHRyaWJOYW1lID0gY1xuICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlID0gJydcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCX05BTUVcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGF0dHJpYnV0ZSBuYW1lJylcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX1VOUVVPVEVEOlxuICAgICAgICAgIGlmIChub3QoYXR0cmliRW5kLCBjKSkge1xuICAgICAgICAgICAgaWYgKGMgPT09ICcmJykge1xuICAgICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcGFyc2VyLmF0dHJpYlZhbHVlICs9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGF0dHJpYihwYXJzZXIpXG4gICAgICAgICAgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgb3BlblRhZyhwYXJzZXIpXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhcnNlci5zdGF0ZSA9IFMuQVRUUklCXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlXG5cbiAgICAgICAgY2FzZSBTLkNMT1NFX1RBRzpcbiAgICAgICAgICBpZiAoIXBhcnNlci50YWdOYW1lKSB7XG4gICAgICAgICAgICBpZiAoaXMod2hpdGVzcGFjZSwgYykpIHtcbiAgICAgICAgICAgICAgY29udGludWVcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobm90KG5hbWVTdGFydCwgYykpIHtcbiAgICAgICAgICAgICAgaWYgKHBhcnNlci5zY3JpcHQpIHtcbiAgICAgICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBjXG4gICAgICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZy4nKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwYXJzZXIudGFnTmFtZSA9IGNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGMgPT09ICc+Jykge1xuICAgICAgICAgICAgY2xvc2VUYWcocGFyc2VyKVxuICAgICAgICAgIH0gZWxzZSBpZiAoaXMobmFtZUJvZHksIGMpKSB7XG4gICAgICAgICAgICBwYXJzZXIudGFnTmFtZSArPSBjXG4gICAgICAgICAgfSBlbHNlIGlmIChwYXJzZXIuc2NyaXB0KSB7XG4gICAgICAgICAgICBwYXJzZXIuc2NyaXB0ICs9ICc8LycgKyBwYXJzZXIudGFnTmFtZVxuICAgICAgICAgICAgcGFyc2VyLnRhZ05hbWUgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gUy5TQ1JJUFRcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG5vdCh3aGl0ZXNwYWNlLCBjKSkge1xuICAgICAgICAgICAgICBzdHJpY3RGYWlsKHBhcnNlciwgJ0ludmFsaWQgdGFnbmFtZSBpbiBjbG9zaW5nIHRhZycpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJzZXIuc3RhdGUgPSBTLkNMT1NFX1RBR19TQVdfV0hJVEVcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWVcblxuICAgICAgICBjYXNlIFMuQ0xPU0VfVEFHX1NBV19XSElURTpcbiAgICAgICAgICBpZiAoaXMod2hpdGVzcGFjZSwgYykpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjID09PSAnPicpIHtcbiAgICAgICAgICAgIGNsb3NlVGFnKHBhcnNlcilcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RyaWN0RmFpbChwYXJzZXIsICdJbnZhbGlkIGNoYXJhY3RlcnMgaW4gY2xvc2luZyB0YWcnKVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfUTpcbiAgICAgICAgY2FzZSBTLkFUVFJJQl9WQUxVRV9FTlRJVFlfVTpcbiAgICAgICAgICB2YXIgcmV0dXJuU3RhdGVcbiAgICAgICAgICB2YXIgYnVmZmVyXG4gICAgICAgICAgc3dpdGNoIChwYXJzZXIuc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgUy5URVhUX0VOVElUWTpcbiAgICAgICAgICAgICAgcmV0dXJuU3RhdGUgPSBTLlRFWFRcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ3RleHROb2RlJ1xuICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIFMuQVRUUklCX1ZBTFVFX0VOVElUWV9ROlxuICAgICAgICAgICAgICByZXR1cm5TdGF0ZSA9IFMuQVRUUklCX1ZBTFVFX1FVT1RFRFxuICAgICAgICAgICAgICBidWZmZXIgPSAnYXR0cmliVmFsdWUnXG4gICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgUy5BVFRSSUJfVkFMVUVfRU5USVRZX1U6XG4gICAgICAgICAgICAgIHJldHVyblN0YXRlID0gUy5BVFRSSUJfVkFMVUVfVU5RVU9URURcbiAgICAgICAgICAgICAgYnVmZmVyID0gJ2F0dHJpYlZhbHVlJ1xuICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjID09PSAnOycpIHtcbiAgICAgICAgICAgIHBhcnNlcltidWZmZXJdICs9IHBhcnNlRW50aXR5KHBhcnNlcilcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGVcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzKHBhcnNlci5lbnRpdHkubGVuZ3RoID8gZW50aXR5Qm9keSA6IGVudGl0eVN0YXJ0LCBjKSkge1xuICAgICAgICAgICAgcGFyc2VyLmVudGl0eSArPSBjXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmljdEZhaWwocGFyc2VyLCAnSW52YWxpZCBjaGFyYWN0ZXIgaW4gZW50aXR5IG5hbWUnKVxuICAgICAgICAgICAgcGFyc2VyW2J1ZmZlcl0gKz0gJyYnICsgcGFyc2VyLmVudGl0eSArIGNcbiAgICAgICAgICAgIHBhcnNlci5lbnRpdHkgPSAnJ1xuICAgICAgICAgICAgcGFyc2VyLnN0YXRlID0gcmV0dXJuU3RhdGVcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250aW51ZVxuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHBhcnNlciwgJ1Vua25vd24gc3RhdGU6ICcgKyBwYXJzZXIuc3RhdGUpXG4gICAgICB9XG4gICAgfSAvLyB3aGlsZVxuXG4gICAgaWYgKHBhcnNlci5wb3NpdGlvbiA+PSBwYXJzZXIuYnVmZmVyQ2hlY2tQb3NpdGlvbikge1xuICAgICAgY2hlY2tCdWZmZXJMZW5ndGgocGFyc2VyKVxuICAgIH1cbiAgICByZXR1cm4gcGFyc2VyXG4gIH1cblxuICAvKiEgaHR0cDovL210aHMuYmUvZnJvbWNvZGVwb2ludCB2MC4xLjAgYnkgQG1hdGhpYXMgKi9cbiAgaWYgKCFTdHJpbmcuZnJvbUNvZGVQb2ludCkge1xuICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc3RyaW5nRnJvbUNoYXJDb2RlID0gU3RyaW5nLmZyb21DaGFyQ29kZVxuICAgICAgdmFyIGZsb29yID0gTWF0aC5mbG9vclxuICAgICAgdmFyIGZyb21Db2RlUG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBNQVhfU0laRSA9IDB4NDAwMFxuICAgICAgICB2YXIgY29kZVVuaXRzID0gW11cbiAgICAgICAgdmFyIGhpZ2hTdXJyb2dhdGVcbiAgICAgICAgdmFyIGxvd1N1cnJvZ2F0ZVxuICAgICAgICB2YXIgaW5kZXggPSAtMVxuICAgICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aFxuICAgICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiAnJ1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSAnJ1xuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIHZhciBjb2RlUG9pbnQgPSBOdW1iZXIoYXJndW1lbnRzW2luZGV4XSlcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNGaW5pdGUoY29kZVBvaW50KSB8fCAvLyBgTmFOYCwgYCtJbmZpbml0eWAsIG9yIGAtSW5maW5pdHlgXG4gICAgICAgICAgICBjb2RlUG9pbnQgPCAwIHx8IC8vIG5vdCBhIHZhbGlkIFVuaWNvZGUgY29kZSBwb2ludFxuICAgICAgICAgICAgY29kZVBvaW50ID4gMHgxMEZGRkYgfHwgLy8gbm90IGEgdmFsaWQgVW5pY29kZSBjb2RlIHBvaW50XG4gICAgICAgICAgICBmbG9vcihjb2RlUG9pbnQpICE9PSBjb2RlUG9pbnQgLy8gbm90IGFuIGludGVnZXJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRocm93IFJhbmdlRXJyb3IoJ0ludmFsaWQgY29kZSBwb2ludDogJyArIGNvZGVQb2ludClcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvZGVQb2ludCA8PSAweEZGRkYpIHsgLy8gQk1QIGNvZGUgcG9pbnRcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGNvZGVQb2ludClcbiAgICAgICAgICB9IGVsc2UgeyAvLyBBc3RyYWwgY29kZSBwb2ludDsgc3BsaXQgaW4gc3Vycm9nYXRlIGhhbHZlc1xuICAgICAgICAgICAgLy8gaHR0cDovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZyNzdXJyb2dhdGUtZm9ybXVsYWVcbiAgICAgICAgICAgIGNvZGVQb2ludCAtPSAweDEwMDAwXG4gICAgICAgICAgICBoaWdoU3Vycm9nYXRlID0gKGNvZGVQb2ludCA+PiAxMCkgKyAweEQ4MDBcbiAgICAgICAgICAgIGxvd1N1cnJvZ2F0ZSA9IChjb2RlUG9pbnQgJSAweDQwMCkgKyAweERDMDBcbiAgICAgICAgICAgIGNvZGVVbml0cy5wdXNoKGhpZ2hTdXJyb2dhdGUsIGxvd1N1cnJvZ2F0ZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ICsgMSA9PT0gbGVuZ3RoIHx8IGNvZGVVbml0cy5sZW5ndGggPiBNQVhfU0laRSkge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZ0Zyb21DaGFyQ29kZS5hcHBseShudWxsLCBjb2RlVW5pdHMpXG4gICAgICAgICAgICBjb2RlVW5pdHMubGVuZ3RoID0gMFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG4gICAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcsICdmcm9tQ29kZVBvaW50Jywge1xuICAgICAgICAgIHZhbHVlOiBmcm9tQ29kZVBvaW50LFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgICB9KVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU3RyaW5nLmZyb21Db2RlUG9pbnQgPSBmcm9tQ29kZVBvaW50XG4gICAgICB9XG4gICAgfSgpKVxuICB9XG59KSh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcgPyB0aGlzLnNheCA9IHt9IDogZXhwb3J0cylcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgZXhwb3J0cy5zdHJpcEJPTSA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmIChzdHJbMF0gPT09ICdcXHVGRUZGJykge1xuICAgICAgcmV0dXJuIHN0ci5zdWJzdHJpbmcoMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICB9O1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG4oZnVuY3Rpb24oKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICB2YXIgcHJlZml4TWF0Y2g7XG5cbiAgcHJlZml4TWF0Y2ggPSBuZXcgUmVnRXhwKC8oPyF4bWxucyleLio6Lyk7XG5cbiAgZXhwb3J0cy5ub3JtYWxpemUgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCk7XG4gIH07XG5cbiAgZXhwb3J0cy5maXJzdENoYXJMb3dlckNhc2UgPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpICsgc3RyLnNsaWNlKDEpO1xuICB9O1xuXG4gIGV4cG9ydHMuc3RyaXBQcmVmaXggPSBmdW5jdGlvbihzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UocHJlZml4TWF0Y2gsICcnKTtcbiAgfTtcblxuICBleHBvcnRzLnBhcnNlTnVtYmVycyA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICghaXNOYU4oc3RyKSkge1xuICAgICAgc3RyID0gc3RyICUgMSA9PT0gMCA/IHBhcnNlSW50KHN0ciwgMTApIDogcGFyc2VGbG9hdChzdHIpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9O1xuXG4gIGV4cG9ydHMucGFyc2VCb29sZWFucyA9IGZ1bmN0aW9uKHN0cikge1xuICAgIGlmICgvXig/OnRydWV8ZmFsc2UpJC9pLnRlc3Qoc3RyKSkge1xuICAgICAgc3RyID0gc3RyLnRvTG93ZXJDYXNlKCkgPT09ICd0cnVlJztcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIGJvbSwgZGVmYXVsdHMsIGV2ZW50cywgaXNFbXB0eSwgcHJvY2Vzc0l0ZW0sIHByb2Nlc3NvcnMsIHNheCwgc2V0SW1tZWRpYXRlLFxuICAgIGJpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LFxuICAgIGV4dGVuZCA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoaGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9IGZ1bmN0aW9uIGN0b3IoKSB7IHRoaXMuY29uc3RydWN0b3IgPSBjaGlsZDsgfSBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7IGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yKCk7IGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7IHJldHVybiBjaGlsZDsgfSxcbiAgICBoYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHk7XG5cbiAgc2F4ID0gcmVxdWlyZSgnc2F4Jyk7XG5cbiAgZXZlbnRzID0gcmVxdWlyZSgnZXZlbnRzJyk7XG5cbiAgYm9tID0gcmVxdWlyZSgnLi9ib20nKTtcblxuICBwcm9jZXNzb3JzID0gcmVxdWlyZSgnLi9wcm9jZXNzb3JzJyk7XG5cbiAgc2V0SW1tZWRpYXRlID0gcmVxdWlyZSgndGltZXJzJykuc2V0SW1tZWRpYXRlO1xuXG4gIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpLmRlZmF1bHRzO1xuXG4gIGlzRW1wdHkgPSBmdW5jdGlvbih0aGluZykge1xuICAgIHJldHVybiB0eXBlb2YgdGhpbmcgPT09IFwib2JqZWN0XCIgJiYgKHRoaW5nICE9IG51bGwpICYmIE9iamVjdC5rZXlzKHRoaW5nKS5sZW5ndGggPT09IDA7XG4gIH07XG5cbiAgcHJvY2Vzc0l0ZW0gPSBmdW5jdGlvbihwcm9jZXNzb3JzLCBpdGVtLCBrZXkpIHtcbiAgICB2YXIgaSwgbGVuLCBwcm9jZXNzO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IHByb2Nlc3NvcnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHByb2Nlc3MgPSBwcm9jZXNzb3JzW2ldO1xuICAgICAgaXRlbSA9IHByb2Nlc3MoaXRlbSwga2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIGl0ZW07XG4gIH07XG5cbiAgZXhwb3J0cy5QYXJzZXIgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChQYXJzZXIsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gUGFyc2VyKG9wdHMpIHtcbiAgICAgIHRoaXMucGFyc2VTdHJpbmcgPSBiaW5kKHRoaXMucGFyc2VTdHJpbmcsIHRoaXMpO1xuICAgICAgdGhpcy5yZXNldCA9IGJpbmQodGhpcy5yZXNldCwgdGhpcyk7XG4gICAgICB0aGlzLmFzc2lnbk9yUHVzaCA9IGJpbmQodGhpcy5hc3NpZ25PclB1c2gsIHRoaXMpO1xuICAgICAgdGhpcy5wcm9jZXNzQXN5bmMgPSBiaW5kKHRoaXMucHJvY2Vzc0FzeW5jLCB0aGlzKTtcbiAgICAgIHZhciBrZXksIHJlZiwgdmFsdWU7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgZXhwb3J0cy5QYXJzZXIpKSB7XG4gICAgICAgIHJldHVybiBuZXcgZXhwb3J0cy5QYXJzZXIob3B0cyk7XG4gICAgICB9XG4gICAgICB0aGlzLm9wdGlvbnMgPSB7fTtcbiAgICAgIHJlZiA9IGRlZmF1bHRzW1wiMC4yXCJdO1xuICAgICAgZm9yIChrZXkgaW4gcmVmKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKHJlZiwga2V5KSkgY29udGludWU7XG4gICAgICAgIHZhbHVlID0gcmVmW2tleV07XG4gICAgICAgIHRoaXMub3B0aW9uc1trZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICBmb3IgKGtleSBpbiBvcHRzKSB7XG4gICAgICAgIGlmICghaGFzUHJvcC5jYWxsKG9wdHMsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgICB2YWx1ZSA9IG9wdHNba2V5XTtcbiAgICAgICAgdGhpcy5vcHRpb25zW2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMueG1sbnMpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnhtbG5za2V5ID0gdGhpcy5vcHRpb25zLmF0dHJrZXkgKyBcIm5zXCI7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5vcHRpb25zLm5vcm1hbGl6ZVRhZ3MpIHtcbiAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMudGFnTmFtZVByb2Nlc3NvcnMpIHtcbiAgICAgICAgICB0aGlzLm9wdGlvbnMudGFnTmFtZVByb2Nlc3NvcnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9wdGlvbnMudGFnTmFtZVByb2Nlc3NvcnMudW5zaGlmdChwcm9jZXNzb3JzLm5vcm1hbGl6ZSk7XG4gICAgICB9XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5wcm9jZXNzQXN5bmMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjaHVuaywgZXJyO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMucmVtYWluaW5nLmxlbmd0aCA8PSB0aGlzLm9wdGlvbnMuY2h1bmtTaXplKSB7XG4gICAgICAgICAgY2h1bmsgPSB0aGlzLnJlbWFpbmluZztcbiAgICAgICAgICB0aGlzLnJlbWFpbmluZyA9ICcnO1xuICAgICAgICAgIHRoaXMuc2F4UGFyc2VyID0gdGhpcy5zYXhQYXJzZXIud3JpdGUoY2h1bmspO1xuICAgICAgICAgIHJldHVybiB0aGlzLnNheFBhcnNlci5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNodW5rID0gdGhpcy5yZW1haW5pbmcuc3Vic3RyKDAsIHRoaXMub3B0aW9ucy5jaHVua1NpemUpO1xuICAgICAgICAgIHRoaXMucmVtYWluaW5nID0gdGhpcy5yZW1haW5pbmcuc3Vic3RyKHRoaXMub3B0aW9ucy5jaHVua1NpemUsIHRoaXMucmVtYWluaW5nLmxlbmd0aCk7XG4gICAgICAgICAgdGhpcy5zYXhQYXJzZXIgPSB0aGlzLnNheFBhcnNlci53cml0ZShjaHVuayk7XG4gICAgICAgICAgcmV0dXJuIHNldEltbWVkaWF0ZSh0aGlzLnByb2Nlc3NBc3luYyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICBlcnIgPSBlcnJvcjE7XG4gICAgICAgIGlmICghdGhpcy5zYXhQYXJzZXIuZXJyVGhyb3duKSB7XG4gICAgICAgICAgdGhpcy5zYXhQYXJzZXIuZXJyVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gdGhpcy5lbWl0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgUGFyc2VyLnByb3RvdHlwZS5hc3NpZ25PclB1c2ggPSBmdW5jdGlvbihvYmosIGtleSwgbmV3VmFsdWUpIHtcbiAgICAgIGlmICghKGtleSBpbiBvYmopKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmV4cGxpY2l0QXJyYXkpIHtcbiAgICAgICAgICByZXR1cm4gb2JqW2tleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gb2JqW2tleV0gPSBbbmV3VmFsdWVdO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIShvYmpba2V5XSBpbnN0YW5jZW9mIEFycmF5KSkge1xuICAgICAgICAgIG9ialtrZXldID0gW29ialtrZXldXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb2JqW2tleV0ucHVzaChuZXdWYWx1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIFBhcnNlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhdHRya2V5LCBjaGFya2V5LCBvbnRleHQsIHN0YWNrO1xuICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyID0gc2F4LnBhcnNlcih0aGlzLm9wdGlvbnMuc3RyaWN0LCB7XG4gICAgICAgIHRyaW06IGZhbHNlLFxuICAgICAgICBub3JtYWxpemU6IGZhbHNlLFxuICAgICAgICB4bWxuczogdGhpcy5vcHRpb25zLnhtbG5zXG4gICAgICB9KTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLmVyclRocm93biA9IGZhbHNlO1xuICAgICAgdGhpcy5zYXhQYXJzZXIub25lcnJvciA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICBfdGhpcy5zYXhQYXJzZXIucmVzdW1lKCk7XG4gICAgICAgICAgaWYgKCFfdGhpcy5zYXhQYXJzZXIuZXJyVGhyb3duKSB7XG4gICAgICAgICAgICBfdGhpcy5zYXhQYXJzZXIuZXJyVGhyb3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgdGhpcy5zYXhQYXJzZXIub25lbmQgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghX3RoaXMuc2F4UGFyc2VyLmVuZGVkKSB7XG4gICAgICAgICAgICBfdGhpcy5zYXhQYXJzZXIuZW5kZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLmVtaXQoXCJlbmRcIiwgX3RoaXMucmVzdWx0T2JqZWN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLmVuZGVkID0gZmFsc2U7XG4gICAgICB0aGlzLkVYUExJQ0lUX0NIQVJLRVkgPSB0aGlzLm9wdGlvbnMuZXhwbGljaXRDaGFya2V5O1xuICAgICAgdGhpcy5yZXN1bHRPYmplY3QgPSBudWxsO1xuICAgICAgc3RhY2sgPSBbXTtcbiAgICAgIGF0dHJrZXkgPSB0aGlzLm9wdGlvbnMuYXR0cmtleTtcbiAgICAgIGNoYXJrZXkgPSB0aGlzLm9wdGlvbnMuY2hhcmtleTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLm9ub3BlbnRhZyA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgIHZhciBrZXksIG5ld1ZhbHVlLCBvYmosIHByb2Nlc3NlZEtleSwgcmVmO1xuICAgICAgICAgIG9iaiA9IHt9O1xuICAgICAgICAgIG9ialtjaGFya2V5XSA9IFwiXCI7XG4gICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLmlnbm9yZUF0dHJzKSB7XG4gICAgICAgICAgICByZWYgPSBub2RlLmF0dHJpYnV0ZXM7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiByZWYpIHtcbiAgICAgICAgICAgICAgaWYgKCFoYXNQcm9wLmNhbGwocmVmLCBrZXkpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgaWYgKCEoYXR0cmtleSBpbiBvYmopICYmICFfdGhpcy5vcHRpb25zLm1lcmdlQXR0cnMpIHtcbiAgICAgICAgICAgICAgICBvYmpbYXR0cmtleV0gPSB7fTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBuZXdWYWx1ZSA9IF90aGlzLm9wdGlvbnMuYXR0clZhbHVlUHJvY2Vzc29ycyA/IHByb2Nlc3NJdGVtKF90aGlzLm9wdGlvbnMuYXR0clZhbHVlUHJvY2Vzc29ycywgbm9kZS5hdHRyaWJ1dGVzW2tleV0sIGtleSkgOiBub2RlLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgICAgICAgcHJvY2Vzc2VkS2V5ID0gX3RoaXMub3B0aW9ucy5hdHRyTmFtZVByb2Nlc3NvcnMgPyBwcm9jZXNzSXRlbShfdGhpcy5vcHRpb25zLmF0dHJOYW1lUHJvY2Vzc29ycywga2V5KSA6IGtleTtcbiAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMubWVyZ2VBdHRycykge1xuICAgICAgICAgICAgICAgIF90aGlzLmFzc2lnbk9yUHVzaChvYmosIHByb2Nlc3NlZEtleSwgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9ialthdHRya2V5XVtwcm9jZXNzZWRLZXldID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgb2JqW1wiI25hbWVcIl0gPSBfdGhpcy5vcHRpb25zLnRhZ05hbWVQcm9jZXNzb3JzID8gcHJvY2Vzc0l0ZW0oX3RoaXMub3B0aW9ucy50YWdOYW1lUHJvY2Vzc29ycywgbm9kZS5uYW1lKSA6IG5vZGUubmFtZTtcbiAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy54bWxucykge1xuICAgICAgICAgICAgb2JqW190aGlzLm9wdGlvbnMueG1sbnNrZXldID0ge1xuICAgICAgICAgICAgICB1cmk6IG5vZGUudXJpLFxuICAgICAgICAgICAgICBsb2NhbDogbm9kZS5sb2NhbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHN0YWNrLnB1c2gob2JqKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgdGhpcy5zYXhQYXJzZXIub25jbG9zZXRhZyA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGNkYXRhLCBlbXB0eVN0ciwga2V5LCBub2RlLCBub2RlTmFtZSwgb2JqLCBvYmpDbG9uZSwgb2xkLCBzLCB4cGF0aDtcbiAgICAgICAgICBvYmogPSBzdGFjay5wb3AoKTtcbiAgICAgICAgICBub2RlTmFtZSA9IG9ialtcIiNuYW1lXCJdO1xuICAgICAgICAgIGlmICghX3RoaXMub3B0aW9ucy5leHBsaWNpdENoaWxkcmVuIHx8ICFfdGhpcy5vcHRpb25zLnByZXNlcnZlQ2hpbGRyZW5PcmRlcikge1xuICAgICAgICAgICAgZGVsZXRlIG9ialtcIiNuYW1lXCJdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob2JqLmNkYXRhID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjZGF0YSA9IG9iai5jZGF0YTtcbiAgICAgICAgICAgIGRlbGV0ZSBvYmouY2RhdGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHMgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICBpZiAob2JqW2NoYXJrZXldLm1hdGNoKC9eXFxzKiQvKSAmJiAhY2RhdGEpIHtcbiAgICAgICAgICAgIGVtcHR5U3RyID0gb2JqW2NoYXJrZXldO1xuICAgICAgICAgICAgZGVsZXRlIG9ialtjaGFya2V5XTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMudHJpbSkge1xuICAgICAgICAgICAgICBvYmpbY2hhcmtleV0gPSBvYmpbY2hhcmtleV0udHJpbSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMubm9ybWFsaXplKSB7XG4gICAgICAgICAgICAgIG9ialtjaGFya2V5XSA9IG9ialtjaGFya2V5XS5yZXBsYWNlKC9cXHN7Mix9L2csIFwiIFwiKS50cmltKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvYmpbY2hhcmtleV0gPSBfdGhpcy5vcHRpb25zLnZhbHVlUHJvY2Vzc29ycyA/IHByb2Nlc3NJdGVtKF90aGlzLm9wdGlvbnMudmFsdWVQcm9jZXNzb3JzLCBvYmpbY2hhcmtleV0sIG5vZGVOYW1lKSA6IG9ialtjaGFya2V5XTtcbiAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMSAmJiBjaGFya2V5IGluIG9iaiAmJiAhX3RoaXMuRVhQTElDSVRfQ0hBUktFWSkge1xuICAgICAgICAgICAgICBvYmogPSBvYmpbY2hhcmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpc0VtcHR5KG9iaikpIHtcbiAgICAgICAgICAgIG9iaiA9IF90aGlzLm9wdGlvbnMuZW1wdHlUYWcgIT09ICcnID8gX3RoaXMub3B0aW9ucy5lbXB0eVRhZyA6IGVtcHR5U3RyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy52YWxpZGF0b3IgIT0gbnVsbCkge1xuICAgICAgICAgICAgeHBhdGggPSBcIi9cIiArICgoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHZhciBpLCBsZW4sIHJlc3VsdHM7XG4gICAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuID0gc3RhY2subGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBub2RlID0gc3RhY2tbaV07XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKG5vZGVbXCIjbmFtZVwiXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9KSgpKS5jb25jYXQobm9kZU5hbWUpLmpvaW4oXCIvXCIpO1xuICAgICAgICAgICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB2YXIgZXJyO1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYmogPSBfdGhpcy5vcHRpb25zLnZhbGlkYXRvcih4cGF0aCwgcyAmJiBzW25vZGVOYW1lXSwgb2JqKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgICAgICAgICAgZXJyID0gZXJyb3IxO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuZXhwbGljaXRDaGlsZHJlbiAmJiAhX3RoaXMub3B0aW9ucy5tZXJnZUF0dHJzICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoIV90aGlzLm9wdGlvbnMucHJlc2VydmVDaGlsZHJlbk9yZGVyKSB7XG4gICAgICAgICAgICAgIG5vZGUgPSB7fTtcbiAgICAgICAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYXR0cmtleSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBub2RlW190aGlzLm9wdGlvbnMuYXR0cmtleV0gPSBvYmpbX3RoaXMub3B0aW9ucy5hdHRya2V5XTtcbiAgICAgICAgICAgICAgICBkZWxldGUgb2JqW190aGlzLm9wdGlvbnMuYXR0cmtleV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKCFfdGhpcy5vcHRpb25zLmNoYXJzQXNDaGlsZHJlbiAmJiBfdGhpcy5vcHRpb25zLmNoYXJrZXkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgbm9kZVtfdGhpcy5vcHRpb25zLmNoYXJrZXldID0gb2JqW190aGlzLm9wdGlvbnMuY2hhcmtleV07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG9ialtfdGhpcy5vcHRpb25zLmNoYXJrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBub2RlW190aGlzLm9wdGlvbnMuY2hpbGRrZXldID0gb2JqO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIG9iaiA9IG5vZGU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHMpIHtcbiAgICAgICAgICAgICAgc1tfdGhpcy5vcHRpb25zLmNoaWxka2V5XSA9IHNbX3RoaXMub3B0aW9ucy5jaGlsZGtleV0gfHwgW107XG4gICAgICAgICAgICAgIG9iakNsb25lID0ge307XG4gICAgICAgICAgICAgIGZvciAoa2V5IGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmICghaGFzUHJvcC5jYWxsKG9iaiwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgb2JqQ2xvbmVba2V5XSA9IG9ialtrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNbX3RoaXMub3B0aW9ucy5jaGlsZGtleV0ucHVzaChvYmpDbG9uZSk7XG4gICAgICAgICAgICAgIGRlbGV0ZSBvYmpbXCIjbmFtZVwiXTtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAxICYmIGNoYXJrZXkgaW4gb2JqICYmICFfdGhpcy5FWFBMSUNJVF9DSEFSS0VZKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqW2NoYXJrZXldO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzdGFjay5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuYXNzaWduT3JQdXNoKHMsIG5vZGVOYW1lLCBvYmopO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5leHBsaWNpdFJvb3QpIHtcbiAgICAgICAgICAgICAgb2xkID0gb2JqO1xuICAgICAgICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgICAgICAgb2JqW25vZGVOYW1lXSA9IG9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF90aGlzLnJlc3VsdE9iamVjdCA9IG9iajtcbiAgICAgICAgICAgIF90aGlzLnNheFBhcnNlci5lbmRlZCA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMuZW1pdChcImVuZFwiLCBfdGhpcy5yZXN1bHRPYmplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgb250ZXh0ID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgdmFyIGNoYXJDaGlsZCwgcztcbiAgICAgICAgICBzID0gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgaWYgKHMpIHtcbiAgICAgICAgICAgIHNbY2hhcmtleV0gKz0gdGV4dDtcbiAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLmV4cGxpY2l0Q2hpbGRyZW4gJiYgX3RoaXMub3B0aW9ucy5wcmVzZXJ2ZUNoaWxkcmVuT3JkZXIgJiYgX3RoaXMub3B0aW9ucy5jaGFyc0FzQ2hpbGRyZW4gJiYgKF90aGlzLm9wdGlvbnMuaW5jbHVkZVdoaXRlQ2hhcnMgfHwgdGV4dC5yZXBsYWNlKC9cXFxcbi9nLCAnJykudHJpbSgpICE9PSAnJykpIHtcbiAgICAgICAgICAgICAgc1tfdGhpcy5vcHRpb25zLmNoaWxka2V5XSA9IHNbX3RoaXMub3B0aW9ucy5jaGlsZGtleV0gfHwgW107XG4gICAgICAgICAgICAgIGNoYXJDaGlsZCA9IHtcbiAgICAgICAgICAgICAgICAnI25hbWUnOiAnX190ZXh0X18nXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIGNoYXJDaGlsZFtjaGFya2V5XSA9IHRleHQ7XG4gICAgICAgICAgICAgIGlmIChfdGhpcy5vcHRpb25zLm5vcm1hbGl6ZSkge1xuICAgICAgICAgICAgICAgIGNoYXJDaGlsZFtjaGFya2V5XSA9IGNoYXJDaGlsZFtjaGFya2V5XS5yZXBsYWNlKC9cXHN7Mix9L2csIFwiIFwiKS50cmltKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc1tfdGhpcy5vcHRpb25zLmNoaWxka2V5XS5wdXNoKGNoYXJDaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcztcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIHRoaXMuc2F4UGFyc2VyLm9udGV4dCA9IG9udGV4dDtcbiAgICAgIHJldHVybiB0aGlzLnNheFBhcnNlci5vbmNkYXRhID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbih0ZXh0KSB7XG4gICAgICAgICAgdmFyIHM7XG4gICAgICAgICAgcyA9IG9udGV4dCh0ZXh0KTtcbiAgICAgICAgICBpZiAocykge1xuICAgICAgICAgICAgcmV0dXJuIHMuY2RhdGEgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgIH07XG5cbiAgICBQYXJzZXIucHJvdG90eXBlLnBhcnNlU3RyaW5nID0gZnVuY3Rpb24oc3RyLCBjYikge1xuICAgICAgdmFyIGVycjtcbiAgICAgIGlmICgoY2IgIT0gbnVsbCkgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5vbihcImVuZFwiLCBmdW5jdGlvbihyZXN1bHQpIHtcbiAgICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgICAgcmV0dXJuIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24oZXJyKSB7XG4gICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ciA9IHN0ci50b1N0cmluZygpO1xuICAgICAgICBpZiAoc3RyLnRyaW0oKSA9PT0gJycpIHtcbiAgICAgICAgICB0aGlzLmVtaXQoXCJlbmRcIiwgbnVsbCk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgc3RyID0gYm9tLnN0cmlwQk9NKHN0cik7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYXN5bmMpIHtcbiAgICAgICAgICB0aGlzLnJlbWFpbmluZyA9IHN0cjtcbiAgICAgICAgICBzZXRJbW1lZGlhdGUodGhpcy5wcm9jZXNzQXN5bmMpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnNheFBhcnNlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zYXhQYXJzZXIud3JpdGUoc3RyKS5jbG9zZSgpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgIGVyciA9IGVycm9yMTtcbiAgICAgICAgaWYgKCEodGhpcy5zYXhQYXJzZXIuZXJyVGhyb3duIHx8IHRoaXMuc2F4UGFyc2VyLmVuZGVkKSkge1xuICAgICAgICAgIHRoaXMuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgICAgIHJldHVybiB0aGlzLnNheFBhcnNlci5lcnJUaHJvd24gPSB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc2F4UGFyc2VyLmVuZGVkKSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBQYXJzZXI7XG5cbiAgfSkoZXZlbnRzLkV2ZW50RW1pdHRlcik7XG5cbiAgZXhwb3J0cy5wYXJzZVN0cmluZyA9IGZ1bmN0aW9uKHN0ciwgYSwgYikge1xuICAgIHZhciBjYiwgb3B0aW9ucywgcGFyc2VyO1xuICAgIGlmIChiICE9IG51bGwpIHtcbiAgICAgIGlmICh0eXBlb2YgYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IGI7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIG9wdGlvbnMgPSBhO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAodHlwZW9mIGEgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBhO1xuICAgICAgfVxuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBwYXJzZXIgPSBuZXcgZXhwb3J0cy5QYXJzZXIob3B0aW9ucyk7XG4gICAgcmV0dXJuIHBhcnNlci5wYXJzZVN0cmluZyhzdHIsIGNiKTtcbiAgfTtcblxufSkuY2FsbCh0aGlzKTtcbiIsICIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgdmFyIGJ1aWxkZXIsIGRlZmF1bHRzLCBwYXJzZXIsIHByb2Nlc3NvcnMsXG4gICAgZXh0ZW5kID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgeyBmb3IgKHZhciBrZXkgaW4gcGFyZW50KSB7IGlmIChoYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIGhhc1Byb3AgPSB7fS5oYXNPd25Qcm9wZXJ0eTtcblxuICBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxuICBidWlsZGVyID0gcmVxdWlyZSgnLi9idWlsZGVyJyk7XG5cbiAgcGFyc2VyID0gcmVxdWlyZSgnLi9wYXJzZXInKTtcblxuICBwcm9jZXNzb3JzID0gcmVxdWlyZSgnLi9wcm9jZXNzb3JzJyk7XG5cbiAgZXhwb3J0cy5kZWZhdWx0cyA9IGRlZmF1bHRzLmRlZmF1bHRzO1xuXG4gIGV4cG9ydHMucHJvY2Vzc29ycyA9IHByb2Nlc3NvcnM7XG5cbiAgZXhwb3J0cy5WYWxpZGF0aW9uRXJyb3IgPSAoZnVuY3Rpb24oc3VwZXJDbGFzcykge1xuICAgIGV4dGVuZChWYWxpZGF0aW9uRXJyb3IsIHN1cGVyQ2xhc3MpO1xuXG4gICAgZnVuY3Rpb24gVmFsaWRhdGlvbkVycm9yKG1lc3NhZ2UpIHtcbiAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIFZhbGlkYXRpb25FcnJvcjtcblxuICB9KShFcnJvcik7XG5cbiAgZXhwb3J0cy5CdWlsZGVyID0gYnVpbGRlci5CdWlsZGVyO1xuXG4gIGV4cG9ydHMuUGFyc2VyID0gcGFyc2VyLlBhcnNlcjtcblxuICBleHBvcnRzLnBhcnNlU3RyaW5nID0gcGFyc2VyLnBhcnNlU3RyaW5nO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgdXRpbCA9IEFXUy51dGlsO1xudmFyIFNoYXBlID0gQVdTLk1vZGVsLlNoYXBlO1xuXG52YXIgeG1sMmpzID0gcmVxdWlyZSgneG1sMmpzJyk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciBvcHRpb25zID0geyAgLy8gb3B0aW9ucyBwYXNzZWQgdG8geG1sMmpzIHBhcnNlclxuICBleHBsaWNpdENoYXJrZXk6IGZhbHNlLCAvLyB1bmRvY3VtZW50ZWRcbiAgdHJpbTogZmFsc2UsICAgICAgICAgICAgLy8gdHJpbSB0aGUgbGVhZGluZy90cmFpbGluZyB3aGl0ZXNwYWNlIGZyb20gdGV4dCBub2Rlc1xuICBub3JtYWxpemU6IGZhbHNlLCAgICAgICAvLyB0cmltIGludGVyaW9yIHdoaXRlc3BhY2UgaW5zaWRlIHRleHQgbm9kZXNcbiAgZXhwbGljaXRSb290OiBmYWxzZSwgICAgLy8gcmV0dXJuIHRoZSByb290IG5vZGUgaW4gdGhlIHJlc3VsdGluZyBvYmplY3Q/XG4gIGVtcHR5VGFnOiBudWxsLCAgICAgICAgIC8vIHRoZSBkZWZhdWx0IHZhbHVlIGZvciBlbXB0eSBub2Rlc1xuICBleHBsaWNpdEFycmF5OiB0cnVlLCAgICAvLyBhbHdheXMgcHV0IGNoaWxkIG5vZGVzIGluIGFuIGFycmF5XG4gIGlnbm9yZUF0dHJzOiBmYWxzZSwgICAgIC8vIGlnbm9yZSBhdHRyaWJ1dGVzLCBvbmx5IGNyZWF0ZSB0ZXh0IG5vZGVzXG4gIG1lcmdlQXR0cnM6IGZhbHNlLCAgICAgIC8vIG1lcmdlIGF0dHJpYnV0ZXMgYW5kIGNoaWxkIGVsZW1lbnRzXG4gIHZhbGlkYXRvcjogbnVsbCAgICAgICAgIC8vIGEgY2FsbGFibGUgdmFsaWRhdG9yXG59O1xuXG5mdW5jdGlvbiBOb2RlWG1sUGFyc2VyKCkgeyB9XG5cbk5vZGVYbWxQYXJzZXIucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24oeG1sLCBzaGFwZSkge1xuICBzaGFwZSA9IHNoYXBlIHx8IHt9O1xuXG4gIHZhciByZXN1bHQgPSBudWxsO1xuICB2YXIgZXJyb3IgPSBudWxsO1xuXG4gIHZhciBwYXJzZXIgPSBuZXcgeG1sMmpzLlBhcnNlcihvcHRpb25zKTtcbiAgcGFyc2VyLnBhcnNlU3RyaW5nKHhtbCwgZnVuY3Rpb24gKGUsIHIpIHtcbiAgICBlcnJvciA9IGU7XG4gICAgcmVzdWx0ID0gcjtcbiAgfSk7XG5cbiAgaWYgKHJlc3VsdCkge1xuICAgIHZhciBkYXRhID0gcGFyc2VYbWwocmVzdWx0LCBzaGFwZSk7XG4gICAgaWYgKHJlc3VsdC5SZXNwb25zZU1ldGFkYXRhKSB7XG4gICAgICBkYXRhLlJlc3BvbnNlTWV0YWRhdGEgPSBwYXJzZVhtbChyZXN1bHQuUmVzcG9uc2VNZXRhZGF0YVswXSwge30pO1xuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfSBlbHNlIGlmIChlcnJvcikge1xuICAgIHRocm93IHV0aWwuZXJyb3IoZXJyb3IsIHtjb2RlOiAnWE1MUGFyc2VyRXJyb3InLCByZXRyeWFibGU6IHRydWV9KTtcbiAgfSBlbHNlIHsgLy8gZW1wdHkgeG1sIGRvY3VtZW50XG4gICAgcmV0dXJuIHBhcnNlWG1sKHt9LCBzaGFwZSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHBhcnNlWG1sKHhtbCwgc2hhcGUpIHtcbiAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgY2FzZSAnc3RydWN0dXJlJzogcmV0dXJuIHBhcnNlU3RydWN0dXJlKHhtbCwgc2hhcGUpO1xuICAgIGNhc2UgJ21hcCc6IHJldHVybiBwYXJzZU1hcCh4bWwsIHNoYXBlKTtcbiAgICBjYXNlICdsaXN0JzogcmV0dXJuIHBhcnNlTGlzdCh4bWwsIHNoYXBlKTtcbiAgICBjYXNlIHVuZGVmaW5lZDogY2FzZSBudWxsOiByZXR1cm4gcGFyc2VVbmtub3duKHhtbCk7XG4gICAgZGVmYXVsdDogcmV0dXJuIHBhcnNlU2NhbGFyKHhtbCwgc2hhcGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlU3RydWN0dXJlKHhtbCwgc2hhcGUpIHtcbiAgdmFyIGRhdGEgPSB7fTtcbiAgaWYgKHhtbCA9PT0gbnVsbCkgcmV0dXJuIGRhdGE7XG5cbiAgdXRpbC5lYWNoKHNoYXBlLm1lbWJlcnMsIGZ1bmN0aW9uKG1lbWJlck5hbWUsIG1lbWJlclNoYXBlKSB7XG4gICAgdmFyIHhtbE5hbWUgPSBtZW1iZXJTaGFwZS5uYW1lO1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeG1sLCB4bWxOYW1lKSAmJiBBcnJheS5pc0FycmF5KHhtbFt4bWxOYW1lXSkpIHtcbiAgICAgIHZhciB4bWxDaGlsZCA9IHhtbFt4bWxOYW1lXTtcbiAgICAgIGlmICghbWVtYmVyU2hhcGUuZmxhdHRlbmVkKSB4bWxDaGlsZCA9IHhtbENoaWxkWzBdO1xuXG4gICAgICBkYXRhW21lbWJlck5hbWVdID0gcGFyc2VYbWwoeG1sQ2hpbGQsIG1lbWJlclNoYXBlKTtcbiAgICB9IGVsc2UgaWYgKG1lbWJlclNoYXBlLmlzWG1sQXR0cmlidXRlICYmXG4gICAgICAgICAgICAgICB4bWwuJCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoeG1sLiQsIHhtbE5hbWUpKSB7XG4gICAgICBkYXRhW21lbWJlck5hbWVdID0gcGFyc2VTY2FsYXIoeG1sLiRbeG1sTmFtZV0sIG1lbWJlclNoYXBlKTtcbiAgICB9IGVsc2UgaWYgKG1lbWJlclNoYXBlLnR5cGUgPT09ICdsaXN0JyAmJiAhc2hhcGUuYXBpLnhtbE5vRGVmYXVsdExpc3RzKSB7XG4gICAgICBkYXRhW21lbWJlck5hbWVdID0gbWVtYmVyU2hhcGUuZGVmYXVsdFZhbHVlO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWFwKHhtbCwgc2hhcGUpIHtcbiAgdmFyIGRhdGEgPSB7fTtcbiAgaWYgKHhtbCA9PT0gbnVsbCkgcmV0dXJuIGRhdGE7XG5cbiAgdmFyIHhtbEtleSA9IHNoYXBlLmtleS5uYW1lIHx8ICdrZXknO1xuICB2YXIgeG1sVmFsdWUgPSBzaGFwZS52YWx1ZS5uYW1lIHx8ICd2YWx1ZSc7XG4gIHZhciBpdGVyYWJsZSA9IHNoYXBlLmZsYXR0ZW5lZCA/IHhtbCA6IHhtbC5lbnRyeTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShpdGVyYWJsZSkpIHtcbiAgICB1dGlsLmFycmF5RWFjaChpdGVyYWJsZSwgZnVuY3Rpb24oY2hpbGQpIHtcbiAgICAgIGRhdGFbY2hpbGRbeG1sS2V5XVswXV0gPSBwYXJzZVhtbChjaGlsZFt4bWxWYWx1ZV1bMF0sIHNoYXBlLnZhbHVlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBwYXJzZUxpc3QoeG1sLCBzaGFwZSkge1xuICB2YXIgZGF0YSA9IFtdO1xuICB2YXIgbmFtZSA9IHNoYXBlLm1lbWJlci5uYW1lIHx8ICdtZW1iZXInO1xuICBpZiAoc2hhcGUuZmxhdHRlbmVkKSB7XG4gICAgdXRpbC5hcnJheUVhY2goeG1sLCBmdW5jdGlvbih4bWxDaGlsZCkge1xuICAgICAgZGF0YS5wdXNoKHBhcnNlWG1sKHhtbENoaWxkLCBzaGFwZS5tZW1iZXIpKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh4bWwgJiYgQXJyYXkuaXNBcnJheSh4bWxbbmFtZV0pKSB7XG4gICAgdXRpbC5hcnJheUVhY2goeG1sW25hbWVdLCBmdW5jdGlvbihjaGlsZCkge1xuICAgICAgZGF0YS5wdXNoKHBhcnNlWG1sKGNoaWxkLCBzaGFwZS5tZW1iZXIpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBwYXJzZVNjYWxhcih0ZXh0LCBzaGFwZSkge1xuICBpZiAodGV4dCAmJiB0ZXh0LiQgJiYgdGV4dC4kLmVuY29kaW5nID09PSAnYmFzZTY0Jykge1xuICAgIHNoYXBlID0gbmV3IFNoYXBlLmNyZWF0ZSh7dHlwZTogdGV4dC4kLmVuY29kaW5nfSk7XG4gIH1cbiAgaWYgKHRleHQgJiYgdGV4dC5fKSB0ZXh0ID0gdGV4dC5fO1xuXG4gIGlmICh0eXBlb2Ygc2hhcGUudG9UeXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHNoYXBlLnRvVHlwZSh0ZXh0KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGV4dDtcbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZVVua25vd24oeG1sKSB7XG4gIGlmICh4bWwgPT09IHVuZGVmaW5lZCB8fCB4bWwgPT09IG51bGwpIHJldHVybiAnJztcbiAgaWYgKHR5cGVvZiB4bWwgPT09ICdzdHJpbmcnKSByZXR1cm4geG1sO1xuXG4gIC8vIHBhcnNlIGEgbGlzdFxuICBpZiAoQXJyYXkuaXNBcnJheSh4bWwpKSB7XG4gICAgdmFyIGFyciA9IFtdO1xuICAgIGZvciAoaSA9IDA7IGkgPCB4bWwubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyci5wdXNoKHBhcnNlWG1sKHhtbFtpXSwge30pKTtcbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIC8vIGVtcHR5IG9iamVjdFxuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHhtbCksIGk7XG4gIGlmIChrZXlzLmxlbmd0aCA9PT0gMCB8fCAoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gJyQnKSkge1xuICAgIHJldHVybiB7fTtcbiAgfVxuXG4gIC8vIG9iamVjdCwgcGFyc2UgYXMgc3RydWN0dXJlXG4gIHZhciBkYXRhID0ge307XG4gIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV0sIHZhbHVlID0geG1sW2tleV07XG4gICAgaWYgKGtleSA9PT0gJyQnKSBjb250aW51ZTtcbiAgICBpZiAodmFsdWUubGVuZ3RoID4gMSkgeyAvLyB0aGlzIG1lbWJlciBpcyBhIGxpc3RcbiAgICAgIGRhdGFba2V5XSA9IHBhcnNlTGlzdCh2YWx1ZSwge21lbWJlcjoge319KTtcbiAgICB9IGVsc2UgeyAvLyB0aGlzIG1lbWJlciBpcyBhIHNpbmdsZSBpdGVtXG4gICAgICBkYXRhW2tleV0gPSBwYXJzZVhtbCh2YWx1ZVswXSwge30pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZGF0YTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBOb2RlWG1sUGFyc2VyO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgU3RyZWFtID0gQVdTLnV0aWwuc3RyZWFtLlN0cmVhbTtcbnZhciBUcmFuc2Zvcm1TdHJlYW0gPSBBV1MudXRpbC5zdHJlYW0uVHJhbnNmb3JtO1xudmFyIFJlYWRhYmxlU3RyZWFtID0gQVdTLnV0aWwuc3RyZWFtLlJlYWRhYmxlO1xucmVxdWlyZSgnLi4vaHR0cCcpO1xudmFyIENPTk5FQ1RJT05fUkVVU0VfRU5WX05BTUUgPSAnQVdTX05PREVKU19DT05ORUNUSU9OX1JFVVNFX0VOQUJMRUQnO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuTm9kZUh0dHBDbGllbnQgPSBBV1MudXRpbC5pbmhlcml0KHtcbiAgaGFuZGxlUmVxdWVzdDogZnVuY3Rpb24gaGFuZGxlUmVxdWVzdChodHRwUmVxdWVzdCwgaHR0cE9wdGlvbnMsIGNhbGxiYWNrLCBlcnJDYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgZW5kcG9pbnQgPSBodHRwUmVxdWVzdC5lbmRwb2ludDtcbiAgICB2YXIgcGF0aFByZWZpeCA9ICcnO1xuICAgIGlmICghaHR0cE9wdGlvbnMpIGh0dHBPcHRpb25zID0ge307XG4gICAgaWYgKGh0dHBPcHRpb25zLnByb3h5KSB7XG4gICAgICBwYXRoUHJlZml4ID0gZW5kcG9pbnQucHJvdG9jb2wgKyAnLy8nICsgZW5kcG9pbnQuaG9zdG5hbWU7XG4gICAgICBpZiAoZW5kcG9pbnQucG9ydCAhPT0gODAgJiYgZW5kcG9pbnQucG9ydCAhPT0gNDQzKSB7XG4gICAgICAgIHBhdGhQcmVmaXggKz0gJzonICsgZW5kcG9pbnQucG9ydDtcbiAgICAgIH1cbiAgICAgIGVuZHBvaW50ID0gbmV3IEFXUy5FbmRwb2ludChodHRwT3B0aW9ucy5wcm94eSk7XG4gICAgfVxuXG4gICAgdmFyIHVzZVNTTCA9IGVuZHBvaW50LnByb3RvY29sID09PSAnaHR0cHM6JztcbiAgICB2YXIgaHR0cCA9IHVzZVNTTCA/IHJlcXVpcmUoJ2h0dHBzJykgOiByZXF1aXJlKCdodHRwJyk7XG4gICAgdmFyIG9wdGlvbnMgPSB7XG4gICAgICBob3N0OiBlbmRwb2ludC5ob3N0bmFtZSxcbiAgICAgIHBvcnQ6IGVuZHBvaW50LnBvcnQsXG4gICAgICBtZXRob2Q6IGh0dHBSZXF1ZXN0Lm1ldGhvZCxcbiAgICAgIGhlYWRlcnM6IGh0dHBSZXF1ZXN0LmhlYWRlcnMsXG4gICAgICBwYXRoOiBwYXRoUHJlZml4ICsgaHR0cFJlcXVlc3QucGF0aFxuICAgIH07XG5cbiAgICBpZiAoIWh0dHBPcHRpb25zLmFnZW50KSB7XG4gICAgICBvcHRpb25zLmFnZW50ID0gdGhpcy5nZXRBZ2VudCh1c2VTU0wsIHtcbiAgICAgICAga2VlcEFsaXZlOiBwcm9jZXNzLmVudltDT05ORUNUSU9OX1JFVVNFX0VOVl9OQU1FXSA9PT0gJzEnID8gdHJ1ZSA6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBBV1MudXRpbC51cGRhdGUob3B0aW9ucywgaHR0cE9wdGlvbnMpO1xuICAgIGRlbGV0ZSBvcHRpb25zLnByb3h5OyAvLyBwcm94eSBpc24ndCBhbiBIVFRQIG9wdGlvblxuICAgIGRlbGV0ZSBvcHRpb25zLnRpbWVvdXQ7IC8vIHRpbWVvdXQgaXNuJ3QgYW4gSFRUUCBvcHRpb25cblxuICAgIHZhciBzdHJlYW0gPSBodHRwLnJlcXVlc3Qob3B0aW9ucywgZnVuY3Rpb24gKGh0dHBSZXNwKSB7XG4gICAgICBpZiAoc3RyZWFtLmRpZENhbGxiYWNrKSByZXR1cm47XG5cbiAgICAgIGNhbGxiYWNrKGh0dHBSZXNwKTtcbiAgICAgIGh0dHBSZXNwLmVtaXQoXG4gICAgICAgICdoZWFkZXJzJyxcbiAgICAgICAgaHR0cFJlc3Auc3RhdHVzQ29kZSxcbiAgICAgICAgaHR0cFJlc3AuaGVhZGVycyxcbiAgICAgICAgaHR0cFJlc3Auc3RhdHVzTWVzc2FnZVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBodHRwUmVxdWVzdC5zdHJlYW0gPSBzdHJlYW07IC8vIGF0dGFjaCBzdHJlYW0gdG8gaHR0cFJlcXVlc3RcbiAgICBzdHJlYW0uZGlkQ2FsbGJhY2sgPSBmYWxzZTtcblxuICAgIC8vIGNvbm5lY3Rpb24gdGltZW91dCBzdXBwb3J0XG4gICAgaWYgKGh0dHBPcHRpb25zLmNvbm5lY3RUaW1lb3V0KSB7XG4gICAgICB2YXIgY29ubmVjdFRpbWVvdXRJZDtcbiAgICAgIHN0cmVhbS5vbignc29ja2V0JywgZnVuY3Rpb24oc29ja2V0KSB7XG4gICAgICAgIGlmIChzb2NrZXQuY29ubmVjdGluZykge1xuICAgICAgICAgIGNvbm5lY3RUaW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uIGNvbm5lY3RUaW1lb3V0KCkge1xuICAgICAgICAgICAgaWYgKHN0cmVhbS5kaWRDYWxsYmFjaykgcmV0dXJuOyBzdHJlYW0uZGlkQ2FsbGJhY2sgPSB0cnVlO1xuXG4gICAgICAgICAgICBzdHJlYW0uYWJvcnQoKTtcbiAgICAgICAgICAgIGVyckNhbGxiYWNrKEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgICAgICBuZXcgRXJyb3IoJ1NvY2tldCB0aW1lZCBvdXQgd2l0aG91dCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uJyksXG4gICAgICAgICAgICAgIHtjb2RlOiAnVGltZW91dEVycm9yJ31cbiAgICAgICAgICAgICkpO1xuICAgICAgICAgIH0sIGh0dHBPcHRpb25zLmNvbm5lY3RUaW1lb3V0KTtcbiAgICAgICAgICBzb2NrZXQub24oJ2Nvbm5lY3QnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZW91dElkKTtcbiAgICAgICAgICAgIGNvbm5lY3RUaW1lb3V0SWQgPSBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyB0aW1lb3V0IHN1cHBvcnRcbiAgICBzdHJlYW0uc2V0VGltZW91dChodHRwT3B0aW9ucy50aW1lb3V0IHx8IDAsIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHN0cmVhbS5kaWRDYWxsYmFjaykgcmV0dXJuOyBzdHJlYW0uZGlkQ2FsbGJhY2sgPSB0cnVlO1xuXG4gICAgICB2YXIgbXNnID0gJ0Nvbm5lY3Rpb24gdGltZWQgb3V0IGFmdGVyICcgKyBodHRwT3B0aW9ucy50aW1lb3V0ICsgJ21zJztcbiAgICAgIGVyckNhbGxiYWNrKEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcihtc2cpLCB7Y29kZTogJ1RpbWVvdXRFcnJvcid9KSk7XG4gICAgICBzdHJlYW0uYWJvcnQoKTtcbiAgICB9KTtcblxuICAgIHN0cmVhbS5vbignZXJyb3InLCBmdW5jdGlvbihlcnIpIHtcbiAgICAgIGlmIChjb25uZWN0VGltZW91dElkKSB7XG4gICAgICAgIGNsZWFyVGltZW91dChjb25uZWN0VGltZW91dElkKTtcbiAgICAgICAgY29ubmVjdFRpbWVvdXRJZCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoc3RyZWFtLmRpZENhbGxiYWNrKSByZXR1cm47IHN0cmVhbS5kaWRDYWxsYmFjayA9IHRydWU7XG4gICAgICBpZiAoJ0VDT05OUkVTRVQnID09PSBlcnIuY29kZSB8fCAnRVBJUEUnID09PSBlcnIuY29kZSB8fCAnRVRJTUVET1VUJyA9PT0gZXJyLmNvZGUpIHtcbiAgICAgICAgZXJyQ2FsbGJhY2soQVdTLnV0aWwuZXJyb3IoZXJyLCB7Y29kZTogJ1RpbWVvdXRFcnJvcid9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlcnJDYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdmFyIGV4cGVjdCA9IGh0dHBSZXF1ZXN0LmhlYWRlcnMuRXhwZWN0IHx8IGh0dHBSZXF1ZXN0LmhlYWRlcnMuZXhwZWN0O1xuICAgIGlmIChleHBlY3QgPT09ICcxMDAtY29udGludWUnKSB7XG4gICAgICBzdHJlYW0ub25jZSgnY29udGludWUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgc2VsZi53cml0ZUJvZHkoc3RyZWFtLCBodHRwUmVxdWVzdCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy53cml0ZUJvZHkoc3RyZWFtLCBodHRwUmVxdWVzdCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmVhbTtcbiAgfSxcblxuICB3cml0ZUJvZHk6IGZ1bmN0aW9uIHdyaXRlQm9keShzdHJlYW0sIGh0dHBSZXF1ZXN0KSB7XG4gICAgdmFyIGJvZHkgPSBodHRwUmVxdWVzdC5ib2R5O1xuICAgIHZhciB0b3RhbEJ5dGVzID0gcGFyc2VJbnQoaHR0cFJlcXVlc3QuaGVhZGVyc1snQ29udGVudC1MZW5ndGgnXSwgMTApO1xuXG4gICAgaWYgKGJvZHkgaW5zdGFuY2VvZiBTdHJlYW0pIHtcbiAgICAgIC8vIEZvciBwcm9ncmVzcyBzdXBwb3J0IG9mIHN0cmVhbWluZyBjb250ZW50IC1cbiAgICAgIC8vIHBpcGUgdGhlIGRhdGEgdGhyb3VnaCBhIHRyYW5zZm9ybSBzdHJlYW0gdG8gZW1pdCAnc2VuZFByb2dyZXNzJyBldmVudHNcbiAgICAgIHZhciBwcm9ncmVzc1N0cmVhbSA9IHRoaXMucHJvZ3Jlc3NTdHJlYW0oc3RyZWFtLCB0b3RhbEJ5dGVzKTtcbiAgICAgIGlmIChwcm9ncmVzc1N0cmVhbSkge1xuICAgICAgICBib2R5LnBpcGUocHJvZ3Jlc3NTdHJlYW0pLnBpcGUoc3RyZWFtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHkucGlwZShzdHJlYW0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYm9keSkge1xuICAgICAgLy8gVGhlIHByb3ZpZGVkIGJvZHkgaXMgYSBidWZmZXIvc3RyaW5nIGFuZCBpcyBhbHJlYWR5IGZ1bGx5IGF2YWlsYWJsZSBpbiBtZW1vcnkgLVxuICAgICAgLy8gRm9yIHBlcmZvcm1hbmNlIGl0J3MgYmVzdCB0byBzZW5kIGl0IGFzIGEgd2hvbGUgYnkgY2FsbGluZyBzdHJlYW0uZW5kKGJvZHkpLFxuICAgICAgLy8gQ2FsbGVycyBleHBlY3QgYSAnc2VuZFByb2dyZXNzJyBldmVudCB3aGljaCBpcyBiZXN0IGVtaXR0ZWQgb25jZVxuICAgICAgLy8gdGhlIGh0dHAgcmVxdWVzdCBzdHJlYW0gaGFzIGJlZW4gZnVsbHkgd3JpdHRlbiBhbmQgYWxsIGRhdGEgZmx1c2hlZC5cbiAgICAgIC8vIFRoZSB1c2Ugb2YgdG90YWxCeXRlcyBpcyBpbXBvcnRhbnQgb3ZlciBib2R5Lmxlbmd0aCBmb3Igc3RyaW5ncyB3aGVyZVxuICAgICAgLy8gbGVuZ3RoIGlzIGNoYXIgbGVuZ3RoIGFuZCBub3QgYnl0ZSBsZW5ndGguXG4gICAgICBzdHJlYW0ub25jZSgnZmluaXNoJywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdzZW5kUHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgbG9hZGVkOiB0b3RhbEJ5dGVzLFxuICAgICAgICAgIHRvdGFsOiB0b3RhbEJ5dGVzXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBzdHJlYW0uZW5kKGJvZHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBubyByZXF1ZXN0IGJvZHlcbiAgICAgIHN0cmVhbS5lbmQoKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZSB0aGUgaHR0cHMuQWdlbnQgb3IgaHR0cC5BZ2VudCBhY2NvcmRpbmcgdG8gdGhlIHJlcXVlc3Qgc2NoZW1hLlxuICAgKi9cbiAgZ2V0QWdlbnQ6IGZ1bmN0aW9uIGdldEFnZW50KHVzZVNTTCwgYWdlbnRPcHRpb25zKSB7XG4gICAgdmFyIGh0dHAgPSB1c2VTU0wgPyByZXF1aXJlKCdodHRwcycpIDogcmVxdWlyZSgnaHR0cCcpO1xuICAgIGlmICh1c2VTU0wpIHtcbiAgICAgIGlmICghQVdTLk5vZGVIdHRwQ2xpZW50LnNzbEFnZW50KSB7XG4gICAgICAgIEFXUy5Ob2RlSHR0cENsaWVudC5zc2xBZ2VudCA9IG5ldyBodHRwLkFnZW50KEFXUy51dGlsLm1lcmdlKHtcbiAgICAgICAgICByZWplY3RVbmF1dGhvcml6ZWQ6IHByb2Nlc3MuZW52Lk5PREVfVExTX1JFSkVDVF9VTkFVVEhPUklaRUQgPT09ICcwJyA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICB9LCBhZ2VudE9wdGlvbnMgfHwge30pKTtcbiAgICAgICAgQVdTLk5vZGVIdHRwQ2xpZW50LnNzbEFnZW50LnNldE1heExpc3RlbmVycygwKTtcblxuICAgICAgICAvLyBkZWxlZ2F0ZSBtYXhTb2NrZXRzIHRvIGdsb2JhbEFnZW50LCBzZXQgYSBkZWZhdWx0IGxpbWl0IG9mIDUwIGlmIGN1cnJlbnQgdmFsdWUgaXMgSW5maW5pdHkuXG4gICAgICAgIC8vIFVzZXJzIGNhbiBieXBhc3MgdGhpcyBkZWZhdWx0IGJ5IHN1cHBseWluZyB0aGVpciBvd24gQWdlbnQgYXMgcGFydCBvZiBTREsgY29uZmlndXJhdGlvbi5cbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFXUy5Ob2RlSHR0cENsaWVudC5zc2xBZ2VudCwgJ21heFNvY2tldHMnLCB7XG4gICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRNYXhTb2NrZXRzID0gNTA7XG4gICAgICAgICAgICB2YXIgZ2xvYmFsQWdlbnQgPSBodHRwLmdsb2JhbEFnZW50O1xuICAgICAgICAgICAgaWYgKGdsb2JhbEFnZW50ICYmIGdsb2JhbEFnZW50Lm1heFNvY2tldHMgIT09IEluZmluaXR5ICYmIHR5cGVvZiBnbG9iYWxBZ2VudC5tYXhTb2NrZXRzID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICByZXR1cm4gZ2xvYmFsQWdlbnQubWF4U29ja2V0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0TWF4U29ja2V0cztcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEFXUy5Ob2RlSHR0cENsaWVudC5zc2xBZ2VudDtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFBV1MuTm9kZUh0dHBDbGllbnQuYWdlbnQpIHtcbiAgICAgICAgQVdTLk5vZGVIdHRwQ2xpZW50LmFnZW50ID0gbmV3IGh0dHAuQWdlbnQoYWdlbnRPcHRpb25zKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBBV1MuTm9kZUh0dHBDbGllbnQuYWdlbnQ7XG4gICAgfVxuICB9LFxuXG4gIHByb2dyZXNzU3RyZWFtOiBmdW5jdGlvbiBwcm9ncmVzc1N0cmVhbShzdHJlYW0sIHRvdGFsQnl0ZXMpIHtcbiAgICBpZiAodHlwZW9mIFRyYW5zZm9ybVN0cmVhbSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIGZvciBub2RlIDAuOCB0aGVyZSBpcyBubyBzdHJlYW1pbmcgcHJvZ3Jlc3NcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGxvYWRlZEJ5dGVzID0gMDtcbiAgICB2YXIgcmVwb3J0ZXIgPSBuZXcgVHJhbnNmb3JtU3RyZWFtKCk7XG4gICAgcmVwb3J0ZXIuX3RyYW5zZm9ybSA9IGZ1bmN0aW9uKGNodW5rLCBlbmNvZGluZywgY2FsbGJhY2spIHtcbiAgICAgIGlmIChjaHVuaykge1xuICAgICAgICBsb2FkZWRCeXRlcyArPSBjaHVuay5sZW5ndGg7XG4gICAgICAgIHN0cmVhbS5lbWl0KCdzZW5kUHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgbG9hZGVkOiBsb2FkZWRCeXRlcyxcbiAgICAgICAgICB0b3RhbDogdG90YWxCeXRlc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIGNodW5rKTtcbiAgICB9O1xuICAgIHJldHVybiByZXBvcnRlcjtcbiAgfSxcblxuICBlbWl0dGVyOiBudWxsXG59KTtcblxuLyoqXG4gKiBAIWlnbm9yZVxuICovXG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbkFXUy5IdHRwQ2xpZW50LnByb3RvdHlwZSA9IEFXUy5Ob2RlSHR0cENsaWVudC5wcm90b3R5cGU7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbkFXUy5IdHRwQ2xpZW50LnN0cmVhbXNBcGlWZXJzaW9uID0gUmVhZGFibGVTdHJlYW0gPyAyIDogMTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIGZzID0gcmVxdWlyZSgnZnMnKTtcbnZhciBTVFMgPSByZXF1aXJlKCcuLi8uLi9jbGllbnRzL3N0cycpO1xudmFyIGluaUxvYWRlciA9IEFXUy51dGlsLmluaUxvYWRlcjtcblxuLyoqXG4gKiBSZXByZXNlbnRzIE9JREMgY3JlZGVudGlhbHMgZnJvbSBhIGZpbGUgb24gZGlza1xuICogSWYgdGhlIGNyZWRlbnRpYWxzIGV4cGlyZSwgdGhlIFNESyBjYW4ge3JlZnJlc2h9IHRoZSBjcmVkZW50aWFsc1xuICogZnJvbSB0aGUgZmlsZS5cbiAqXG4gKiAjIyBVc2luZyB0aGUgd2ViIGlkZW50aXR5IHRva2VuIGZpbGVcbiAqXG4gKiBUaGlzIHByb3ZpZGVyIGlzIGNoZWNrZWQgYnkgZGVmYXVsdCBpbiB0aGUgTm9kZS5qcyBlbnZpcm9ubWVudC4gVG8gdXNlXG4gKiB0aGUgcHJvdmlkZXIgc2ltcGx5IGFkZCB5b3VyIE9JREMgdG9rZW4gdG8gYSBmaWxlIChBU0NJSSBlbmNvZGluZykgYW5kXG4gKiBzaGFyZSB0aGUgZmlsZW5hbWUgaW4gZWl0aGVyIEFXU19XRUJfSURFTlRJVFlfVE9LRU5fRklMRSBlbnZpcm9ubWVudFxuICogdmFyaWFibGUgb3Igd2ViX2lkZW50aXR5X3Rva2VuX2ZpbGUgc2hhcmVkIGNvbmZpZyB2YXJpYWJsZVxuICpcbiAqIFRoZSBmaWxlIGNvbnRhaW5zIGVuY29kZWQgT0lEQyB0b2tlbiBhbmQgdGhlIGNoYXJhY3RlcnMgYXJlXG4gKiBBU0NJSSBlbmNvZGVkLiBPSURDIHRva2VucyBhcmUgSlNPTiBXZWIgVG9rZW5zIChKV1QpLlxuICogSldUJ3MgYXJlIDMgYmFzZTY0IGVuY29kZWQgc3RyaW5ncyBqb2luZWQgYnkgdGhlICcuJyBjaGFyYWN0ZXIuXG4gKlxuICogVGhpcyBjbGFzcyB3aWxsIHJlYWQgZmlsZW5hbWUgZnJvbSBBV1NfV0VCX0lERU5USVRZX1RPS0VOX0ZJTEVcbiAqIGVudmlyb25tZW50IHZhcmlhYmxlIG9yIHdlYl9pZGVudGl0eV90b2tlbl9maWxlIHNoYXJlZCBjb25maWcgdmFyaWFibGUsXG4gKiBhbmQgZ2V0IHRoZSBPSURDIHRva2VuIGZyb20gZmlsZW5hbWUuXG4gKiBJdCB3aWxsIGFsc28gcmVhZCBJQU0gcm9sZSB0byBiZSBhc3N1bWVkIGZyb20gQVdTX1JPTEVfQVJOXG4gKiBlbnZpcm9ubWVudCB2YXJpYWJsZSBvciByb2xlX2FybiBzaGFyZWQgY29uZmlnIHZhcmlhYmxlLlxuICogVGhpcyBwcm92aWRlciBnZXRzIGNyZWRldGlhbHMgdXNpbmcgdGhlIHtBV1MuU1RTLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHl9XG4gKiBzZXJ2aWNlIG9wZXJhdGlvblxuICpcbiAqIEAhbWFjcm8gbm9icm93c2VyXG4gKi9cbkFXUy5Ub2tlbkZpbGVXZWJJZGVudGl0eUNyZWRlbnRpYWxzID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuQ3JlZGVudGlhbHMsIHtcblxuICAvKipcbiAgICogQGV4YW1wbGUgQ3JlYXRpbmcgYSBuZXcgY3JlZGVudGlhbHMgb2JqZWN0XG4gICAqICBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5Ub2tlbkZpbGVXZWJJZGVudGl0eUNyZWRlbnRpYWxzKFxuICAgKiAgIC8vIG9wdGlvbmFsbHkgcHJvdmlkZSBjb25maWd1cmF0aW9uIHRvIGFwcGx5IHRvIHRoZSB1bmRlcmx5aW5nIEFXUy5TVFMgc2VydmljZSBjbGllbnRcbiAgICogICAvLyBpZiBjb25maWd1cmF0aW9uIGlzIG5vdCBwcm92aWRlZCwgdGhlbiBjb25maWd1cmF0aW9uIHdpbGwgYmUgcHVsbGVkIGZyb20gQVdTLmNvbmZpZ1xuICAgKiAgIHtcbiAgICogICAgIC8vIHNwZWNpZnkgdGltZW91dCBvcHRpb25zXG4gICAqICAgICBodHRwT3B0aW9uczoge1xuICAgKiAgICAgICB0aW1lb3V0OiAxMDBcbiAgICogICAgIH1cbiAgICogICB9KTtcbiAgICogQHNlZSBBV1MuQ29uZmlnXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gVG9rZW5GaWxlV2ViSWRlbnRpdHlDcmVkZW50aWFscyhjbGllbnRDb25maWcpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmRhdGEgPSBudWxsO1xuICAgIHRoaXMuY2xpZW50Q29uZmlnID0gQVdTLnV0aWwuY29weShjbGllbnRDb25maWcgfHwge30pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHBhcmFtcyBmcm9tIGVudmlyb25tZW50IHZhcmlhYmxlc1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldFBhcmFtc0Zyb21FbnY6IGZ1bmN0aW9uIGdldFBhcmFtc0Zyb21FbnYoKSB7XG4gICAgdmFyIEVOVl9UT0tFTl9GSUxFID0gJ0FXU19XRUJfSURFTlRJVFlfVE9LRU5fRklMRScsXG4gICAgICAgIEVOVl9ST0xFX0FSTiA9ICdBV1NfUk9MRV9BUk4nO1xuICAgIGlmIChwcm9jZXNzLmVudltFTlZfVE9LRU5fRklMRV0gJiYgcHJvY2Vzcy5lbnZbRU5WX1JPTEVfQVJOXSkge1xuICAgICAgcmV0dXJuIFt7XG4gICAgICAgIGVudlRva2VuRmlsZTogcHJvY2Vzcy5lbnZbRU5WX1RPS0VOX0ZJTEVdLFxuICAgICAgICByb2xlQXJuOiBwcm9jZXNzLmVudltFTlZfUk9MRV9BUk5dLFxuICAgICAgICByb2xlU2Vzc2lvbk5hbWU6IHByb2Nlc3MuZW52WydBV1NfUk9MRV9TRVNTSU9OX05BTUUnXVxuICAgICAgfV07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHBhcmFtcyBmcm9tIHNoYXJlZCBjb25maWcgdmFyaWFibGVzXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZ2V0UGFyYW1zRnJvbVNoYXJlZENvbmZpZzogZnVuY3Rpb24gZ2V0UGFyYW1zRnJvbVNoYXJlZENvbmZpZygpIHtcbiAgICB2YXIgcHJvZmlsZXMgPSBBV1MudXRpbC5nZXRQcm9maWxlc0Zyb21TaGFyZWRDb25maWcoaW5pTG9hZGVyKTtcbiAgICB2YXIgcHJvZmlsZU5hbWUgPSBwcm9jZXNzLmVudi5BV1NfUFJPRklMRSB8fCBBV1MudXRpbC5kZWZhdWx0UHJvZmlsZTtcbiAgICB2YXIgcHJvZmlsZSA9IHByb2ZpbGVzW3Byb2ZpbGVOYW1lXSB8fCB7fTtcblxuICAgIGlmIChPYmplY3Qua2V5cyhwcm9maWxlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICBuZXcgRXJyb3IoJ1Byb2ZpbGUgJyArIHByb2ZpbGVOYW1lICsgJyBub3QgZm91bmQnKSxcbiAgICAgICAgeyBjb2RlOiAnVG9rZW5GaWxlV2ViSWRlbnRpdHlDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zQXJyYXkgPSBbXTtcblxuICAgIHdoaWxlICghcHJvZmlsZVsnd2ViX2lkZW50aXR5X3Rva2VuX2ZpbGUnXSAmJiBwcm9maWxlWydzb3VyY2VfcHJvZmlsZSddKSB7XG4gICAgICBwYXJhbXNBcnJheS51bnNoaWZ0KHtcbiAgICAgICAgcm9sZUFybjogcHJvZmlsZVsncm9sZV9hcm4nXSxcbiAgICAgICAgcm9sZVNlc3Npb25OYW1lOiBwcm9maWxlWydyb2xlX3Nlc3Npb25fbmFtZSddXG4gICAgICB9KTtcbiAgICAgIHZhciBzb3VyY2VQcm9maWxlID0gcHJvZmlsZVsnc291cmNlX3Byb2ZpbGUnXTtcbiAgICAgIHByb2ZpbGUgPSBwcm9maWxlc1tzb3VyY2VQcm9maWxlXTtcbiAgICB9XG5cbiAgICBwYXJhbXNBcnJheS51bnNoaWZ0KHtcbiAgICAgIGVudlRva2VuRmlsZTogcHJvZmlsZVsnd2ViX2lkZW50aXR5X3Rva2VuX2ZpbGUnXSxcbiAgICAgIHJvbGVBcm46IHByb2ZpbGVbJ3JvbGVfYXJuJ10sXG4gICAgICByb2xlU2Vzc2lvbk5hbWU6IHByb2ZpbGVbJ3JvbGVfc2Vzc2lvbl9uYW1lJ11cbiAgICB9KTtcblxuICAgIHJldHVybiBwYXJhbXNBcnJheTtcbiAgfSxcblxuICAvKipcbiAgICogUmVmcmVzaGVzIGNyZWRlbnRpYWxzIHVzaW5nIHtBV1MuU1RTLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHl9XG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgQ2FsbGVkIHdoZW4gdGhlIFNUUyBzZXJ2aWNlIHJlc3BvbmRzIChvciBmYWlscykuIFdoZW5cbiAgICogICB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyB0aGF0IHRoZSBjcmVkZW50aWFsc1xuICAgKiAgIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QgKGFzIHRoZSBgYWNjZXNzS2V5SWRgLFxuICAgKiAgIGBzZWNyZXRBY2Nlc3NLZXlgLCBhbmQgYHNlc3Npb25Ub2tlbmAgcHJvcGVydGllcykuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkXG4gICAqIEBzZWUgQVdTLkNyZWRlbnRpYWxzLmdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIHRoaXMuY29hbGVzY2VSZWZyZXNoKGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICovXG4gIGFzc3VtZVJvbGVDaGFpbmluZzogZnVuY3Rpb24gYXNzdW1lUm9sZUNoYWluaW5nKHBhcmFtc0FycmF5LCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAocGFyYW1zQXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICBzZWxmLnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHNlbGYuZGF0YSwgc2VsZik7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcGFyYW1zID0gcGFyYW1zQXJyYXkuc2hpZnQoKTtcbiAgICAgIHNlbGYuc2VydmljZS5jb25maWcuY3JlZGVudGlhbHMgPSBzZWxmLnNlcnZpY2UuY3JlZGVudGlhbHNGcm9tKHNlbGYuZGF0YSwgc2VsZik7XG4gICAgICBzZWxmLnNlcnZpY2UuYXNzdW1lUm9sZShcbiAgICAgICAge1xuICAgICAgICAgIFJvbGVBcm46IHBhcmFtcy5yb2xlQXJuLFxuICAgICAgICAgIFJvbGVTZXNzaW9uTmFtZTogcGFyYW1zLnJvbGVTZXNzaW9uTmFtZSB8fCAndG9rZW4tZmlsZS13ZWItaWRlbnRpdHknXG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICBzZWxmLmRhdGEgPSBudWxsO1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICBzZWxmLmFzc3VtZVJvbGVDaGFpbmluZyhwYXJhbXNBcnJheSwgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB0cnkge1xuICAgICAgdmFyIHBhcmFtc0FycmF5ID0gc2VsZi5nZXRQYXJhbXNGcm9tRW52KCk7XG4gICAgICBpZiAoIXBhcmFtc0FycmF5KSB7XG4gICAgICAgIHBhcmFtc0FycmF5ID0gc2VsZi5nZXRQYXJhbXNGcm9tU2hhcmVkQ29uZmlnKCk7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1zQXJyYXkpIHtcbiAgICAgICAgdmFyIHBhcmFtcyA9IHBhcmFtc0FycmF5LnNoaWZ0KCk7XG4gICAgICAgIHZhciBvaWRjVG9rZW4gPSBmcy5yZWFkRmlsZVN5bmMocGFyYW1zLmVudlRva2VuRmlsZSwge2VuY29kaW5nOiAnYXNjaWknfSk7XG4gICAgICAgIGlmICghc2VsZi5zZXJ2aWNlKSB7XG4gICAgICAgICAgc2VsZi5jcmVhdGVDbGllbnRzKCk7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5zZXJ2aWNlLmFzc3VtZVJvbGVXaXRoV2ViSWRlbnRpdHkoXG4gICAgICAgICAge1xuICAgICAgICAgICAgV2ViSWRlbnRpdHlUb2tlbjogb2lkY1Rva2VuLFxuICAgICAgICAgICAgUm9sZUFybjogcGFyYW1zLnJvbGVBcm4sXG4gICAgICAgICAgICBSb2xlU2Vzc2lvbk5hbWU6IHBhcmFtcy5yb2xlU2Vzc2lvbk5hbWUgfHwgJ3Rva2VuLWZpbGUtd2ViLWlkZW50aXR5J1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgc2VsZi5kYXRhID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNlbGYuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICAgIHNlbGYuYXNzdW1lUm9sZUNoYWluaW5nKHBhcmFtc0FycmF5LCBjYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY3JlYXRlQ2xpZW50czogZnVuY3Rpb24oKSB7XG4gICAgaWYgKCF0aGlzLnNlcnZpY2UpIHtcbiAgICAgIHZhciBzdHNDb25maWcgPSBBV1MudXRpbC5tZXJnZSh7fSwgdGhpcy5jbGllbnRDb25maWcpO1xuICAgICAgdGhpcy5zZXJ2aWNlID0gbmV3IFNUUyhzdHNDb25maWcpO1xuXG4gICAgICAvLyBSZXRyeSBpbiBjYXNlIG9mIElEUENvbW11bmljYXRpb25FcnJvckV4Y2VwdGlvbiBvciBJbnZhbGlkSWRlbnRpdHlUb2tlblxuICAgICAgdGhpcy5zZXJ2aWNlLnJldHJ5YWJsZUVycm9yID0gZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdJRFBDb21tdW5pY2F0aW9uRXJyb3JFeGNlcHRpb24nIHx8IGVycm9yLmNvZGUgPT09ICdJbnZhbGlkSWRlbnRpdHlUb2tlbicpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gQVdTLlNlcnZpY2UucHJvdG90eXBlLnJldHJ5YWJsZUVycm9yLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfVxufSk7XG4iLCAidmFyIGdldEVuZHBvaW50ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgSVB2NDogJ2h0dHA6Ly8xNjkuMjU0LjE2OS4yNTQnLFxuICAgIElQdjY6ICdodHRwOi8vW2ZkMDA6ZWMyOjoyNTRdJyxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RW5kcG9pbnQ7XG4iLCAidmFyIGdldEVuZHBvaW50TW9kZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIElQdjQ6ICdJUHY0JyxcbiAgICBJUHY2OiAnSVB2NicsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEVuZHBvaW50TW9kZTtcbiIsICJ2YXIgRU5WX0VORFBPSU5UX05BTUUgPSAnQVdTX0VDMl9NRVRBREFUQV9TRVJWSUNFX0VORFBPSU5UJztcbnZhciBDT05GSUdfRU5EUE9JTlRfTkFNRSA9ICdlYzJfbWV0YWRhdGFfc2VydmljZV9lbmRwb2ludCc7XG5cbnZhciBnZXRFbmRwb2ludENvbmZpZ09wdGlvbnMgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IGZ1bmN0aW9uKGVudikgeyByZXR1cm4gZW52W0VOVl9FTkRQT0lOVF9OQU1FXTsgfSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IGZ1bmN0aW9uKHByb2ZpbGUpIHsgcmV0dXJuIHByb2ZpbGVbQ09ORklHX0VORFBPSU5UX05BTUVdOyB9LFxuICAgIGRlZmF1bHQ6IHVuZGVmaW5lZCxcbiAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0RW5kcG9pbnRDb25maWdPcHRpb25zO1xuIiwgInZhciBFbmRwb2ludE1vZGUgPSByZXF1aXJlKCcuL2dldF9lbmRwb2ludF9tb2RlJykoKTtcblxudmFyIEVOVl9FTkRQT0lOVF9NT0RFX05BTUUgPSAnQVdTX0VDMl9NRVRBREFUQV9TRVJWSUNFX0VORFBPSU5UX01PREUnO1xudmFyIENPTkZJR19FTkRQT0lOVF9NT0RFX05BTUUgPSAnZWMyX21ldGFkYXRhX3NlcnZpY2VfZW5kcG9pbnRfbW9kZSc7XG5cbnZhciBnZXRFbmRwb2ludE1vZGVDb25maWdPcHRpb25zID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiBmdW5jdGlvbihlbnYpIHsgcmV0dXJuIGVudltFTlZfRU5EUE9JTlRfTU9ERV9OQU1FXTsgfSxcbiAgICBjb25maWdGaWxlU2VsZWN0b3I6IGZ1bmN0aW9uKHByb2ZpbGUpIHsgcmV0dXJuIHByb2ZpbGVbQ09ORklHX0VORFBPSU5UX01PREVfTkFNRV07IH0sXG4gICAgZGVmYXVsdDogRW5kcG9pbnRNb2RlLklQdjQsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGdldEVuZHBvaW50TW9kZUNvbmZpZ09wdGlvbnM7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxudmFyIEVuZHBvaW50ID0gcmVxdWlyZSgnLi9nZXRfZW5kcG9pbnQnKSgpO1xudmFyIEVuZHBvaW50TW9kZSA9IHJlcXVpcmUoJy4vZ2V0X2VuZHBvaW50X21vZGUnKSgpO1xuXG52YXIgRU5EUE9JTlRfQ09ORklHX09QVElPTlMgPSByZXF1aXJlKCcuL2dldF9lbmRwb2ludF9jb25maWdfb3B0aW9ucycpKCk7XG52YXIgRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyA9IHJlcXVpcmUoJy4vZ2V0X2VuZHBvaW50X21vZGVfY29uZmlnX29wdGlvbnMnKSgpO1xuXG52YXIgZ2V0TWV0YWRhdGFTZXJ2aWNlRW5kcG9pbnQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGVuZHBvaW50ID0gQVdTLnV0aWwubG9hZENvbmZpZyhFTkRQT0lOVF9DT05GSUdfT1BUSU9OUyk7XG4gIGlmIChlbmRwb2ludCAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZW5kcG9pbnQ7XG5cbiAgdmFyIGVuZHBvaW50TW9kZSA9IEFXUy51dGlsLmxvYWRDb25maWcoRU5EUE9JTlRfTU9ERV9DT05GSUdfT1BUSU9OUyk7XG4gIHN3aXRjaCAoZW5kcG9pbnRNb2RlKSB7XG4gICAgY2FzZSBFbmRwb2ludE1vZGUuSVB2NDpcbiAgICAgIHJldHVybiBFbmRwb2ludC5JUHY0O1xuICAgIGNhc2UgRW5kcG9pbnRNb2RlLklQdjY6XG4gICAgICByZXR1cm4gRW5kcG9pbnQuSVB2NjtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBlbmRwb2ludCBtb2RlOiAnICsgZW5kcG9pbnRNb2RlKTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBnZXRNZXRhZGF0YVNlcnZpY2VFbmRwb2ludDtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5yZXF1aXJlKCcuL2h0dHAnKTtcbnZhciBpbmhlcml0ID0gQVdTLnV0aWwuaW5oZXJpdDtcbnZhciBnZXRNZXRhZGF0YVNlcnZpY2VFbmRwb2ludCA9IHJlcXVpcmUoJy4vbWV0YWRhdGFfc2VydmljZS9nZXRfbWV0YWRhdGFfc2VydmljZV9lbmRwb2ludCcpO1xudmFyIFVSTCA9IHJlcXVpcmUoJ3VybCcpLlVSTDtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgbWV0YWRhdGEgc2VydmljZSBhdmFpbGFibGUgb24gRUMyIGluc3RhbmNlcy4gVXNpbmcgdGhlXG4gKiB7cmVxdWVzdH0gbWV0aG9kLCB5b3UgY2FuIHJlY2VpZXZlIG1ldGFkYXRhIGFib3V0IGFueSBhdmFpbGFibGUgcmVzb3VyY2VcbiAqIG9uIHRoZSBtZXRhZGF0YSBzZXJ2aWNlLlxuICpcbiAqIFlvdSBjYW4gZGlzYWJsZSB0aGUgdXNlIG9mIHRoZSBJTURTIGJ5IHNldHRpbmcgdGhlIEFXU19FQzJfTUVUQURBVEFfRElTQUJMRURcbiAqIGVudmlyb25tZW50IHZhcmlhYmxlIHRvIGEgdHJ1dGh5IHZhbHVlLlxuICpcbiAqIEAhYXR0cmlidXRlIFtyXSBodHRwT3B0aW9uc1xuICogICBAcmV0dXJuIFttYXBdIGEgbWFwIG9mIG9wdGlvbnMgdG8gcGFzcyB0byB0aGUgdW5kZXJseWluZyBIVFRQIHJlcXVlc3Q6XG4gKlxuICogICAgICogKip0aW1lb3V0KiogKE51bWJlcikgJm1kYXNoOyBhIHRpbWVvdXQgdmFsdWUgaW4gbWlsbGlzZWNvbmRzIHRvIHdhaXRcbiAqICAgICAgIGJlZm9yZSBhYm9ydGluZyB0aGUgY29ubmVjdGlvbi4gU2V0IHRvIDAgZm9yIG5vIHRpbWVvdXQuXG4gKlxuICogQCFtYWNybyBub2Jyb3dzZXJcbiAqL1xuQVdTLk1ldGFkYXRhU2VydmljZSA9IGluaGVyaXQoe1xuICAvKipcbiAgICogQHJldHVybiBbU3RyaW5nXSB0aGUgZW5kcG9pbnQgb2YgdGhlIGluc3RhbmNlIG1ldGFkYXRhIHNlcnZpY2VcbiAgICovXG4gIGVuZHBvaW50OiBnZXRNZXRhZGF0YVNlcnZpY2VFbmRwb2ludCgpLFxuXG4gIC8qKlxuICAgKiBAIWlnbm9yZVxuICAgKi9cblxuICAvKipcbiAgICogRGVmYXVsdCBIVFRQIG9wdGlvbnMuIEJ5IGRlZmF1bHQsIHRoZSBtZXRhZGF0YSBzZXJ2aWNlIGlzIHNldCB0byBub3RcbiAgICogdGltZW91dCBvbiBsb25nIHJlcXVlc3RzLiBUaGlzIG1lYW5zIHRoYXQgb24gbm9uLUVDMiBtYWNoaW5lcywgdGhpc1xuICAgKiByZXF1ZXN0IHdpbGwgbmV2ZXIgcmV0dXJuLiBJZiB5b3UgYXJlIGNhbGxpbmcgdGhpcyBvcGVyYXRpb24gZnJvbSBhblxuICAgKiBlbnZpcm9ubWVudCB0aGF0IG1heSBub3QgYWx3YXlzIHJ1biBvbiBFQzIsIHNldCBhIGB0aW1lb3V0YCB2YWx1ZSBzb1xuICAgKiB0aGUgU0RLIHdpbGwgYWJvcnQgdGhlIHJlcXVlc3QgYWZ0ZXIgYSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxuICAgKi9cbiAgaHR0cE9wdGlvbnM6IHsgdGltZW91dDogMCB9LFxuXG4gIC8qKlxuICAgKiB3aGVuIGVuYWJsZWQsIG1ldGFkYXRhIHNlcnZpY2Ugd2lsbCBub3QgZmV0Y2ggdG9rZW5cbiAgICovXG4gIGRpc2FibGVGZXRjaFRva2VuOiBmYWxzZSxcblxuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBNZXRhZGF0YVNlcnZpY2Ugb2JqZWN0IHdpdGggYSBnaXZlbiBzZXQgb2Ygb3B0aW9ucy5cbiAgICpcbiAgICogQG9wdGlvbiBvcHRpb25zIGhvc3QgW1N0cmluZ10gdGhlIGhvc3RuYW1lIG9mIHRoZSBpbnN0YW5jZSBtZXRhZGF0YVxuICAgKiAgIHNlcnZpY2VcbiAgICogQG9wdGlvbiBvcHRpb25zIGh0dHBPcHRpb25zIFttYXBdIGEgbWFwIG9mIG9wdGlvbnMgdG8gcGFzcyB0byB0aGVcbiAgICogICB1bmRlcmx5aW5nIEhUVFAgcmVxdWVzdDpcbiAgICpcbiAgICogICAqICoqdGltZW91dCoqIChOdW1iZXIpICZtZGFzaDsgYSB0aW1lb3V0IHZhbHVlIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0XG4gICAqICAgICBiZWZvcmUgYWJvcnRpbmcgdGhlIGNvbm5lY3Rpb24uIFNldCB0byAwIGZvciBubyB0aW1lb3V0LlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgbWF4UmV0cmllcyBbSW50ZWdlcl0gdGhlIG1heGltdW0gbnVtYmVyIG9mIHJldHJpZXMgdG9cbiAgICogICBwZXJmb3JtIGZvciB0aW1lb3V0IGVycm9yc1xuICAgKiBAb3B0aW9uIG9wdGlvbnMgcmV0cnlEZWxheU9wdGlvbnMgW21hcF0gQSBzZXQgb2Ygb3B0aW9ucyB0byBjb25maWd1cmUgdGhlXG4gICAqICAgcmV0cnkgZGVsYXkgb24gcmV0cnlhYmxlIGVycm9ycy4gU2VlIEFXUy5Db25maWcgZm9yIGRldGFpbHMuXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gTWV0YWRhdGFTZXJ2aWNlKG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmhvc3QpIHtcbiAgICAgIG9wdGlvbnMuZW5kcG9pbnQgPSAnaHR0cDovLycgKyBvcHRpb25zLmhvc3Q7XG4gICAgICBkZWxldGUgb3B0aW9ucy5ob3N0O1xuICAgIH1cbiAgICBBV1MudXRpbC51cGRhdGUodGhpcywgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFNlbmRzIGEgcmVxdWVzdCB0byB0aGUgaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZSBmb3IgYSBnaXZlbiByZXNvdXJjZS5cbiAgICpcbiAgICogQHBhcmFtIHBhdGggW1N0cmluZ10gdGhlIHBhdGggb2YgdGhlIHJlc291cmNlIHRvIGdldFxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyBbbWFwXSBhbiBvcHRpb25hbCBtYXAgdXNlZCB0byBtYWtlIHJlcXVlc3RcbiAgICpcbiAgICogICAqICoqbWV0aG9kKiogKFN0cmluZykgJm1kYXNoOyBIVFRQIHJlcXVlc3QgbWV0aG9kXG4gICAqXG4gICAqICAgKiAqKmhlYWRlcnMqKiAobWFwPFN0cmluZyxTdHJpbmc+KSAmbWRhc2g7IGEgbWFwIG9mIHJlc3BvbnNlIGhlYWRlciBrZXlzIGFuZCB0aGVpciByZXNwZWN0aXZlIHZhbHVlc1xuICAgKlxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyLCBkYXRhKVxuICAgKiAgIENhbGxlZCB3aGVuIGEgcmVzcG9uc2UgaXMgYXZhaWxhYmxlIGZyb20gdGhlIHNlcnZpY2UuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3IsIG51bGxdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgc2V0XG4gICAqICAgQHBhcmFtIGRhdGEgW1N0cmluZywgbnVsbF0gaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWwsIHRoZSBib2R5IG9mXG4gICAqICAgICB0aGUgcmVzcG9uc2VcbiAgICovXG4gIHJlcXVlc3Q6IGZ1bmN0aW9uIHJlcXVlc3QocGF0aCwgb3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cblxuICAgIGlmIChwcm9jZXNzLmVudltBV1MudXRpbC5pbWRzRGlzYWJsZWRFbnZdKSB7XG4gICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ0VDMiBJbnN0YW5jZSBNZXRhZGF0YSBTZXJ2aWNlIGFjY2VzcyBkaXNhYmxlZCcpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwYXRoID0gcGF0aCB8fCAnLyc7XG5cbiAgICAvLyBWZXJpZnkgdGhhdCBob3N0IGlzIGEgdmFsaWQgVVJMXG4gICAgaWYgKFVSTCkgeyBuZXcgVVJMKHRoaXMuZW5kcG9pbnQpOyB9XG5cbiAgICB2YXIgaHR0cFJlcXVlc3QgPSBuZXcgQVdTLkh0dHBSZXF1ZXN0KHRoaXMuZW5kcG9pbnQgKyBwYXRoKTtcbiAgICBodHRwUmVxdWVzdC5tZXRob2QgPSBvcHRpb25zLm1ldGhvZCB8fCAnR0VUJztcbiAgICBpZiAob3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICBodHRwUmVxdWVzdC5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICAgIH1cbiAgICBBV1MudXRpbC5oYW5kbGVSZXF1ZXN0V2l0aFJldHJpZXMoaHR0cFJlcXVlc3QsIHRoaXMsIGNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgKiBAYXBpIHByaXZhdGVcbiAgKi9cbiAgbG9hZENyZWRlbnRpYWxzQ2FsbGJhY2tzOiBbXSxcblxuICAvKipcbiAgICogRmV0Y2hlcyBtZXRhZGF0YSB0b2tlbiB1c2VkIGZvciBnZXR0aW5nIGNyZWRlbnRpYWxzXG4gICAqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyLCB0b2tlbilcbiAgICogICBDYWxsZWQgd2hlbiB0b2tlbiBpcyBsb2FkZWQgZnJvbSB0aGUgcmVzb3VyY2VcbiAgICovXG4gIGZldGNoTWV0YWRhdGFUb2tlbjogZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YVRva2VuKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciB0b2tlbkZldGNoUGF0aCA9ICcvbGF0ZXN0L2FwaS90b2tlbic7XG4gICAgc2VsZi5yZXF1ZXN0KFxuICAgICAgdG9rZW5GZXRjaFBhdGgsXG4gICAgICB7XG4gICAgICAgICdtZXRob2QnOiAnUFVUJyxcbiAgICAgICAgJ2hlYWRlcnMnOiB7XG4gICAgICAgICAgJ3gtYXdzLWVjMi1tZXRhZGF0YS10b2tlbi10dGwtc2Vjb25kcyc6ICcyMTYwMCdcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNhbGxiYWNrXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogRmV0Y2hlcyBjcmVkZW50aWFsc1xuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQGNhbGxiYWNrIGNiIGZ1bmN0aW9uKGVyciwgY3JlZHMpXG4gICAqICAgQ2FsbGVkIHdoZW4gY3JlZGVudGlhbHMgYXJlIGxvYWRlZCBmcm9tIHRoZSByZXNvdXJjZVxuICAgKi9cbiAgZmV0Y2hDcmVkZW50aWFsczogZnVuY3Rpb24gZmV0Y2hDcmVkZW50aWFscyhvcHRpb25zLCBjYikge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgYmFzZVBhdGggPSAnL2xhdGVzdC9tZXRhLWRhdGEvaWFtL3NlY3VyaXR5LWNyZWRlbnRpYWxzLyc7XG5cbiAgICBzZWxmLnJlcXVlc3QoYmFzZVBhdGgsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnIsIHJvbGVOYW1lKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHNlbGYuZGlzYWJsZUZldGNoVG9rZW4gPSAhKGVyci5zdGF0dXNDb2RlID09PSA0MDEpO1xuICAgICAgICBjYihBV1MudXRpbC5lcnJvcihcbiAgICAgICAgICBlcnIsXG4gICAgICAgICAge1xuICAgICAgICAgICAgbWVzc2FnZTogJ0VDMiBNZXRhZGF0YSByb2xlTmFtZSByZXF1ZXN0IHJldHVybmVkIGVycm9yJ1xuICAgICAgICAgIH1cbiAgICAgICAgKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJvbGVOYW1lID0gcm9sZU5hbWUuc3BsaXQoJ1xcbicpWzBdOyAvLyBncmFiIGZpcnN0IChhbmQgb25seSkgcm9sZVxuICAgICAgc2VsZi5yZXF1ZXN0KGJhc2VQYXRoICsgcm9sZU5hbWUsIG9wdGlvbnMsIGZ1bmN0aW9uIChjcmVkRXJyLCBjcmVkRGF0YSkge1xuICAgICAgICBpZiAoY3JlZEVycikge1xuICAgICAgICAgIHNlbGYuZGlzYWJsZUZldGNoVG9rZW4gPSAhKGNyZWRFcnIuc3RhdHVzQ29kZSA9PT0gNDAxKTtcbiAgICAgICAgICBjYihBV1MudXRpbC5lcnJvcihcbiAgICAgICAgICAgIGNyZWRFcnIsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdFQzIgTWV0YWRhdGEgY3JlZHMgcmVxdWVzdCByZXR1cm5lZCBlcnJvcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgICApKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICB2YXIgY3JlZGVudGlhbHMgPSBKU09OLnBhcnNlKGNyZWREYXRhKTtcbiAgICAgICAgICBjYihudWxsLCBjcmVkZW50aWFscyk7XG4gICAgICAgIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICAgICAgICBjYihwYXJzZUVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExvYWRzIGEgc2V0IG9mIGNyZWRlbnRpYWxzIHN0b3JlZCBpbiB0aGUgaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZVxuICAgKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVyciwgY3JlZGVudGlhbHMpXG4gICAqICAgQ2FsbGVkIHdoZW4gY3JlZGVudGlhbHMgYXJlIGxvYWRlZCBmcm9tIHRoZSByZXNvdXJjZVxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIHNldFxuICAgKiAgIEBwYXJhbSBjcmVkZW50aWFscyBbT2JqZWN0XSB0aGUgcmF3IEpTT04gb2JqZWN0IGNvbnRhaW5pbmcgYWxsXG4gICAqICAgICBtZXRhZGF0YSBmcm9tIHRoZSBjcmVkZW50aWFscyByZXNvdXJjZVxuICAgKi9cbiAgbG9hZENyZWRlbnRpYWxzOiBmdW5jdGlvbiBsb2FkQ3JlZGVudGlhbHMoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5sb2FkQ3JlZGVudGlhbHNDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgaWYgKHNlbGYubG9hZENyZWRlbnRpYWxzQ2FsbGJhY2tzLmxlbmd0aCA+IDEpIHsgcmV0dXJuOyB9XG5cbiAgICBmdW5jdGlvbiBjYWxsYmFja3MoZXJyLCBjcmVkcykge1xuICAgICAgdmFyIGNiO1xuICAgICAgd2hpbGUgKChjYiA9IHNlbGYubG9hZENyZWRlbnRpYWxzQ2FsbGJhY2tzLnNoaWZ0KCkpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2IoZXJyLCBjcmVkcyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNlbGYuZGlzYWJsZUZldGNoVG9rZW4pIHtcbiAgICAgIHNlbGYuZmV0Y2hDcmVkZW50aWFscyh7fSwgY2FsbGJhY2tzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5mZXRjaE1ldGFkYXRhVG9rZW4oZnVuY3Rpb24odG9rZW5FcnJvciwgdG9rZW4pIHtcbiAgICAgICAgaWYgKHRva2VuRXJyb3IpIHtcbiAgICAgICAgICBpZiAodG9rZW5FcnJvci5jb2RlID09PSAnVGltZW91dEVycm9yJykge1xuICAgICAgICAgICAgc2VsZi5kaXNhYmxlRmV0Y2hUb2tlbiA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmICh0b2tlbkVycm9yLnJldHJ5YWJsZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY2FsbGJhY2tzKEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgICAgICB0b2tlbkVycm9yLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VDMiBNZXRhZGF0YSB0b2tlbiByZXF1ZXN0IHJldHVybmVkIGVycm9yJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9IGVsc2UgaWYgKHRva2VuRXJyb3Iuc3RhdHVzQ29kZSA9PT0gNDAwKSB7XG4gICAgICAgICAgICBjYWxsYmFja3MoQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgICAgIHRva2VuRXJyb3IsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnRUMyIE1ldGFkYXRhIHRva2VuIHJlcXVlc3QgcmV0dXJuZWQgNDAwJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG9wdGlvbnMgPSB7fTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgICAgICAgJ3gtYXdzLWVjMi1tZXRhZGF0YS10b2tlbic6IHRva2VuXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmZldGNoQ3JlZGVudGlhbHMob3B0aW9ucywgY2FsbGJhY2tzKTtcbiAgICAgIH0pO1xuXG4gICAgfVxuICB9XG59KTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBBV1MuTWV0YWRhdGFTZXJ2aWNlO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5yZXF1aXJlKCcuLi9tZXRhZGF0YV9zZXJ2aWNlJyk7XG5cbi8qKlxuICogUmVwcmVzZW50cyBjcmVkZW50aWFscyByZWNlaXZlZCBmcm9tIHRoZSBtZXRhZGF0YSBzZXJ2aWNlIG9uIGFuIEVDMiBpbnN0YW5jZS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGlzIGNsYXNzIHdpbGwgY29ubmVjdCB0byB0aGUgbWV0YWRhdGEgc2VydmljZSB1c2luZ1xuICoge0FXUy5NZXRhZGF0YVNlcnZpY2V9IGFuZCBhdHRlbXB0IHRvIGxvYWQgYW55IGF2YWlsYWJsZSBjcmVkZW50aWFscy4gSWYgaXRcbiAqIGNhbiBjb25uZWN0LCBhbmQgY3JlZGVudGlhbHMgYXJlIGF2YWlsYWJsZSwgdGhlc2Ugd2lsbCBiZSB1c2VkIHdpdGggemVyb1xuICogY29uZmlndXJhdGlvbi5cbiAqXG4gKiBUaGlzIGNyZWRlbnRpYWxzIGNsYXNzIHdpbGwgYnkgZGVmYXVsdCB0aW1lb3V0IGFmdGVyIDEgc2Vjb25kIG9mIGluYWN0aXZpdHlcbiAqIGFuZCByZXRyeSAzIHRpbWVzLlxuICogSWYgeW91ciByZXF1ZXN0cyB0byB0aGUgRUMyIG1ldGFkYXRhIHNlcnZpY2UgYXJlIHRpbWluZyBvdXQsIHlvdSBjYW4gaW5jcmVhc2VcbiAqIHRoZXNlIHZhbHVlcyBieSBjb25maWd1cmluZyB0aGVtIGRpcmVjdGx5OlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLkVDMk1ldGFkYXRhQ3JlZGVudGlhbHMoe1xuICogICBodHRwT3B0aW9uczogeyB0aW1lb3V0OiA1MDAwIH0sIC8vIDUgc2Vjb25kIHRpbWVvdXRcbiAqICAgbWF4UmV0cmllczogMTAsIC8vIHJldHJ5IDEwIHRpbWVzXG4gKiAgIHJldHJ5RGVsYXlPcHRpb25zOiB7IGJhc2U6IDIwMCB9LCAvLyBzZWUgQVdTLkNvbmZpZyBmb3IgaW5mb3JtYXRpb25cbiAqICAgbG9nZ2VyOiBjb25zb2xlIC8vIHNlZSBBV1MuQ29uZmlnIGZvciBpbmZvcm1hdGlvblxuICogfSk7XG4gKiBgYGBcbiAqXG4gKiBJZiB5b3VyIHJlcXVlc3RzIGFyZSB0aW1pbmcgb3V0IGluIGNvbm5lY3RpbmcgdG8gdGhlIG1ldGFkYXRhIHNlcnZpY2UsIHN1Y2hcbiAqIGFzIHdoZW4gdGVzdGluZyBvbiBhIGRldmVsb3BtZW50IG1hY2hpbmUsIHlvdSBjYW4gdXNlIHRoZSBjb25uZWN0VGltZW91dFxuICogb3B0aW9uLCBzcGVjaWZpZWQgaW4gbWlsbGlzZWNvbmRzLCB3aGljaCBhbHNvIGRlZmF1bHRzIHRvIDEgc2Vjb25kLlxuICpcbiAqIElmIHRoZSByZXF1ZXN0cyBmYWlsZWQgb3IgcmV0dXJucyBleHBpcmVkIGNyZWRlbnRpYWxzLCBpdCB3aWxsXG4gKiBleHRlbmQgdGhlIGV4cGlyYXRpb24gb2YgY3VycmVudCBjcmVkZW50aWFsLCB3aXRoIGEgd2FybmluZyBtZXNzYWdlLiBGb3IgbW9yZVxuICogaW5mb3JtYXRpb24sIHBsZWFzZSBnbyB0bzpcbiAqIGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9zZGtyZWYvbGF0ZXN0L2d1aWRlL2ZlYXR1cmUtc3RhdGljLWNyZWRlbnRpYWxzLmh0bWxcbiAqXG4gKiBAIWF0dHJpYnV0ZSBvcmlnaW5hbEV4cGlyYXRpb25cbiAqICAgQHJldHVybiBbRGF0ZV0gVGhlIG9wdGlvbmFsIG9yaWdpbmFsIGV4cGlyYXRpb24gb2YgdGhlIGN1cnJlbnQgY3JlZGVudGlhbC5cbiAqICAgSW4gY2FzZSBvZiBBV1Mgb3V0YWdlLCB0aGUgRUMyIG1ldGFkYXRhIHdpbGwgZXh0ZW5kIGV4cGlyYXRpb24gb2YgdGhlXG4gKiAgIGV4aXN0aW5nIGNyZWRlbnRpYWwuXG4gKlxuICogQHNlZSBBV1MuQ29uZmlnLnJldHJ5RGVsYXlPcHRpb25zXG4gKiBAc2VlIEFXUy5Db25maWcubG9nZ2VyXG4gKlxuICogQCFtYWNybyBub2Jyb3dzZXJcbiAqL1xuQVdTLkVDMk1ldGFkYXRhQ3JlZGVudGlhbHMgPSBBV1MudXRpbC5pbmhlcml0KEFXUy5DcmVkZW50aWFscywge1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gRUMyTWV0YWRhdGFDcmVkZW50aWFscyhvcHRpb25zKSB7XG4gICAgQVdTLkNyZWRlbnRpYWxzLmNhbGwodGhpcyk7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IEFXUy51dGlsLmNvcHkob3B0aW9ucykgOiB7fTtcbiAgICBvcHRpb25zID0gQVdTLnV0aWwubWVyZ2UoXG4gICAgICB7bWF4UmV0cmllczogdGhpcy5kZWZhdWx0TWF4UmV0cmllc30sIG9wdGlvbnMpO1xuICAgIGlmICghb3B0aW9ucy5odHRwT3B0aW9ucykgb3B0aW9ucy5odHRwT3B0aW9ucyA9IHt9O1xuICAgIG9wdGlvbnMuaHR0cE9wdGlvbnMgPSBBV1MudXRpbC5tZXJnZShcbiAgICAgIHt0aW1lb3V0OiB0aGlzLmRlZmF1bHRUaW1lb3V0LFxuICAgICAgICBjb25uZWN0VGltZW91dDogdGhpcy5kZWZhdWx0Q29ubmVjdFRpbWVvdXR9LFxuICAgICAgIG9wdGlvbnMuaHR0cE9wdGlvbnMpO1xuXG4gICAgdGhpcy5tZXRhZGF0YVNlcnZpY2UgPSBuZXcgQVdTLk1ldGFkYXRhU2VydmljZShvcHRpb25zKTtcbiAgICB0aGlzLmxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyIHx8IEFXUy5jb25maWcgJiYgQVdTLmNvbmZpZy5sb2dnZXI7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZGVmYXVsdFRpbWVvdXQ6IDEwMDAsXG5cbiAgIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGRlZmF1bHRDb25uZWN0VGltZW91dDogMTAwMCxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBkZWZhdWx0TWF4UmV0cmllczogMyxcblxuICAvKipcbiAgICogVGhlIG9yaWdpbmFsIGV4cGlyYXRpb24gb2YgdGhlIGN1cnJlbnQgY3JlZGVudGlhbC4gSW4gY2FzZSBvZiBBV1NcbiAgICogb3V0YWdlLCB0aGUgRUMyIG1ldGFkYXRhIHdpbGwgZXh0ZW5kIGV4cGlyYXRpb24gb2YgdGhlIGV4aXN0aW5nXG4gICAqIGNyZWRlbnRpYWwuXG4gICAqL1xuICBvcmlnaW5hbEV4cGlyYXRpb246IHVuZGVmaW5lZCxcblxuICAvKipcbiAgICogTG9hZHMgdGhlIGNyZWRlbnRpYWxzIGZyb20gdGhlIGluc3RhbmNlIG1ldGFkYXRhIHNlcnZpY2VcbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBDYWxsZWQgd2hlbiB0aGUgaW5zdGFuY2UgbWV0YWRhdGEgc2VydmljZSByZXNwb25kcyAob3IgZmFpbHMpLiBXaGVuXG4gICAqICAgdGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCBubyBlcnJvciwgaXQgbWVhbnMgdGhhdCB0aGUgY3JlZGVudGlhbHNcbiAgICogICBpbmZvcm1hdGlvbiBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGUgYGFjY2Vzc0tleUlkYCxcbiAgICogICBgc2VjcmV0QWNjZXNzS2V5YCwgYW5kIGBzZXNzaW9uVG9rZW5gIHByb3BlcnRpZXMpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKiBAc2VlIGdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIHRoaXMuY29hbGVzY2VSZWZyZXNoKGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLm1ldGFkYXRhU2VydmljZS5sb2FkQ3JlZGVudGlhbHMoZnVuY3Rpb24oZXJyLCBjcmVkcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoc2VsZi5oYXNMb2FkZWRDcmVkZW50aWFscygpKSB7XG4gICAgICAgICAgc2VsZi5leHRlbmRFeHBpcmF0aW9uSWZFeHBpcmVkKCk7XG4gICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnNldENyZWRlbnRpYWxzKGNyZWRzKTtcbiAgICAgICAgc2VsZi5leHRlbmRFeHBpcmF0aW9uSWZFeHBpcmVkKCk7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFdoZXRoZXIgdGhpcyBjcmVkZW50aWFsIGhhcyBiZWVuIGxvYWRlZC5cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBoYXNMb2FkZWRDcmVkZW50aWFsczogZnVuY3Rpb24gaGFzTG9hZGVkQ3JlZGVudGlhbHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuQWNjZXNzS2V5SWQgJiYgdGhpcy5zZWNyZXRBY2Nlc3NLZXk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGlmIGV4cGlyZWQsIGV4dGVuZCB0aGUgZXhwaXJhdGlvbiBieSAxNSBtaW51dGVzIGJhc2UgcGx1cyBhIGppdHRlciBvZiA1XG4gICAqIG1pbnV0ZXMgcmFuZ2UuXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZXh0ZW5kRXhwaXJhdGlvbklmRXhwaXJlZDogZnVuY3Rpb24gZXh0ZW5kRXhwaXJhdGlvbklmRXhwaXJlZCgpIHtcbiAgICBpZiAodGhpcy5uZWVkc1JlZnJlc2goKSkge1xuICAgICAgdGhpcy5vcmlnaW5hbEV4cGlyYXRpb24gPSB0aGlzLm9yaWdpbmFsRXhwaXJhdGlvbiB8fCB0aGlzLmV4cGlyZVRpbWU7XG4gICAgICB0aGlzLmV4cGlyZWQgPSBmYWxzZTtcbiAgICAgIHZhciBuZXh0VGltZW91dCA9IDE1ICogNjAgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1ICogNjApO1xuICAgICAgdmFyIGN1cnJlbnRUaW1lID0gQVdTLnV0aWwuZGF0ZS5nZXREYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgdGhpcy5leHBpcmVUaW1lID0gbmV3IERhdGUoY3VycmVudFRpbWUgKyBuZXh0VGltZW91dCAqIDEwMDApO1xuICAgICAgLy8gVE9ETzogYWRkIGRvYyBsaW5rO1xuICAgICAgdGhpcy5sb2dnZXIud2FybignQXR0ZW1wdGluZyBjcmVkZW50aWFsIGV4cGlyYXRpb24gZXh0ZW5zaW9uIGR1ZSB0byBhICdcbiAgICAgICAgICArICdjcmVkZW50aWFsIHNlcnZpY2UgYXZhaWxhYmlsaXR5IGlzc3VlLiBBIHJlZnJlc2ggb2YgdGhlc2UgJ1xuICAgICAgICAgICsgJ2NyZWRlbnRpYWxzIHdpbGwgYmUgYXR0ZW1wdGVkIGFnYWluIGF0ICcgKyB0aGlzLmV4cGlyZVRpbWVcbiAgICAgICAgICArICdcXG5Gb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHZpc2l0OiBodHRwczovL2RvY3MuYXdzLmFtYXpvbi5jb20vc2RrcmVmL2xhdGVzdC9ndWlkZS9mZWF0dXJlLXN0YXRpYy1jcmVkZW50aWFscy5odG1sJyk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGNyZWRlbnRpYWwgd2l0aCBuZXcgY3JlZGVudGlhbCByZXNwb25kZWQgZnJvbSBFQzIgbWV0YWRhdGFcbiAgICogc2VydmljZS5cbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzZXRDcmVkZW50aWFsczogZnVuY3Rpb24gc2V0Q3JlZGVudGlhbHMoY3JlZHMpIHtcbiAgICB2YXIgY3VycmVudFRpbWUgPSBBV1MudXRpbC5kYXRlLmdldERhdGUoKS5nZXRUaW1lKCk7XG4gICAgdmFyIGV4cGlyZVRpbWUgPSBuZXcgRGF0ZShjcmVkcy5FeHBpcmF0aW9uKTtcbiAgICB0aGlzLmV4cGlyZWQgPSBjdXJyZW50VGltZSA+PSBleHBpcmVUaW1lID8gdHJ1ZSA6IGZhbHNlO1xuICAgIHRoaXMubWV0YWRhdGEgPSBjcmVkcztcbiAgICB0aGlzLmFjY2Vzc0tleUlkID0gY3JlZHMuQWNjZXNzS2V5SWQ7XG4gICAgdGhpcy5zZWNyZXRBY2Nlc3NLZXkgPSBjcmVkcy5TZWNyZXRBY2Nlc3NLZXk7XG4gICAgdGhpcy5zZXNzaW9uVG9rZW4gPSBjcmVkcy5Ub2tlbjtcbiAgICB0aGlzLmV4cGlyZVRpbWUgPSBleHBpcmVUaW1lO1xuICB9XG59KTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpLFxuICBFTlZfUkVMQVRJVkVfVVJJID0gJ0FXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJJyxcbiAgRU5WX0ZVTExfVVJJID0gJ0FXU19DT05UQUlORVJfQ1JFREVOVElBTFNfRlVMTF9VUkknLFxuICBFTlZfQVVUSF9UT0tFTiA9ICdBV1NfQ09OVEFJTkVSX0FVVEhPUklaQVRJT05fVE9LRU4nLFxuICBGVUxMX1VSSV9VTlJFU1RSSUNURURfUFJPVE9DT0xTID0gWydodHRwczonXSxcbiAgRlVMTF9VUklfQUxMT1dFRF9QUk9UT0NPTFMgPSBbJ2h0dHA6JywgJ2h0dHBzOiddLFxuICBGVUxMX1VSSV9BTExPV0VEX0hPU1ROQU1FUyA9IFsnbG9jYWxob3N0JywgJzEyNy4wLjAuMSddLFxuICBSRUxBVElWRV9VUklfSE9TVCA9ICcxNjkuMjU0LjE3MC4yJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGNyZWRlbnRpYWxzIHJlY2VpdmVkIGZyb20gc3BlY2lmaWVkIFVSSS5cbiAqXG4gKiBUaGlzIGNsYXNzIHdpbGwgcmVxdWVzdCByZWZyZXNoYWJsZSBjcmVkZW50aWFscyBmcm9tIHRoZSByZWxhdGl2ZSBVUklcbiAqIHNwZWNpZmllZCBieSB0aGUgQVdTX0NPTlRBSU5FUl9DUkVERU5USUFMU19SRUxBVElWRV9VUkkgb3IgdGhlXG4gKiBBV1NfQ09OVEFJTkVSX0NSRURFTlRJQUxTX0ZVTExfVVJJIGVudmlyb25tZW50IHZhcmlhYmxlLiBJZiB2YWxpZCBjcmVkZW50aWFsc1xuICogYXJlIHJldHVybmVkIGluIHRoZSByZXNwb25zZSwgdGhlc2Ugd2lsbCBiZSB1c2VkIHdpdGggemVybyBjb25maWd1cmF0aW9uLlxuICpcbiAqIFRoaXMgY3JlZGVudGlhbHMgY2xhc3Mgd2lsbCBieSBkZWZhdWx0IHRpbWVvdXQgYWZ0ZXIgMSBzZWNvbmQgb2YgaW5hY3Rpdml0eVxuICogYW5kIHJldHJ5IDMgdGltZXMuXG4gKiBJZiB5b3VyIHJlcXVlc3RzIHRvIHRoZSByZWxhdGl2ZSBVUkkgYXJlIHRpbWluZyBvdXQsIHlvdSBjYW4gaW5jcmVhc2VcbiAqIHRoZSB2YWx1ZSBieSBjb25maWd1cmluZyB0aGVtIGRpcmVjdGx5OlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBuZXcgQVdTLlJlbW90ZUNyZWRlbnRpYWxzKHtcbiAqICAgaHR0cE9wdGlvbnM6IHsgdGltZW91dDogNTAwMCB9LCAvLyA1IHNlY29uZCB0aW1lb3V0XG4gKiAgIG1heFJldHJpZXM6IDEwLCAvLyByZXRyeSAxMCB0aW1lc1xuICogICByZXRyeURlbGF5T3B0aW9uczogeyBiYXNlOiAyMDAgfSAvLyBzZWUgQVdTLkNvbmZpZyBmb3IgaW5mb3JtYXRpb25cbiAqIH0pO1xuICogYGBgXG4gKlxuICogQHNlZSBBV1MuQ29uZmlnLnJldHJ5RGVsYXlPcHRpb25zXG4gKlxuICogQCFtYWNybyBub2Jyb3dzZXJcbiAqL1xuQVdTLlJlbW90ZUNyZWRlbnRpYWxzID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuQ3JlZGVudGlhbHMsIHtcbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFJlbW90ZUNyZWRlbnRpYWxzKG9wdGlvbnMpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IEFXUy51dGlsLmNvcHkob3B0aW9ucykgOiB7fTtcbiAgICBpZiAoIW9wdGlvbnMuaHR0cE9wdGlvbnMpIG9wdGlvbnMuaHR0cE9wdGlvbnMgPSB7fTtcbiAgICBvcHRpb25zLmh0dHBPcHRpb25zID0gQVdTLnV0aWwubWVyZ2UoXG4gICAgICB0aGlzLmh0dHBPcHRpb25zLCBvcHRpb25zLmh0dHBPcHRpb25zKTtcbiAgICBBV1MudXRpbC51cGRhdGUodGhpcywgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaHR0cE9wdGlvbnM6IHsgdGltZW91dDogMTAwMCB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIG1heFJldHJpZXM6IDMsXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgaXNDb25maWd1cmVkRm9yRWNzQ3JlZGVudGlhbHM6IGZ1bmN0aW9uIGlzQ29uZmlndXJlZEZvckVjc0NyZWRlbnRpYWxzKCkge1xuICAgIHJldHVybiBCb29sZWFuKFxuICAgICAgICBwcm9jZXNzICYmXG4gICAgICAgIHByb2Nlc3MuZW52ICYmXG4gICAgICAgIChwcm9jZXNzLmVudltFTlZfUkVMQVRJVkVfVVJJXSB8fCBwcm9jZXNzLmVudltFTlZfRlVMTF9VUkldKVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZ2V0RUNTRnVsbFVyaTogZnVuY3Rpb24gZ2V0RUNTRnVsbFVyaSgpIHtcbiAgICBpZiAocHJvY2VzcyAmJiBwcm9jZXNzLmVudikge1xuICAgICAgdmFyIHJlbGF0aXZlID0gcHJvY2Vzcy5lbnZbRU5WX1JFTEFUSVZFX1VSSV0sXG4gICAgICAgICAgZnVsbCA9IHByb2Nlc3MuZW52W0VOVl9GVUxMX1VSSV07XG4gICAgICBpZiAocmVsYXRpdmUpIHtcbiAgICAgICAgcmV0dXJuICdodHRwOi8vJyArIFJFTEFUSVZFX1VSSV9IT1NUICsgcmVsYXRpdmU7XG4gICAgICB9IGVsc2UgaWYgKGZ1bGwpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9IEFXUy51dGlsLnVybFBhcnNlKGZ1bGwpO1xuICAgICAgICBpZiAoRlVMTF9VUklfQUxMT1dFRF9QUk9UT0NPTFMuaW5kZXhPZihwYXJzZWQucHJvdG9jb2wpIDwgMCkge1xuICAgICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgICAgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBwcm90b2NvbDogIEFXUy5SZW1vdGVDcmVkZW50aWFscyBzdXBwb3J0cyAnXG4gICAgICAgICAgICAgICsgRlVMTF9VUklfQUxMT1dFRF9QUk9UT0NPTFMuam9pbignLCcpICsgJyBvbmx5OyAnXG4gICAgICAgICAgICAgICsgcGFyc2VkLnByb3RvY29sICsgJyByZXF1ZXN0ZWQuJyksXG4gICAgICAgICAgICB7IGNvZGU6ICdFQ1NDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoRlVMTF9VUklfVU5SRVNUUklDVEVEX1BST1RPQ09MUy5pbmRleE9mKHBhcnNlZC5wcm90b2NvbCkgPCAwICYmXG4gICAgICAgICAgICBGVUxMX1VSSV9BTExPV0VEX0hPU1ROQU1FUy5pbmRleE9mKHBhcnNlZC5ob3N0bmFtZSkgPCAwKSB7XG4gICAgICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgICBuZXcgRXJyb3IoJ1Vuc3VwcG9ydGVkIGhvc3RuYW1lOiBBV1MuUmVtb3RlQ3JlZGVudGlhbHMgb25seSBzdXBwb3J0cyAnXG4gICAgICAgICAgICAgICsgRlVMTF9VUklfQUxMT1dFRF9IT1NUTkFNRVMuam9pbignLCcpICsgJyBmb3IgJyArIHBhcnNlZC5wcm90b2NvbCArICc7ICdcbiAgICAgICAgICAgICAgKyBwYXJzZWQucHJvdG9jb2wgKyAnLy8nICsgcGFyc2VkLmhvc3RuYW1lICsgJyByZXF1ZXN0ZWQuJyksXG4gICAgICAgICAgICB7IGNvZGU6ICdFQ1NDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZnVsbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignVmFyaWFibGUgJyArIEVOVl9SRUxBVElWRV9VUkkgKyAnIG9yICcgKyBFTlZfRlVMTF9VUkkgK1xuICAgICAgICAgICAgJyBtdXN0IGJlIHNldCB0byB1c2UgQVdTLlJlbW90ZUNyZWRlbnRpYWxzLicpLFxuICAgICAgICAgIHsgY29kZTogJ0VDU0NyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICBuZXcgRXJyb3IoJ05vIHByb2Nlc3MgaW5mbyBhdmFpbGFibGUnKSxcbiAgICAgICAgeyBjb2RlOiAnRUNTQ3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUnIH1cbiAgICAgICk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGdldEVDU0F1dGhUb2tlbjogZnVuY3Rpb24gZ2V0RUNTQXV0aFRva2VuKCkge1xuICAgIGlmIChwcm9jZXNzICYmIHByb2Nlc3MuZW52ICYmIHByb2Nlc3MuZW52W0VOVl9GVUxMX1VSSV0pIHtcbiAgICAgIHJldHVybiBwcm9jZXNzLmVudltFTlZfQVVUSF9UT0tFTl07XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNyZWRzRm9ybWF0SXNWYWxpZDogZnVuY3Rpb24gY3JlZHNGb3JtYXRJc1ZhbGlkKGNyZWREYXRhKSB7XG4gICAgcmV0dXJuICghIWNyZWREYXRhLmFjY2Vzc0tleUlkICYmICEhY3JlZERhdGEuc2VjcmV0QWNjZXNzS2V5ICYmXG4gICAgICAhIWNyZWREYXRhLnNlc3Npb25Ub2tlbiAmJiAhIWNyZWREYXRhLmV4cGlyZVRpbWUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGZvcm1hdENyZWRzOiBmdW5jdGlvbiBmb3JtYXRDcmVkcyhjcmVkRGF0YSkge1xuICAgIGlmICghIWNyZWREYXRhLmNyZWRlbnRpYWxzKSB7XG4gICAgICBjcmVkRGF0YSA9IGNyZWREYXRhLmNyZWRlbnRpYWxzO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBleHBpcmVkOiBmYWxzZSxcbiAgICAgIGFjY2Vzc0tleUlkOiBjcmVkRGF0YS5hY2Nlc3NLZXlJZCB8fCBjcmVkRGF0YS5BY2Nlc3NLZXlJZCxcbiAgICAgIHNlY3JldEFjY2Vzc0tleTogY3JlZERhdGEuc2VjcmV0QWNjZXNzS2V5IHx8IGNyZWREYXRhLlNlY3JldEFjY2Vzc0tleSxcbiAgICAgIHNlc3Npb25Ub2tlbjogY3JlZERhdGEuc2Vzc2lvblRva2VuIHx8IGNyZWREYXRhLlRva2VuLFxuICAgICAgZXhwaXJlVGltZTogbmV3IERhdGUoY3JlZERhdGEuZXhwaXJhdGlvbiB8fCBjcmVkRGF0YS5FeHBpcmF0aW9uKVxuICAgIH07XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgcmVxdWVzdDogZnVuY3Rpb24gcmVxdWVzdCh1cmwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGh0dHBSZXF1ZXN0ID0gbmV3IEFXUy5IdHRwUmVxdWVzdCh1cmwpO1xuICAgIGh0dHBSZXF1ZXN0Lm1ldGhvZCA9ICdHRVQnO1xuICAgIGh0dHBSZXF1ZXN0LmhlYWRlcnMuQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xuICAgIHZhciB0b2tlbiA9IHRoaXMuZ2V0RUNTQXV0aFRva2VuKCk7XG4gICAgaWYgKHRva2VuKSB7XG4gICAgICBodHRwUmVxdWVzdC5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSB0b2tlbjtcbiAgICB9XG4gICAgQVdTLnV0aWwuaGFuZGxlUmVxdWVzdFdpdGhSZXRyaWVzKGh0dHBSZXF1ZXN0LCB0aGlzLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBjcmVkZW50aWFscyBmcm9tIHRoZSByZWxhdGl2ZSBVUkkgc3BlY2lmaWVkIGJ5IGNvbnRhaW5lclxuICAgKlxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyKVxuICAgKiAgIENhbGxlZCB3aGVuIHRoZSByZXF1ZXN0IHRvIHRoZSByZWxhdGl2ZSBVUkkgcmVzcG9uZHMgKG9yIGZhaWxzKS4gV2hlblxuICAgKiAgIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIGl0IG1lYW5zIHRoYXQgdGhlIGNyZWRlbnRpYWxzXG4gICAqICAgaW5mb3JtYXRpb24gaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlIGBhY2Nlc3NLZXlJZGAsXG4gICAqICAgYHNlY3JldEFjY2Vzc0tleWAsIGBzZXNzaW9uVG9rZW5gLCBhbmQgYGV4cGlyZVRpbWVgIHByb3BlcnRpZXMpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKiBAc2VlIGdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIHRoaXMuY29hbGVzY2VSZWZyZXNoKGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBsb2FkOiBmdW5jdGlvbiBsb2FkKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBmdWxsVXJpO1xuXG4gICAgdHJ5IHtcbiAgICAgIGZ1bGxVcmkgPSB0aGlzLmdldEVDU0Z1bGxVcmkoKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZXF1ZXN0KGZ1bGxVcmksIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBkYXRhID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgICAgICB2YXIgY3JlZHMgPSBzZWxmLmZvcm1hdENyZWRzKGRhdGEpO1xuICAgICAgICAgIGlmICghc2VsZi5jcmVkc0Zvcm1hdElzVmFsaWQoY3JlZHMpKSB7XG4gICAgICAgICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihcbiAgICAgICAgICAgICAgbmV3IEVycm9yKCdSZXNwb25zZSBkYXRhIGlzIG5vdCBpbiB2YWxpZCBmb3JtYXQnKSxcbiAgICAgICAgICAgICAgeyBjb2RlOiAnRUNTQ3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUnIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIEFXUy51dGlsLnVwZGF0ZShzZWxmLCBjcmVkcyk7XG4gICAgICAgIH0gY2F0Y2ggKGRhdGFFcnJvcikge1xuICAgICAgICAgIGVyciA9IGRhdGFFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2FsbGJhY2soZXJyLCBjcmVkcyk7XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5cbi8qKlxuICogUmVwcmVzZW50cyBjcmVkZW50aWFscyByZWNlaXZlZCBmcm9tIHJlbGF0aXZlIFVSSSBzcGVjaWZpZWQgaW4gdGhlIEVDUyBjb250YWluZXIuXG4gKlxuICogVGhpcyBjbGFzcyB3aWxsIHJlcXVlc3QgcmVmcmVzaGFibGUgY3JlZGVudGlhbHMgZnJvbSB0aGUgcmVsYXRpdmUgVVJJXG4gKiBzcGVjaWZpZWQgYnkgdGhlIEFXU19DT05UQUlORVJfQ1JFREVOVElBTFNfUkVMQVRJVkVfVVJJIG9yIHRoZVxuICogQVdTX0NPTlRBSU5FUl9DUkVERU5USUFMU19GVUxMX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZS4gSWYgdmFsaWQgY3JlZGVudGlhbHNcbiAqIGFyZSByZXR1cm5lZCBpbiB0aGUgcmVzcG9uc2UsIHRoZXNlIHdpbGwgYmUgdXNlZCB3aXRoIHplcm8gY29uZmlndXJhdGlvbi5cbiAqXG4gKiBUaGlzIGNyZWRlbnRpYWxzIGNsYXNzIHdpbGwgYnkgZGVmYXVsdCB0aW1lb3V0IGFmdGVyIDEgc2Vjb25kIG9mIGluYWN0aXZpdHlcbiAqIGFuZCByZXRyeSAzIHRpbWVzLlxuICogSWYgeW91ciByZXF1ZXN0cyB0byB0aGUgcmVsYXRpdmUgVVJJIGFyZSB0aW1pbmcgb3V0LCB5b3UgY2FuIGluY3JlYXNlXG4gKiB0aGUgdmFsdWUgYnkgY29uZmlndXJpbmcgdGhlbSBkaXJlY3RseTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gbmV3IEFXUy5FQ1NDcmVkZW50aWFscyh7XG4gKiAgIGh0dHBPcHRpb25zOiB7IHRpbWVvdXQ6IDUwMDAgfSwgLy8gNSBzZWNvbmQgdGltZW91dFxuICogICBtYXhSZXRyaWVzOiAxMCwgLy8gcmV0cnkgMTAgdGltZXNcbiAqICAgcmV0cnlEZWxheU9wdGlvbnM6IHsgYmFzZTogMjAwIH0gLy8gc2VlIEFXUy5Db25maWcgZm9yIGluZm9ybWF0aW9uXG4gKiB9KTtcbiAqIGBgYFxuICpcbiAqIEBzZWUgQVdTLkNvbmZpZy5yZXRyeURlbGF5T3B0aW9uc1xuICpcbiAqIEAhbWFjcm8gbm9icm93c2VyXG4gKi9cbkFXUy5FQ1NDcmVkZW50aWFscyA9IEFXUy5SZW1vdGVDcmVkZW50aWFscztcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgY3JlZGVudGlhbHMgZnJvbSB0aGUgZW52aXJvbm1lbnQuXG4gKlxuICogQnkgZGVmYXVsdCwgdGhpcyBjbGFzcyB3aWxsIGxvb2sgZm9yIHRoZSBtYXRjaGluZyBlbnZpcm9ubWVudCB2YXJpYWJsZXNcbiAqIHByZWZpeGVkIGJ5IGEgZ2l2ZW4ge2VudlByZWZpeH0uIFRoZSB1bi1wcmVmaXhlZCBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lc1xuICogZm9yIGVhY2ggY3JlZGVudGlhbCB2YWx1ZSBpcyBsaXN0ZWQgYmVsb3c6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogYWNjZXNzS2V5SWQ6IEFDQ0VTU19LRVlfSURcbiAqIHNlY3JldEFjY2Vzc0tleTogU0VDUkVUX0FDQ0VTU19LRVlcbiAqIHNlc3Npb25Ub2tlbjogU0VTU0lPTl9UT0tFTlxuICogYGBgXG4gKlxuICogV2l0aCB0aGUgZGVmYXVsdCBwcmVmaXggb2YgJ0FXUycsIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZXMgd291bGQgYmU6XG4gKlxuICogICAgIEFXU19BQ0NFU1NfS0VZX0lELCBBV1NfU0VDUkVUX0FDQ0VTU19LRVksIEFXU19TRVNTSU9OX1RPS0VOXG4gKlxuICogQCFhdHRyaWJ1dGUgZW52UHJlZml4XG4gKiAgIEByZWFkb25seVxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBwcmVmaXggZm9yIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBuYW1lcyBleGNsdWRpbmdcbiAqICAgICB0aGUgc2VwYXJhdGluZyB1bmRlcnNjb3JlICgnXycpLlxuICovXG5BV1MuRW52aXJvbm1lbnRDcmVkZW50aWFscyA9IEFXUy51dGlsLmluaGVyaXQoQVdTLkNyZWRlbnRpYWxzLCB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgRW52aXJvbm1lbnRDcmVkZW50aWFscyBjbGFzcyB3aXRoIGEgZ2l2ZW4gdmFyaWFibGVcbiAgICogcHJlZml4IHtlbnZQcmVmaXh9LiBGb3IgZXhhbXBsZSwgdG8gbG9hZCBjcmVkZW50aWFscyB1c2luZyB0aGUgJ0FXUydcbiAgICogcHJlZml4OlxuICAgKlxuICAgKiBgYGBqYXZhc2NyaXB0XG4gICAqIHZhciBjcmVkcyA9IG5ldyBBV1MuRW52aXJvbm1lbnRDcmVkZW50aWFscygnQVdTJyk7XG4gICAqIGNyZWRzLmFjY2Vzc0tleUlkID09ICdBS0lEJyAvLyBmcm9tIEFXU19BQ0NFU1NfS0VZX0lEIGVudiB2YXJcbiAgICogYGBgXG4gICAqXG4gICAqIEBwYXJhbSBlbnZQcmVmaXggW1N0cmluZ10gdGhlIHByZWZpeCB0byB1c2UgKGUuZy4sICdBV1MnKSBmb3IgZW52aXJvbm1lbnRcbiAgICogICB2YXJpYWJsZXMuIERvIG5vdCBpbmNsdWRlIHRoZSBzZXBhcmF0aW5nIHVuZGVyc2NvcmUuXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gRW52aXJvbm1lbnRDcmVkZW50aWFscyhlbnZQcmVmaXgpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcbiAgICB0aGlzLmVudlByZWZpeCA9IGVudlByZWZpeDtcbiAgICB0aGlzLmdldChmdW5jdGlvbigpIHt9KTtcbiAgfSxcblxuICAvKipcbiAgICogTG9hZHMgY3JlZGVudGlhbHMgZnJvbSB0aGUgZW52aXJvbm1lbnQgdXNpbmcgdGhlIHByZWZpeGVkXG4gICAqIGVudmlyb25tZW50IHZhcmlhYmxlcy5cbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBDYWxsZWQgYWZ0ZXIgdGhlIChwcmVmaXhlZCkgQUNDRVNTX0tFWV9JRCwgU0VDUkVUX0FDQ0VTU19LRVksIGFuZFxuICAgKiAgIFNFU1NJT05fVE9LRU4gZW52aXJvbm1lbnQgdmFyaWFibGVzIGFyZSByZWFkLiBXaGVuIHRoaXMgY2FsbGJhY2sgaXNcbiAgICogICBjYWxsZWQgd2l0aCBubyBlcnJvciwgaXQgbWVhbnMgdGhhdCB0aGUgY3JlZGVudGlhbHMgaW5mb3JtYXRpb24gaGFzXG4gICAqICAgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGUgYGFjY2Vzc0tleUlkYCwgYHNlY3JldEFjY2Vzc0tleWAsXG4gICAqICAgYW5kIGBzZXNzaW9uVG9rZW5gIHByb3BlcnRpZXMpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKiBAc2VlIGdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIGNhbGxiYWNrID0gQVdTLnV0aWwuZm4uY2FsbGJhY2s7XG5cbiAgICBpZiAoIXByb2Nlc3MgfHwgIXByb2Nlc3MuZW52KSB7XG4gICAgICBjYWxsYmFjayhBV1MudXRpbC5lcnJvcihcbiAgICAgICAgbmV3IEVycm9yKCdObyBwcm9jZXNzIGluZm8gb3IgZW52aXJvbm1lbnQgdmFyaWFibGVzIGF2YWlsYWJsZScpLFxuICAgICAgICB7IGNvZGU6ICdFbnZpcm9ubWVudENyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgICApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFsnQUNDRVNTX0tFWV9JRCcsICdTRUNSRVRfQUNDRVNTX0tFWScsICdTRVNTSU9OX1RPS0VOJ107XG4gICAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcHJlZml4ID0gJyc7XG4gICAgICBpZiAodGhpcy5lbnZQcmVmaXgpIHByZWZpeCA9IHRoaXMuZW52UHJlZml4ICsgJ18nO1xuICAgICAgdmFsdWVzW2ldID0gcHJvY2Vzcy5lbnZbcHJlZml4ICsga2V5c1tpXV07XG4gICAgICBpZiAoIXZhbHVlc1tpXSAmJiBrZXlzW2ldICE9PSAnU0VTU0lPTl9UT0tFTicpIHtcbiAgICAgICAgY2FsbGJhY2soQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgbmV3IEVycm9yKCdWYXJpYWJsZSAnICsgcHJlZml4ICsga2V5c1tpXSArICcgbm90IHNldC4nKSxcbiAgICAgICAgeyBjb2RlOiAnRW52aXJvbm1lbnRDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgICApKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuZXhwaXJlZCA9IGZhbHNlO1xuICAgIEFXUy5DcmVkZW50aWFscy5hcHBseSh0aGlzLCB2YWx1ZXMpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cblxufSk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIGNyZWRlbnRpYWxzIGZyb20gYSBKU09OIGZpbGUgb24gZGlzay5cbiAqIElmIHRoZSBjcmVkZW50aWFscyBleHBpcmUsIHRoZSBTREsgY2FuIHtyZWZyZXNofSB0aGUgY3JlZGVudGlhbHNcbiAqIGZyb20gdGhlIGZpbGUuXG4gKlxuICogVGhlIGZvcm1hdCBvZiB0aGUgZmlsZSBzaG91bGQgYmUgc2ltaWxhciB0byB0aGUgb3B0aW9ucyBwYXNzZWQgdG9cbiAqIHtBV1MuQ29uZmlnfTpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB7YWNjZXNzS2V5SWQ6ICdha2lkJywgc2VjcmV0QWNjZXNzS2V5OiAnc2VjcmV0Jywgc2Vzc2lvblRva2VuOiAnb3B0aW9uYWwnfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGUgTG9hZGluZyBjcmVkZW50aWFscyBmcm9tIGRpc2tcbiAqICAgdmFyIGNyZWRzID0gbmV3IEFXUy5GaWxlU3lzdGVtQ3JlZGVudGlhbHMoJy4vY29uZmlndXJhdGlvbi5qc29uJyk7XG4gKiAgIGNyZWRzLmFjY2Vzc0tleUlkID09ICdBS0lEJ1xuICpcbiAqIEAhYXR0cmlidXRlIGZpbGVuYW1lXG4gKiAgIEByZWFkb25seVxuICogICBAcmV0dXJuIFtTdHJpbmddIHRoZSBwYXRoIHRvIHRoZSBKU09OIGZpbGUgb24gZGlzayBjb250YWluaW5nIHRoZVxuICogICAgIGNyZWRlbnRpYWxzLlxuICogQCFtYWNybyBub2Jyb3dzZXJcbiAqL1xuQVdTLkZpbGVTeXN0ZW1DcmVkZW50aWFscyA9IEFXUy51dGlsLmluaGVyaXQoQVdTLkNyZWRlbnRpYWxzLCB7XG5cbiAgLyoqXG4gICAqIEBvdmVybG9hZCBBV1MuRmlsZVN5c3RlbUNyZWRlbnRpYWxzKGZpbGVuYW1lKVxuICAgKiAgIENyZWF0ZXMgYSBuZXcgRmlsZVN5c3RlbUNyZWRlbnRpYWxzIG9iamVjdCBmcm9tIGEgZmlsZW5hbWVcbiAgICpcbiAgICogICBAcGFyYW0gZmlsZW5hbWUgW1N0cmluZ10gdGhlIHBhdGggb24gZGlzayB0byB0aGUgSlNPTiBmaWxlIHRvIGxvYWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gRmlsZVN5c3RlbUNyZWRlbnRpYWxzKGZpbGVuYW1lKSB7XG4gICAgQVdTLkNyZWRlbnRpYWxzLmNhbGwodGhpcyk7XG4gICAgdGhpcy5maWxlbmFtZSA9IGZpbGVuYW1lO1xuICAgIHRoaXMuZ2V0KGZ1bmN0aW9uKCkge30pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBMb2FkcyB0aGUgY3JlZGVudGlhbHMgZnJvbSB0aGUge2ZpbGVuYW1lfSBvbiBkaXNrLlxuICAgKlxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyKVxuICAgKiAgIENhbGxlZCBhZnRlciB0aGUgSlNPTiBmaWxlIG9uIGRpc2sgaXMgcmVhZCBhbmQgcGFyc2VkLiBXaGVuIHRoaXMgY2FsbGJhY2tcbiAgICogICBpcyBjYWxsZWQgd2l0aCBubyBlcnJvciwgaXQgbWVhbnMgdGhhdCB0aGUgY3JlZGVudGlhbHMgaW5mb3JtYXRpb25cbiAgICogICBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGUgYGFjY2Vzc0tleUlkYCwgYHNlY3JldEFjY2Vzc0tleWAsXG4gICAqICAgYW5kIGBzZXNzaW9uVG9rZW5gIHByb3BlcnRpZXMpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKiBAc2VlIGdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIGNhbGxiYWNrID0gQVdTLnV0aWwuZm4uY2FsbGJhY2s7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBjcmVkcyA9IEpTT04ucGFyc2UoQVdTLnV0aWwucmVhZEZpbGVTeW5jKHRoaXMuZmlsZW5hbWUpKTtcbiAgICAgIEFXUy5DcmVkZW50aWFscy5jYWxsKHRoaXMsIGNyZWRzKTtcbiAgICAgIGlmICghdGhpcy5hY2Nlc3NLZXlJZCB8fCAhdGhpcy5zZWNyZXRBY2Nlc3NLZXkpIHtcbiAgICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgbmV3IEVycm9yKCdDcmVkZW50aWFscyBub3Qgc2V0IGluICcgKyB0aGlzLmZpbGVuYW1lKSxcbiAgICAgICAgeyBjb2RlOiAnRmlsZVN5c3RlbUNyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICB0aGlzLmV4cGlyZWQgPSBmYWxzZTtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgfVxuXG59KTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIFNUUyA9IHJlcXVpcmUoJy4uLy4uL2NsaWVudHMvc3RzJyk7XG52YXIgaW5pTG9hZGVyID0gQVdTLnV0aWwuaW5pTG9hZGVyO1xuXG52YXIgQVNTVU1FX1JPTEVfREVGQVVMVF9SRUdJT04gPSAndXMtZWFzdC0xJztcblxuLyoqXG4gKiBSZXByZXNlbnRzIGNyZWRlbnRpYWxzIGxvYWRlZCBmcm9tIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlXG4gKiAoZGVmYXVsdGluZyB0byB+Ly5hd3MvY3JlZGVudGlhbHMgb3IgZGVmaW5lZCBieSB0aGVcbiAqIGBBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEVgIGVudmlyb25tZW50IHZhcmlhYmxlKS5cbiAqXG4gKiAjIyBVc2luZyB0aGUgc2hhcmVkIGNyZWRlbnRpYWxzIGZpbGVcbiAqXG4gKiBUaGlzIHByb3ZpZGVyIGlzIGNoZWNrZWQgYnkgZGVmYXVsdCBpbiB0aGUgTm9kZS5qcyBlbnZpcm9ubWVudC4gVG8gdXNlIHRoZVxuICogY3JlZGVudGlhbHMgZmlsZSBwcm92aWRlciwgc2ltcGx5IGFkZCB5b3VyIGFjY2VzcyBhbmQgc2VjcmV0IGtleXMgdG8gdGhlXG4gKiB+Ly5hd3MvY3JlZGVudGlhbHMgZmlsZSBpbiB0aGUgZm9sbG93aW5nIGZvcm1hdDpcbiAqXG4gKiAgICAgW2RlZmF1bHRdXG4gKiAgICAgYXdzX2FjY2Vzc19rZXlfaWQgPSBBS0lELi4uXG4gKiAgICAgYXdzX3NlY3JldF9hY2Nlc3Nfa2V5ID0gWU9VUl9TRUNSRVRfS0VZXG4gKlxuICogIyMgVXNpbmcgY3VzdG9tIHByb2ZpbGVzXG4gKlxuICogVGhlIFNESyBzdXBwb3J0cyBsb2FkaW5nIGNyZWRlbnRpYWxzIGZvciBzZXBhcmF0ZSBwcm9maWxlcy4gVGhpcyBjYW4gYmUgZG9uZVxuICogaW4gdHdvIHdheXM6XG4gKlxuICogMS4gU2V0IHRoZSBgQVdTX1BST0ZJTEVgIGVudmlyb25tZW50IHZhcmlhYmxlIGluIHlvdXIgcHJvY2VzcyBwcmlvciB0b1xuICogICAgbG9hZGluZyB0aGUgU0RLLlxuICogMi4gRGlyZWN0bHkgbG9hZCB0aGUgQVdTLlNoYXJlZEluaUZpbGVDcmVkZW50aWFscyBwcm92aWRlcjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgY3JlZHMgPSBuZXcgQVdTLlNoYXJlZEluaUZpbGVDcmVkZW50aWFscyh7cHJvZmlsZTogJ215cHJvZmlsZSd9KTtcbiAqIEFXUy5jb25maWcuY3JlZGVudGlhbHMgPSBjcmVkcztcbiAqIGBgYFxuICpcbiAqIEAhbWFjcm8gbm9icm93c2VyXG4gKi9cbkFXUy5TaGFyZWRJbmlGaWxlQ3JlZGVudGlhbHMgPSBBV1MudXRpbC5pbmhlcml0KEFXUy5DcmVkZW50aWFscywge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTaGFyZWRJbmlGaWxlQ3JlZGVudGlhbHMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gb3B0aW9ucyBbbWFwXSBhIHNldCBvZiBvcHRpb25zXG4gICAqIEBvcHRpb24gb3B0aW9ucyBwcm9maWxlIFtTdHJpbmddIChBV1NfUFJPRklMRSBlbnYgdmFyIG9yICdkZWZhdWx0JylcbiAgICogICB0aGUgbmFtZSBvZiB0aGUgcHJvZmlsZSB0byBsb2FkLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgZmlsZW5hbWUgW1N0cmluZ10gKCd+Ly5hd3MvY3JlZGVudGlhbHMnIG9yIGRlZmluZWQgYnlcbiAgICogICBBV1NfU0hBUkVEX0NSRURFTlRJQUxTX0ZJTEUgcHJvY2VzcyBlbnYgdmFyKVxuICAgKiAgIHRoZSBmaWxlbmFtZSB0byB1c2Ugd2hlbiBsb2FkaW5nIGNyZWRlbnRpYWxzLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgZGlzYWJsZUFzc3VtZVJvbGUgW0Jvb2xlYW5dIChmYWxzZSkgVHJ1ZSB0byBkaXNhYmxlXG4gICAqICAgc3VwcG9ydCBmb3IgcHJvZmlsZXMgdGhhdCBhc3N1bWUgYW4gSUFNIHJvbGUuIElmIHRydWUsIGFuZCBhbiBhc3N1bWVcbiAgICogICByb2xlIHByb2ZpbGUgaXMgc2VsZWN0ZWQsIGFuIGVycm9yIGlzIHJhaXNlZC5cbiAgICogQG9wdGlvbiBvcHRpb25zIHByZWZlclN0YXRpY0NyZWRlbnRpYWxzIFtCb29sZWFuXSAoZmFsc2UpIFRydWUgdG9cbiAgICogICBwcmVmZXIgc3RhdGljIGNyZWRlbnRpYWxzIHRvIHJvbGVfYXJuIGlmIGJvdGggYXJlIHByZXNlbnQuXG4gICAqIEBvcHRpb24gb3B0aW9ucyB0b2tlbkNvZGVGbiBbRnVuY3Rpb25dIChudWxsKSBGdW5jdGlvbiB0byBwcm92aWRlXG4gICAqICAgU1RTIEFzc3VtZSBSb2xlIFRva2VuQ29kZSwgaWYgbWZhX3NlcmlhbCBpcyBwcm92aWRlZCBmb3IgcHJvZmlsZSBpbiBpbmlcbiAgICogICBmaWxlLiBGdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB2YWx1ZSBvZiBtZmFfc2VyaWFsIGFuZCBjYWxsYmFjaywgYW5kXG4gICAqICAgc2hvdWxkIHByb3ZpZGUgdGhlIFRva2VuQ29kZSBvciBhbiBlcnJvciB0byB0aGUgY2FsbGJhY2sgaW4gdGhlIGZvcm1hdFxuICAgKiAgIGNhbGxiYWNrKGVyciwgdG9rZW4pXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjYWxsYmFjayBbRnVuY3Rpb25dIChlcnIpIENyZWRlbnRpYWxzIGFyZSBlYWdlcmx5IGxvYWRlZFxuICAgKiAgIGJ5IHRoZSBjb25zdHJ1Y3Rvci4gV2hlbiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIHRoZVxuICAgKiAgIGNyZWRlbnRpYWxzIGhhdmUgYmVlbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgaHR0cE9wdGlvbnMgW21hcF0gQSBzZXQgb2Ygb3B0aW9ucyB0byBwYXNzIHRvIHRoZSBsb3ctbGV2ZWxcbiAgICogICBIVFRQIHJlcXVlc3QuIEN1cnJlbnRseSBzdXBwb3J0ZWQgb3B0aW9ucyBhcmU6XG4gICAqICAgKiAqKnByb3h5KiogW1N0cmluZ10gJm1kYXNoOyB0aGUgVVJMIHRvIHByb3h5IHJlcXVlc3RzIHRocm91Z2hcbiAgICogICAqICoqYWdlbnQqKiBbaHR0cC5BZ2VudCwgaHR0cHMuQWdlbnRdICZtZGFzaDsgdGhlIEFnZW50IG9iamVjdCB0byBwZXJmb3JtXG4gICAqICAgICBIVFRQIHJlcXVlc3RzIHdpdGguIFVzZWQgZm9yIGNvbm5lY3Rpb24gcG9vbGluZy4gRGVmYXVsdHMgdG8gdGhlIGdsb2JhbFxuICAgKiAgICAgYWdlbnQgKGBodHRwLmdsb2JhbEFnZW50YCkgZm9yIG5vbi1TU0wgY29ubmVjdGlvbnMuIE5vdGUgdGhhdCBmb3JcbiAgICogICAgIFNTTCBjb25uZWN0aW9ucywgYSBzcGVjaWFsIEFnZW50IG9iamVjdCBpcyB1c2VkIGluIG9yZGVyIHRvIGVuYWJsZVxuICAgKiAgICAgcGVlciBjZXJ0aWZpY2F0ZSB2ZXJpZmljYXRpb24uIFRoaXMgZmVhdHVyZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiB0aGVcbiAgICogICAgIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gICAqICAgKiAqKmNvbm5lY3RUaW1lb3V0KiogW0ludGVnZXJdICZtZGFzaDsgU2V0cyB0aGUgc29ja2V0IHRvIHRpbWVvdXQgYWZ0ZXJcbiAgICogICAgIGZhaWxpbmcgdG8gZXN0YWJsaXNoIGEgY29ubmVjdGlvbiB3aXRoIHRoZSBzZXJ2ZXIgYWZ0ZXJcbiAgICogICAgIGBjb25uZWN0VGltZW91dGAgbWlsbGlzZWNvbmRzLiBUaGlzIHRpbWVvdXQgaGFzIG5vIGVmZmVjdCBvbmNlIGEgc29ja2V0XG4gICAqICAgICBjb25uZWN0aW9uIGhhcyBiZWVuIGVzdGFibGlzaGVkLlxuICAgKiAgICogKip0aW1lb3V0KiogW0ludGVnZXJdICZtZGFzaDsgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYSByZXF1ZXN0IGNhblxuICAgKiAgICAgdGFrZSBiZWZvcmUgYXV0b21hdGljYWxseSBiZWluZyB0ZXJtaW5hdGVkLlxuICAgKiAgICAgRGVmYXVsdHMgdG8gdHdvIG1pbnV0ZXMgKDEyMDAwMCkuXG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gU2hhcmVkSW5pRmlsZUNyZWRlbnRpYWxzKG9wdGlvbnMpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgdGhpcy5maWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWU7XG4gICAgdGhpcy5wcm9maWxlID0gb3B0aW9ucy5wcm9maWxlIHx8IHByb2Nlc3MuZW52LkFXU19QUk9GSUxFIHx8IEFXUy51dGlsLmRlZmF1bHRQcm9maWxlO1xuICAgIHRoaXMuZGlzYWJsZUFzc3VtZVJvbGUgPSBCb29sZWFuKG9wdGlvbnMuZGlzYWJsZUFzc3VtZVJvbGUpO1xuICAgIHRoaXMucHJlZmVyU3RhdGljQ3JlZGVudGlhbHMgPSBCb29sZWFuKG9wdGlvbnMucHJlZmVyU3RhdGljQ3JlZGVudGlhbHMpO1xuICAgIHRoaXMudG9rZW5Db2RlRm4gPSBvcHRpb25zLnRva2VuQ29kZUZuIHx8IG51bGw7XG4gICAgdGhpcy5odHRwT3B0aW9ucyA9IG9wdGlvbnMuaHR0cE9wdGlvbnMgfHwgbnVsbDtcbiAgICB0aGlzLmdldChvcHRpb25zLmNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLm5vb3ApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGxvYWQ6IGZ1bmN0aW9uIGxvYWQoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9maWxlcyA9IEFXUy51dGlsLmdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZyhpbmlMb2FkZXIsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgdmFyIHByb2ZpbGUgPSBwcm9maWxlc1t0aGlzLnByb2ZpbGVdIHx8IHt9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocHJvZmlsZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignUHJvZmlsZSAnICsgdGhpcy5wcm9maWxlICsgJyBub3QgZm91bmQnKSxcbiAgICAgICAgICB7IGNvZGU6ICdTaGFyZWRJbmlGaWxlQ3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUnIH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgLypcbiAgICAgIEluIHRoZSBDTEksIHRoZSBwcmVzZW5jZSBvZiBib3RoIGEgcm9sZV9hcm4gYW5kIHN0YXRpYyBjcmVkZW50aWFscyBoYXZlXG4gICAgICBkaWZmZXJlbnQgbWVhbmluZ3MgZGVwZW5kaW5nIG9uIGhvdyBtYW55IHByb2ZpbGVzIGhhdmUgYmVlbiB2aXNpdGVkLiBGb3JcbiAgICAgIHRoZSBmaXJzdCBwcm9maWxlIHByb2Nlc3NlZCwgcm9sZV9hcm4gdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGFueSBzdGF0aWNcbiAgICAgIGNyZWRlbnRpYWxzLCBidXQgZm9yIGFsbCBzdWJzZXF1ZW50IHByb2ZpbGVzLCBzdGF0aWMgY3JlZGVudGlhbHMgYXJlXG4gICAgICB1c2VkIGlmIHByZXNlbnQsIGFuZCBvbmx5IGluIHRoZWlyIGFic2VuY2Ugd2lsbCB0aGUgcHJvZmlsZSdzXG4gICAgICBzb3VyY2VfcHJvZmlsZSBhbmQgcm9sZV9hcm4ga2V5cyBiZSB1c2VkIHRvIGxvYWQgYW5vdGhlciBzZXQgb2ZcbiAgICAgIGNyZWRlbnRpYWxzLiBUaGlzIHZhciBpcyBpbnRlbmRlZCB0byB5aWVsZCBjb21wYXRpYmxlIGJlaGF2aW91ciBpbiB0aGlzXG4gICAgICBzZGsuXG4gICAgICAqL1xuICAgICAgdmFyIHByZWZlclN0YXRpY0NyZWRlbnRpYWxzVG9Sb2xlQXJuID0gQm9vbGVhbihcbiAgICAgICAgdGhpcy5wcmVmZXJTdGF0aWNDcmVkZW50aWFsc1xuICAgICAgICAmJiBwcm9maWxlWydhd3NfYWNjZXNzX2tleV9pZCddXG4gICAgICAgICYmIHByb2ZpbGVbJ2F3c19zZWNyZXRfYWNjZXNzX2tleSddXG4gICAgICApO1xuXG4gICAgICBpZiAocHJvZmlsZVsncm9sZV9hcm4nXSAmJiAhcHJlZmVyU3RhdGljQ3JlZGVudGlhbHNUb1JvbGVBcm4pIHtcbiAgICAgICAgdGhpcy5sb2FkUm9sZVByb2ZpbGUocHJvZmlsZXMsIHByb2ZpbGUsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuZXhwaXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgc2VsZi5hY2Nlc3NLZXlJZCA9IGRhdGEuQ3JlZGVudGlhbHMuQWNjZXNzS2V5SWQ7XG4gICAgICAgICAgICBzZWxmLnNlY3JldEFjY2Vzc0tleSA9IGRhdGEuQ3JlZGVudGlhbHMuU2VjcmV0QWNjZXNzS2V5O1xuICAgICAgICAgICAgc2VsZi5zZXNzaW9uVG9rZW4gPSBkYXRhLkNyZWRlbnRpYWxzLlNlc3Npb25Ub2tlbjtcbiAgICAgICAgICAgIHNlbGYuZXhwaXJlVGltZSA9IGRhdGEuQ3JlZGVudGlhbHMuRXhwaXJhdGlvbjtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdGhpcy5hY2Nlc3NLZXlJZCA9IHByb2ZpbGVbJ2F3c19hY2Nlc3Nfa2V5X2lkJ107XG4gICAgICB0aGlzLnNlY3JldEFjY2Vzc0tleSA9IHByb2ZpbGVbJ2F3c19zZWNyZXRfYWNjZXNzX2tleSddO1xuICAgICAgdGhpcy5zZXNzaW9uVG9rZW4gPSBwcm9maWxlWydhd3Nfc2Vzc2lvbl90b2tlbiddO1xuXG4gICAgICBpZiAoIXRoaXMuYWNjZXNzS2V5SWQgfHwgIXRoaXMuc2VjcmV0QWNjZXNzS2V5KSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignQ3JlZGVudGlhbHMgbm90IHNldCBmb3IgcHJvZmlsZSAnICsgdGhpcy5wcm9maWxlKSxcbiAgICAgICAgICB7IGNvZGU6ICdTaGFyZWRJbmlGaWxlQ3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUnIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZXhwaXJlZCA9IGZhbHNlO1xuICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogTG9hZHMgdGhlIGNyZWRlbnRpYWxzIGZyb20gdGhlIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgQ2FsbGVkIGFmdGVyIHRoZSBzaGFyZWQgSU5JIGZpbGUgb24gZGlzayBpcyByZWFkIGFuZCBwYXJzZWQuIFdoZW4gdGhpc1xuICAgKiAgIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyB0aGF0IHRoZSBjcmVkZW50aWFsc1xuICAgKiAgIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QgKGFzIHRoZSBgYWNjZXNzS2V5SWRgLFxuICAgKiAgIGBzZWNyZXRBY2Nlc3NLZXlgLCBhbmQgYHNlc3Npb25Ub2tlbmAgcHJvcGVydGllcykuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkXG4gICAqIEBzZWUgZ2V0XG4gICAqL1xuICByZWZyZXNoOiBmdW5jdGlvbiByZWZyZXNoKGNhbGxiYWNrKSB7XG4gICAgaW5pTG9hZGVyLmNsZWFyQ2FjaGVkRmlsZXMoKTtcbiAgICB0aGlzLmNvYWxlc2NlUmVmcmVzaChcbiAgICAgIGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrLFxuICAgICAgdGhpcy5kaXNhYmxlQXNzdW1lUm9sZVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZFJvbGVQcm9maWxlOiBmdW5jdGlvbiBsb2FkUm9sZVByb2ZpbGUoY3JlZHMsIHJvbGVQcm9maWxlLCBjYWxsYmFjaykge1xuICAgIGlmICh0aGlzLmRpc2FibGVBc3N1bWVSb2xlKSB7XG4gICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihcbiAgICAgICAgbmV3IEVycm9yKCdSb2xlIGFzc3VtcHRpb24gcHJvZmlsZXMgYXJlIGRpc2FibGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICdGYWlsZWQgdG8gbG9hZCBwcm9maWxlICcgKyB0aGlzLnByb2ZpbGUgK1xuICAgICAgICAgICAgICAgICAgJyBmcm9tICcgKyBjcmVkcy5maWxlbmFtZSksXG4gICAgICAgIHsgY29kZTogJ1NoYXJlZEluaUZpbGVDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHJvbGVBcm4gPSByb2xlUHJvZmlsZVsncm9sZV9hcm4nXTtcbiAgICB2YXIgcm9sZVNlc3Npb25OYW1lID0gcm9sZVByb2ZpbGVbJ3JvbGVfc2Vzc2lvbl9uYW1lJ107XG4gICAgdmFyIGV4dGVybmFsSWQgPSByb2xlUHJvZmlsZVsnZXh0ZXJuYWxfaWQnXTtcbiAgICB2YXIgbWZhU2VyaWFsID0gcm9sZVByb2ZpbGVbJ21mYV9zZXJpYWwnXTtcbiAgICB2YXIgc291cmNlUHJvZmlsZU5hbWUgPSByb2xlUHJvZmlsZVsnc291cmNlX3Byb2ZpbGUnXTtcblxuICAgIC8vIEZyb20gZXhwZXJpbWVudGF0aW9uLCB0aGUgZm9sbG93aW5nIGJlaGF2aW9yIG1pbWljcyB0aGUgQVdTIENMSTpcbiAgICAvL1xuICAgIC8vIDEuIFVzZSByZWdpb24gZnJvbSB0aGUgcHJvZmlsZSBpZiBwcmVzZW50LlxuICAgIC8vIDIuIE90aGVyd2lzZSBmYWxsIGJhY2sgdG8gTi4gVmlyZ2luaWEgKGdsb2JhbCBlbmRwb2ludCkuXG4gICAgLy9cbiAgICAvLyBJdCBpcyBuZWNlc3NhcnkgdG8gZG8gdGhlIGZhbGxiYWNrIGV4cGxpY2l0bHksIGJlY2F1c2UgaWZcbiAgICAvLyAnQVdTX1NUU19SRUdJT05BTF9FTkRQT0lOVFM9cmVnaW9uYWwnLCB0aGUgdW5kZXJseWluZyBTVFMgY2xpZW50IHdpbGxcbiAgICAvLyBvdGhlcndpc2UgdGhyb3cgYW4gZXJyb3IgaWYgcmVnaW9uIGlzIGxlZnQgJ3VuZGVmaW5lZCcuXG4gICAgLy9cbiAgICAvLyBFeHBlcmltZW50YXRpb24gc2hvd3MgdGhhdCB0aGUgQVdTIENMSSAodGVzdGVkIGF0IHZlcnNpb24gMS4xOC4xMzYpXG4gICAgLy8gaWdub3JlcyB0aGUgZm9sbG93aW5nIHBvdGVudGlhbCBzb3VyY2VzIG9mIGEgcmVnaW9uIGZvciB0aGUgcHVycG9zZXMgb2ZcbiAgICAvLyB0aGlzIEFzc3VtZVJvbGUgY2FsbDpcbiAgICAvL1xuICAgIC8vIC0gVGhlIFtkZWZhdWx0XSBwcm9maWxlXG4gICAgLy8gLSBUaGUgQVdTX1JFR0lPTiBlbnZpcm9ubWVudCB2YXJpYWJsZVxuICAgIC8vXG4gICAgLy8gSWdub3JpbmcgdGhlIFtkZWZhdWx0XSBwcm9maWxlIGZvciB0aGUgcHVycG9zZXMgb2YgQXNzdW1lUm9sZSBpcyBhcmd1YWJseVxuICAgIC8vIGEgYnVnIGluIHRoZSBDTEkgc2luY2UgaXQgZG9lcyB1c2UgdGhlIFtkZWZhdWx0XSByZWdpb24gZm9yIHNlcnZpY2VcbiAgICAvLyBjYWxscy4uLiBidXQgcmlnaHQgbm93IHdlJ3JlIG1hdGNoaW5nIGJlaGF2aW9yIG9mIHRoZSBvdGhlciB0b29sLlxuICAgIHZhciBwcm9maWxlUmVnaW9uID0gcm9sZVByb2ZpbGVbJ3JlZ2lvbiddIHx8IEFTU1VNRV9ST0xFX0RFRkFVTFRfUkVHSU9OO1xuXG4gICAgaWYgKCFzb3VyY2VQcm9maWxlTmFtZSkge1xuICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgIG5ldyBFcnJvcignc291cmNlX3Byb2ZpbGUgaXMgbm90IHNldCB1c2luZyBwcm9maWxlICcgKyB0aGlzLnByb2ZpbGUpLFxuICAgICAgICB7IGNvZGU6ICdTaGFyZWRJbmlGaWxlQ3JlZGVudGlhbHNQcm92aWRlckZhaWx1cmUnIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIHNvdXJjZVByb2ZpbGVFeGlzdGFuY2VUZXN0ID0gY3JlZHNbc291cmNlUHJvZmlsZU5hbWVdO1xuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2VQcm9maWxlRXhpc3RhbmNlVGVzdCAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICBuZXcgRXJyb3IoJ3NvdXJjZV9wcm9maWxlICcgKyBzb3VyY2VQcm9maWxlTmFtZSArICcgdXNpbmcgcHJvZmlsZSAnXG4gICAgICAgICAgKyB0aGlzLnByb2ZpbGUgKyAnIGRvZXMgbm90IGV4aXN0JyksXG4gICAgICAgIHsgY29kZTogJ1NoYXJlZEluaUZpbGVDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlQ3JlZGVudGlhbHMgPSBuZXcgQVdTLlNoYXJlZEluaUZpbGVDcmVkZW50aWFscyhcbiAgICAgIEFXUy51dGlsLm1lcmdlKHRoaXMub3B0aW9ucyB8fCB7fSwge1xuICAgICAgICBwcm9maWxlOiBzb3VyY2VQcm9maWxlTmFtZSxcbiAgICAgICAgcHJlZmVyU3RhdGljQ3JlZGVudGlhbHM6IHRydWVcbiAgICAgIH0pXG4gICAgKTtcblxuICAgIHRoaXMucm9sZUFybiA9IHJvbGVBcm47XG4gICAgdmFyIHN0cyA9IG5ldyBTVFMoe1xuICAgICAgY3JlZGVudGlhbHM6IHNvdXJjZUNyZWRlbnRpYWxzLFxuICAgICAgcmVnaW9uOiBwcm9maWxlUmVnaW9uLFxuICAgICAgaHR0cE9wdGlvbnM6IHRoaXMuaHR0cE9wdGlvbnNcbiAgICB9KTtcblxuICAgIHZhciByb2xlUGFyYW1zID0ge1xuICAgICAgUm9sZUFybjogcm9sZUFybixcbiAgICAgIFJvbGVTZXNzaW9uTmFtZTogcm9sZVNlc3Npb25OYW1lIHx8ICdhd3Mtc2RrLWpzLScgKyBEYXRlLm5vdygpXG4gICAgfTtcblxuICAgIGlmIChleHRlcm5hbElkKSB7XG4gICAgICByb2xlUGFyYW1zLkV4dGVybmFsSWQgPSBleHRlcm5hbElkO1xuICAgIH1cblxuICAgIGlmIChtZmFTZXJpYWwgJiYgc2VsZi50b2tlbkNvZGVGbikge1xuICAgICAgcm9sZVBhcmFtcy5TZXJpYWxOdW1iZXIgPSBtZmFTZXJpYWw7XG4gICAgICBzZWxmLnRva2VuQ29kZUZuKG1mYVNlcmlhbCwgZnVuY3Rpb24oZXJyLCB0b2tlbikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgdmFyIG1lc3NhZ2U7XG4gICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgICAgICBtZXNzYWdlID0gZXJyLm1lc3NhZ2U7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhbGxiYWNrKFxuICAgICAgICAgICAgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgICAgIG5ldyBFcnJvcignRXJyb3IgZmV0Y2hpbmcgTUZBIHRva2VuOiAnICsgbWVzc2FnZSksXG4gICAgICAgICAgICAgIHsgY29kZTogJ1NoYXJlZEluaUZpbGVDcmVkZW50aWFsc1Byb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgICAgICAgKSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcm9sZVBhcmFtcy5Ub2tlbkNvZGUgPSB0b2tlbjtcbiAgICAgICAgc3RzLmFzc3VtZVJvbGUocm9sZVBhcmFtcywgY2FsbGJhY2spO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN0cy5hc3N1bWVSb2xlKHJvbGVQYXJhbXMsIGNhbGxiYWNrKTtcbiAgfVxufSk7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcbnZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xudmFyIGNyeXB0byA9IHJlcXVpcmUoJ2NyeXB0bycpO1xudmFyIGluaUxvYWRlciA9IEFXUy51dGlsLmluaUxvYWRlcjtcblxuLyoqXG4gKiAgUmVwcmVzZW50cyBjcmVkZW50aWFscyBmcm9tIHNzby5nZXRSb2xlQ3JlZGVudGlhbHMgQVBJIGZvclxuICogYHNzb18qYCB2YWx1ZXMgZGVmaW5lZCBpbiBzaGFyZWQgY3JlZGVudGlhbHMgZmlsZS5cbiAqXG4gKiAjIyBVc2luZyBTU08gY3JlZGVudGlhbHNcbiAqXG4gKiBUaGUgY3JlZGVudGlhbHMgZmlsZSBtdXN0IHNwZWNpZnkgdGhlIGluZm9ybWF0aW9uIGJlbG93IHRvIHVzZSBzc286XG4gKlxuICogICAgIFtkZWZhdWx0XVxuICogICAgIHNzb19hY2NvdW50X2lkID0gMDEyMzQ1Njc4OTAxXG4gKiAgICAgc3NvX3JlZ2lvbiA9IHVzLWVhc3QtMVxuICogICAgIHNzb19yb2xlX25hbWUgPSBTYW1wbGVSb2xlXG4gKiAgICAgc3NvX3N0YXJ0X3VybCA9IGh0dHBzOi8vZC1hYmMxMjMuYXdzYXBwcy5jb20vc3RhcnRcbiAqXG4gKiBUaGlzIGluZm9ybWF0aW9uIHdpbGwgYmUgYXV0b21hdGljYWxseSBhZGRlZCB0byB5b3VyIHNoYXJlZCBjcmVkZW50aWFscyBmaWxlIGJ5IHJ1bm5pbmdcbiAqIGBhd3MgY29uZmlndXJlIHNzb2AuXG4gKlxuICogIyMgVXNpbmcgY3VzdG9tIHByb2ZpbGVzXG4gKlxuICogVGhlIFNESyBzdXBwb3J0cyBsb2FkaW5nIGNyZWRlbnRpYWxzIGZvciBzZXBhcmF0ZSBwcm9maWxlcy4gVGhpcyBjYW4gYmUgZG9uZVxuICogaW4gdHdvIHdheXM6XG4gKlxuICogMS4gU2V0IHRoZSBgQVdTX1BST0ZJTEVgIGVudmlyb25tZW50IHZhcmlhYmxlIGluIHlvdXIgcHJvY2VzcyBwcmlvciB0b1xuICogICAgbG9hZGluZyB0aGUgU0RLLlxuICogMi4gRGlyZWN0bHkgbG9hZCB0aGUgQVdTLlNzb0NyZWRlbnRpYWxzIHByb3ZpZGVyOlxuICpcbiAqIGBgYGphdmFzY3JpcHRcbiAqIHZhciBjcmVkcyA9IG5ldyBBV1MuU3NvQ3JlZGVudGlhbHMoe3Byb2ZpbGU6ICdteXByb2ZpbGUnfSk7XG4gKiBBV1MuY29uZmlnLmNyZWRlbnRpYWxzID0gY3JlZHM7XG4gKiBgYGBcbiAqXG4gKiBAIW1hY3JvIG5vYnJvd3NlclxuICovXG5BV1MuU3NvQ3JlZGVudGlhbHMgPSBBV1MudXRpbC5pbmhlcml0KEFXUy5DcmVkZW50aWFscywge1xuICAvKipcbiAgICogQ3JlYXRlcyBhIG5ldyBTc29DcmVkZW50aWFscyBvYmplY3QuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIFttYXBdIGEgc2V0IG9mIG9wdGlvbnNcbiAgICogQG9wdGlvbiBvcHRpb25zIHByb2ZpbGUgW1N0cmluZ10gKEFXU19QUk9GSUxFIGVudiB2YXIgb3IgJ2RlZmF1bHQnKVxuICAgKiAgIHRoZSBuYW1lIG9mIHRoZSBwcm9maWxlIHRvIGxvYWQuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBmaWxlbmFtZSBbU3RyaW5nXSAoJ34vLmF3cy9jcmVkZW50aWFscycgb3IgZGVmaW5lZCBieVxuICAgKiAgIEFXU19TSEFSRURfQ1JFREVOVElBTFNfRklMRSBwcm9jZXNzIGVudiB2YXIpXG4gICAqICAgdGhlIGZpbGVuYW1lIHRvIHVzZSB3aGVuIGxvYWRpbmcgY3JlZGVudGlhbHMuXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjYWxsYmFjayBbRnVuY3Rpb25dIChlcnIpIENyZWRlbnRpYWxzIGFyZSBlYWdlcmx5IGxvYWRlZFxuICAgKiAgIGJ5IHRoZSBjb25zdHJ1Y3Rvci4gV2hlbiB0aGUgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIHRoZVxuICAgKiAgIGNyZWRlbnRpYWxzIGhhdmUgYmVlbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFNzb0NyZWRlbnRpYWxzKG9wdGlvbnMpIHtcbiAgICBBV1MuQ3JlZGVudGlhbHMuY2FsbCh0aGlzKTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHRoaXMuZXJyb3JDb2RlID0gJ1Nzb0NyZWRlbnRpYWxzUHJvdmlkZXJGYWlsdXJlJztcbiAgICB0aGlzLmV4cGlyZWQgPSB0cnVlO1xuXG4gICAgdGhpcy5maWxlbmFtZSA9IG9wdGlvbnMuZmlsZW5hbWU7XG4gICAgdGhpcy5wcm9maWxlID0gb3B0aW9ucy5wcm9maWxlIHx8IHByb2Nlc3MuZW52LkFXU19QUk9GSUxFIHx8IEFXUy51dGlsLmRlZmF1bHRQcm9maWxlO1xuICAgIHRoaXMuc2VydmljZSA9IG9wdGlvbnMuc3NvQ2xpZW50O1xuICAgIHRoaXMuZ2V0KG9wdGlvbnMuY2FsbGJhY2sgfHwgQVdTLnV0aWwuZm4ubm9vcCk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHdpbmRvdyAoMTUgbWlucykgdGhhdCBTREsgd2lsbCB0cmVhdCB0aGUgU1NPIHRva2VuIGV4cGlyZXMgaW4gYmVmb3JlIHRoZSBkZWZpbmVkIGV4cGlyYXRpb24gZGF0ZSBpbiB0b2tlbi5cbiAgICAgKiBUaGlzIGlzIG5lZWRlZCBiZWNhdXNlIHNlcnZlciBzaWRlIG1heSBoYXZlIGludmFsaWRhdGVkIHRoZSB0b2tlbiBiZWZvcmUgdGhlIGRlZmluZWQgZXhwaXJhdGlvbiBkYXRlLlxuICAgICAqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgdmFyIEVYUElSRV9XSU5ET1dfTVMgPSAxNSAqIDYwICogMTAwMDtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdHJ5IHtcbiAgICAgIHZhciBwcm9maWxlcyA9IEFXUy51dGlsLmdldFByb2ZpbGVzRnJvbVNoYXJlZENvbmZpZyhpbmlMb2FkZXIsIHRoaXMuZmlsZW5hbWUpO1xuICAgICAgdmFyIHByb2ZpbGUgPSBwcm9maWxlc1t0aGlzLnByb2ZpbGVdIHx8IHt9O1xuXG4gICAgICBpZiAoT2JqZWN0LmtleXMocHJvZmlsZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignUHJvZmlsZSAnICsgdGhpcy5wcm9maWxlICsgJyBub3QgZm91bmQnKSxcbiAgICAgICAgICB7IGNvZGU6IHNlbGYuZXJyb3JDb2RlIH1cbiAgICAgICAgKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFwcm9maWxlLnNzb19zdGFydF91cmwgfHwgIXByb2ZpbGUuc3NvX2FjY291bnRfaWQgfHwgIXByb2ZpbGUuc3NvX3JlZ2lvbiB8fCAhcHJvZmlsZS5zc29fcm9sZV9uYW1lKSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignUHJvZmlsZSAnICsgdGhpcy5wcm9maWxlICsgJyBkb2VzIG5vdCBoYXZlIHZhbGlkIFNTTyBjcmVkZW50aWFscy4gUmVxdWlyZWQgcGFyYW1ldGVycyBcInNzb19hY2NvdW50X2lkXCIsIFwic3NvX3JlZ2lvblwiLCAnICtcbiAgICAgICAgICAnXCJzc29fcm9sZV9uYW1lXCIsIFwic3NvX3N0YXJ0X3VybFwiLiBSZWZlcmVuY2U6IGh0dHBzOi8vZG9jcy5hd3MuYW1hem9uLmNvbS9jbGkvbGF0ZXN0L3VzZXJndWlkZS9jbGktY29uZmlndXJlLXNzby5odG1sJyksXG4gICAgICAgICAgeyBjb2RlOiBzZWxmLmVycm9yQ29kZSB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIHZhciBoYXNoZXIgPSBjcnlwdG8uY3JlYXRlSGFzaCgnc2hhMScpO1xuICAgICAgdmFyIGZpbGVOYW1lID0gaGFzaGVyLnVwZGF0ZShwcm9maWxlLnNzb19zdGFydF91cmwpLmRpZ2VzdCgnaGV4JykgKyAnLmpzb24nO1xuXG4gICAgICB2YXIgY2FjaGVQYXRoID0gcGF0aC5qb2luKFxuICAgICAgICBpbmlMb2FkZXIuZ2V0SG9tZURpcigpLFxuICAgICAgICAnLmF3cycsXG4gICAgICAgICdzc28nLFxuICAgICAgICAnY2FjaGUnLFxuICAgICAgICBmaWxlTmFtZVxuICAgICAgKTtcbiAgICAgIHZhciBjYWNoZUZpbGUgPSBBV1MudXRpbC5yZWFkRmlsZVN5bmMoY2FjaGVQYXRoKTtcbiAgICAgIHZhciBjYWNoZUNvbnRlbnQgPSBudWxsO1xuICAgICAgaWYgKGNhY2hlRmlsZSkge1xuICAgICAgICBjYWNoZUNvbnRlbnQgPSBKU09OLnBhcnNlKGNhY2hlRmlsZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICghY2FjaGVDb250ZW50KSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgIG5ldyBFcnJvcignQ2FjaGVkIGNyZWRlbnRpYWxzIG5vdCBmb3VuZCB1bmRlciAnICsgdGhpcy5wcm9maWxlICsgJyBwcm9maWxlLiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBsb2cgaW4gd2l0aCBhd3Mgc3NvIGxvZ2luIGZpcnN0JyksXG4gICAgICAgICAgeyBjb2RlOiBzZWxmLmVycm9yQ29kZSB9XG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIGlmICghY2FjaGVDb250ZW50LnN0YXJ0VXJsIHx8ICFjYWNoZUNvbnRlbnQucmVnaW9uIHx8ICFjYWNoZUNvbnRlbnQuYWNjZXNzVG9rZW4gfHwgIWNhY2hlQ29udGVudC5leHBpcmVzQXQpIHtcbiAgICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgICAgbmV3IEVycm9yKCdDYWNoZWQgY3JlZGVudGlhbHMgYXJlIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydGllcy4gVHJ5IHJ1bm5pbmcgYXdzIHNzbyBsb2dpbi4nKVxuICAgICAgICApO1xuICAgICAgfVxuXG4gICAgICBpZiAobmV3IERhdGUoY2FjaGVDb250ZW50LmV4cGlyZXNBdCkuZ2V0VGltZSgpIC0gRGF0ZS5ub3coKSA8PSBFWFBJUkVfV0lORE9XX01TKSB7XG4gICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcihcbiAgICAgICAgICAnVGhlIFNTTyBzZXNzaW9uIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHByb2ZpbGUgaGFzIGV4cGlyZWQuIFRvIHJlZnJlc2ggdGhpcyBTU08gc2Vzc2lvbiBydW4gYXdzIHNzbyBsb2dpbiB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIHByb2ZpbGUuJ1xuICAgICAgICApKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFzZWxmLnNlcnZpY2UgfHwgc2VsZi5zZXJ2aWNlLmNvbmZpZy5yZWdpb24gIT09IHByb2ZpbGUuc3NvX3JlZ2lvbikge1xuICAgICAgICBzZWxmLnNlcnZpY2UgPSBuZXcgQVdTLlNTTyh7IHJlZ2lvbjogcHJvZmlsZS5zc29fcmVnaW9uIH0pO1xuICAgICAgfVxuICAgICAgdmFyIHJlcXVlc3QgPSB7XG4gICAgICAgIGFjY2Vzc1Rva2VuOiBjYWNoZUNvbnRlbnQuYWNjZXNzVG9rZW4sXG4gICAgICAgIGFjY291bnRJZDogcHJvZmlsZS5zc29fYWNjb3VudF9pZCxcbiAgICAgICAgcm9sZU5hbWU6IHByb2ZpbGUuc3NvX3JvbGVfbmFtZSxcbiAgICAgIH07XG4gICAgICBzZWxmLnNlcnZpY2UuZ2V0Um9sZUNyZWRlbnRpYWxzKHJlcXVlc3QsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICBpZiAoZXJyIHx8ICFkYXRhIHx8ICFkYXRhLnJvbGVDcmVkZW50aWFscykge1xuICAgICAgICAgIGNhbGxiYWNrKEFXUy51dGlsLmVycm9yKFxuICAgICAgICAgICAgZXJyIHx8IG5ldyBFcnJvcignUGxlYXNlIGxvZyBpbiB1c2luZyBcImF3cyBzc28gbG9naW5cIicpLFxuICAgICAgICAgICAgeyBjb2RlOiBzZWxmLmVycm9yQ29kZSB9XG4gICAgICAgICAgKSwgbnVsbCk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWRhdGEucm9sZUNyZWRlbnRpYWxzLmFjY2Vzc0tleUlkIHx8ICFkYXRhLnJvbGVDcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXkgfHwgIWRhdGEucm9sZUNyZWRlbnRpYWxzLnNlc3Npb25Ub2tlbiB8fCAhZGF0YS5yb2xlQ3JlZGVudGlhbHMuZXhwaXJhdGlvbikge1xuICAgICAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKG5ldyBFcnJvcihcbiAgICAgICAgICAgICdTU08gcmV0dXJucyBhbiBpbnZhbGlkIHRlbXBvcmFyeSBjcmVkZW50aWFsLidcbiAgICAgICAgICApKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmV4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLmFjY2Vzc0tleUlkID0gZGF0YS5yb2xlQ3JlZGVudGlhbHMuYWNjZXNzS2V5SWQ7XG4gICAgICAgICAgc2VsZi5zZWNyZXRBY2Nlc3NLZXkgPSBkYXRhLnJvbGVDcmVkZW50aWFscy5zZWNyZXRBY2Nlc3NLZXk7XG4gICAgICAgICAgc2VsZi5zZXNzaW9uVG9rZW4gPSBkYXRhLnJvbGVDcmVkZW50aWFscy5zZXNzaW9uVG9rZW47XG4gICAgICAgICAgc2VsZi5leHBpcmVUaW1lID0gbmV3IERhdGUoZGF0YS5yb2xlQ3JlZGVudGlhbHMuZXhwaXJhdGlvbik7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIExvYWRzIHRoZSBjcmVkZW50aWFscyBmcm9tIHRoZSBBV1MgU1NPIHByb2Nlc3NcbiAgICpcbiAgICogQGNhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uKGVycilcbiAgICogICBDYWxsZWQgYWZ0ZXIgdGhlIEFXUyBTU08gcHJvY2VzcyBoYXMgYmVlbiBleGVjdXRlZC4gV2hlbiB0aGlzXG4gICAqICAgY2FsbGJhY2sgaXMgY2FsbGVkIHdpdGggbm8gZXJyb3IsIGl0IG1lYW5zIHRoYXQgdGhlIGNyZWRlbnRpYWxzXG4gICAqICAgaW5mb3JtYXRpb24gaGFzIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlIGBhY2Nlc3NLZXlJZGAsXG4gICAqICAgYHNlY3JldEFjY2Vzc0tleWAsIGFuZCBgc2Vzc2lvblRva2VuYCBwcm9wZXJ0aWVzKS5cbiAgICogICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWRcbiAgICogQHNlZSBnZXRcbiAgICovXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goY2FsbGJhY2spIHtcbiAgICBpbmlMb2FkZXIuY2xlYXJDYWNoZWRGaWxlcygpO1xuICAgIHRoaXMuY29hbGVzY2VSZWZyZXNoKGNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLmNhbGxiYWNrKTtcbiAgfSxcbn0pO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuL2NvcmUnKTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIEFXUyB0b2tlbiBvYmplY3QsIHdoaWNoIGNvbnRhaW5zIHt0b2tlbn0sIGFuZCBvcHRpb25hbFxuICoge2V4cGlyZVRpbWV9LlxuICogQ3JlYXRpbmcgYSBgVG9rZW5gIG9iamVjdCBhbGxvd3MgeW91IHRvIHBhc3MgYXJvdW5kIHlvdXJcbiAqIHRva2VuIHRvIGNvbmZpZ3VyYXRpb24gYW5kIHNlcnZpY2Ugb2JqZWN0cy5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBjbGFzcyB0eXBpY2FsbHkgZG9lcyBub3QgbmVlZCB0byBiZSBjb25zdHJ1Y3RlZCBtYW51YWxseSxcbiAqIGFzIHRoZSB7QVdTLkNvbmZpZ30gYW5kIHtBV1MuU2VydmljZX0gY2xhc3NlcyBib3RoIGFjY2VwdCBzaW1wbGVcbiAqIG9wdGlvbnMgaGFzaGVzIHdpdGggdGhlIHR3byBrZXlzLiBUaGUgdG9rZW4gZnJvbSB0aGlzIG9iamVjdCB3aWxsIGJlIHVzZWRcbiAqIGF1dG9tYXRpY2FsbHkgaW4gb3BlcmF0aW9ucyB3aGljaCByZXF1aXJlIHRoZW0uXG4gKlxuICogIyMgRXhwaXJpbmcgYW5kIFJlZnJlc2hpbmcgVG9rZW5cbiAqXG4gKiBPY2Nhc2lvbmFsbHkgdG9rZW4gY2FuIGV4cGlyZSBpbiB0aGUgbWlkZGxlIG9mIGEgbG9uZy1ydW5uaW5nXG4gKiBhcHBsaWNhdGlvbi4gSW4gdGhpcyBjYXNlLCB0aGUgU0RLIHdpbGwgYXV0b21hdGljYWxseSBhdHRlbXB0IHRvXG4gKiByZWZyZXNoIHRoZSB0b2tlbiBmcm9tIHRoZSBzdG9yYWdlIGxvY2F0aW9uIGlmIHRoZSBUb2tlblxuICogY2xhc3MgaW1wbGVtZW50cyB0aGUge3JlZnJlc2h9IG1ldGhvZC5cbiAqXG4gKiBJZiB5b3UgYXJlIGltcGxlbWVudGluZyBhIHRva2VuIHN0b3JhZ2UgbG9jYXRpb24sIHlvdVxuICogd2lsbCB3YW50IHRvIGNyZWF0ZSBhIHN1YmNsYXNzIG9mIHRoZSBgVG9rZW5gIGNsYXNzIGFuZFxuICogb3ZlcnJpZGUgdGhlIHtyZWZyZXNofSBtZXRob2QuIFRoaXMgbWV0aG9kIGFsbG93cyB0b2tlbiB0byBiZVxuICogcmV0cmlldmVkIGZyb20gdGhlIGJhY2tpbmcgc3RvcmUsIGJlIGl0IGEgZmlsZSBzeXN0ZW0sIGRhdGFiYXNlLCBvclxuICogc29tZSBuZXR3b3JrIHN0b3JhZ2UuIFRoZSBtZXRob2Qgc2hvdWxkIHJlc2V0IHRoZSB0b2tlbiBhdHRyaWJ1dGVzXG4gKiBvbiB0aGUgb2JqZWN0LlxuICpcbiAqIEAhYXR0cmlidXRlIHRva2VuXG4gKiAgIEByZXR1cm4gW1N0cmluZ10gcmVwcmVzZW50cyB0aGUgbGl0ZXJhbCB0b2tlbiBzdHJpbmcuIFRoaXMgd2lsbCB0eXBpY2FsbHlcbiAqICAgICBiZSBhIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cbiAqIEAhYXR0cmlidXRlIGV4cGlyZVRpbWVcbiAqICAgQHJldHVybiBbRGF0ZV0gYSB0aW1lIHdoZW4gdG9rZW4gc2hvdWxkIGJlIGNvbnNpZGVyZWQgZXhwaXJlZC4gVXNlZFxuICogICAgIGluIGNvbmp1bmN0aW9uIHdpdGgge2V4cGlyZWR9LlxuICogQCFhdHRyaWJ1dGUgZXhwaXJlZFxuICogICBAcmV0dXJuIFtCb29sZWFuXSB3aGV0aGVyIHRoZSB0b2tlbiBpcyBleHBpcmVkIGFuZCByZXF1aXJlIGEgcmVmcmVzaC4gVXNlZFxuICogICAgIGluIGNvbmp1bmN0aW9uIHdpdGgge2V4cGlyZVRpbWV9LlxuICovXG5BV1MuVG9rZW4gPSBBV1MudXRpbC5pbmhlcml0KHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBUb2tlbiBvYmplY3Qgd2l0aCBhIGdpdmVuIHNldCBvZiBpbmZvcm1hdGlvbiBpbiBvcHRpb25zIGhhc2guXG4gICAqIEBvcHRpb24gb3B0aW9ucyB0b2tlbiBbU3RyaW5nXSByZXByZXNlbnRzIHRoZSBsaXRlcmFsIHRva2VuIHN0cmluZy5cbiAgICogQG9wdGlvbiBvcHRpb25zIGV4cGlyZVRpbWUgW0RhdGVdIGZpZWxkIHJlcHJlc2VudGluZyB0aGUgdGltZSBhdCB3aGljaFxuICAgKiAgIHRoZSB0b2tlbiBleHBpcmVzLlxuICAgKiBAZXhhbXBsZSBDcmVhdGUgYSB0b2tlbiBvYmplY3RcbiAgICogICB2YXIgdG9rZW4gPSBuZXcgQVdTLlRva2VuKHsgdG9rZW46ICd0b2tlbicgfSk7XG4gICAqL1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gVG9rZW4ob3B0aW9ucykge1xuICAgIC8vIGhpZGUgdG9rZW4gZnJvbSBiZWluZyBkaXNwbGF5ZWQgd2l0aCB1dGlsLmluc3BlY3RcbiAgICBBV1MudXRpbC5oaWRlUHJvcGVydGllcyh0aGlzLCBbJ3Rva2VuJ10pO1xuXG4gICAgdGhpcy5leHBpcmVkID0gZmFsc2U7XG4gICAgdGhpcy5leHBpcmVUaW1lID0gbnVsbDtcbiAgICB0aGlzLnJlZnJlc2hDYWxsYmFja3MgPSBbXTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHNbMF07XG4gICAgICB0aGlzLnRva2VuID0gb3B0aW9ucy50b2tlbjtcbiAgICAgIHRoaXMuZXhwaXJlVGltZSA9IG9wdGlvbnMuZXhwaXJlVGltZTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEByZXR1cm4gW0ludGVnZXJdIHRoZSBudW1iZXIgb2Ygc2Vjb25kcyBiZWZvcmUge2V4cGlyZVRpbWV9IGR1cmluZyB3aGljaFxuICAgKiAgIHRoZSB0b2tlbiB3aWxsIGJlIGNvbnNpZGVyZWQgZXhwaXJlZC5cbiAgICovXG4gIGV4cGlyeVdpbmRvdzogMTUsXG5cbiAgLyoqXG4gICAqIEByZXR1cm4gW0Jvb2xlYW5dIHdoZXRoZXIgdGhlIFRva2VuIG9iamVjdCBzaG91bGQgY2FsbCB7cmVmcmVzaH1cbiAgICogQG5vdGUgU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBtZXRob2QgdG8gcHJvdmlkZSBjdXN0b20gcmVmcmVzaFxuICAgKiAgIGxvZ2ljLlxuICAgKi9cbiAgbmVlZHNSZWZyZXNoOiBmdW5jdGlvbiBuZWVkc1JlZnJlc2goKSB7XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gQVdTLnV0aWwuZGF0ZS5nZXREYXRlKCkuZ2V0VGltZSgpO1xuICAgIHZhciBhZGp1c3RlZFRpbWUgPSBuZXcgRGF0ZShjdXJyZW50VGltZSArIHRoaXMuZXhwaXJ5V2luZG93ICogMTAwMCk7XG5cbiAgICBpZiAodGhpcy5leHBpcmVUaW1lICYmIGFkanVzdGVkVGltZSA+IHRoaXMuZXhwaXJlVGltZSlcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgcmV0dXJuIHRoaXMuZXhwaXJlZCB8fCAhdGhpcy50b2tlbjtcbiAgfSxcblxuICAvKipcbiAgICogR2V0cyB0aGUgZXhpc3RpbmcgdG9rZW4sIHJlZnJlc2hpbmcgdGhlbSBpZiB0aGV5IGFyZSBub3QgeWV0IGxvYWRlZFxuICAgKiBvciBoYXZlIGV4cGlyZWQuIFVzZXJzIHNob3VsZCBjYWxsIHRoaXMgbWV0aG9kIGJlZm9yZSB1c2luZyB7cmVmcmVzaH0sXG4gICAqIGFzIHRoaXMgd2lsbCBub3QgYXR0ZW1wdCB0byByZWxvYWQgdG9rZW4gd2hlbiB0aGV5IGFyZSBhbHJlYWR5XG4gICAqIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QuXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgV2hlbiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyBlaXRoZXIgdG9rZW5cbiAgICogICBkbyBub3QgbmVlZCB0byBiZSByZWZyZXNoZWQgb3IgcmVmcmVzaGVkIHRva2VuIGluZm9ybWF0aW9uIGhhc1xuICAgKiAgIGJlZW4gbG9hZGVkIGludG8gdGhlIG9iamVjdCAoYXMgdGhlIGB0b2tlbmAgcHJvcGVydHkpLlxuICAgKiAgIEBwYXJhbSBlcnIgW0Vycm9yXSBpZiBhbiBlcnJvciBvY2N1cnJlZCwgdGhpcyB2YWx1ZSB3aWxsIGJlIGZpbGxlZFxuICAgKi9cbiAgZ2V0OiBmdW5jdGlvbiBnZXQoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHRoaXMubmVlZHNSZWZyZXNoKCkpIHtcbiAgICAgIHRoaXMucmVmcmVzaChmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgaWYgKCFlcnIpIHNlbGYuZXhwaXJlZCA9IGZhbHNlOyAvLyByZXNldCBleHBpcmVkIGZsYWdcbiAgICAgICAgaWYgKGNhbGxiYWNrKSBjYWxsYmFjayhlcnIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEAhbWV0aG9kICBnZXRQcm9taXNlKClcbiAgICogICBSZXR1cm5zIGEgJ3RoZW5hYmxlJyBwcm9taXNlLlxuICAgKiAgIEdldHMgdGhlIGV4aXN0aW5nIHRva2VuLCByZWZyZXNoaW5nIGl0IGlmIGl0J3Mgbm90IHlldCBsb2FkZWRcbiAgICogICBvciBoYXZlIGV4cGlyZWQuIFVzZXJzIHNob3VsZCBjYWxsIHRoaXMgbWV0aG9kIGJlZm9yZSB1c2luZyB7cmVmcmVzaH0sXG4gICAqICAgYXMgdGhpcyB3aWxsIG5vdCBhdHRlbXB0IHRvIHJlbG9hZCB0b2tlbiB3aGVuIGl0J3MgYWxyZWFkeVxuICAgKiAgIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QuXG4gICAqXG4gICAqICAgVHdvIGNhbGxiYWNrcyBjYW4gYmUgcHJvdmlkZWQgdG8gdGhlIGB0aGVuYCBtZXRob2Qgb24gdGhlIHJldHVybmVkIHByb21pc2UuXG4gICAqICAgVGhlIGZpcnN0IGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZCwgYW5kIHRoZSBzZWNvbmRcbiAgICogICBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICogICBAY2FsbGJhY2sgZnVsZmlsbGVkQ2FsbGJhY2sgZnVuY3Rpb24oKVxuICAgKiAgICAgQ2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIGZ1bGZpbGxlZC4gV2hlbiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCwgaXQgbWVhbnNcbiAgICogICAgIGVpdGhlciB0b2tlbiBkb2VzIG5vdCBuZWVkIHRvIGJlIHJlZnJlc2hlZCBvciByZWZyZXNoZWQgdG9rZW4gaW5mb3JtYXRpb25cbiAgICogICAgIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3QgKGFzIHRoZSBgdG9rZW5gIHByb3BlcnR5KS5cbiAgICogICBAY2FsbGJhY2sgcmVqZWN0ZWRDYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgICBDYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQuXG4gICAqICAgICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWQuXG4gICAqICAgQHJldHVybiBbUHJvbWlzZV0gQSBwcm9taXNlIHRoYXQgcmVwcmVzZW50cyB0aGUgc3RhdGUgb2YgdGhlIGBnZXRgIGNhbGwuXG4gICAqICAgQGV4YW1wbGUgQ2FsbGluZyB0aGUgYGdldFByb21pc2VgIG1ldGhvZC5cbiAgICogICAgIHZhciBwcm9taXNlID0gdG9rZW5Qcm92aWRlci5nZXRQcm9taXNlKCk7XG4gICAqICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7IC4uLiB9LCBmdW5jdGlvbihlcnIpIHsgLi4uIH0pO1xuICAgKi9cblxuICAvKipcbiAgICogQCFtZXRob2QgIHJlZnJlc2hQcm9taXNlKClcbiAgICogICBSZXR1cm5zIGEgJ3RoZW5hYmxlJyBwcm9taXNlLlxuICAgKiAgIFJlZnJlc2hlcyB0aGUgdG9rZW4uIFVzZXJzIHNob3VsZCBjYWxsIHtnZXR9IGJlZm9yZSBhdHRlbXB0aW5nXG4gICAqICAgdG8gZm9yY2libHkgcmVmcmVzaCB0b2tlbi5cbiAgICpcbiAgICogICBUd28gY2FsbGJhY2tzIGNhbiBiZSBwcm92aWRlZCB0byB0aGUgYHRoZW5gIG1ldGhvZCBvbiB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICogICBUaGUgZmlyc3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLCBhbmQgdGhlIHNlY29uZFxuICAgKiAgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLlxuICAgKiAgIEBjYWxsYmFjayBmdWxmaWxsZWRDYWxsYmFjayBmdW5jdGlvbigpXG4gICAqICAgICBDYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLiBXaGVuIHRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLCBpdFxuICAgKiAgICAgbWVhbnMgcmVmcmVzaGVkIHRva2VuIGluZm9ybWF0aW9uIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBvYmplY3RcbiAgICogICAgIChhcyB0aGUgYHRva2VuYCBwcm9wZXJ0eSkuXG4gICAqICAgQGNhbGxiYWNrIHJlamVjdGVkQ2FsbGJhY2sgZnVuY3Rpb24oZXJyKVxuICAgKiAgICAgQ2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLlxuICAgKiAgICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkLlxuICAgKiAgIEByZXR1cm4gW1Byb21pc2VdIEEgcHJvbWlzZSB0aGF0IHJlcHJlc2VudHMgdGhlIHN0YXRlIG9mIHRoZSBgcmVmcmVzaGAgY2FsbC5cbiAgICogICBAZXhhbXBsZSBDYWxsaW5nIHRoZSBgcmVmcmVzaFByb21pc2VgIG1ldGhvZC5cbiAgICogICAgIHZhciBwcm9taXNlID0gdG9rZW5Qcm92aWRlci5yZWZyZXNoUHJvbWlzZSgpO1xuICAgKiAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKCkgeyAuLi4gfSwgZnVuY3Rpb24oZXJyKSB7IC4uLiB9KTtcbiAgICovXG5cbiAgLyoqXG4gICAqIFJlZnJlc2hlcyB0aGUgdG9rZW4uIFVzZXJzIHNob3VsZCBjYWxsIHtnZXR9IGJlZm9yZSBhdHRlbXB0aW5nXG4gICAqIHRvIGZvcmNpYmx5IHJlZnJlc2ggdG9rZW4uXG4gICAqXG4gICAqIEBjYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbihlcnIpXG4gICAqICAgV2hlbiB0aGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCBpdCBtZWFucyByZWZyZXNoZWRcbiAgICogICB0b2tlbiBpbmZvcm1hdGlvbiBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGVcbiAgICogICBgdG9rZW5gIHByb3BlcnR5KS5cbiAgICogICBAcGFyYW0gZXJyIFtFcnJvcl0gaWYgYW4gZXJyb3Igb2NjdXJyZWQsIHRoaXMgdmFsdWUgd2lsbCBiZSBmaWxsZWRcbiAgICogQG5vdGUgU3ViY2xhc3NlcyBzaG91bGQgb3ZlcnJpZGUgdGhpcyBjbGFzcyB0byByZXNldCB0aGVcbiAgICogICB7dG9rZW59IG9uIHRoZSB0b2tlbiBvYmplY3QgYW5kIHRoZW4gY2FsbCB0aGUgY2FsbGJhY2sgd2l0aFxuICAgKiAgIGFueSBlcnJvciBpbmZvcm1hdGlvbi5cbiAgICogQHNlZSBnZXRcbiAgICovXG4gIHJlZnJlc2g6IGZ1bmN0aW9uIHJlZnJlc2goY2FsbGJhY2spIHtcbiAgICB0aGlzLmV4cGlyZWQgPSBmYWxzZTtcbiAgICBjYWxsYmFjaygpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICogQHBhcmFtIGNhbGxiYWNrXG4gICAqL1xuICBjb2FsZXNjZVJlZnJlc2g6IGZ1bmN0aW9uIGNvYWxlc2NlUmVmcmVzaChjYWxsYmFjaywgc3luYykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBpZiAoc2VsZi5yZWZyZXNoQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spID09PSAxKSB7XG4gICAgICBzZWxmLmxvYWQoZnVuY3Rpb24gb25Mb2FkKGVycikge1xuICAgICAgICBBV1MudXRpbC5hcnJheUVhY2goc2VsZi5yZWZyZXNoQ2FsbGJhY2tzLCBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgIGlmIChzeW5jKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjYWxsYmFjayBjb3VsZCB0aHJvdywgc28gZGVmZXIgdG8gZW5zdXJlIGFsbCBjYWxsYmFja3MgYXJlIG5vdGlmaWVkXG4gICAgICAgICAgICBBV1MudXRpbC5kZWZlcihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxmLnJlZnJlc2hDYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqIEBwYXJhbSBjYWxsYmFja1xuICAgKi9cbiAgbG9hZDogZnVuY3Rpb24gbG9hZChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn0pO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuVG9rZW4uYWRkUHJvbWlzZXNUb0NsYXNzID0gZnVuY3Rpb24gYWRkUHJvbWlzZXNUb0NsYXNzKFByb21pc2VEZXBlbmRlbmN5KSB7XG4gIHRoaXMucHJvdG90eXBlLmdldFByb21pc2UgPSBBV1MudXRpbC5wcm9taXNpZnlNZXRob2QoJ2dldCcsIFByb21pc2VEZXBlbmRlbmN5KTtcbiAgdGhpcy5wcm90b3R5cGUucmVmcmVzaFByb21pc2UgPSBBV1MudXRpbC5wcm9taXNpZnlNZXRob2QoJ3JlZnJlc2gnLCBQcm9taXNlRGVwZW5kZW5jeSk7XG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuVG9rZW4uZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MgPSBmdW5jdGlvbiBkZWxldGVQcm9taXNlc0Zyb21DbGFzcygpIHtcbiAgZGVsZXRlIHRoaXMucHJvdG90eXBlLmdldFByb21pc2U7XG4gIGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZWZyZXNoUHJvbWlzZTtcbn07XG5cbkFXUy51dGlsLmFkZFByb21pc2VzKEFXUy5Ub2tlbik7XG4iLCAidmFyIEFXUyA9IHJlcXVpcmUoJy4uL2NvcmUnKTtcblxuLyoqXG4gKiBDcmVhdGVzIGEgdG9rZW4gcHJvdmlkZXIgY2hhaW4gdGhhdCBzZWFyY2hlcyBmb3IgdG9rZW4gaW4gYSBsaXN0IG9mXG4gKiB0b2tlbiBwcm92aWRlcnMgc3BlY2lmaWVkIGJ5IHRoZSB7cHJvdmlkZXJzfSBwcm9wZXJ0eS5cbiAqXG4gKiBCeSBkZWZhdWx0LCB0aGUgY2hhaW4gd2lsbCB1c2UgdGhlIHtkZWZhdWx0UHJvdmlkZXJzfSB0byByZXNvbHZlIHRva2VuLlxuICpcbiAqICMjIFNldHRpbmcgUHJvdmlkZXJzXG4gKlxuICogRWFjaCBwcm92aWRlciBpbiB0aGUge3Byb3ZpZGVyc30gbGlzdCBzaG91bGQgYmUgYSBmdW5jdGlvbiB0aGF0IHJldHVybnNcbiAqIGEge0FXUy5Ub2tlbn0gb2JqZWN0LCBvciBhIGhhcmRjb2RlZCB0b2tlbiBvYmplY3QuIFRoZSBmdW5jdGlvblxuICogZm9ybSBhbGxvd3MgZm9yIGRlbGF5ZWQgZXhlY3V0aW9uIG9mIHRoZSBUb2tlbiBjb25zdHJ1Y3Rpb24uXG4gKlxuICogIyMgUmVzb2x2aW5nIFRva2VuIGZyb20gYSBDaGFpblxuICpcbiAqIENhbGwge3Jlc29sdmV9IHRvIHJldHVybiB0aGUgZmlyc3QgdmFsaWQgdG9rZW4gb2JqZWN0IHRoYXQgY2FuIGJlXG4gKiBsb2FkZWQgYnkgdGhlIHByb3ZpZGVyIGNoYWluLlxuICpcbiAqIEZvciBleGFtcGxlLCB0byByZXNvbHZlIGEgY2hhaW4gd2l0aCBhIGN1c3RvbSBwcm92aWRlciB0aGF0IGNoZWNrcyBhIGZpbGVcbiAqIG9uIGRpc2sgYWZ0ZXIgdGhlIHNldCBvZiB7ZGVmYXVsdFByb3ZpZGVyc306XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogdmFyIGRpc2tQcm92aWRlciA9IG5ldyBGaWxlVG9rZW5Qcm92aWRlcignLi90b2tlbi5qc29uJyk7XG4gKiB2YXIgY2hhaW4gPSBuZXcgQVdTLlRva2VuUHJvdmlkZXJDaGFpbigpO1xuICogY2hhaW4ucHJvdmlkZXJzLnB1c2goZGlza1Byb3ZpZGVyKTtcbiAqIGNoYWluLnJlc29sdmUoKTtcbiAqIGBgYFxuICpcbiAqIFRoZSBhYm92ZSBjb2RlIHdpbGwgcmV0dXJuIHRoZSBgZGlza1Byb3ZpZGVyYCBvYmplY3QgaWYgdGhlXG4gKiBmaWxlIGNvbnRhaW5zIHRva2VuIGFuZCB0aGUgYGRlZmF1bHRQcm92aWRlcnNgIGRvIG5vdCBjb250YWluXG4gKiBhbnkgdG9rZW4uXG4gKlxuICogQCFhdHRyaWJ1dGUgcHJvdmlkZXJzXG4gKiAgIEByZXR1cm4gW0FycmF5PEFXUy5Ub2tlbiwgRnVuY3Rpb24+XVxuICogICAgIGEgbGlzdCBvZiB0b2tlbiBvYmplY3RzIG9yIGZ1bmN0aW9ucyB0aGF0IHJldHVybiB0b2tlblxuICogICAgIG9iamVjdHMuIElmIHRoZSBwcm92aWRlciBpcyBhIGZ1bmN0aW9uLCB0aGUgZnVuY3Rpb24gd2lsbCBiZVxuICogICAgIGV4ZWN1dGVkIGxhemlseSB3aGVuIHRoZSBwcm92aWRlciBuZWVkcyB0byBiZSBjaGVja2VkIGZvciB2YWxpZFxuICogICAgIHRva2VuLiBCeSBkZWZhdWx0LCB0aGlzIG9iamVjdCB3aWxsIGJlIHNldCB0byB0aGUge2RlZmF1bHRQcm92aWRlcnN9LlxuICogICBAc2VlIGRlZmF1bHRQcm92aWRlcnNcbiAqL1xuQVdTLlRva2VuUHJvdmlkZXJDaGFpbiA9IEFXUy51dGlsLmluaGVyaXQoQVdTLlRva2VuLCB7XG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgVG9rZW5Qcm92aWRlckNoYWluIHdpdGggYSBkZWZhdWx0IHNldCBvZiBwcm92aWRlcnNcbiAgICogc3BlY2lmaWVkIGJ5IHtkZWZhdWx0UHJvdmlkZXJzfS5cbiAgICovXG4gIGNvbnN0cnVjdG9yOiBmdW5jdGlvbiBUb2tlblByb3ZpZGVyQ2hhaW4ocHJvdmlkZXJzKSB7XG4gICAgaWYgKHByb3ZpZGVycykge1xuICAgICAgdGhpcy5wcm92aWRlcnMgPSBwcm92aWRlcnM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvdmlkZXJzID0gQVdTLlRva2VuUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzLnNsaWNlKDApO1xuICAgIH1cbiAgICB0aGlzLnJlc29sdmVDYWxsYmFja3MgPSBbXTtcbiAgfSxcblxuICAvKipcbiAgICogQCFtZXRob2QgIHJlc29sdmVQcm9taXNlKClcbiAgICogICBSZXR1cm5zIGEgJ3RoZW5hYmxlJyBwcm9taXNlLlxuICAgKiAgIFJlc29sdmVzIHRoZSBwcm92aWRlciBjaGFpbiBieSBzZWFyY2hpbmcgZm9yIHRoZSBmaXJzdCB0b2tlbiBpbiB7cHJvdmlkZXJzfS5cbiAgICpcbiAgICogICBUd28gY2FsbGJhY2tzIGNhbiBiZSBwcm92aWRlZCB0byB0aGUgYHRoZW5gIG1ldGhvZCBvbiB0aGUgcmV0dXJuZWQgcHJvbWlzZS5cbiAgICogICBUaGUgZmlyc3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgZnVsZmlsbGVkLCBhbmQgdGhlIHNlY29uZFxuICAgKiAgIGNhbGxiYWNrIHdpbGwgYmUgY2FsbGVkIGlmIHRoZSBwcm9taXNlIGlzIHJlamVjdGVkLlxuICAgKiAgIEBjYWxsYmFjayBmdWxmaWxsZWRDYWxsYmFjayBmdW5jdGlvbih0b2tlbilcbiAgICogICAgIENhbGxlZCBpZiB0aGUgcHJvbWlzZSBpcyBmdWxmaWxsZWQgYW5kIHRoZSBwcm92aWRlciByZXNvbHZlcyB0aGUgY2hhaW5cbiAgICogICAgIHRvIGEgdG9rZW4gb2JqZWN0XG4gICAqICAgICBAcGFyYW0gdG9rZW4gW0FXUy5Ub2tlbl0gdGhlIHRva2VuIG9iamVjdCByZXNvbHZlZCBieSB0aGUgcHJvdmlkZXIgY2hhaW4uXG4gICAqICAgQGNhbGxiYWNrIHJlamVjdGVkQ2FsbGJhY2sgZnVuY3Rpb24oZXJyb3IpXG4gICAqICAgICBDYWxsZWQgaWYgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQuXG4gICAqICAgICBAcGFyYW0gZXJyIFtFcnJvcl0gdGhlIGVycm9yIG9iamVjdCByZXR1cm5lZCBpZiBubyB0b2tlbiBpcyBmb3VuZC5cbiAgICogICBAcmV0dXJuIFtQcm9taXNlXSBBIHByb21pc2UgdGhhdCByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgYHJlc29sdmVgIG1ldGhvZCBjYWxsLlxuICAgKiAgIEBleGFtcGxlIENhbGxpbmcgdGhlIGByZXNvbHZlUHJvbWlzZWAgbWV0aG9kLlxuICAgKiAgICAgdmFyIHByb21pc2UgPSBjaGFpbi5yZXNvbHZlUHJvbWlzZSgpO1xuICAgKiAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKHRva2VuKSB7IC4uLiB9LCBmdW5jdGlvbihlcnIpIHsgLi4uIH0pO1xuICAgKi9cblxuICAvKipcbiAgICogUmVzb2x2ZXMgdGhlIHByb3ZpZGVyIGNoYWluIGJ5IHNlYXJjaGluZyBmb3IgdGhlIGZpcnN0IHRva2VuIGluIHtwcm92aWRlcnN9LlxuICAgKlxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyLCB0b2tlbilcbiAgICogICBDYWxsZWQgd2hlbiB0aGUgcHJvdmlkZXIgcmVzb2x2ZXMgdGhlIGNoYWluIHRvIGEgdG9rZW4gb2JqZWN0XG4gICAqICAgb3IgbnVsbCBpZiBubyB0b2tlbiBjYW4gYmUgZm91bmQuXG4gICAqXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIHRoZSBlcnJvciBvYmplY3QgcmV0dXJuZWQgaWYgbm8gdG9rZW4gaXMgZm91bmQuXG4gICAqICAgQHBhcmFtIHRva2VuIFtBV1MuVG9rZW5dIHRoZSB0b2tlbiBvYmplY3QgcmVzb2x2ZWQgYnkgdGhlIHByb3ZpZGVyIGNoYWluLlxuICAgKiBAcmV0dXJuIFtBV1MuVG9rZW5Qcm92aWRlckNoYWluXSB0aGUgcHJvdmlkZXIsIGZvciBjaGFpbmluZy5cbiAgICovXG4gIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHNlbGYucHJvdmlkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCdObyBwcm92aWRlcnMnKSk7XG4gICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBpZiAoc2VsZi5yZXNvbHZlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spID09PSAxKSB7XG4gICAgICB2YXIgaW5kZXggPSAwO1xuICAgICAgdmFyIHByb3ZpZGVycyA9IHNlbGYucHJvdmlkZXJzLnNsaWNlKDApO1xuXG4gICAgICBmdW5jdGlvbiByZXNvbHZlTmV4dChlcnIsIHRva2VuKSB7XG4gICAgICAgIGlmICgoIWVyciAmJiB0b2tlbikgfHwgaW5kZXggPT09IHByb3ZpZGVycy5sZW5ndGgpIHtcbiAgICAgICAgICBBV1MudXRpbC5hcnJheUVhY2goc2VsZi5yZXNvbHZlQ2FsbGJhY2tzLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGVyciwgdG9rZW4pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNlbGYucmVzb2x2ZUNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm92aWRlciA9IHByb3ZpZGVyc1tpbmRleCsrXTtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm92aWRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHRva2VuID0gcHJvdmlkZXIuY2FsbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRva2VuID0gcHJvdmlkZXI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodG9rZW4uZ2V0KSB7XG4gICAgICAgICAgdG9rZW4uZ2V0KGZ1bmN0aW9uIChnZXRFcnIpIHtcbiAgICAgICAgICAgIHJlc29sdmVOZXh0KGdldEVyciwgZ2V0RXJyID8gbnVsbCA6IHRva2VuKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlTmV4dChudWxsLCB0b2tlbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmVzb2x2ZU5leHQoKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZjtcbiAgfVxufSk7XG5cbi8qKlxuICogVGhlIGRlZmF1bHQgc2V0IG9mIHByb3ZpZGVycyB1c2VkIGJ5IGEgdmFuaWxsYSBUb2tlblByb3ZpZGVyQ2hhaW4uXG4gKlxuICogSW4gdGhlIGJyb3dzZXI6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQVdTLlRva2VuUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzID0gW11cbiAqIGBgYFxuICpcbiAqIEluIE5vZGUuanM6XG4gKlxuICogYGBgamF2YXNjcmlwdFxuICogQVdTLlRva2VuUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzID0gW1xuICogICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLlNTT1Rva2VuUHJvdmlkZXIoKTsgfSxcbiAqIF1cbiAqIGBgYFxuICovXG5BV1MuVG9rZW5Qcm92aWRlckNoYWluLmRlZmF1bHRQcm92aWRlcnMgPSBbXTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuQVdTLlRva2VuUHJvdmlkZXJDaGFpbi5hZGRQcm9taXNlc1RvQ2xhc3MgPSBmdW5jdGlvbiBhZGRQcm9taXNlc1RvQ2xhc3MoUHJvbWlzZURlcGVuZGVuY3kpIHtcbiAgdGhpcy5wcm90b3R5cGUucmVzb2x2ZVByb21pc2UgPSBBV1MudXRpbC5wcm9taXNpZnlNZXRob2QoJ3Jlc29sdmUnLCBQcm9taXNlRGVwZW5kZW5jeSk7XG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5BV1MuVG9rZW5Qcm92aWRlckNoYWluLmRlbGV0ZVByb21pc2VzRnJvbUNsYXNzID0gZnVuY3Rpb24gZGVsZXRlUHJvbWlzZXNGcm9tQ2xhc3MoKSB7XG4gIGRlbGV0ZSB0aGlzLnByb3RvdHlwZS5yZXNvbHZlUHJvbWlzZTtcbn07XG5cbkFXUy51dGlsLmFkZFByb21pc2VzKEFXUy5Ub2tlblByb3ZpZGVyQ2hhaW4pO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJyk7XG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG52YXIgaW5pTG9hZGVyID0gQVdTLnV0aWwuaW5pTG9hZGVyO1xuXG4vLyBUcmFja2luZyByZWZyZXNoIGF0dGVtcHQgdG8gZW5zdXJlIHJlZnJlc2ggaXMgbm90IGF0dGVtcHRlZCBtb3JlIHRoYW4gb25jZSBldmVyeSAzMCBzZWNvbmRzLlxudmFyIGxhc3RSZWZyZXNoQXR0ZW1wdFRpbWUgPSAwO1xuXG4vKipcbiAqIFRocm93cyBlcnJvciBpcyBrZXkgaXMgbm90IHByZXNlbnQgaW4gdG9rZW4gb2JqZWN0LlxuICpcbiAqIEBwYXJhbSB0b2tlbiBbT2JqZWN0XSBPYmplY3QgdG8gYmUgdmFsaWRhdGVkLlxuICogQHBhcmFtIGtleSBbU3RyaW5nXSBUaGUga2V5IHRvIGJlIHZhbGlkYXRlZCBvbiB0aGUgb2JqZWN0LlxuICovXG52YXIgdmFsaWRhdGVUb2tlbktleSA9IGZ1bmN0aW9uIHZhbGlkYXRlVG9rZW5LZXkodG9rZW4sIGtleSkge1xuICBpZiAoIXRva2VuW2tleV0pIHtcbiAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihcbiAgICAgIG5ldyBFcnJvcignS2V5IFwiJyArIGtleSArICdcIiBub3QgcHJlc2VudCBpbiBTU08gVG9rZW4nKSxcbiAgICAgIHsgY29kZTogJ1NTT1Rva2VuUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBDYWxscyBjYWxsYmFjayBmdW5jdGlvbiB3aXRoIG9yIHdpdGhvdXQgZXJyb3IgYmFzZWQgb24gcHJvdmlkZWQgdGltZXMgaW4gY2FzZVxuICogb2YgdW5zdWNjZXNzZnVsIHJlZnJlc2guXG4gKlxuICogQHBhcmFtIGN1cnJlbnRUaW1lIFtudW1iZXJdIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMgc2luY2UgRUNNQVNjcmlwdCBlcG9jaC5cbiAqIEBwYXJhbSB0b2tlbkV4cGlyZVRpbWUgW251bWJlcl0gdG9rZW4gZXhwaXJlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIEVDTUFTY3JpcHQgZXBvY2guXG4gKiBAcGFyYW0gY2FsbGJhY2sgW0Z1bmN0aW9uXSBDYWxsYmFjayB0byBjYWxsIGluIGNhc2Ugb2YgZXJyb3IuXG4gKi9cbnZhciByZWZyZXNoVW5zdWNjZXNzZnVsID0gZnVuY3Rpb24gcmVmcmVzaFVuc3VjY2Vzc2Z1bChcbiAgY3VycmVudFRpbWUsXG4gIHRva2VuRXhwaXJlVGltZSxcbiAgY2FsbGJhY2tcbikge1xuICBpZiAodG9rZW5FeHBpcmVUaW1lID4gY3VycmVudFRpbWUpIHtcbiAgICAvLyBDYWNoZWQgdG9rZW4gaXMgc3RpbGwgdmFsaWQsIHJldHVybi5cbiAgICBjYWxsYmFjayhudWxsKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBUb2tlbiBpbnZhbGlkLCB0aHJvdyBlcnJvciByZXF1ZXN0aW5nIHVzZXIgdG8gc3NvIGxvZ2luLlxuICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgbmV3IEVycm9yKCdTU08gVG9rZW4gcmVmcmVzaCBmYWlsZWQuIFBsZWFzZSBsb2cgaW4gdXNpbmcgXCJhd3Mgc3NvIGxvZ2luXCInKSxcbiAgICAgIHsgY29kZTogJ1NTT1Rva2VuUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgKTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXByZXNlbnRzIHRva2VuIGxvYWRlZCBmcm9tIGRpc2sgZGVyaXZlZCBmcm9tIHRoZSBBV1MgU1NPIGRldmljZSBncmFudCBhdXRob3JpY2F0aW9uIGZsb3cuXG4gKlxuICogIyMgVXNpbmcgU1NPIFRva2VuIFByb3ZpZGVyXG4gKlxuICogVGhpcyBwcm92aWRlciBpcyBjaGVja2VkIGJ5IGRlZmF1bHQgaW4gdGhlIE5vZGUuanMgZW52aXJvbm1lbnQgaW4gVG9rZW5Qcm92aWRlckNoYWluLlxuICogVG8gdXNlIHRoZSBTU08gVG9rZW4gUHJvdmlkZXIsIHNpbXBseSBhZGQgeW91ciBTU08gU3RhcnQgVVJMIGFuZCBSZWdpb24gdG8gdGhlXG4gKiB+Ly5hd3MvY29uZmlnIGZpbGUgaW4gdGhlIGZvbGxvd2luZyBmb3JtYXQ6XG4gKlxuICogICAgIFtkZWZhdWx0XVxuICogICAgIHNzb19zdGFydF91cmwgPSBodHRwczovL2QtYWJjMTIzLmF3c2FwcHMuY29tL3N0YXJ0XG4gKiAgICAgc3NvX3JlZ2lvbiA9IHVzLWVhc3QtMVxuICpcbiAqICMjIFVzaW5nIGN1c3RvbSBwcm9maWxlc1xuICpcbiAqIFRoZSBTREsgc3VwcG9ydHMgbG9hZGluZyB0b2tlbiBmb3Igc2VwYXJhdGUgcHJvZmlsZXMuIFRoaXMgY2FuIGJlIGRvbmUgaW4gdHdvIHdheXM6XG4gKlxuICogMS4gU2V0IHRoZSBgQVdTX1BST0ZJTEVgIGVudmlyb25tZW50IHZhcmlhYmxlIGluIHlvdXIgcHJvY2VzcyBwcmlvciB0byBsb2FkaW5nIHRoZSBTREsuXG4gKiAyLiBEaXJlY3RseSBsb2FkIHRoZSBBV1MuU1NPVG9rZW5Qcm92aWRlcjpcbiAqXG4gKiBgYGBqYXZhc2NyaXB0XG4gKiB2YXIgc3NvVG9rZW5Qcm92aWRlciA9IG5ldyBBV1MuU1NPVG9rZW5Qcm92aWRlcih7cHJvZmlsZTogJ215cHJvZmlsZSd9KTtcbiAqIGBgYFxuICpcbiAqIEAhbWFjcm8gbm9icm93c2VyXG4gKi9cbkFXUy5TU09Ub2tlblByb3ZpZGVyID0gQVdTLnV0aWwuaW5oZXJpdChBV1MuVG9rZW4sIHtcbiAgLyoqXG4gICAqIEV4cGlyeSB3aW5kb3cgb2YgZml2ZSBtaW51dGVzLlxuICAgKi9cbiAgZXhwaXJ5V2luZG93OiA1ICogNjAsXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgdG9rZW4gb2JqZWN0IGZyb20gY2FjaGVkIGFjY2VzcyB0b2tlbi5cbiAgICpcbiAgICogQHBhcmFtIG9wdGlvbnMgW21hcF0gYSBzZXQgb2Ygb3B0aW9uc1xuICAgKiBAb3B0aW9uIG9wdGlvbnMgcHJvZmlsZSBbU3RyaW5nXSAoQVdTX1BST0ZJTEUgZW52IHZhciBvciAnZGVmYXVsdCcpXG4gICAqICAgdGhlIG5hbWUgb2YgdGhlIHByb2ZpbGUgdG8gbG9hZC5cbiAgICogQG9wdGlvbiBvcHRpb25zIGNhbGxiYWNrIFtGdW5jdGlvbl0gKGVycikgVG9rZW4gaXMgZWFnZXJseSBsb2FkZWRcbiAgICogICBieSB0aGUgY29uc3RydWN0b3IuIFdoZW4gdGhlIGNhbGxiYWNrIGlzIGNhbGxlZCB3aXRoIG5vIGVycm9yLCB0aGVcbiAgICogICB0b2tlbiBoYXMgYmVlbiBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlxuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFNTT1Rva2VuUHJvdmlkZXIob3B0aW9ucykge1xuICAgIEFXUy5Ub2tlbi5jYWxsKHRoaXMpO1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICB0aGlzLmV4cGlyZWQgPSB0cnVlO1xuICAgIHRoaXMucHJvZmlsZSA9IG9wdGlvbnMucHJvZmlsZSB8fCBwcm9jZXNzLmVudi5BV1NfUFJPRklMRSB8fCBBV1MudXRpbC5kZWZhdWx0UHJvZmlsZTtcbiAgICB0aGlzLmdldChvcHRpb25zLmNhbGxiYWNrIHx8IEFXUy51dGlsLmZuLm5vb3ApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZWFkcyBzc29fc3RhcnRfdXJsIGZyb20gcHJvdmlkZWQgcHJvZmlsZSwgYW5kIHJlYWRzIHRva2VuIGZyb21cbiAgICogfi8uYXdzL3Nzby9jYWNoZS88c2hhMS1vZi11dGY4LWVuY29kZWQtdmFsdWUtZnJvbS1zc29fc3RhcnRfdXJsPi5qc29uXG4gICAqXG4gICAqIFRocm93cyBhbiBlcnJvciBpZiByZXF1aXJlZCBmaWVsZHMgdG9rZW4gYW5kIGV4cGlyZXNBdCBhcmUgbWlzc2luZy5cbiAgICogVGhyb3dzIGFuIGVycm9yIGlmIHRva2VuIGhhcyBleHBpcmVkIGFuZCBtZXRhZGF0YSB0byBwZXJmb3JtIHJlZnJlc2ggaXNcbiAgICogbm90IGF2YWlsYWJsZS5cbiAgICogQXR0ZW1wdHMgdG8gcmVmcmVzaCB0aGUgdG9rZW4gaWYgaXQncyB3aXRoaW4gNSBtaW51dGVzIGJlZm9yZSBleHBpcnkgdGltZS5cbiAgICpcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBsb2FkOiBmdW5jdGlvbiBsb2FkKGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBwcm9maWxlcyA9IGluaUxvYWRlci5sb2FkRnJvbSh7IGlzQ29uZmlnOiB0cnVlIH0pO1xuICAgIHZhciBwcm9maWxlID0gcHJvZmlsZXNbdGhpcy5wcm9maWxlXSB8fCB7fTtcblxuICAgIGlmIChPYmplY3Qua2V5cyhwcm9maWxlKS5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICBuZXcgRXJyb3IoJ1Byb2ZpbGUgXCInICsgdGhpcy5wcm9maWxlICsgJ1wiIG5vdCBmb3VuZCcpLFxuICAgICAgICB7IGNvZGU6ICdTU09Ub2tlblByb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFwcm9maWxlWydzc29fc2Vzc2lvbiddKSB7XG4gICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihcbiAgICAgICAgbmV3IEVycm9yKCdQcm9maWxlIFwiJyArIHByb2ZpbGVOYW1lICsgJ1wiIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzc29fc2Vzc2lvblwiLicpLFxuICAgICAgICB7IGNvZGU6ICdTU09Ub2tlblByb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICB2YXIgc3NvU2Vzc2lvbk5hbWUgPSBwcm9maWxlWydzc29fc2Vzc2lvbiddO1xuICAgIHZhciBzc29TZXNzaW9ucyA9IGluaUxvYWRlci5sb2FkU3NvU2Vzc2lvbnNGcm9tKCk7XG4gICAgdmFyIHNzb1Nlc3Npb24gPSBzc29TZXNzaW9uc1tzc29TZXNzaW9uTmFtZV07XG5cbiAgICBpZiAoIXNzb1Nlc3Npb24pIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICBuZXcgRXJyb3IoJ1NzbyBzZXNzaW9uIFwiJyArIHNzb1Nlc3Npb25OYW1lICsgJ1wiIG5vdCBmb3VuZCcpLFxuICAgICAgICB7IGNvZGU6ICdTU09Ub2tlblByb3ZpZGVyRmFpbHVyZScgfVxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKCFzc29TZXNzaW9uWydzc29fc3RhcnRfdXJsJ10pIHtcbiAgICAgIHRocm93IEFXUy51dGlsLmVycm9yKFxuICAgICAgICBuZXcgRXJyb3IoJ1NzbyBzZXNzaW9uIFwiJyArIHByb2ZpbGVOYW1lICsgJ1wiIGlzIG1pc3NpbmcgcmVxdWlyZWQgcHJvcGVydHkgXCJzc29fc3RhcnRfdXJsXCIuJyksXG4gICAgICAgIHsgY29kZTogJ1NTT1Rva2VuUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoIXNzb1Nlc3Npb25bJ3Nzb19yZWdpb24nXSkge1xuICAgICAgdGhyb3cgQVdTLnV0aWwuZXJyb3IoXG4gICAgICAgIG5ldyBFcnJvcignU3NvIHNlc3Npb24gXCInICsgcHJvZmlsZU5hbWUgKyAnXCIgaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0eSBcInNzb19yZWdpb25cIi4nKSxcbiAgICAgICAgeyBjb2RlOiAnU1NPVG9rZW5Qcm92aWRlckZhaWx1cmUnIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgdmFyIGhhc2hlciA9IGNyeXB0by5jcmVhdGVIYXNoKCdzaGExJyk7XG4gICAgdmFyIGZpbGVOYW1lID0gaGFzaGVyLnVwZGF0ZShzc29TZXNzaW9uTmFtZSkuZGlnZXN0KCdoZXgnKSArICcuanNvbic7XG4gICAgdmFyIGNhY2hlUGF0aCA9IHBhdGguam9pbihpbmlMb2FkZXIuZ2V0SG9tZURpcigpLCAnLmF3cycsICdzc28nLCAnY2FjaGUnLCBmaWxlTmFtZSk7XG4gICAgdmFyIHRva2VuRnJvbUNhY2hlID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoY2FjaGVQYXRoKSk7XG5cbiAgICBpZiAoIXRva2VuRnJvbUNhY2hlKSB7XG4gICAgICB0aHJvdyBBV1MudXRpbC5lcnJvcihcbiAgICAgICAgbmV3IEVycm9yKCdDYWNoZWQgdG9rZW4gbm90IGZvdW5kLiBQbGVhc2UgbG9nIGluIHVzaW5nIFwiYXdzIHNzbyBsb2dpblwiJ1xuICAgICAgICAgICsgJyBmb3IgcHJvZmlsZSBcIicgKyB0aGlzLnByb2ZpbGUgKyAnXCIuJyksXG4gICAgICAgIHsgY29kZTogJ1NTT1Rva2VuUHJvdmlkZXJGYWlsdXJlJyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIHZhbGlkYXRlVG9rZW5LZXkodG9rZW5Gcm9tQ2FjaGUsICdhY2Nlc3NUb2tlbicpO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkodG9rZW5Gcm9tQ2FjaGUsICdleHBpcmVzQXQnKTtcblxuICAgIHZhciBjdXJyZW50VGltZSA9IEFXUy51dGlsLmRhdGUuZ2V0RGF0ZSgpLmdldFRpbWUoKTtcbiAgICB2YXIgYWRqdXN0ZWRUaW1lID0gbmV3IERhdGUoY3VycmVudFRpbWUgKyB0aGlzLmV4cGlyeVdpbmRvdyAqIDEwMDApO1xuICAgIHZhciB0b2tlbkV4cGlyZVRpbWUgPSBuZXcgRGF0ZSh0b2tlbkZyb21DYWNoZVsnZXhwaXJlc0F0J10pO1xuXG4gICAgaWYgKHRva2VuRXhwaXJlVGltZSA+IGFkanVzdGVkVGltZSkge1xuICAgICAgLy8gVG9rZW4gaXMgdmFsaWQgYW5kIG5vdCBleHBpcmVkLlxuICAgICAgc2VsZi50b2tlbiA9IHRva2VuRnJvbUNhY2hlLmFjY2Vzc1Rva2VuO1xuICAgICAgc2VsZi5leHBpcmVUaW1lID0gdG9rZW5FeHBpcmVUaW1lO1xuICAgICAgc2VsZi5leHBpcmVkID0gZmFsc2U7XG4gICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBTa2lwIG5ldyByZWZyZXNoLCBpZiBsYXN0IHJlZnJlc2ggd2FzIGRvbmUgd2l0aGluIDMwIHNlY29uZHMuXG4gICAgaWYgKGN1cnJlbnRUaW1lIC0gbGFzdFJlZnJlc2hBdHRlbXB0VGltZSA8IDMwICogMTAwMCkge1xuICAgICAgcmVmcmVzaFVuc3VjY2Vzc2Z1bChjdXJyZW50VGltZSwgdG9rZW5FeHBpcmVUaW1lLCBjYWxsYmFjayk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVG9rZW4gaXMgaW4gZXhwaXJ5IHdpbmRvdywgcmVmcmVzaCBmcm9tIFNTT09JREMuY3JlYXRlVG9rZW4oKSBjYWxsLlxuICAgIHZhbGlkYXRlVG9rZW5LZXkodG9rZW5Gcm9tQ2FjaGUsICdjbGllbnRJZCcpO1xuICAgIHZhbGlkYXRlVG9rZW5LZXkodG9rZW5Gcm9tQ2FjaGUsICdjbGllbnRTZWNyZXQnKTtcbiAgICB2YWxpZGF0ZVRva2VuS2V5KHRva2VuRnJvbUNhY2hlLCAncmVmcmVzaFRva2VuJyk7XG5cbiAgICBpZiAoIXNlbGYuc2VydmljZSB8fCBzZWxmLnNlcnZpY2UuY29uZmlnLnJlZ2lvbiAhPT0gc3NvU2Vzc2lvbi5zc29fcmVnaW9uKSB7XG4gICAgICBzZWxmLnNlcnZpY2UgPSBuZXcgQVdTLlNTT09JREMoeyByZWdpb246IHNzb1Nlc3Npb24uc3NvX3JlZ2lvbiB9KTtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgY2xpZW50SWQ6IHRva2VuRnJvbUNhY2hlLmNsaWVudElkLFxuICAgICAgY2xpZW50U2VjcmV0OiB0b2tlbkZyb21DYWNoZS5jbGllbnRTZWNyZXQsXG4gICAgICByZWZyZXNoVG9rZW46IHRva2VuRnJvbUNhY2hlLnJlZnJlc2hUb2tlbixcbiAgICAgIGdyYW50VHlwZTogJ3JlZnJlc2hfdG9rZW4nLFxuICAgIH07XG5cbiAgICBsYXN0UmVmcmVzaEF0dGVtcHRUaW1lID0gQVdTLnV0aWwuZGF0ZS5nZXREYXRlKCkuZ2V0VGltZSgpO1xuICAgIHNlbGYuc2VydmljZS5jcmVhdGVUb2tlbihwYXJhbXMsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgaWYgKGVyciB8fCAhZGF0YSkge1xuICAgICAgICByZWZyZXNoVW5zdWNjZXNzZnVsKGN1cnJlbnRUaW1lLCB0b2tlbkV4cGlyZVRpbWUsIGNhbGxiYWNrKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdmFsaWRhdGVUb2tlbktleShkYXRhLCAnYWNjZXNzVG9rZW4nKTtcbiAgICAgICAgICB2YWxpZGF0ZVRva2VuS2V5KGRhdGEsICdleHBpcmVzSW4nKTtcbiAgICAgICAgICBzZWxmLmV4cGlyZWQgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLnRva2VuID0gZGF0YS5hY2Nlc3NUb2tlbjtcbiAgICAgICAgICBzZWxmLmV4cGlyZVRpbWUgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgZGF0YS5leHBpcmVzSW4gKiAxMDAwKTtcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXcml0ZSB1cGRhdGVkIHRva2VuIGRhdGEgdG8gZGlzay5cbiAgICAgICAgICAgIHRva2VuRnJvbUNhY2hlLmFjY2Vzc1Rva2VuID0gZGF0YS5hY2Nlc3NUb2tlbjtcbiAgICAgICAgICAgIHRva2VuRnJvbUNhY2hlLmV4cGlyZXNBdCA9IHNlbGYuZXhwaXJlVGltZS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgdG9rZW5Gcm9tQ2FjaGUucmVmcmVzaFRva2VuID0gZGF0YS5yZWZyZXNoVG9rZW47XG4gICAgICAgICAgICBmcy53cml0ZUZpbGVTeW5jKGNhY2hlUGF0aCwgSlNPTi5zdHJpbmdpZnkodG9rZW5Gcm9tQ2FjaGUsIG51bGwsIDIpKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gU3dhbGxvdyBlcnJvciBpZiB1bmFibGUgdG8gd3JpdGUgdG9rZW4gdG8gZmlsZS5cbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgcmVmcmVzaFVuc3VjY2Vzc2Z1bChjdXJyZW50VGltZSwgdG9rZW5FeHBpcmVUaW1lLCBjYWxsYmFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogTG9hZHMgdGhlIGNhY2hlZCBhY2Nlc3MgdG9rZW4gZnJvbSBkaXNrLlxuICAgKlxuICAgKiBAY2FsbGJhY2sgY2FsbGJhY2sgZnVuY3Rpb24oZXJyKVxuICAgKiAgIENhbGxlZCBhZnRlciB0aGUgQVdTIFNTTyBwcm9jZXNzIGhhcyBiZWVuIGV4ZWN1dGVkLiBXaGVuIHRoaXNcbiAgICogICBjYWxsYmFjayBpcyBjYWxsZWQgd2l0aCBubyBlcnJvciwgaXQgbWVhbnMgdGhhdCB0aGUgdG9rZW4gaW5mb3JtYXRpb25cbiAgICogICBoYXMgYmVlbiBsb2FkZWQgaW50byB0aGUgb2JqZWN0IChhcyB0aGUgYHRva2VuYCBwcm9wZXJ0eSkuXG4gICAqICAgQHBhcmFtIGVyciBbRXJyb3JdIGlmIGFuIGVycm9yIG9jY3VycmVkLCB0aGlzIHZhbHVlIHdpbGwgYmUgZmlsbGVkLlxuICAgKiBAc2VlIGdldFxuICAgKi9cbiAgcmVmcmVzaDogZnVuY3Rpb24gcmVmcmVzaChjYWxsYmFjaykge1xuICAgIGluaUxvYWRlci5jbGVhckNhY2hlZEZpbGVzKCk7XG4gICAgdGhpcy5jb2FsZXNjZVJlZnJlc2goY2FsbGJhY2sgfHwgQVdTLnV0aWwuZm4uY2FsbGJhY2spO1xuICB9LFxufSk7XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxudmFyIHJlZ2lvbl91dGlscyA9IHJlcXVpcmUoJy4vcmVnaW9uL3V0aWxzJyk7XG52YXIgaXNGaXBzUmVnaW9uID0gcmVnaW9uX3V0aWxzLmlzRmlwc1JlZ2lvbjtcbnZhciBnZXRSZWFsUmVnaW9uID0gcmVnaW9uX3V0aWxzLmdldFJlYWxSZWdpb247XG5cbnV0aWwuaXNCcm93c2VyID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTtcbnV0aWwuaXNOb2RlID0gZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9O1xuXG4vLyBub2RlLmpzIHNwZWNpZmljIG1vZHVsZXNcbnV0aWwuY3J5cHRvLmxpYiA9IHJlcXVpcmUoJ2NyeXB0bycpO1xudXRpbC5CdWZmZXIgPSByZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG51dGlsLmRvbWFpbiA9IHJlcXVpcmUoJ2RvbWFpbicpO1xudXRpbC5zdHJlYW0gPSByZXF1aXJlKCdzdHJlYW0nKTtcbnV0aWwudXJsID0gcmVxdWlyZSgndXJsJyk7XG51dGlsLnF1ZXJ5c3RyaW5nID0gcmVxdWlyZSgncXVlcnlzdHJpbmcnKTtcbnV0aWwuZW52aXJvbm1lbnQgPSAnbm9kZWpzJztcbnV0aWwuY3JlYXRlRXZlbnRTdHJlYW0gPSB1dGlsLnN0cmVhbS5SZWFkYWJsZSA/XG4gIHJlcXVpcmUoJy4vZXZlbnQtc3RyZWFtL3N0cmVhbWluZy1jcmVhdGUtZXZlbnQtc3RyZWFtJykuY3JlYXRlRXZlbnRTdHJlYW0gOiByZXF1aXJlKCcuL2V2ZW50LXN0cmVhbS9idWZmZXJlZC1jcmVhdGUtZXZlbnQtc3RyZWFtJykuY3JlYXRlRXZlbnRTdHJlYW07XG51dGlsLnJlYWxDbG9jayA9IHJlcXVpcmUoJy4vcmVhbGNsb2NrL25vZGVDbG9jaycpO1xudXRpbC5jbGllbnRTaWRlTW9uaXRvcmluZyA9IHtcbiAgUHVibGlzaGVyOiByZXF1aXJlKCcuL3B1Ymxpc2hlcicpLlB1Ymxpc2hlcixcbiAgY29uZmlnUHJvdmlkZXI6IHJlcXVpcmUoJy4vcHVibGlzaGVyL2NvbmZpZ3VyYXRpb24nKSxcbn07XG51dGlsLmluaUxvYWRlciA9IHJlcXVpcmUoJy4vc2hhcmVkLWluaScpLmluaUxvYWRlcjtcbnV0aWwuZ2V0U3lzdGVtRXJyb3JOYW1lID0gcmVxdWlyZSgndXRpbCcpLmdldFN5c3RlbUVycm9yTmFtZTtcblxudXRpbC5sb2FkQ29uZmlnID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICB2YXIgZW52VmFsdWUgPSBvcHRpb25zLmVudmlyb25tZW50VmFyaWFibGVTZWxlY3Rvcihwcm9jZXNzLmVudik7XG4gIGlmIChlbnZWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGVudlZhbHVlO1xuICB9XG5cbiAgdmFyIGNvbmZpZ0ZpbGUgPSB7fTtcbiAgdHJ5IHtcbiAgICBjb25maWdGaWxlID0gdXRpbC5pbmlMb2FkZXIgPyB1dGlsLmluaUxvYWRlci5sb2FkRnJvbSh7XG4gICAgICBpc0NvbmZpZzogdHJ1ZSxcbiAgICAgIGZpbGVuYW1lOiBwcm9jZXNzLmVudlt1dGlsLnNoYXJlZENvbmZpZ0ZpbGVFbnZdXG4gICAgfSkgOiB7fTtcbiAgfSBjYXRjaCAoZSkge31cbiAgdmFyIHNoYXJlZEZpbGVDb25maWcgPSBjb25maWdGaWxlW1xuICAgIHByb2Nlc3MuZW52LkFXU19QUk9GSUxFIHx8IHV0aWwuZGVmYXVsdFByb2ZpbGVcbiAgXSB8fCB7fTtcbiAgdmFyIGNvbmZpZ1ZhbHVlID0gb3B0aW9ucy5jb25maWdGaWxlU2VsZWN0b3Ioc2hhcmVkRmlsZUNvbmZpZyk7XG4gIGlmIChjb25maWdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIGNvbmZpZ1ZhbHVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmRlZmF1bHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5kZWZhdWx0KCk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnMuZGVmYXVsdDtcbn07XG5cbnZhciBBV1M7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVdTID0gcmVxdWlyZSgnLi9jb3JlJyk7XG5cbnJlcXVpcmUoJy4vY3JlZGVudGlhbHMnKTtcbnJlcXVpcmUoJy4vY3JlZGVudGlhbHMvY3JlZGVudGlhbF9wcm92aWRlcl9jaGFpbicpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy90ZW1wb3JhcnlfY3JlZGVudGlhbHMnKTtcbnJlcXVpcmUoJy4vY3JlZGVudGlhbHMvY2hhaW5hYmxlX3RlbXBvcmFyeV9jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy93ZWJfaWRlbnRpdHlfY3JlZGVudGlhbHMnKTtcbnJlcXVpcmUoJy4vY3JlZGVudGlhbHMvY29nbml0b19pZGVudGl0eV9jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9zYW1sX2NyZWRlbnRpYWxzJyk7XG5yZXF1aXJlKCcuL2NyZWRlbnRpYWxzL3Byb2Nlc3NfY3JlZGVudGlhbHMnKTtcblxuLy8gTG9hZCB0aGUgeG1sMmpzIFhNTCBwYXJzZXJcbkFXUy5YTUwuUGFyc2VyID0gcmVxdWlyZSgnLi94bWwvbm9kZV9wYXJzZXInKTtcblxuLy8gTG9hZCBOb2RlIEhUVFAgY2xpZW50XG5yZXF1aXJlKCcuL2h0dHAvbm9kZScpO1xuXG5yZXF1aXJlKCcuL3NoYXJlZC1pbmkvaW5pLWxvYWRlcicpO1xuXG4vLyBMb2FkIGN1c3RvbSBjcmVkZW50aWFsIHByb3ZpZGVyc1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy90b2tlbl9maWxlX3dlYl9pZGVudGl0eV9jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9lYzJfbWV0YWRhdGFfY3JlZGVudGlhbHMnKTtcbnJlcXVpcmUoJy4vY3JlZGVudGlhbHMvcmVtb3RlX2NyZWRlbnRpYWxzJyk7XG5yZXF1aXJlKCcuL2NyZWRlbnRpYWxzL2Vjc19jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9lbnZpcm9ubWVudF9jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9maWxlX3N5c3RlbV9jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9zaGFyZWRfaW5pX2ZpbGVfY3JlZGVudGlhbHMnKTtcbnJlcXVpcmUoJy4vY3JlZGVudGlhbHMvcHJvY2Vzc19jcmVkZW50aWFscycpO1xucmVxdWlyZSgnLi9jcmVkZW50aWFscy9zc29fY3JlZGVudGlhbHMnKTtcblxuLy8gU2V0dXAgZGVmYXVsdCBwcm92aWRlcnMgZm9yIGNyZWRlbnRpYWxzIGNoYWluXG4vLyBJZiB0aGlzIGNoYW5nZXMsIHBsZWFzZSB1cGRhdGUgZG9jdW1lbnRhdGlvbiBmb3Jcbi8vIEFXUy5DcmVkZW50aWFsUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzIGluXG4vLyBjcmVkZW50aWFscy9jcmVkZW50aWFsX3Byb3ZpZGVyX2NoYWluLmpzXG5BV1MuQ3JlZGVudGlhbFByb3ZpZGVyQ2hhaW4uZGVmYXVsdFByb3ZpZGVycyA9IFtcbiAgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFXUy5FbnZpcm9ubWVudENyZWRlbnRpYWxzKCdBV1MnKTsgfSxcbiAgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFXUy5FbnZpcm9ubWVudENyZWRlbnRpYWxzKCdBTUFaT04nKTsgfSxcbiAgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFXUy5Tc29DcmVkZW50aWFscygpOyB9LFxuICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLlNoYXJlZEluaUZpbGVDcmVkZW50aWFscygpOyB9LFxuICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLkVDU0NyZWRlbnRpYWxzKCk7IH0sXG4gIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBV1MuUHJvY2Vzc0NyZWRlbnRpYWxzKCk7IH0sXG4gIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBV1MuVG9rZW5GaWxlV2ViSWRlbnRpdHlDcmVkZW50aWFscygpOyB9LFxuICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLkVDMk1ldGFkYXRhQ3JlZGVudGlhbHMoKTsgfVxuXTtcblxuLy8gTG9hZCBjdXN0b20gdG9rZW4gcHJvdmlkZXJzXG5yZXF1aXJlKCcuL3Rva2VuJyk7XG5yZXF1aXJlKCcuL3Rva2VuL3Rva2VuX3Byb3ZpZGVyX2NoYWluJyk7XG5yZXF1aXJlKCcuL3Rva2VuL3Nzb190b2tlbl9wcm92aWRlcicpO1xuXG4vLyBTZXR1cCBkZWZhdWx0IHByb3ZpZGVycyBmb3IgdG9rZW4gY2hhaW5cbi8vIElmIHRoaXMgY2hhbmdlcywgcGxlYXNlIHVwZGF0ZSBkb2N1bWVudGF0aW9uIGZvclxuLy8gQVdTLlRva2VuUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzIGluXG4vLyB0b2tlbi90b2tlbl9wcm92aWRlcl9jaGFpbi5qc1xuQVdTLlRva2VuUHJvdmlkZXJDaGFpbi5kZWZhdWx0UHJvdmlkZXJzID0gW1xuICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLlNTT1Rva2VuUHJvdmlkZXIoKTsgfSxcbl07XG5cbnZhciBnZXRSZWdpb24gPSBmdW5jdGlvbigpIHtcbiAgdmFyIGVudiA9IHByb2Nlc3MuZW52O1xuICB2YXIgcmVnaW9uID0gZW52LkFXU19SRUdJT04gfHwgZW52LkFNQVpPTl9SRUdJT047XG4gIGlmIChlbnZbQVdTLnV0aWwuY29uZmlnT3B0SW5FbnZdKSB7XG4gICAgdmFyIHRvQ2hlY2sgPSBbXG4gICAgICB7ZmlsZW5hbWU6IGVudltBV1MudXRpbC5zaGFyZWRDcmVkZW50aWFsc0ZpbGVFbnZdfSxcbiAgICAgIHtpc0NvbmZpZzogdHJ1ZSwgZmlsZW5hbWU6IGVudltBV1MudXRpbC5zaGFyZWRDb25maWdGaWxlRW52XX1cbiAgICBdO1xuICAgIHZhciBpbmlMb2FkZXIgPSBBV1MudXRpbC5pbmlMb2FkZXI7XG4gICAgd2hpbGUgKCFyZWdpb24gJiYgdG9DaGVjay5sZW5ndGgpIHtcbiAgICAgIHZhciBjb25maWdGaWxlID0ge307XG4gICAgICB2YXIgZmlsZUluZm8gPSB0b0NoZWNrLnNoaWZ0KCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25maWdGaWxlID0gaW5pTG9hZGVyLmxvYWRGcm9tKGZpbGVJbmZvKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoZmlsZUluZm8uaXNDb25maWcpIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHZhciBwcm9maWxlID0gY29uZmlnRmlsZVtlbnYuQVdTX1BST0ZJTEUgfHwgQVdTLnV0aWwuZGVmYXVsdFByb2ZpbGVdO1xuICAgICAgcmVnaW9uID0gcHJvZmlsZSAmJiBwcm9maWxlLnJlZ2lvbjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlZ2lvbjtcbn07XG5cbnZhciBnZXRCb29sZWFuVmFsdWUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgPT09ICd0cnVlJyA/IHRydWU6IHZhbHVlID09PSAnZmFsc2UnID8gZmFsc2U6IHVuZGVmaW5lZDtcbn07XG5cbnZhciBVU0VfRklQU19FTkRQT0lOVF9DT05GSUdfT1BUSU9OUyA9IHtcbiAgZW52aXJvbm1lbnRWYXJpYWJsZVNlbGVjdG9yOiBmdW5jdGlvbihlbnYpIHtcbiAgICByZXR1cm4gZ2V0Qm9vbGVhblZhbHVlKGVudlsnQVdTX1VTRV9GSVBTX0VORFBPSU5UJ10pO1xuICB9LFxuICBjb25maWdGaWxlU2VsZWN0b3I6IGZ1bmN0aW9uKHByb2ZpbGUpIHtcbiAgICByZXR1cm4gZ2V0Qm9vbGVhblZhbHVlKHByb2ZpbGVbJ3VzZV9maXBzX2VuZHBvaW50J10pO1xuICB9LFxuICBkZWZhdWx0OiBmYWxzZSxcbn07XG5cbnZhciBVU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TID0ge1xuICBlbnZpcm9ubWVudFZhcmlhYmxlU2VsZWN0b3I6IGZ1bmN0aW9uKGVudikge1xuICAgIHJldHVybiBnZXRCb29sZWFuVmFsdWUoZW52WydBV1NfVVNFX0RVQUxTVEFDS19FTkRQT0lOVCddKTtcbiAgfSxcbiAgY29uZmlnRmlsZVNlbGVjdG9yOiBmdW5jdGlvbihwcm9maWxlKSB7XG4gICAgcmV0dXJuIGdldEJvb2xlYW5WYWx1ZShwcm9maWxlWyd1c2VfZHVhbHN0YWNrX2VuZHBvaW50J10pO1xuICB9LFxuICBkZWZhdWx0OiBmYWxzZSxcbn07XG5cbi8vIFVwZGF0ZSBjb25maWd1cmF0aW9uIGtleXNcbkFXUy51dGlsLnVwZGF0ZShBV1MuQ29uZmlnLnByb3RvdHlwZS5rZXlzLCB7XG4gIGNyZWRlbnRpYWxzOiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNyZWRlbnRpYWxzID0gbnVsbDtcbiAgICBuZXcgQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluKFtcbiAgICAgIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5ldyBBV1MuRW52aXJvbm1lbnRDcmVkZW50aWFscygnQVdTJyk7IH0sXG4gICAgICBmdW5jdGlvbiAoKSB7IHJldHVybiBuZXcgQVdTLkVudmlyb25tZW50Q3JlZGVudGlhbHMoJ0FNQVpPTicpOyB9LFxuICAgICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gbmV3IEFXUy5TaGFyZWRJbmlGaWxlQ3JlZGVudGlhbHMoeyBkaXNhYmxlQXNzdW1lUm9sZTogdHJ1ZSB9KTsgfVxuICAgIF0pLnJlc29sdmUoZnVuY3Rpb24oZXJyLCBjcmVkcykge1xuICAgICAgaWYgKCFlcnIpIGNyZWRlbnRpYWxzID0gY3JlZHM7XG4gICAgfSk7XG4gICAgcmV0dXJuIGNyZWRlbnRpYWxzO1xuICB9LFxuICBjcmVkZW50aWFsUHJvdmlkZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgQVdTLkNyZWRlbnRpYWxQcm92aWRlckNoYWluKCk7XG4gIH0sXG4gIGxvZ2dlcjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9jZXNzLmVudi5BV1NKU19ERUJVRyA/IGNvbnNvbGUgOiBudWxsO1xuICB9LFxuICByZWdpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWdpb24gPSBnZXRSZWdpb24oKTtcbiAgICByZXR1cm4gcmVnaW9uID8gZ2V0UmVhbFJlZ2lvbihyZWdpb24pOiB1bmRlZmluZWQ7XG4gIH0sXG4gIHRva2VuUHJvdmlkZXI6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgQVdTLlRva2VuUHJvdmlkZXJDaGFpbigpO1xuICB9LFxuICB1c2VGaXBzRW5kcG9pbnQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWdpb24gPSBnZXRSZWdpb24oKTtcbiAgICByZXR1cm4gaXNGaXBzUmVnaW9uKHJlZ2lvbilcbiAgICAgID8gdHJ1ZVxuICAgICAgOiB1dGlsLmxvYWRDb25maWcoVVNFX0ZJUFNfRU5EUE9JTlRfQ09ORklHX09QVElPTlMpO1xuICB9LFxuICB1c2VEdWFsc3RhY2tFbmRwb2ludDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHV0aWwubG9hZENvbmZpZyhVU0VfRFVBTFNUQUNLX0VORFBPSU5UX0NPTkZJR19PUFRJT05TKTtcbiAgfVxufSk7XG5cbi8vIFJlc2V0IGNvbmZpZ3VyYXRpb25cbkFXUy5jb25maWcgPSBuZXcgQVdTLkNvbmZpZygpO1xuIiwgInZhciB1dGlsID0gcmVxdWlyZSgnLi4vY29yZScpLnV0aWw7XG5cbmZ1bmN0aW9uIHR5cGVPZihkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsICYmIHR5cGVvZiBkYXRhID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiAnbnVsbCc7XG4gIH0gZWxzZSBpZiAoZGF0YSAhPT0gdW5kZWZpbmVkICYmIGlzQmluYXJ5KGRhdGEpKSB7XG4gICAgcmV0dXJuICdCaW5hcnknO1xuICB9IGVsc2UgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCAmJiBkYXRhLmNvbnN0cnVjdG9yKSB7XG4gICAgcmV0dXJuIGRhdGEud3JhcHBlck5hbWUgfHwgdXRpbC50eXBlTmFtZShkYXRhLmNvbnN0cnVjdG9yKTtcbiAgfSBlbHNlIGlmIChkYXRhICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGRhdGEgPT09ICdvYmplY3QnKSB7XG4gICAgLy8gdGhpcyBvYmplY3QgaXMgdGhlIHJlc3VsdCBvZiBPYmplY3QuY3JlYXRlKG51bGwpLCBoZW5jZSB0aGUgYWJzZW5jZSBvZiBhXG4gICAgLy8gZGVmaW5lZCBjb25zdHJ1Y3RvclxuICAgIHJldHVybiAnT2JqZWN0JztcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNCaW5hcnkoZGF0YSkge1xuICB2YXIgdHlwZXMgPSBbXG4gICAgJ0J1ZmZlcicsICdGaWxlJywgJ0Jsb2InLCAnQXJyYXlCdWZmZXInLCAnRGF0YVZpZXcnLFxuICAgICdJbnQ4QXJyYXknLCAnVWludDhBcnJheScsICdVaW50OENsYW1wZWRBcnJheScsXG4gICAgJ0ludDE2QXJyYXknLCAnVWludDE2QXJyYXknLCAnSW50MzJBcnJheScsICdVaW50MzJBcnJheScsXG4gICAgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknXG4gIF07XG4gIGlmICh1dGlsLmlzTm9kZSgpKSB7XG4gICAgdmFyIFN0cmVhbSA9IHV0aWwuc3RyZWFtLlN0cmVhbTtcbiAgICBpZiAodXRpbC5CdWZmZXIuaXNCdWZmZXIoZGF0YSkgfHwgZGF0YSBpbnN0YW5jZW9mIFN0cmVhbSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0eXBlcy5sZW5ndGg7IGkrKykge1xuICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQgJiYgZGF0YS5jb25zdHJ1Y3Rvcikge1xuICAgICAgaWYgKHV0aWwuaXNUeXBlKGRhdGEsIHR5cGVzW2ldKSkgcmV0dXJuIHRydWU7XG4gICAgICBpZiAodXRpbC50eXBlTmFtZShkYXRhLmNvbnN0cnVjdG9yKSA9PT0gdHlwZXNbaV0pIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHR5cGVPZjogdHlwZU9mLFxuICBpc0JpbmFyeTogaXNCaW5hcnlcbn07XG4iLCAidmFyIHV0aWwgPSByZXF1aXJlKCcuLi9jb3JlJykudXRpbDtcbnZhciB0eXBlT2YgPSByZXF1aXJlKCcuL3R5cGVzJykudHlwZU9mO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG52YXIgbWVtYmVyVHlwZVRvU2V0VHlwZSA9IHtcbiAgJ1N0cmluZyc6ICdTdHJpbmcnLFxuICAnTnVtYmVyJzogJ051bWJlcicsXG4gICdOdW1iZXJWYWx1ZSc6ICdOdW1iZXInLFxuICAnQmluYXJ5JzogJ0JpbmFyeSdcbn07XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbnZhciBEeW5hbW9EQlNldCA9IHV0aWwuaW5oZXJpdCh7XG5cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIFNldChsaXN0LCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdGhpcy53cmFwcGVyTmFtZSA9ICdTZXQnO1xuICAgIHRoaXMuaW5pdGlhbGl6ZShsaXN0LCBvcHRpb25zLnZhbGlkYXRlKTtcbiAgfSxcblxuICBpbml0aWFsaXplOiBmdW5jdGlvbihsaXN0LCB2YWxpZGF0ZSkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBzZWxmLnZhbHVlcyA9IFtdLmNvbmNhdChsaXN0KTtcbiAgICBzZWxmLmRldGVjdFR5cGUoKTtcbiAgICBpZiAodmFsaWRhdGUpIHtcbiAgICAgIHNlbGYudmFsaWRhdGUoKTtcbiAgICB9XG4gIH0sXG5cbiAgZGV0ZWN0VHlwZTogZnVuY3Rpb24oKSB7XG4gICAgdGhpcy50eXBlID0gbWVtYmVyVHlwZVRvU2V0VHlwZVt0eXBlT2YodGhpcy52YWx1ZXNbMF0pXTtcbiAgICBpZiAoIXRoaXMudHlwZSkge1xuICAgICAgdGhyb3cgdXRpbC5lcnJvcihuZXcgRXJyb3IoKSwge1xuICAgICAgICBjb2RlOiAnSW52YWxpZFNldFR5cGUnLFxuICAgICAgICBtZXNzYWdlOiAnU2V0cyBjYW4gY29udGFpbiBzdHJpbmcsIG51bWJlciwgb3IgYmluYXJ5IHZhbHVlcydcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcblxuICB2YWxpZGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBsZW5ndGggPSBzZWxmLnZhbHVlcy5sZW5ndGg7XG4gICAgdmFyIHZhbHVlcyA9IHNlbGYudmFsdWVzO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChtZW1iZXJUeXBlVG9TZXRUeXBlW3R5cGVPZih2YWx1ZXNbaV0pXSAhPT0gc2VsZi50eXBlKSB7XG4gICAgICAgIHRocm93IHV0aWwuZXJyb3IobmV3IEVycm9yKCksIHtcbiAgICAgICAgICBjb2RlOiAnSW52YWxpZFR5cGUnLFxuICAgICAgICAgIG1lc3NhZ2U6IHNlbGYudHlwZSArICcgU2V0IGNvbnRhaW5zICcgKyB0eXBlT2YodmFsdWVzW2ldKSArICcgdmFsdWUnXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSB1bmRlcmx5aW5nIHZhbHVlcyBvbmx5IHdoZW4gY29udmVydGluZyB0byBKU09OLlxuICAgKi9cbiAgdG9KU09OOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHNlbGYudmFsdWVzO1xuICB9XG5cbn0pO1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5tb2R1bGUuZXhwb3J0cyA9IER5bmFtb0RCU2V0O1xuIiwgInZhciB1dGlsID0gcmVxdWlyZSgnLi4vY29yZScpLnV0aWw7XG5cbi8qKlxuICogQW4gb2JqZWN0IHJlY29nbml6YWJsZSBhcyBhIG51bWVyaWMgdmFsdWUgdGhhdCBzdG9yZXMgdGhlIHVuZGVybHlpbmcgbnVtYmVyXG4gKiBhcyBhIHN0cmluZy5cbiAqXG4gKiBJbnRlbmRlZCB0byBiZSBhIGRlc2VyaWFsaXphdGlvbiB0YXJnZXQgZm9yIHRoZSBEeW5hbW9EQiBEb2N1bWVudCBDbGllbnQgd2hlblxuICogdGhlIGB3cmFwTnVtYmVyc2AgZmxhZyBpcyBzZXQuIFRoaXMgYWxsb3dzIGZvciBudW1lcmljIHZhbHVlcyB0aGF0IGxvc2VcbiAqIHByZWNpc2lvbiB3aGVuIGNvbnZlcnRlZCB0byBKYXZhU2NyaXB0J3MgYG51bWJlcmAgdHlwZS5cbiAqL1xudmFyIER5bmFtb0RCTnVtYmVyVmFsdWUgPSB1dGlsLmluaGVyaXQoe1xuICBjb25zdHJ1Y3RvcjogZnVuY3Rpb24gTnVtYmVyVmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLndyYXBwZXJOYW1lID0gJ051bWJlclZhbHVlJztcbiAgICB0aGlzLnZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVuZGVyIHRoZSB1bmRlcmx5aW5nIHZhbHVlIGFzIGEgbnVtYmVyIHdoZW4gY29udmVydGluZyB0byBKU09OLlxuICAgKi9cbiAgdG9KU09OOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudG9OdW1iZXIoKTtcbiAgfSxcblxuICAvKipcbiAgICogQ29udmVydCB0aGUgdW5kZXJseWluZyB2YWx1ZSB0byBhIEphdmFTY3JpcHQgbnVtYmVyLlxuICAgKi9cbiAgdG9OdW1iZXI6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMudmFsdWUpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm4gYSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSB1bmFsdGVyZWQgdmFsdWUgcHJvdmlkZWQgdG8gdGhlXG4gICAqIGNvbnN0cnVjdG9yLlxuICAgKi9cbiAgdG9TdHJpbmc6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy52YWx1ZTtcbiAgfVxufSk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gRHluYW1vREJOdW1iZXJWYWx1ZTtcbiIsICJ2YXIgQVdTID0gcmVxdWlyZSgnLi4vY29yZScpO1xudmFyIHV0aWwgPSBBV1MudXRpbDtcbnZhciB0eXBlT2YgPSByZXF1aXJlKCcuL3R5cGVzJykudHlwZU9mO1xudmFyIER5bmFtb0RCU2V0ID0gcmVxdWlyZSgnLi9zZXQnKTtcbnZhciBOdW1iZXJWYWx1ZSA9IHJlcXVpcmUoJy4vbnVtYmVyVmFsdWUnKTtcblxuQVdTLkR5bmFtb0RCLkNvbnZlcnRlciA9IHtcbiAgLyoqXG4gICAqIENvbnZlcnQgYSBKYXZhU2NyaXB0IHZhbHVlIHRvIGl0cyBlcXVpdmFsZW50IER5bmFtb0RCIEF0dHJpYnV0ZVZhbHVlIHR5cGVcbiAgICpcbiAgICogQHBhcmFtIGRhdGEgW2FueV0gVGhlIGRhdGEgdG8gY29udmVydCB0byBhIER5bmFtb0RCIEF0dHJpYnV0ZVZhbHVlXG4gICAqIEBwYXJhbSBvcHRpb25zIFttYXBdXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjb252ZXJ0RW1wdHlWYWx1ZXMgW0Jvb2xlYW5dIFdoZXRoZXIgdG8gYXV0b21hdGljYWxseVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0IGVtcHR5IHN0cmluZ3MsIGJsb2JzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgc2V0cyB0byBgbnVsbGBcbiAgICogQG9wdGlvbiBvcHRpb25zIHdyYXBOdW1iZXJzIFtCb29sZWFuXSAgV2hldGhlciB0byByZXR1cm4gbnVtYmVycyBhcyBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclZhbHVlIG9iamVjdCBpbnN0ZWFkIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRpbmcgdGhlbSB0byBuYXRpdmUgSmF2YVNjcmlwdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJzLiBUaGlzIGFsbG93cyBmb3IgdGhlIHNhZmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmQtdHJpcCB0cmFuc3BvcnQgb2YgbnVtYmVycyBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmJpdHJhcnkgc2l6ZS5cbiAgICogQHJldHVybiBbbWFwXSBBbiBvYmplY3QgaW4gdGhlIEFtYXpvbiBEeW5hbW9EQiBBdHRyaWJ1dGVWYWx1ZSBmb3JtYXRcbiAgICpcbiAgICogQHNlZSBBV1MuRHluYW1vREIuQ29udmVydGVyLm1hcnNoYWxsIEFXUy5EeW5hbW9EQi5Db252ZXJ0ZXIubWFyc2hhbGwgdG9cbiAgICogICAgY29udmVydCBlbnRpcmUgcmVjb3JkcyAocmF0aGVyIHRoYW4gaW5kaXZpZHVhbCBhdHRyaWJ1dGVzKVxuICAgKi9cbiAgaW5wdXQ6IGZ1bmN0aW9uIGNvbnZlcnRJbnB1dChkYXRhLCBvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgdmFyIHR5cGUgPSB0eXBlT2YoZGF0YSk7XG4gICAgaWYgKHR5cGUgPT09ICdPYmplY3QnKSB7XG4gICAgICByZXR1cm4gZm9ybWF0TWFwKGRhdGEsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0FycmF5Jykge1xuICAgICAgcmV0dXJuIGZvcm1hdExpc3QoZGF0YSwgb3B0aW9ucyk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnU2V0Jykge1xuICAgICAgcmV0dXJuIGZvcm1hdFNldChkYXRhLCBvcHRpb25zKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdTdHJpbmcnKSB7XG4gICAgICBpZiAoZGF0YS5sZW5ndGggPT09IDAgJiYgb3B0aW9ucy5jb252ZXJ0RW1wdHlWYWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRJbnB1dChudWxsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7IFM6IGRhdGEgfTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdOdW1iZXInIHx8IHR5cGUgPT09ICdOdW1iZXJWYWx1ZScpIHtcbiAgICAgIHJldHVybiB7IE46IGRhdGEudG9TdHJpbmcoKSB9O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0JpbmFyeScpIHtcbiAgICAgIGlmIChkYXRhLmxlbmd0aCA9PT0gMCAmJiBvcHRpb25zLmNvbnZlcnRFbXB0eVZhbHVlcykge1xuICAgICAgICByZXR1cm4gY29udmVydElucHV0KG51bGwpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHsgQjogZGF0YSB9O1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0Jvb2xlYW4nKSB7XG4gICAgICByZXR1cm4geyBCT09MOiBkYXRhIH07XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVsbCcpIHtcbiAgICAgIHJldHVybiB7IE5VTEw6IHRydWUgfTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGUgIT09ICdGdW5jdGlvbicpIHtcbiAgICAgIC8vIHRoaXMgdmFsdWUgaGFzIGEgY3VzdG9tIGNvbnN0cnVjdG9yXG4gICAgICByZXR1cm4gZm9ybWF0TWFwKGRhdGEsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQ29udmVydCBhIEphdmFTY3JpcHQgb2JqZWN0IGludG8gYSBEeW5hbW9EQiByZWNvcmQuXG4gICAqXG4gICAqIEBwYXJhbSBkYXRhIFthbnldIFRoZSBkYXRhIHRvIGNvbnZlcnQgdG8gYSBEeW5hbW9EQiByZWNvcmRcbiAgICogQHBhcmFtIG9wdGlvbnMgW21hcF1cbiAgICogQG9wdGlvbiBvcHRpb25zIGNvbnZlcnRFbXB0eVZhbHVlcyBbQm9vbGVhbl0gV2hldGhlciB0byBhdXRvbWF0aWNhbGx5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnQgZW1wdHkgc3RyaW5ncywgYmxvYnMsXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZCBzZXRzIHRvIGBudWxsYFxuICAgKiBAb3B0aW9uIG9wdGlvbnMgd3JhcE51bWJlcnMgW0Jvb2xlYW5dICBXaGV0aGVyIHRvIHJldHVybiBudW1iZXJzIGFzIGFcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyVmFsdWUgb2JqZWN0IGluc3RlYWQgb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydGluZyB0aGVtIHRvIG5hdGl2ZSBKYXZhU2NyaXB0XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bWJlcnMuIFRoaXMgYWxsb3dzIGZvciB0aGUgc2FmZVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3VuZC10cmlwIHRyYW5zcG9ydCBvZiBudW1iZXJzIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyYml0cmFyeSBzaXplLlxuICAgKlxuICAgKiBAcmV0dXJuIFttYXBdIEFuIG9iamVjdCBpbiB0aGUgRHluYW1vREIgcmVjb3JkIGZvcm1hdC5cbiAgICpcbiAgICogQGV4YW1wbGUgQ29udmVydCBhIEphdmFTY3JpcHQgb2JqZWN0IGludG8gYSBEeW5hbW9EQiByZWNvcmRcbiAgICogIHZhciBtYXJzaGFsbGVkID0gQVdTLkR5bmFtb0RCLkNvbnZlcnRlci5tYXJzaGFsbCh7XG4gICAqICAgIHN0cmluZzogJ2ZvbycsXG4gICAqICAgIGxpc3Q6IFsnZml6eicsICdidXp6JywgJ3BvcCddLFxuICAgKiAgICBtYXA6IHtcbiAgICogICAgICBuZXN0ZWRNYXA6IHtcbiAgICogICAgICAgIGtleTogJ3ZhbHVlJyxcbiAgICogICAgICB9XG4gICAqICAgIH0sXG4gICAqICAgIG51bWJlcjogMTIzLFxuICAgKiAgICBudWxsVmFsdWU6IG51bGwsXG4gICAqICAgIGJvb2xWYWx1ZTogdHJ1ZSxcbiAgICogICAgc3RyaW5nU2V0OiBuZXcgRHluYW1vREJTZXQoWydmb28nLCAnYmFyJywgJ2JheiddKVxuICAgKiAgfSk7XG4gICAqL1xuICBtYXJzaGFsbDogZnVuY3Rpb24gbWFyc2hhbGxJdGVtKGRhdGEsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gQVdTLkR5bmFtb0RCLkNvbnZlcnRlci5pbnB1dChkYXRhLCBvcHRpb25zKS5NO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgRHluYW1vREIgQXR0cmlidXRlVmFsdWUgb2JqZWN0IHRvIGl0cyBlcXVpdmFsZW50IEphdmFTY3JpcHQgdHlwZS5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgW21hcF0gQW4gb2JqZWN0IGluIHRoZSBBbWF6b24gRHluYW1vREIgQXR0cmlidXRlVmFsdWUgZm9ybWF0XG4gICAqIEBwYXJhbSBvcHRpb25zIFttYXBdXG4gICAqIEBvcHRpb24gb3B0aW9ucyBjb252ZXJ0RW1wdHlWYWx1ZXMgW0Jvb2xlYW5dIFdoZXRoZXIgdG8gYXV0b21hdGljYWxseVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0IGVtcHR5IHN0cmluZ3MsIGJsb2JzLFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmQgc2V0cyB0byBgbnVsbGBcbiAgICogQG9wdGlvbiBvcHRpb25zIHdyYXBOdW1iZXJzIFtCb29sZWFuXSAgV2hldGhlciB0byByZXR1cm4gbnVtYmVycyBhcyBhXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlclZhbHVlIG9iamVjdCBpbnN0ZWFkIG9mXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnZlcnRpbmcgdGhlbSB0byBuYXRpdmUgSmF2YVNjcmlwdFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1iZXJzLiBUaGlzIGFsbG93cyBmb3IgdGhlIHNhZmVcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91bmQtdHJpcCB0cmFuc3BvcnQgb2YgbnVtYmVycyBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcmJpdHJhcnkgc2l6ZS5cbiAgICpcbiAgICogQHJldHVybiBbT2JqZWN0fEFycmF5fFN0cmluZ3xOdW1iZXJ8Qm9vbGVhbnxudWxsXVxuICAgKlxuICAgKiBAc2VlIEFXUy5EeW5hbW9EQi5Db252ZXJ0ZXIudW5tYXJzaGFsbCBBV1MuRHluYW1vREIuQ29udmVydGVyLnVubWFyc2hhbGwgdG9cbiAgICogICAgY29udmVydCBlbnRpcmUgcmVjb3JkcyAocmF0aGVyIHRoYW4gaW5kaXZpZHVhbCBhdHRyaWJ1dGVzKVxuICAgKi9cbiAgb3V0cHV0OiBmdW5jdGlvbiBjb252ZXJ0T3V0cHV0KGRhdGEsIG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICB2YXIgbGlzdCwgbWFwLCBpO1xuICAgIGZvciAodmFyIHR5cGUgaW4gZGF0YSkge1xuICAgICAgdmFyIHZhbHVlcyA9IGRhdGFbdHlwZV07XG4gICAgICBpZiAodHlwZSA9PT0gJ00nKSB7XG4gICAgICAgIG1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgICAgbWFwW2tleV0gPSBjb252ZXJ0T3V0cHV0KHZhbHVlc1trZXldLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWFwO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTCcpIHtcbiAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdC5wdXNoKGNvbnZlcnRPdXRwdXQodmFsdWVzW2ldLCBvcHRpb25zKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpc3Q7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdTUycpIHtcbiAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdC5wdXNoKHZhbHVlc1tpXSArICcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IER5bmFtb0RCU2V0KGxpc3QpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTlMnKSB7XG4gICAgICAgIGxpc3QgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGxpc3QucHVzaChjb252ZXJ0TnVtYmVyKHZhbHVlc1tpXSwgb3B0aW9ucy53cmFwTnVtYmVycykpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRHluYW1vREJTZXQobGlzdCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdCUycpIHtcbiAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbGlzdC5wdXNoKEFXUy51dGlsLmJ1ZmZlci50b0J1ZmZlcih2YWx1ZXNbaV0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IER5bmFtb0RCU2V0KGxpc3QpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnUycpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcyArICcnO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTicpIHtcbiAgICAgICAgcmV0dXJuIGNvbnZlcnROdW1iZXIodmFsdWVzLCBvcHRpb25zLndyYXBOdW1iZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ0InKSB7XG4gICAgICAgIHJldHVybiB1dGlsLmJ1ZmZlci50b0J1ZmZlcih2YWx1ZXMpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnQk9PTCcpIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZXMgPT09ICd0cnVlJyB8fCB2YWx1ZXMgPT09ICdUUlVFJyB8fCB2YWx1ZXMgPT09IHRydWUpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnTlVMTCcpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgRHluYW1vREIgcmVjb3JkIGludG8gYSBKYXZhU2NyaXB0IG9iamVjdC5cbiAgICpcbiAgICogQHBhcmFtIGRhdGEgW2FueV0gVGhlIER5bmFtb0RCIHJlY29yZFxuICAgKiBAcGFyYW0gb3B0aW9ucyBbbWFwXVxuICAgKiBAb3B0aW9uIG9wdGlvbnMgY29udmVydEVtcHR5VmFsdWVzIFtCb29sZWFuXSBXaGV0aGVyIHRvIGF1dG9tYXRpY2FsbHlcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udmVydCBlbXB0eSBzdHJpbmdzLCBibG9icyxcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHNldHMgdG8gYG51bGxgXG4gICAqIEBvcHRpb24gb3B0aW9ucyB3cmFwTnVtYmVycyBbQm9vbGVhbl0gIFdoZXRoZXIgdG8gcmV0dXJuIG51bWJlcnMgYXMgYVxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOdW1iZXJWYWx1ZSBvYmplY3QgaW5zdGVhZCBvZlxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJ0aW5nIHRoZW0gdG8gbmF0aXZlIEphdmFTY3JpcHRcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnVtYmVycy4gVGhpcyBhbGxvd3MgZm9yIHRoZSBzYWZlXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdW5kLXRyaXAgdHJhbnNwb3J0IG9mIG51bWJlcnMgb2ZcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJiaXRyYXJ5IHNpemUuXG4gICAqXG4gICAqIEByZXR1cm4gW21hcF0gQW4gb2JqZWN0IHdob3NlIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGNvbnZlcnRlZCBmcm9tXG4gICAqICAgIER5bmFtb0RCJ3MgQXR0cmlidXRlVmFsdWUgZm9ybWF0IGludG8gdGhlaXIgY29ycmVzcG9uZGluZyBuYXRpdmVcbiAgICogICAgSmF2YVNjcmlwdCB0eXBlcy5cbiAgICpcbiAgICogQGV4YW1wbGUgQ29udmVydCBhIHJlY29yZCByZWNlaXZlZCBmcm9tIGEgRHluYW1vREIgc3RyZWFtXG4gICAqICB2YXIgdW5tYXJzaGFsbGVkID0gQVdTLkR5bmFtb0RCLkNvbnZlcnRlci51bm1hcnNoYWxsKHtcbiAgICogICAgc3RyaW5nOiB7UzogJ2Zvbyd9LFxuICAgKiAgICBsaXN0OiB7TDogW3tTOiAnZml6eid9LCB7UzogJ2J1enonfSwge1M6ICdwb3AnfV19LFxuICAgKiAgICBtYXA6IHtcbiAgICogICAgICBNOiB7XG4gICAqICAgICAgICBuZXN0ZWRNYXA6IHtcbiAgICogICAgICAgICAgTToge1xuICAgKiAgICAgICAgICAgIGtleToge1M6ICd2YWx1ZSd9XG4gICAqICAgICAgICAgIH1cbiAgICogICAgICAgIH1cbiAgICogICAgICB9XG4gICAqICAgIH0sXG4gICAqICAgIG51bWJlcjoge046ICcxMjMnfSxcbiAgICogICAgbnVsbFZhbHVlOiB7TlVMTDogdHJ1ZX0sXG4gICAqICAgIGJvb2xWYWx1ZToge0JPT0w6IHRydWV9XG4gICAqICB9KTtcbiAgICovXG4gIHVubWFyc2hhbGw6IGZ1bmN0aW9uIHVubWFyc2hhbGwoZGF0YSwgb3B0aW9ucykge1xuICAgIHJldHVybiBBV1MuRHluYW1vREIuQ29udmVydGVyLm91dHB1dCh7TTogZGF0YX0sIG9wdGlvbnMpO1xuICB9XG59O1xuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICogQHBhcmFtIGRhdGEgW0FycmF5XVxuICogQHBhcmFtIG9wdGlvbnMgW21hcF1cbiAqL1xuZnVuY3Rpb24gZm9ybWF0TGlzdChkYXRhLCBvcHRpb25zKSB7XG4gIHZhciBsaXN0ID0ge0w6IFtdfTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgbGlzdFsnTCddLnB1c2goQVdTLkR5bmFtb0RCLkNvbnZlcnRlci5pbnB1dChkYXRhW2ldLCBvcHRpb25zKSk7XG4gIH1cbiAgcmV0dXJuIGxpc3Q7XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKiBAcGFyYW0gdmFsdWUgW1N0cmluZ11cbiAqIEBwYXJhbSB3cmFwTnVtYmVycyBbQm9vbGVhbl1cbiAqL1xuZnVuY3Rpb24gY29udmVydE51bWJlcih2YWx1ZSwgd3JhcE51bWJlcnMpIHtcbiAgcmV0dXJuIHdyYXBOdW1iZXJzID8gbmV3IE51bWJlclZhbHVlKHZhbHVlKSA6IE51bWJlcih2YWx1ZSk7XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKiBAcGFyYW0gZGF0YSBbbWFwXVxuICogQHBhcmFtIG9wdGlvbnMgW21hcF1cbiAqL1xuZnVuY3Rpb24gZm9ybWF0TWFwKGRhdGEsIG9wdGlvbnMpIHtcbiAgdmFyIG1hcCA9IHtNOiB7fX07XG4gIGZvciAodmFyIGtleSBpbiBkYXRhKSB7XG4gICAgdmFyIGZvcm1hdHRlZCA9IEFXUy5EeW5hbW9EQi5Db252ZXJ0ZXIuaW5wdXQoZGF0YVtrZXldLCBvcHRpb25zKTtcbiAgICBpZiAoZm9ybWF0dGVkICE9PSB2b2lkIDApIHtcbiAgICAgIG1hcFsnTSddW2tleV0gPSBmb3JtYXR0ZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBtYXA7XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbmZ1bmN0aW9uIGZvcm1hdFNldChkYXRhLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgdmFsdWVzID0gZGF0YS52YWx1ZXM7XG4gIGlmIChvcHRpb25zLmNvbnZlcnRFbXB0eVZhbHVlcykge1xuICAgIHZhbHVlcyA9IGZpbHRlckVtcHR5U2V0VmFsdWVzKGRhdGEpO1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gQVdTLkR5bmFtb0RCLkNvbnZlcnRlci5pbnB1dChudWxsKTtcbiAgICB9XG4gIH1cblxuICB2YXIgbWFwID0ge307XG4gIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgY2FzZSAnU3RyaW5nJzogbWFwWydTUyddID0gdmFsdWVzOyBicmVhaztcbiAgICBjYXNlICdCaW5hcnknOiBtYXBbJ0JTJ10gPSB2YWx1ZXM7IGJyZWFrO1xuICAgIGNhc2UgJ051bWJlcic6IG1hcFsnTlMnXSA9IHZhbHVlcy5tYXAoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbWFwO1xufVxuXG4vKipcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBmaWx0ZXJFbXB0eVNldFZhbHVlcyhzZXQpIHtcbiAgICB2YXIgbm9uRW1wdHlWYWx1ZXMgPSBbXTtcbiAgICB2YXIgcG90ZW50aWFsbHlFbXB0eVR5cGVzID0ge1xuICAgICAgICBTdHJpbmc6IHRydWUsXG4gICAgICAgIEJpbmFyeTogdHJ1ZSxcbiAgICAgICAgTnVtYmVyOiBmYWxzZVxuICAgIH07XG4gICAgaWYgKHBvdGVudGlhbGx5RW1wdHlUeXBlc1tzZXQudHlwZV0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZXQudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoc2V0LnZhbHVlc1tpXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vbkVtcHR5VmFsdWVzLnB1c2goc2V0LnZhbHVlc1tpXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9uRW1wdHlWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNldC52YWx1ZXM7XG59XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVdTLkR5bmFtb0RCLkNvbnZlcnRlcjtcbiIsICJ2YXIgdXRpbCA9IHJlcXVpcmUoJy4uL2NvcmUnKS51dGlsO1xudmFyIGNvbnZlcnQgPSByZXF1aXJlKCcuL2NvbnZlcnRlcicpO1xuXG52YXIgVHJhbnNsYXRvciA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHRoaXMuYXR0clZhbHVlID0gb3B0aW9ucy5hdHRyVmFsdWU7XG4gIHRoaXMuY29udmVydEVtcHR5VmFsdWVzID0gQm9vbGVhbihvcHRpb25zLmNvbnZlcnRFbXB0eVZhbHVlcyk7XG4gIHRoaXMud3JhcE51bWJlcnMgPSBCb29sZWFuKG9wdGlvbnMud3JhcE51bWJlcnMpO1xufTtcblxuVHJhbnNsYXRvci5wcm90b3R5cGUudHJhbnNsYXRlSW5wdXQgPSBmdW5jdGlvbih2YWx1ZSwgc2hhcGUpIHtcbiAgdGhpcy5tb2RlID0gJ2lucHV0JztcbiAgcmV0dXJuIHRoaXMudHJhbnNsYXRlKHZhbHVlLCBzaGFwZSk7XG59O1xuXG5UcmFuc2xhdG9yLnByb3RvdHlwZS50cmFuc2xhdGVPdXRwdXQgPSBmdW5jdGlvbih2YWx1ZSwgc2hhcGUpIHtcbiAgdGhpcy5tb2RlID0gJ291dHB1dCc7XG4gIHJldHVybiB0aGlzLnRyYW5zbGF0ZSh2YWx1ZSwgc2hhcGUpO1xufTtcblxuVHJhbnNsYXRvci5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24odmFsdWUsIHNoYXBlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCFzaGFwZSB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIGlmIChzaGFwZS5zaGFwZSA9PT0gc2VsZi5hdHRyVmFsdWUpIHtcbiAgICByZXR1cm4gY29udmVydFtzZWxmLm1vZGVdKHZhbHVlLCB7XG4gICAgICBjb252ZXJ0RW1wdHlWYWx1ZXM6IHNlbGYuY29udmVydEVtcHR5VmFsdWVzLFxuICAgICAgd3JhcE51bWJlcnM6IHNlbGYud3JhcE51bWJlcnMsXG4gICAgfSk7XG4gIH1cbiAgc3dpdGNoIChzaGFwZS50eXBlKSB7XG4gICAgY2FzZSAnc3RydWN0dXJlJzogcmV0dXJuIHNlbGYudHJhbnNsYXRlU3RydWN0dXJlKHZhbHVlLCBzaGFwZSk7XG4gICAgY2FzZSAnbWFwJzogcmV0dXJuIHNlbGYudHJhbnNsYXRlTWFwKHZhbHVlLCBzaGFwZSk7XG4gICAgY2FzZSAnbGlzdCc6IHJldHVybiBzZWxmLnRyYW5zbGF0ZUxpc3QodmFsdWUsIHNoYXBlKTtcbiAgICBkZWZhdWx0OiByZXR1cm4gc2VsZi50cmFuc2xhdGVTY2FsYXIodmFsdWUsIHNoYXBlKTtcbiAgfVxufTtcblxuVHJhbnNsYXRvci5wcm90b3R5cGUudHJhbnNsYXRlU3RydWN0dXJlID0gZnVuY3Rpb24oc3RydWN0dXJlLCBzaGFwZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChzdHJ1Y3R1cmUgPT0gbnVsbCkgcmV0dXJuIHVuZGVmaW5lZDtcblxuICB2YXIgc3RydWN0ID0ge307XG4gIHV0aWwuZWFjaChzdHJ1Y3R1cmUsIGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gICAgdmFyIG1lbWJlclNoYXBlID0gc2hhcGUubWVtYmVyc1tuYW1lXTtcbiAgICBpZiAobWVtYmVyU2hhcGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBzZWxmLnRyYW5zbGF0ZSh2YWx1ZSwgbWVtYmVyU2hhcGUpO1xuICAgICAgaWYgKHJlc3VsdCAhPT0gdW5kZWZpbmVkKSBzdHJ1Y3RbbmFtZV0gPSByZXN1bHQ7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHN0cnVjdDtcbn07XG5cblRyYW5zbGF0b3IucHJvdG90eXBlLnRyYW5zbGF0ZUxpc3QgPSBmdW5jdGlvbihsaXN0LCBzaGFwZSkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChsaXN0ID09IG51bGwpIHJldHVybiB1bmRlZmluZWQ7XG5cbiAgdmFyIG91dCA9IFtdO1xuICB1dGlsLmFycmF5RWFjaChsaXN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBzZWxmLnRyYW5zbGF0ZSh2YWx1ZSwgc2hhcGUubWVtYmVyKTtcbiAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIG91dC5wdXNoKG51bGwpO1xuICAgIGVsc2Ugb3V0LnB1c2gocmVzdWx0KTtcbiAgfSk7XG4gIHJldHVybiBvdXQ7XG59O1xuXG5UcmFuc2xhdG9yLnByb3RvdHlwZS50cmFuc2xhdGVNYXAgPSBmdW5jdGlvbihtYXAsIHNoYXBlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG1hcCA9PSBudWxsKSByZXR1cm4gdW5kZWZpbmVkO1xuXG4gIHZhciBvdXQgPSB7fTtcbiAgdXRpbC5lYWNoKG1hcCwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgIHZhciByZXN1bHQgPSBzZWxmLnRyYW5zbGF0ZSh2YWx1ZSwgc2hhcGUudmFsdWUpO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgb3V0W2tleV0gPSBudWxsO1xuICAgIGVsc2Ugb3V0W2tleV0gPSByZXN1bHQ7XG4gIH0pO1xuICByZXR1cm4gb3V0O1xufTtcblxuVHJhbnNsYXRvci5wcm90b3R5cGUudHJhbnNsYXRlU2NhbGFyID0gZnVuY3Rpb24odmFsdWUsIHNoYXBlKSB7XG4gIHJldHVybiBzaGFwZS50b1R5cGUodmFsdWUpO1xufTtcblxuLyoqXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBUcmFuc2xhdG9yO1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG52YXIgVHJhbnNsYXRvciA9IHJlcXVpcmUoJy4vdHJhbnNsYXRvcicpO1xudmFyIER5bmFtb0RCU2V0ID0gcmVxdWlyZSgnLi9zZXQnKTtcblxuLyoqXG4gKiBUaGUgZG9jdW1lbnQgY2xpZW50IHNpbXBsaWZpZXMgd29ya2luZyB3aXRoIGl0ZW1zIGluIEFtYXpvbiBEeW5hbW9EQlxuICogYnkgYWJzdHJhY3RpbmcgYXdheSB0aGUgbm90aW9uIG9mIGF0dHJpYnV0ZSB2YWx1ZXMuIFRoaXMgYWJzdHJhY3Rpb25cbiAqIGFubm90YXRlcyBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcyBzdXBwbGllZCBhcyBpbnB1dCBwYXJhbWV0ZXJzLCBhcyB3ZWxsXG4gKiBhcyBjb252ZXJ0cyBhbm5vdGF0ZWQgcmVzcG9uc2UgZGF0YSB0byBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcy5cbiAqXG4gKiAjIyBNYXJzaGFsbGluZyBJbnB1dCBhbmQgVW5tYXJzaGFsbGluZyBSZXNwb25zZSBEYXRhXG4gKlxuICogVGhlIGRvY3VtZW50IGNsaWVudCBhZmZvcmRzIGRldmVsb3BlcnMgdGhlIHVzZSBvZiBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlc1xuICogaW5zdGVhZCBvZiBgQXR0cmlidXRlVmFsdWVgcyB0byBzaW1wbGlmeSB0aGUgSmF2YVNjcmlwdCBkZXZlbG9wbWVudFxuICogZXhwZXJpZW5jZSB3aXRoIEFtYXpvbiBEeW5hbW9EQi4gSmF2YVNjcmlwdCBvYmplY3RzIHBhc3NlZCBpbiBhcyBwYXJhbWV0ZXJzXG4gKiBhcmUgbWFyc2hhbGxlZCBpbnRvIGBBdHRyaWJ1dGVWYWx1ZWAgc2hhcGVzIHJlcXVpcmVkIGJ5IEFtYXpvbiBEeW5hbW9EQi5cbiAqIFJlc3BvbnNlcyBmcm9tIER5bmFtb0RCIGFyZSB1bm1hcnNoYWxsZWQgaW50byBwbGFpbiBKYXZhU2NyaXB0IG9iamVjdHNcbiAqIGJ5IHRoZSBgRG9jdW1lbnRDbGllbnRgLiBUaGUgYERvY3VtZW50Q2xpZW50YCwgZG9lcyBub3QgYWNjZXB0XG4gKiBgQXR0cmlidXRlVmFsdWVgcyBpbiBmYXZvciBvZiBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcy5cbiAqXG4gKiB8ICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXZhU2NyaXB0IFR5cGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBEeW5hbW9EQiBBdHRyaWJ1dGVWYWx1ZSB8XG4gKiB8Oi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS06fC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XG4gKiB8IFN0cmluZyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBTICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IE51bWJlciAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBOICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IEJvb2xlYW4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBCT09MICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IG51bGwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBOVUxMICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IEFycmF5ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBMICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IE9iamVjdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBNICAgICAgICAgICAgICAgICAgICAgICB8XG4gKiB8IEJ1ZmZlciwgRmlsZSwgQmxvYiwgQXJyYXlCdWZmZXIsIERhdGFWaWV3LCBhbmQgSmF2YVNjcmlwdCB0eXBlZCBhcnJheXMgfCBCICAgICAgICAgICAgICAgICAgICAgICB8XG4gKlxuICogIyMgU3VwcG9ydCBmb3IgU2V0c1xuICpcbiAqIFRoZSBgRG9jdW1lbnRDbGllbnRgIG9mZmVycyBhIGNvbnZlbmllbnQgd2F5IHRvIGNyZWF0ZSBzZXRzIGZyb21cbiAqIEphdmFTY3JpcHQgQXJyYXlzLiBUaGUgdHlwZSBvZiBzZXQgaXMgaW5mZXJyZWQgZnJvbSB0aGUgZmlyc3QgZWxlbWVudFxuICogaW4gdGhlIGFycmF5LiBEeW5hbW9EQiBzdXBwb3J0cyBzdHJpbmcsIG51bWJlciwgYW5kIGJpbmFyeSBzZXRzLiBUb1xuICogbGVhcm4gbW9yZSBhYm91dCBzdXBwb3J0ZWQgdHlwZXMgc2VlIHRoZVxuICogW0FtYXpvbiBEeW5hbW9EQiBEYXRhIE1vZGVsIERvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLmF3cy5hbWF6b24uY29tL2FtYXpvbmR5bmFtb2RiL2xhdGVzdC9kZXZlbG9wZXJndWlkZS9EYXRhTW9kZWwuaHRtbClcbiAqIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB7QVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50LmNyZWF0ZVNldH1cbiAqXG4gKi9cbkFXUy5EeW5hbW9EQi5Eb2N1bWVudENsaWVudCA9IEFXUy51dGlsLmluaGVyaXQoe1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgRHluYW1vREIgZG9jdW1lbnQgY2xpZW50IHdpdGggYSBzZXQgb2YgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICAgKlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgcGFyYW1zIFttYXBdIEFuIG9wdGlvbmFsIG1hcCBvZiBwYXJhbWV0ZXJzIHRvIGJpbmQgdG8gZXZlcnlcbiAgICogICByZXF1ZXN0IHNlbnQgYnkgdGhpcyBzZXJ2aWNlIG9iamVjdC5cbiAgICogQG9wdGlvbiBvcHRpb25zIHNlcnZpY2UgW0FXUy5EeW5hbW9EQl0gQW4gb3B0aW9uYWwgcHJlLWNvbmZpZ3VyZWQgaW5zdGFuY2VcbiAgICogIG9mIHRoZSBBV1MuRHluYW1vREIgc2VydmljZSBvYmplY3QuIFRoaXMgaW5zdGFuY2UncyBjb25maWcgd2lsbCBiZVxuICAgKiAgY29waWVkIHRvIGEgbmV3IGluc3RhbmNlIHVzZWQgYnkgdGhpcyBjbGllbnQuIFlvdSBzaG91bGQgbm90IG5lZWQgdG9cbiAgICogIHJldGFpbiBhIHJlZmVyZW5jZSB0byB0aGUgaW5wdXQgb2JqZWN0LCBhbmQgbWF5IGRlc3Ryb3kgaXQgb3IgYWxsb3cgaXRcbiAgICogIHRvIGJlIGdhcmJhZ2UgY29sbGVjdGVkLlxuICAgKiBAb3B0aW9uIG9wdGlvbnMgY29udmVydEVtcHR5VmFsdWVzIFtCb29sZWFuXSBzZXQgdG8gdHJ1ZSBpZiB5b3Ugd291bGQgbGlrZVxuICAgKiAgdGhlIGRvY3VtZW50IGNsaWVudCB0byBjb252ZXJ0IGVtcHR5IHZhbHVlcyAoMC1sZW5ndGggc3RyaW5ncywgYmluYXJ5XG4gICAqICBidWZmZXJzLCBhbmQgc2V0cykgdG8gYmUgY29udmVydGVkIHRvIE5VTEwgdHlwZXMgd2hlbiBwZXJzaXN0aW5nIHRvXG4gICAqICBEeW5hbW9EQi5cbiAgICogQG9wdGlvbiBvcHRpb25zIHdyYXBOdW1iZXJzIFtCb29sZWFuXSBTZXQgdG8gdHJ1ZSB0byByZXR1cm4gbnVtYmVycyBhcyBhXG4gICAqICBOdW1iZXJWYWx1ZSBvYmplY3QgaW5zdGVhZCBvZiBjb252ZXJ0aW5nIHRoZW0gdG8gbmF0aXZlIEphdmFTY3JpcHQgbnVtYmVycy5cbiAgICogIFRoaXMgYWxsb3dzIGZvciB0aGUgc2FmZSByb3VuZC10cmlwIHRyYW5zcG9ydCBvZiBudW1iZXJzIG9mIGFyYml0cmFyeSBzaXplLlxuICAgKiBAc2VlIEFXUy5EeW5hbW9EQi5jb25zdHJ1Y3RvclxuICAgKlxuICAgKi9cbiAgY29uc3RydWN0b3I6IGZ1bmN0aW9uIERvY3VtZW50Q2xpZW50KG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5vcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBzZWxmLmNvbmZpZ3VyZShzZWxmLm9wdGlvbnMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNvbmZpZ3VyZTogZnVuY3Rpb24gY29uZmlndXJlKG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5zZXJ2aWNlID0gb3B0aW9ucy5zZXJ2aWNlO1xuICAgIHNlbGYuYmluZFNlcnZpY2VPYmplY3Qob3B0aW9ucyk7XG4gICAgc2VsZi5hdHRyVmFsdWUgPSBvcHRpb25zLmF0dHJWYWx1ZSA9XG4gICAgICBzZWxmLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnMucHV0SXRlbS5pbnB1dC5tZW1iZXJzLkl0ZW0udmFsdWUuc2hhcGU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgYmluZFNlcnZpY2VPYmplY3Q6IGZ1bmN0aW9uIGJpbmRTZXJ2aWNlT2JqZWN0KG9wdGlvbnMpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAoIXNlbGYuc2VydmljZSkge1xuICAgICAgc2VsZi5zZXJ2aWNlID0gbmV3IEFXUy5EeW5hbW9EQihvcHRpb25zKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGNvbmZpZyA9IEFXUy51dGlsLmNvcHkoc2VsZi5zZXJ2aWNlLmNvbmZpZyk7XG4gICAgICBzZWxmLnNlcnZpY2UgPSBuZXcgc2VsZi5zZXJ2aWNlLmNvbnN0cnVjdG9yLl9fc3VwZXJfXyhjb25maWcpO1xuICAgICAgc2VsZi5zZXJ2aWNlLmNvbmZpZy5wYXJhbXMgPVxuICAgICAgICBBV1MudXRpbC5tZXJnZShzZWxmLnNlcnZpY2UuY29uZmlnLnBhcmFtcyB8fCB7fSwgb3B0aW9ucy5wYXJhbXMpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBtYWtlU2VydmljZVJlcXVlc3Q6IGZ1bmN0aW9uKG9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgcmVxdWVzdCA9IHNlbGYuc2VydmljZVtvcGVyYXRpb25dKHBhcmFtcyk7XG4gICAgc2VsZi5zZXR1cFJlcXVlc3QocmVxdWVzdCk7XG4gICAgc2VsZi5zZXR1cFJlc3BvbnNlKHJlcXVlc3QpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3Quc2VuZChjYWxsYmFjayk7XG4gICAgfVxuICAgIHJldHVybiByZXF1ZXN0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHNlcnZpY2VDbGllbnRPcGVyYXRpb25zTWFwOiB7XG4gICAgYmF0Y2hHZXQ6ICdiYXRjaEdldEl0ZW0nLFxuICAgIGJhdGNoV3JpdGU6ICdiYXRjaFdyaXRlSXRlbScsXG4gICAgZGVsZXRlOiAnZGVsZXRlSXRlbScsXG4gICAgZ2V0OiAnZ2V0SXRlbScsXG4gICAgcHV0OiAncHV0SXRlbScsXG4gICAgcXVlcnk6ICdxdWVyeScsXG4gICAgc2NhbjogJ3NjYW4nLFxuICAgIHVwZGF0ZTogJ3VwZGF0ZUl0ZW0nLFxuICAgIHRyYW5zYWN0R2V0OiAndHJhbnNhY3RHZXRJdGVtcycsXG4gICAgdHJhbnNhY3RXcml0ZTogJ3RyYW5zYWN0V3JpdGVJdGVtcydcbiAgfSxcblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgYXR0cmlidXRlcyBvZiBvbmUgb3IgbW9yZSBpdGVtcyBmcm9tIG9uZSBvciBtb3JlIHRhYmxlc1xuICAgKiBieSBkZWxlZ2F0aW5nIHRvIGBBV1MuRHluYW1vREIuYmF0Y2hHZXRJdGVtKClgLlxuICAgKlxuICAgKiBTdXBwbHkgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB7QVdTLkR5bmFtb0RCLmJhdGNoR2V0SXRlbX0gd2l0aFxuICAgKiBgQXR0cmlidXRlVmFsdWVgcyBzdWJzdGl0dXRlZCBieSBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcy5cbiAgICpcbiAgICogQHNlZSBBV1MuRHluYW1vREIuYmF0Y2hHZXRJdGVtXG4gICAqIEBleGFtcGxlIEdldCBpdGVtcyBmcm9tIG11bHRpcGxlIHRhYmxlc1xuICAgKiAgdmFyIHBhcmFtcyA9IHtcbiAgICogICAgUmVxdWVzdEl0ZW1zOiB7XG4gICAqICAgICAgJ1RhYmxlLTEnOiB7XG4gICAqICAgICAgICBLZXlzOiBbXG4gICAqICAgICAgICAgIHtcbiAgICogICAgICAgICAgICAgSGFzaEtleTogJ2hhc2tleScsXG4gICAqICAgICAgICAgICAgIE51bWJlclJhbmdlS2V5OiAxXG4gICAqICAgICAgICAgIH1cbiAgICogICAgICAgIF1cbiAgICogICAgICB9LFxuICAgKiAgICAgICdUYWJsZS0yJzoge1xuICAgKiAgICAgICAgS2V5czogW1xuICAgKiAgICAgICAgICB7IGZvbzogJ2JhcicgfSxcbiAgICogICAgICAgIF1cbiAgICogICAgICB9XG4gICAqICAgIH1cbiAgICogIH07XG4gICAqXG4gICAqICB2YXIgZG9jdW1lbnRDbGllbnQgPSBuZXcgQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG4gICAqXG4gICAqICBkb2N1bWVudENsaWVudC5iYXRjaEdldChwYXJhbXMsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgKiAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuICAgKiAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqL1xuICBiYXRjaEdldDogZnVuY3Rpb24ocGFyYW1zLCBjYWxsYmFjaykge1xuICAgIHZhciBvcGVyYXRpb24gPSB0aGlzLnNlcnZpY2VDbGllbnRPcGVyYXRpb25zTWFwWydiYXRjaEdldCddO1xuICAgIHJldHVybiB0aGlzLm1ha2VTZXJ2aWNlUmVxdWVzdChvcGVyYXRpb24sIHBhcmFtcywgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBQdXRzIG9yIGRlbGV0ZXMgbXVsdGlwbGUgaXRlbXMgaW4gb25lIG9yIG1vcmUgdGFibGVzIGJ5IGRlbGVnYXRpbmdcbiAgICogdG8gYEFXUy5EeW5hbW9EQi5iYXRjaFdyaXRlSXRlbSgpYC5cbiAgICpcbiAgICogU3VwcGx5IHRoZSBzYW1lIHBhcmFtZXRlcnMgYXMge0FXUy5EeW5hbW9EQi5iYXRjaFdyaXRlSXRlbX0gd2l0aFxuICAgKiBgQXR0cmlidXRlVmFsdWVgcyBzdWJzdGl0dXRlZCBieSBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcy5cbiAgICpcbiAgICogQHNlZSBBV1MuRHluYW1vREIuYmF0Y2hXcml0ZUl0ZW1cbiAgICogQGV4YW1wbGUgV3JpdGUgdG8gYW5kIGRlbGV0ZSBmcm9tIGEgdGFibGVcbiAgICogIHZhciBwYXJhbXMgPSB7XG4gICAqICAgIFJlcXVlc3RJdGVtczoge1xuICAgKiAgICAgICdUYWJsZS0xJzogW1xuICAgKiAgICAgICAge1xuICAgKiAgICAgICAgICBEZWxldGVSZXF1ZXN0OiB7XG4gICAqICAgICAgICAgICAgS2V5OiB7IEhhc2hLZXk6ICdzb21lS2V5JyB9XG4gICAqICAgICAgICAgIH1cbiAgICogICAgICAgIH0sXG4gICAqICAgICAgICB7XG4gICAqICAgICAgICAgIFB1dFJlcXVlc3Q6IHtcbiAgICogICAgICAgICAgICBJdGVtOiB7XG4gICAqICAgICAgICAgICAgICBIYXNoS2V5OiAnYW5vdGhlcktleScsXG4gICAqICAgICAgICAgICAgICBOdW1BdHRyaWJ1dGU6IDEsXG4gICAqICAgICAgICAgICAgICBCb29sQXR0cmlidXRlOiB0cnVlLFxuICAgKiAgICAgICAgICAgICAgTGlzdEF0dHJpYnV0ZTogWzEsICd0d28nLCBmYWxzZV0sXG4gICAqICAgICAgICAgICAgICBNYXBBdHRyaWJ1dGU6IHsgZm9vOiAnYmFyJyB9XG4gICAqICAgICAgICAgICAgfVxuICAgKiAgICAgICAgICB9XG4gICAqICAgICAgICB9XG4gICAqICAgICAgXVxuICAgKiAgICB9XG4gICAqICB9O1xuICAgKlxuICAgKiAgdmFyIGRvY3VtZW50Q2xpZW50ID0gbmV3IEFXUy5EeW5hbW9EQi5Eb2N1bWVudENsaWVudCgpO1xuICAgKlxuICAgKiAgZG9jdW1lbnRDbGllbnQuYmF0Y2hXcml0ZShwYXJhbXMsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgKiAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuICAgKiAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqL1xuICBiYXRjaFdyaXRlOiBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMuc2VydmljZUNsaWVudE9wZXJhdGlvbnNNYXBbJ2JhdGNoV3JpdGUnXTtcbiAgICByZXR1cm4gdGhpcy5tYWtlU2VydmljZVJlcXVlc3Qob3BlcmF0aW9uLCBwYXJhbXMsIGNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogRGVsZXRlcyBhIHNpbmdsZSBpdGVtIGluIGEgdGFibGUgYnkgcHJpbWFyeSBrZXkgYnkgZGVsZWdhdGluZyB0b1xuICAgKiBgQVdTLkR5bmFtb0RCLmRlbGV0ZUl0ZW0oKWBcbiAgICpcbiAgICogU3VwcGx5IHRoZSBzYW1lIHBhcmFtZXRlcnMgYXMge0FXUy5EeW5hbW9EQi5kZWxldGVJdGVtfSB3aXRoXG4gICAqIGBBdHRyaWJ1dGVWYWx1ZWBzIHN1YnN0aXR1dGVkIGJ5IG5hdGl2ZSBKYXZhU2NyaXB0IHR5cGVzLlxuICAgKlxuICAgKiBAc2VlIEFXUy5EeW5hbW9EQi5kZWxldGVJdGVtXG4gICAqIEBleGFtcGxlIERlbGV0ZSBhbiBpdGVtIGZyb20gYSB0YWJsZVxuICAgKiAgdmFyIHBhcmFtcyA9IHtcbiAgICogICAgVGFibGVOYW1lIDogJ1RhYmxlJyxcbiAgICogICAgS2V5OiB7XG4gICAqICAgICAgSGFzaEtleTogJ2hhc2hrZXknLFxuICAgKiAgICAgIE51bWJlclJhbmdlS2V5OiAxXG4gICAqICAgIH1cbiAgICogIH07XG4gICAqXG4gICAqICB2YXIgZG9jdW1lbnRDbGllbnQgPSBuZXcgQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG4gICAqXG4gICAqICBkb2N1bWVudENsaWVudC5kZWxldGUocGFyYW1zLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICogICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKTtcbiAgICogICAgZWxzZSBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICogIH0pO1xuICAgKlxuICAgKi9cbiAgZGVsZXRlOiBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMuc2VydmljZUNsaWVudE9wZXJhdGlvbnNNYXBbJ2RlbGV0ZSddO1xuICAgIHJldHVybiB0aGlzLm1ha2VTZXJ2aWNlUmVxdWVzdChvcGVyYXRpb24sIHBhcmFtcywgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2V0IG9mIGF0dHJpYnV0ZXMgZm9yIHRoZSBpdGVtIHdpdGggdGhlIGdpdmVuIHByaW1hcnkga2V5XG4gICAqIGJ5IGRlbGVnYXRpbmcgdG8gYEFXUy5EeW5hbW9EQi5nZXRJdGVtKClgLlxuICAgKlxuICAgKiBTdXBwbHkgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB7QVdTLkR5bmFtb0RCLmdldEl0ZW19IHdpdGhcbiAgICogYEF0dHJpYnV0ZVZhbHVlYHMgc3Vic3RpdHV0ZWQgYnkgbmF0aXZlIEphdmFTY3JpcHQgdHlwZXMuXG4gICAqXG4gICAqIEBzZWUgQVdTLkR5bmFtb0RCLmdldEl0ZW1cbiAgICogQGV4YW1wbGUgR2V0IGFuIGl0ZW0gZnJvbSBhIHRhYmxlXG4gICAqICB2YXIgcGFyYW1zID0ge1xuICAgKiAgICBUYWJsZU5hbWUgOiAnVGFibGUnLFxuICAgKiAgICBLZXk6IHtcbiAgICogICAgICBIYXNoS2V5OiAnaGFzaGtleSdcbiAgICogICAgfVxuICAgKiAgfTtcbiAgICpcbiAgICogIHZhciBkb2N1bWVudENsaWVudCA9IG5ldyBBV1MuRHluYW1vREIuRG9jdW1lbnRDbGllbnQoKTtcbiAgICpcbiAgICogIGRvY3VtZW50Q2xpZW50LmdldChwYXJhbXMsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgKiAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuICAgKiAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqL1xuICBnZXQ6IGZ1bmN0aW9uKHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICB2YXIgb3BlcmF0aW9uID0gdGhpcy5zZXJ2aWNlQ2xpZW50T3BlcmF0aW9uc01hcFsnZ2V0J107XG4gICAgcmV0dXJuIHRoaXMubWFrZVNlcnZpY2VSZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBuZXcgaXRlbSwgb3IgcmVwbGFjZXMgYW4gb2xkIGl0ZW0gd2l0aCBhIG5ldyBpdGVtIGJ5XG4gICAqIGRlbGVnYXRpbmcgdG8gYEFXUy5EeW5hbW9EQi5wdXRJdGVtKClgLlxuICAgKlxuICAgKiBTdXBwbHkgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB7QVdTLkR5bmFtb0RCLnB1dEl0ZW19IHdpdGhcbiAgICogYEF0dHJpYnV0ZVZhbHVlYHMgc3Vic3RpdHV0ZWQgYnkgbmF0aXZlIEphdmFTY3JpcHQgdHlwZXMuXG4gICAqXG4gICAqIEBzZWUgQVdTLkR5bmFtb0RCLnB1dEl0ZW1cbiAgICogQGV4YW1wbGUgQ3JlYXRlIGEgbmV3IGl0ZW0gaW4gYSB0YWJsZVxuICAgKiAgdmFyIHBhcmFtcyA9IHtcbiAgICogICAgVGFibGVOYW1lIDogJ1RhYmxlJyxcbiAgICogICAgSXRlbToge1xuICAgKiAgICAgICBIYXNoS2V5OiAnaGFza2V5JyxcbiAgICogICAgICAgTnVtQXR0cmlidXRlOiAxLFxuICAgKiAgICAgICBCb29sQXR0cmlidXRlOiB0cnVlLFxuICAgKiAgICAgICBMaXN0QXR0cmlidXRlOiBbMSwgJ3R3bycsIGZhbHNlXSxcbiAgICogICAgICAgTWFwQXR0cmlidXRlOiB7IGZvbzogJ2Jhcid9LFxuICAgKiAgICAgICBOdWxsQXR0cmlidXRlOiBudWxsXG4gICAqICAgIH1cbiAgICogIH07XG4gICAqXG4gICAqICB2YXIgZG9jdW1lbnRDbGllbnQgPSBuZXcgQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG4gICAqXG4gICAqICBkb2N1bWVudENsaWVudC5wdXQocGFyYW1zLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICogICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKTtcbiAgICogICAgZWxzZSBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICogIH0pO1xuICAgKlxuICAgKi9cbiAgcHV0OiBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMuc2VydmljZUNsaWVudE9wZXJhdGlvbnNNYXBbJ3B1dCddO1xuICAgIHJldHVybiB0aGlzLm1ha2VTZXJ2aWNlUmVxdWVzdChvcGVyYXRpb24sIHBhcmFtcywgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFZGl0cyBhbiBleGlzdGluZyBpdGVtJ3MgYXR0cmlidXRlcywgb3IgYWRkcyBhIG5ldyBpdGVtIHRvIHRoZSB0YWJsZSBpZlxuICAgKiBpdCBkb2VzIG5vdCBhbHJlYWR5IGV4aXN0IGJ5IGRlbGVnYXRpbmcgdG8gYEFXUy5EeW5hbW9EQi51cGRhdGVJdGVtKClgLlxuICAgKlxuICAgKiBTdXBwbHkgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB7QVdTLkR5bmFtb0RCLnVwZGF0ZUl0ZW19IHdpdGhcbiAgICogYEF0dHJpYnV0ZVZhbHVlYHMgc3Vic3RpdHV0ZWQgYnkgbmF0aXZlIEphdmFTY3JpcHQgdHlwZXMuXG4gICAqXG4gICAqIEBzZWUgQVdTLkR5bmFtb0RCLnVwZGF0ZUl0ZW1cbiAgICogQGV4YW1wbGUgVXBkYXRlIGFuIGl0ZW0gd2l0aCBleHByZXNzaW9uc1xuICAgKiAgdmFyIHBhcmFtcyA9IHtcbiAgICogICAgVGFibGVOYW1lOiAnVGFibGUnLFxuICAgKiAgICBLZXk6IHsgSGFzaEtleSA6ICdoYXNoa2V5JyB9LFxuICAgKiAgICBVcGRhdGVFeHByZXNzaW9uOiAnc2V0ICNhID0gOnggKyA6eScsXG4gICAqICAgIENvbmRpdGlvbkV4cHJlc3Npb246ICcjYSA8IDpNQVgnLFxuICAgKiAgICBFeHByZXNzaW9uQXR0cmlidXRlTmFtZXM6IHsnI2EnIDogJ1N1bSd9LFxuICAgKiAgICBFeHByZXNzaW9uQXR0cmlidXRlVmFsdWVzOiB7XG4gICAqICAgICAgJzp4JyA6IDIwLFxuICAgKiAgICAgICc6eScgOiA0NSxcbiAgICogICAgICAnOk1BWCcgOiAxMDAsXG4gICAqICAgIH1cbiAgICogIH07XG4gICAqXG4gICAqICB2YXIgZG9jdW1lbnRDbGllbnQgPSBuZXcgQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG4gICAqXG4gICAqICBkb2N1bWVudENsaWVudC51cGRhdGUocGFyYW1zLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICogICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gICAqICAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqL1xuICB1cGRhdGU6IGZ1bmN0aW9uKHBhcmFtcywgY2FsbGJhY2spIHtcbiAgICB2YXIgb3BlcmF0aW9uID0gdGhpcy5zZXJ2aWNlQ2xpZW50T3BlcmF0aW9uc01hcFsndXBkYXRlJ107XG4gICAgcmV0dXJuIHRoaXMubWFrZVNlcnZpY2VSZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybnMgb25lIG9yIG1vcmUgaXRlbXMgYW5kIGl0ZW0gYXR0cmlidXRlcyBieSBhY2Nlc3NpbmcgZXZlcnkgaXRlbVxuICAgKiBpbiBhIHRhYmxlIG9yIGEgc2Vjb25kYXJ5IGluZGV4LlxuICAgKlxuICAgKiBTdXBwbHkgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB7QVdTLkR5bmFtb0RCLnNjYW59IHdpdGhcbiAgICogYEF0dHJpYnV0ZVZhbHVlYHMgc3Vic3RpdHV0ZWQgYnkgbmF0aXZlIEphdmFTY3JpcHQgdHlwZXMuXG4gICAqXG4gICAqIEBzZWUgQVdTLkR5bmFtb0RCLnNjYW5cbiAgICogQGV4YW1wbGUgU2NhbiB0aGUgdGFibGUgd2l0aCBhIGZpbHRlciBleHByZXNzaW9uXG4gICAqICB2YXIgcGFyYW1zID0ge1xuICAgKiAgICBUYWJsZU5hbWUgOiAnVGFibGUnLFxuICAgKiAgICBGaWx0ZXJFeHByZXNzaW9uIDogJ1llYXIgPSA6dGhpc195ZWFyJyxcbiAgICogICAgRXhwcmVzc2lvbkF0dHJpYnV0ZVZhbHVlcyA6IHsnOnRoaXNfeWVhcicgOiAyMDE1fVxuICAgKiAgfTtcbiAgICpcbiAgICogIHZhciBkb2N1bWVudENsaWVudCA9IG5ldyBBV1MuRHluYW1vREIuRG9jdW1lbnRDbGllbnQoKTtcbiAgICpcbiAgICogIGRvY3VtZW50Q2xpZW50LnNjYW4ocGFyYW1zLCBmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICogICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gICAqICAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqL1xuICBzY2FuOiBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMuc2VydmljZUNsaWVudE9wZXJhdGlvbnNNYXBbJ3NjYW4nXTtcbiAgICByZXR1cm4gdGhpcy5tYWtlU2VydmljZVJlcXVlc3Qob3BlcmF0aW9uLCBwYXJhbXMsIGNhbGxiYWNrKTtcbiAgfSxcblxuICAgLyoqXG4gICAgKiBEaXJlY3RseSBhY2Nlc3MgaXRlbXMgZnJvbSBhIHRhYmxlIGJ5IHByaW1hcnkga2V5IG9yIGEgc2Vjb25kYXJ5IGluZGV4LlxuICAgICpcbiAgICAqIFN1cHBseSB0aGUgc2FtZSBwYXJhbWV0ZXJzIGFzIHtBV1MuRHluYW1vREIucXVlcnl9IHdpdGhcbiAgICAqIGBBdHRyaWJ1dGVWYWx1ZWBzIHN1YnN0aXR1dGVkIGJ5IG5hdGl2ZSBKYXZhU2NyaXB0IHR5cGVzLlxuICAgICpcbiAgICAqIEBzZWUgQVdTLkR5bmFtb0RCLnF1ZXJ5XG4gICAgKiBAZXhhbXBsZSBRdWVyeSBhbiBpbmRleFxuICAgICogIHZhciBwYXJhbXMgPSB7XG4gICAgKiAgICBUYWJsZU5hbWU6ICdUYWJsZScsXG4gICAgKiAgICBJbmRleE5hbWU6ICdJbmRleCcsXG4gICAgKiAgICBLZXlDb25kaXRpb25FeHByZXNzaW9uOiAnSGFzaEtleSA9IDpoa2V5IGFuZCBSYW5nZUtleSA+IDpya2V5JyxcbiAgICAqICAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcbiAgICAqICAgICAgJzpoa2V5JzogJ2tleScsXG4gICAgKiAgICAgICc6cmtleSc6IDIwMTVcbiAgICAqICAgIH1cbiAgICAqICB9O1xuICAgICpcbiAgICAqICB2YXIgZG9jdW1lbnRDbGllbnQgPSBuZXcgQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50KCk7XG4gICAgKlxuICAgICogIGRvY3VtZW50Q2xpZW50LnF1ZXJ5KHBhcmFtcywgZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgKiAgICAgaWYgKGVycikgY29uc29sZS5sb2coZXJyKTtcbiAgICAqICAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICogIH0pO1xuICAgICpcbiAgICAqL1xuICBxdWVyeTogZnVuY3Rpb24ocGFyYW1zLCBjYWxsYmFjaykge1xuICAgIHZhciBvcGVyYXRpb24gPSB0aGlzLnNlcnZpY2VDbGllbnRPcGVyYXRpb25zTWFwWydxdWVyeSddO1xuICAgIHJldHVybiB0aGlzLm1ha2VTZXJ2aWNlUmVxdWVzdChvcGVyYXRpb24sIHBhcmFtcywgY2FsbGJhY2spO1xuICB9LFxuXG4gIC8qKlxuICAgKiBTeW5jaHJvbm91cyB3cml0ZSBvcGVyYXRpb24gdGhhdCBncm91cHMgdXAgdG8gMjUgYWN0aW9uIHJlcXVlc3RzLlxuICAgKlxuICAgKiBTdXBwbHkgdGhlIHNhbWUgcGFyYW1ldGVycyBhcyB7QVdTLkR5bmFtb0RCLnRyYW5zYWN0V3JpdGVJdGVtc30gd2l0aFxuICAgKiBgQXR0cmlidXRlVmFsdWVgcyBzdWJzdGl0dXRlZCBieSBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcy5cbiAgICpcbiAgICogQHNlZSBBV1MuRHluYW1vREIudHJhbnNhY3RXcml0ZUl0ZW1zXG4gICAqIEBleGFtcGxlIEdldCBpdGVtcyBmcm9tIG11bHRpcGxlIHRhYmxlc1xuICAgKiAgdmFyIHBhcmFtcyA9IHtcbiAgICogICAgVHJhbnNhY3RJdGVtczogW3tcbiAgICogICAgICBQdXQ6IHtcbiAgICogICAgICAgIFRhYmxlTmFtZSA6ICdUYWJsZTAnLFxuICAgKiAgICAgICAgSXRlbToge1xuICAgKiAgICAgICAgICBIYXNoS2V5OiAnaGFza2V5JyxcbiAgICogICAgICAgICAgTnVtQXR0cmlidXRlOiAxLFxuICAgKiAgICAgICAgICBCb29sQXR0cmlidXRlOiB0cnVlLFxuICAgKiAgICAgICAgICBMaXN0QXR0cmlidXRlOiBbMSwgJ3R3bycsIGZhbHNlXSxcbiAgICogICAgICAgICAgTWFwQXR0cmlidXRlOiB7IGZvbzogJ2Jhcid9LFxuICAgKiAgICAgICAgICBOdWxsQXR0cmlidXRlOiBudWxsXG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LCB7XG4gICAqICAgICAgVXBkYXRlOiB7XG4gICAqICAgICAgICBUYWJsZU5hbWU6ICdUYWJsZTEnLFxuICAgKiAgICAgICAgS2V5OiB7IEhhc2hLZXkgOiAnaGFzaGtleScgfSxcbiAgICogICAgICAgIFVwZGF0ZUV4cHJlc3Npb246ICdzZXQgI2EgPSA6eCArIDp5JyxcbiAgICogICAgICAgIENvbmRpdGlvbkV4cHJlc3Npb246ICcjYSA8IDpNQVgnLFxuICAgKiAgICAgICAgRXhwcmVzc2lvbkF0dHJpYnV0ZU5hbWVzOiB7JyNhJyA6ICdTdW0nfSxcbiAgICogICAgICAgIEV4cHJlc3Npb25BdHRyaWJ1dGVWYWx1ZXM6IHtcbiAgICogICAgICAgICAgJzp4JyA6IDIwLFxuICAgKiAgICAgICAgICAnOnknIDogNDUsXG4gICAqICAgICAgICAgICc6TUFYJyA6IDEwMCxcbiAgICogICAgICAgIH1cbiAgICogICAgICB9XG4gICAqICAgIH1dXG4gICAqICB9O1xuICAgKlxuICAgKiAgZG9jdW1lbnRDbGllbnQudHJhbnNhY3RXcml0ZShwYXJhbXMsIGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgKiAgICBpZiAoZXJyKSBjb25zb2xlLmxvZyhlcnIpO1xuICAgKiAgICBlbHNlIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgKiAgfSk7XG4gICAqL1xuICB0cmFuc2FjdFdyaXRlOiBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMuc2VydmljZUNsaWVudE9wZXJhdGlvbnNNYXBbJ3RyYW5zYWN0V3JpdGUnXTtcbiAgICByZXR1cm4gdGhpcy5tYWtlU2VydmljZVJlcXVlc3Qob3BlcmF0aW9uLCBwYXJhbXMsIGNhbGxiYWNrKTtcbiAgfSxcblxuICAvKipcbiAgICogQXRvbWljYWxseSByZXRyaWV2ZXMgbXVsdGlwbGUgaXRlbXMgZnJvbSBvbmUgb3IgbW9yZSB0YWJsZXMgKGJ1dCBub3QgZnJvbSBpbmRleGVzKVxuICAgKiBpbiBhIHNpbmdsZSBhY2NvdW50IGFuZCByZWdpb24uXG4gICAqXG4gICAqIFN1cHBseSB0aGUgc2FtZSBwYXJhbWV0ZXJzIGFzIHtBV1MuRHluYW1vREIudHJhbnNhY3RHZXRJdGVtc30gd2l0aFxuICAgKiBgQXR0cmlidXRlVmFsdWVgcyBzdWJzdGl0dXRlZCBieSBuYXRpdmUgSmF2YVNjcmlwdCB0eXBlcy5cbiAgICpcbiAgICogQHNlZSBBV1MuRHluYW1vREIudHJhbnNhY3RHZXRJdGVtc1xuICAgKiBAZXhhbXBsZSBHZXQgaXRlbXMgZnJvbSBtdWx0aXBsZSB0YWJsZXNcbiAgICogIHZhciBwYXJhbXMgPSB7XG4gICAqICAgIFRyYW5zYWN0SXRlbXM6IFt7XG4gICAqICAgICAgR2V0OiB7XG4gICAqICAgICAgICBUYWJsZU5hbWUgOiAnVGFibGUwJyxcbiAgICogICAgICAgIEtleToge1xuICAgKiAgICAgICAgICBIYXNoS2V5OiAnaGFzaGtleTAnXG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9LCB7XG4gICAqICAgICAgR2V0OiB7XG4gICAqICAgICAgICBUYWJsZU5hbWUgOiAnVGFibGUxJyxcbiAgICogICAgICAgIEtleToge1xuICAgKiAgICAgICAgICBIYXNoS2V5OiAnaGFzaGtleTEnXG4gICAqICAgICAgICB9XG4gICAqICAgICAgfVxuICAgKiAgICB9XVxuICAgKiAgfTtcbiAgICpcbiAgICogIGRvY3VtZW50Q2xpZW50LnRyYW5zYWN0R2V0KHBhcmFtcywgZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAqICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gICAqICAgIGVsc2UgY29uc29sZS5sb2coZGF0YSk7XG4gICAqICB9KTtcbiAgICovXG4gIHRyYW5zYWN0R2V0OiBmdW5jdGlvbihwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIG9wZXJhdGlvbiA9IHRoaXMuc2VydmljZUNsaWVudE9wZXJhdGlvbnNNYXBbJ3RyYW5zYWN0R2V0J107XG4gICAgcmV0dXJuIHRoaXMubWFrZVNlcnZpY2VSZXF1ZXN0KG9wZXJhdGlvbiwgcGFyYW1zLCBjYWxsYmFjayk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENyZWF0ZXMgYSBzZXQgb2YgZWxlbWVudHMgaW5mZXJyaW5nIHRoZSB0eXBlIG9mIHNldCBmcm9tXG4gICAqIHRoZSB0eXBlIG9mIHRoZSBmaXJzdCBlbGVtZW50LiBBbWF6b24gRHluYW1vREIgY3VycmVudGx5IHN1cHBvcnRzXG4gICAqIHRoZSBudW1iZXIgc2V0cywgc3RyaW5nIHNldHMsIGFuZCBiaW5hcnkgc2V0cy4gRm9yIG1vcmUgaW5mb3JtYXRpb25cbiAgICogYWJvdXQgRHluYW1vREIgZGF0YSB0eXBlcyBzZWUgdGhlIGRvY3VtZW50YXRpb24gb24gdGhlXG4gICAqIFtBbWF6b24gRHluYW1vREIgRGF0YSBNb2RlbF0oaHR0cDovL2RvY3MuYXdzLmFtYXpvbi5jb20vYW1hem9uZHluYW1vZGIvbGF0ZXN0L2RldmVsb3Blcmd1aWRlL0RhdGFNb2RlbC5odG1sI0RhdGFNb2RlbC5EYXRhVHlwZXMpLlxuICAgKlxuICAgKiBAcGFyYW0gbGlzdCBbQXJyYXldIENvbGxlY3Rpb24gdG8gcmVwcmVzZW50IHlvdXIgRHluYW1vREIgU2V0XG4gICAqIEBwYXJhbSBvcHRpb25zIFttYXBdXG4gICAqICAqICoqdmFsaWRhdGUqKiBbQm9vbGVhbl0gc2V0IHRvIHRydWUgaWYgeW91IHdhbnQgdG8gdmFsaWRhdGUgdGhlIHR5cGVcbiAgICogICAgb2YgZWFjaCBlbGVtZW50IGluIHRoZSBzZXQuIERlZmF1bHRzIHRvIGBmYWxzZWAuXG4gICAqIEBleGFtcGxlIENyZWF0aW5nIGEgbnVtYmVyIHNldFxuICAgKiAgdmFyIGRvY3VtZW50Q2xpZW50ID0gbmV3IEFXUy5EeW5hbW9EQi5Eb2N1bWVudENsaWVudCgpO1xuICAgKlxuICAgKiAgdmFyIHBhcmFtcyA9IHtcbiAgICogICAgSXRlbToge1xuICAgKiAgICAgIGhhc2hrZXk6ICdoYXNoa2V5J1xuICAgKiAgICAgIG51bWJlcnM6IGRvY3VtZW50Q2xpZW50LmNyZWF0ZVNldChbMSwgMiwgM10pO1xuICAgKiAgICB9XG4gICAqICB9O1xuICAgKlxuICAgKiAgZG9jdW1lbnRDbGllbnQucHV0KHBhcmFtcywgZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAqICAgIGlmIChlcnIpIGNvbnNvbGUubG9nKGVycik7XG4gICAqICAgIGVsc2UgY29uc29sZS5sb2coZGF0YSk7XG4gICAqICB9KTtcbiAgICpcbiAgICovXG4gIGNyZWF0ZVNldDogZnVuY3Rpb24obGlzdCwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHJldHVybiBuZXcgRHluYW1vREJTZXQobGlzdCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZ2V0VHJhbnNsYXRvcjogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2xhdG9yKHRoaXMub3B0aW9ucyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgc2V0dXBSZXF1ZXN0OiBmdW5jdGlvbiBzZXR1cFJlcXVlc3QocmVxdWVzdCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICB2YXIgdHJhbnNsYXRvciA9IHNlbGYuZ2V0VHJhbnNsYXRvcigpO1xuICAgIHZhciBvcGVyYXRpb24gPSByZXF1ZXN0Lm9wZXJhdGlvbjtcbiAgICB2YXIgaW5wdXRTaGFwZSA9IHJlcXVlc3Quc2VydmljZS5hcGkub3BlcmF0aW9uc1tvcGVyYXRpb25dLmlucHV0O1xuICAgIHJlcXVlc3QuX2V2ZW50cy52YWxpZGF0ZS51bnNoaWZ0KGZ1bmN0aW9uKHJlcSkge1xuICAgICAgcmVxLnJhd1BhcmFtcyA9IEFXUy51dGlsLmNvcHkocmVxLnBhcmFtcyk7XG4gICAgICByZXEucGFyYW1zID0gdHJhbnNsYXRvci50cmFuc2xhdGVJbnB1dChyZXEucmF3UGFyYW1zLCBpbnB1dFNoYXBlKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuICBzZXR1cFJlc3BvbnNlOiBmdW5jdGlvbiBzZXR1cFJlc3BvbnNlKHJlcXVlc3QpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIHRyYW5zbGF0b3IgPSBzZWxmLmdldFRyYW5zbGF0b3IoKTtcbiAgICB2YXIgb3V0cHV0U2hhcGUgPSBzZWxmLnNlcnZpY2UuYXBpLm9wZXJhdGlvbnNbcmVxdWVzdC5vcGVyYXRpb25dLm91dHB1dDtcbiAgICByZXF1ZXN0Lm9uKCdleHRyYWN0RGF0YScsIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICByZXNwb25zZS5kYXRhID0gdHJhbnNsYXRvci50cmFuc2xhdGVPdXRwdXQocmVzcG9uc2UuZGF0YSwgb3V0cHV0U2hhcGUpO1xuICAgIH0pO1xuXG4gICAgdmFyIHJlc3BvbnNlID0gcmVxdWVzdC5yZXNwb25zZTtcbiAgICByZXNwb25zZS5uZXh0UGFnZSA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgICB2YXIgcmVzcCA9IHRoaXM7XG4gICAgICB2YXIgcmVxID0gcmVzcC5yZXF1ZXN0O1xuICAgICAgdmFyIGNvbmZpZztcbiAgICAgIHZhciBzZXJ2aWNlID0gcmVxLnNlcnZpY2U7XG4gICAgICB2YXIgb3BlcmF0aW9uID0gcmVxLm9wZXJhdGlvbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbmZpZyA9IHNlcnZpY2UucGFnaW5hdGlvbkNvbmZpZyhvcGVyYXRpb24sIHRydWUpO1xuICAgICAgfSBjYXRjaCAoZSkgeyByZXNwLmVycm9yID0gZTsgfVxuXG4gICAgICBpZiAoIXJlc3AuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICBpZiAoY2IpIGNiKHJlc3AuZXJyb3IsIG51bGwpO1xuICAgICAgICBlbHNlIGlmIChyZXNwLmVycm9yKSB0aHJvdyByZXNwLmVycm9yO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmFtcyA9IEFXUy51dGlsLmNvcHkocmVxLnJhd1BhcmFtcyk7XG4gICAgICBpZiAoIXJlc3AubmV4dFBhZ2VUb2tlbnMpIHtcbiAgICAgICAgcmV0dXJuIGNiID8gY2IobnVsbCwgbnVsbCkgOiBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGlucHV0VG9rZW5zID0gY29uZmlnLmlucHV0VG9rZW47XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXRUb2tlbnMgPT09ICdzdHJpbmcnKSBpbnB1dFRva2VucyA9IFtpbnB1dFRva2Vuc107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5wdXRUb2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBwYXJhbXNbaW5wdXRUb2tlbnNbaV1dID0gcmVzcC5uZXh0UGFnZVRva2Vuc1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZltvcGVyYXRpb25dKHBhcmFtcywgY2IpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxufSk7XG5cbi8qKlxuICogQGFwaSBwcml2YXRlXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gQVdTLkR5bmFtb0RCLkRvY3VtZW50Q2xpZW50O1xuIiwgInZhciBBV1MgPSByZXF1aXJlKCcuLi9jb3JlJyk7XG5yZXF1aXJlKCcuLi9keW5hbW9kYi9kb2N1bWVudF9jbGllbnQnKTtcblxuQVdTLnV0aWwudXBkYXRlKEFXUy5EeW5hbW9EQi5wcm90b3R5cGUsIHtcbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgc2V0dXBSZXF1ZXN0TGlzdGVuZXJzOiBmdW5jdGlvbiBzZXR1cFJlcXVlc3RMaXN0ZW5lcnMocmVxdWVzdCkge1xuICAgIGlmIChyZXF1ZXN0LnNlcnZpY2UuY29uZmlnLmR5bmFtb0RiQ3JjMzIpIHtcbiAgICAgIHJlcXVlc3QucmVtb3ZlTGlzdGVuZXIoJ2V4dHJhY3REYXRhJywgQVdTLkV2ZW50TGlzdGVuZXJzLkpzb24uRVhUUkFDVF9EQVRBKTtcbiAgICAgIHJlcXVlc3QuYWRkTGlzdGVuZXIoJ2V4dHJhY3REYXRhJywgdGhpcy5jaGVja0NyYzMyKTtcbiAgICAgIHJlcXVlc3QuYWRkTGlzdGVuZXIoJ2V4dHJhY3REYXRhJywgQVdTLkV2ZW50TGlzdGVuZXJzLkpzb24uRVhUUkFDVF9EQVRBKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgY2hlY2tDcmMzMjogZnVuY3Rpb24gY2hlY2tDcmMzMihyZXNwKSB7XG4gICAgaWYgKCFyZXNwLmh0dHBSZXNwb25zZS5zdHJlYW1pbmcgJiYgIXJlc3AucmVxdWVzdC5zZXJ2aWNlLmNyYzMySXNWYWxpZChyZXNwKSkge1xuICAgICAgcmVzcC5kYXRhID0gbnVsbDtcbiAgICAgIHJlc3AuZXJyb3IgPSBBV1MudXRpbC5lcnJvcihuZXcgRXJyb3IoKSwge1xuICAgICAgICBjb2RlOiAnQ1JDMzJDaGVja0ZhaWxlZCcsXG4gICAgICAgIG1lc3NhZ2U6ICdDUkMzMiBpbnRlZ3JpdHkgY2hlY2sgZmFpbGVkJyxcbiAgICAgICAgcmV0cnlhYmxlOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIHJlc3AucmVxdWVzdC5oYWx0SGFuZGxlcnNPbkVycm9yKCk7XG4gICAgICB0aHJvdyAocmVzcC5lcnJvcik7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIGNyYzMySXNWYWxpZDogZnVuY3Rpb24gY3JjMzJJc1ZhbGlkKHJlc3ApIHtcbiAgICB2YXIgY3JjID0gcmVzcC5odHRwUmVzcG9uc2UuaGVhZGVyc1sneC1hbXotY3JjMzInXTtcbiAgICBpZiAoIWNyYykgcmV0dXJuIHRydWU7IC8vIG5vICh2YWxpZCkgQ1JDMzIgaGVhZGVyXG4gICAgcmV0dXJuIHBhcnNlSW50KGNyYywgMTApID09PSBBV1MudXRpbC5jcnlwdG8uY3JjMzIocmVzcC5odHRwUmVzcG9uc2UuYm9keSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cbiAgZGVmYXVsdFJldHJ5Q291bnQ6IDEwLFxuXG4gIC8qKlxuICAgKiBAYXBpIHByaXZhdGVcbiAgICovXG4gIHJldHJ5RGVsYXlzOiBmdW5jdGlvbiByZXRyeURlbGF5cyhyZXRyeUNvdW50LCBlcnIpIHtcbiAgICB2YXIgcmV0cnlEZWxheU9wdGlvbnMgPSBBV1MudXRpbC5jb3B5KHRoaXMuY29uZmlnLnJldHJ5RGVsYXlPcHRpb25zKTtcblxuICAgIGlmICh0eXBlb2YgcmV0cnlEZWxheU9wdGlvbnMuYmFzZSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0cnlEZWxheU9wdGlvbnMuYmFzZSA9IDUwOyAvLyBkZWZhdWx0IGZvciBkeW5hbW9kYlxuICAgIH1cbiAgICB2YXIgZGVsYXkgPSBBV1MudXRpbC5jYWxjdWxhdGVSZXRyeURlbGF5KHJldHJ5Q291bnQsIHJldHJ5RGVsYXlPcHRpb25zLCBlcnIpO1xuICAgIHJldHVybiBkZWxheTtcbiAgfVxufSk7XG4iLCAicmVxdWlyZSgnLi4vbGliL25vZGVfbG9hZGVyJyk7XG52YXIgQVdTID0gcmVxdWlyZSgnLi4vbGliL2NvcmUnKTtcbnZhciBTZXJ2aWNlID0gQVdTLlNlcnZpY2U7XG52YXIgYXBpTG9hZGVyID0gQVdTLmFwaUxvYWRlcjtcblxuYXBpTG9hZGVyLnNlcnZpY2VzWydkeW5hbW9kYiddID0ge307XG5BV1MuRHluYW1vREIgPSBTZXJ2aWNlLmRlZmluZVNlcnZpY2UoJ2R5bmFtb2RiJywgWycyMDExLTEyLTA1JywgJzIwMTItMDgtMTAnXSk7XG5yZXF1aXJlKCcuLi9saWIvc2VydmljZXMvZHluYW1vZGInKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShhcGlMb2FkZXIuc2VydmljZXNbJ2R5bmFtb2RiJ10sICcyMDExLTEyLTA1Jywge1xuICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICB2YXIgbW9kZWwgPSByZXF1aXJlKCcuLi9hcGlzL2R5bmFtb2RiLTIwMTEtMTItMDUubWluLmpzb24nKTtcbiAgICBtb2RlbC5wYWdpbmF0b3JzID0gcmVxdWlyZSgnLi4vYXBpcy9keW5hbW9kYi0yMDExLTEyLTA1LnBhZ2luYXRvcnMuanNvbicpLnBhZ2luYXRpb247XG4gICAgbW9kZWwud2FpdGVycyA9IHJlcXVpcmUoJy4uL2FwaXMvZHluYW1vZGItMjAxMS0xMi0wNS53YWl0ZXJzMi5qc29uJykud2FpdGVycztcbiAgICByZXR1cm4gbW9kZWw7XG4gIH0sXG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGNvbmZpZ3VyYWJsZTogdHJ1ZVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoYXBpTG9hZGVyLnNlcnZpY2VzWydkeW5hbW9kYiddLCAnMjAxMi0wOC0xMCcsIHtcbiAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgdmFyIG1vZGVsID0gcmVxdWlyZSgnLi4vYXBpcy9keW5hbW9kYi0yMDEyLTA4LTEwLm1pbi5qc29uJyk7XG4gICAgbW9kZWwucGFnaW5hdG9ycyA9IHJlcXVpcmUoJy4uL2FwaXMvZHluYW1vZGItMjAxMi0wOC0xMC5wYWdpbmF0b3JzLmpzb24nKS5wYWdpbmF0aW9uO1xuICAgIG1vZGVsLndhaXRlcnMgPSByZXF1aXJlKCcuLi9hcGlzL2R5bmFtb2RiLTIwMTItMDgtMTAud2FpdGVyczIuanNvbicpLndhaXRlcnM7XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9LFxuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBjb25maWd1cmFibGU6IHRydWVcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFXUy5EeW5hbW9EQjtcbiIsICJpbXBvcnQge0FQSUdhdGV3YXlQcm94eUhhbmRsZXJ9IGZyb20gJ2F3cy1sYW1iZGEnXHJcbmltcG9ydCB7QmV0fSBmcm9tIFwiLi9pbnRlcmZhY2VzXCI7XHJcbmltcG9ydCB7RG9jdW1lbnRDbGllbnR9IGZyb20gXCJhd3Mtc2RrL2NsaWVudHMvZHluYW1vZGJcIjtcclxuXHJcbmNvbnN0IGRiID0gbmV3IERvY3VtZW50Q2xpZW50KFxyXG4gICAge1xyXG4gICAgICAgIGVuZHBvaW50OiBcImh0dHA6Ly9sb2NhbHN0YWNrOjQ1NjZcIixcclxuICAgIH1cclxuKTtcclxuXHJcbmNvbnN0IGhhbmRsZXI6IEFQSUdhdGV3YXlQcm94eUhhbmRsZXIgPSBhc3luYyAoZXZlbnQsIGNvbnRleHQsIGNhbGxiYWNrKSA9PiB7XHJcbiAgIC8vIFBhcnNlIEJvZHkgLSBpZiBib2R5IGRvZXNuJ3QgZXhpc3QgKGZvciBzb21lIHJlYXNvbiksIHJldHVybiA0MDBcclxuICAgaWYoIWV2ZW50LmJvZHkpIHtcclxuICAgIHJldHVybiB7c3RhdHVzQ29kZTogNDAwLCBib2R5OiBKU09OLnN0cmluZ2lmeSh7ZXJyb3I6IFwibm8gYm9keVwifSl9XHJcbn1cclxuY29uc3QgYmV0SWQgPSBKU09OLnBhcnNlKGV2ZW50LmJvZHkpIGFzIHN0cmluZ1xyXG5cclxuLy8gTG9va3VwIElEIGluIERCXHJcbmNvbnN0IHBhcmFtcyA9IHtcclxuIFRhYmxlTmFtZSA6IFwiQmV0c1wiLCBcclxuIEtleToge1xyXG4gICAgSGFzaEtleTogXCJiZXRJZFwiXHJcbiB9XHJcbn1cclxuXHJcblxyXG5cclxudHJ5e1xyXG4gICAgYXdhaXQgZGIuZ2V0KHBhcmFtcykucHJvbWlzZSgpXHJcbn1jYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIHtzdGF0dXNDb2RlOiA1MDAsIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtlcnJvcjogXCJEYXRhYmFzZSBFcnJvclwiLCBtZXNzYWdlOiBKU09OLnN0cmluZ2lmeShlKX0pfVxyXG59XHJcblxyXG5yZXR1cm4ge3N0YXR1c0NvZGU6IDIwMCwgYm9keTogSlNPTi5zdHJpbmdpZnkoe3N1Y2Nlc3M6IHRydWUsIGRhdGE6IGJldERhdGF9KX1cclxuXHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzLmhhbmRsZXIgPSBoYW5kbGVyOyJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsNkNBQUFBLFVBQUFDLFNBQUE7QUFBQSxRQUFJLE9BQU87QUFFWCxhQUFTLGNBQWM7QUFBQSxJQUFFO0FBRXpCLGdCQUFZLFVBQVUsUUFBUSxTQUFTLE9BQU8sT0FBTztBQUNuRCxhQUFPLEtBQUssVUFBVSxVQUFVLE9BQU8sS0FBSyxDQUFDO0FBQUEsSUFDL0M7QUFFQSxhQUFTLFVBQVUsT0FBTyxPQUFPO0FBQy9CLFVBQUksQ0FBQyxTQUFTLFVBQVUsVUFBYSxVQUFVO0FBQU0sZUFBTztBQUU1RCxjQUFRLE1BQU07QUFBQSxhQUNQO0FBQWEsaUJBQU8sbUJBQW1CLE9BQU8sS0FBSztBQUFBLGFBQ25EO0FBQU8saUJBQU8sYUFBYSxPQUFPLEtBQUs7QUFBQSxhQUN2QztBQUFRLGlCQUFPLGNBQWMsT0FBTyxLQUFLO0FBQUE7QUFDckMsaUJBQU8sZ0JBQWdCLE9BQU8sS0FBSztBQUFBO0FBQUEsSUFFaEQ7QUFFQSxhQUFTLG1CQUFtQixXQUFXLE9BQU87QUFDNUMsVUFBSSxNQUFNLFlBQVk7QUFDcEIsZUFBTztBQUFBLE1BQ1Q7QUFDQSxVQUFJLFNBQVMsQ0FBQztBQUNkLFdBQUssS0FBSyxXQUFXLFNBQVMsTUFBTSxPQUFPO0FBQ3pDLFlBQUksY0FBYyxNQUFNLFFBQVE7QUFDaEMsWUFBSSxhQUFhO0FBQ2YsY0FBSSxZQUFZLGFBQWE7QUFBUTtBQUNyQyxjQUFJLGVBQWUsWUFBWSxpQkFBaUIsWUFBWSxPQUFPO0FBQ25FLGNBQUksU0FBUyxVQUFVLE9BQU8sV0FBVztBQUN6QyxjQUFJLFdBQVc7QUFBVyxtQkFBTyxnQkFBZ0I7QUFBQSxRQUNuRDtBQUFBLE1BQ0YsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxjQUFjLE1BQU0sT0FBTztBQUNsQyxVQUFJLE1BQU0sQ0FBQztBQUNYLFdBQUssVUFBVSxNQUFNLFNBQVMsT0FBTztBQUNuQyxZQUFJLFNBQVMsVUFBVSxPQUFPLE1BQU0sTUFBTTtBQUMxQyxZQUFJLFdBQVc7QUFBVyxjQUFJLEtBQUssTUFBTTtBQUFBLE1BQzNDLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsYUFBYSxLQUFLLE9BQU87QUFDaEMsVUFBSSxNQUFNLENBQUM7QUFDWCxXQUFLLEtBQUssS0FBSyxTQUFTLEtBQUssT0FBTztBQUNsQyxZQUFJLFNBQVMsVUFBVSxPQUFPLE1BQU0sS0FBSztBQUN6QyxZQUFJLFdBQVc7QUFBVyxjQUFJLE9BQU87QUFBQSxNQUN2QyxDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGdCQUFnQixPQUFPLE9BQU87QUFDckMsYUFBTyxNQUFNLGFBQWEsS0FBSztBQUFBLElBQ2pDO0FBS0EsSUFBQUEsUUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDN0RqQjtBQUFBLDRDQUFBQyxVQUFBQyxTQUFBO0FBQUEsUUFBSSxPQUFPO0FBRVgsYUFBUyxhQUFhO0FBQUEsSUFBRTtBQUV4QixlQUFXLFVBQVUsUUFBUSxTQUFTLE9BQU8sT0FBTztBQUNsRCxhQUFPLFVBQVUsS0FBSyxNQUFNLEtBQUssR0FBRyxLQUFLO0FBQUEsSUFDM0M7QUFFQSxhQUFTLFVBQVUsT0FBTyxPQUFPO0FBQy9CLFVBQUksQ0FBQyxTQUFTLFVBQVU7QUFBVyxlQUFPO0FBRTFDLGNBQVEsTUFBTTtBQUFBLGFBQ1A7QUFBYSxpQkFBTyxtQkFBbUIsT0FBTyxLQUFLO0FBQUEsYUFDbkQ7QUFBTyxpQkFBTyxhQUFhLE9BQU8sS0FBSztBQUFBLGFBQ3ZDO0FBQVEsaUJBQU8sY0FBYyxPQUFPLEtBQUs7QUFBQTtBQUNyQyxpQkFBTyxnQkFBZ0IsT0FBTyxLQUFLO0FBQUE7QUFBQSxJQUVoRDtBQUVBLGFBQVMsbUJBQW1CLFdBQVcsT0FBTztBQUM1QyxVQUFJLGFBQWE7QUFBTSxlQUFPO0FBQzlCLFVBQUksTUFBTTtBQUFZLGVBQU87QUFFN0IsVUFBSSxTQUFTLENBQUM7QUFDZCxVQUFJLGVBQWUsTUFBTTtBQUN6QixXQUFLLEtBQUssY0FBYyxTQUFTLE1BQU0sYUFBYTtBQUNsRCxZQUFJLGVBQWUsWUFBWSxpQkFBaUIsWUFBWSxPQUFPO0FBQ25FLFlBQUksT0FBTyxVQUFVLGVBQWUsS0FBSyxXQUFXLFlBQVksR0FBRztBQUNqRSxjQUFJLFFBQVEsVUFBVTtBQUN0QixjQUFJLFNBQVMsVUFBVSxPQUFPLFdBQVc7QUFDekMsY0FBSSxXQUFXO0FBQVcsbUJBQU8sUUFBUTtBQUFBLFFBQzNDO0FBQUEsTUFDRixDQUFDO0FBQ0QsYUFBTztBQUFBLElBQ1Q7QUFFQSxhQUFTLGNBQWMsTUFBTSxPQUFPO0FBQ2xDLFVBQUksUUFBUTtBQUFNLGVBQU87QUFFekIsVUFBSSxNQUFNLENBQUM7QUFDWCxXQUFLLFVBQVUsTUFBTSxTQUFTLE9BQU87QUFDbkMsWUFBSSxTQUFTLFVBQVUsT0FBTyxNQUFNLE1BQU07QUFDMUMsWUFBSSxXQUFXO0FBQVcsY0FBSSxLQUFLLElBQUk7QUFBQTtBQUNsQyxjQUFJLEtBQUssTUFBTTtBQUFBLE1BQ3RCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsYUFBYSxLQUFLLE9BQU87QUFDaEMsVUFBSSxPQUFPO0FBQU0sZUFBTztBQUV4QixVQUFJLE1BQU0sQ0FBQztBQUNYLFdBQUssS0FBSyxLQUFLLFNBQVMsS0FBSyxPQUFPO0FBQ2xDLFlBQUksU0FBUyxVQUFVLE9BQU8sTUFBTSxLQUFLO0FBQ3pDLFlBQUksV0FBVztBQUFXLGNBQUksT0FBTztBQUFBO0FBQ2hDLGNBQUksT0FBTztBQUFBLE1BQ2xCLENBQUM7QUFDRCxhQUFPO0FBQUEsSUFDVDtBQUVBLGFBQVMsZ0JBQWdCLE9BQU8sT0FBTztBQUNyQyxhQUFPLE1BQU0sT0FBTyxLQUFLO0FBQUEsSUFDM0I7QUFLQSxJQUFBQSxRQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUNuRWpCO0FBQUEsaURBQUFDLFVBQUFDLFNBQUE7QUFBQSxRQUFJLE9BQVE7QUFDWixRQUFJQyxPQUFNO0FBUVYsYUFBUyxtQkFBbUIsU0FBVTtBQUNwQyxVQUFJLFVBQVUsUUFBUSxRQUFRLE9BQU87QUFDckMsVUFBSSxDQUFDO0FBQVMsZUFBTztBQUNyQixVQUFJLGlCQUFpQixRQUFRLFFBQVEsSUFBSSxXQUFXLFFBQVE7QUFFNUQsVUFBSSxvQkFBb0IsT0FBTztBQUFHLGVBQU87QUFDekMsVUFBSSxlQUFlLFlBQVksZUFBZSxTQUFTLFlBQVk7QUFDakUsWUFBSSxxQkFBcUIsZUFBZSxTQUFTO0FBQ2pELFlBQUksYUFBYSxpQkFBaUIsb0JBQW9CLFFBQVEsUUFBUSxlQUFlLEtBQUs7QUFDMUYsOEJBQXNCLFFBQVEsWUFBWSxVQUFVLFVBQVU7QUFDOUQseUJBQWlCLFFBQVEsWUFBWSxTQUFTLFFBQVE7QUFBQSxNQUN4RDtBQUNBLGFBQU87QUFBQSxJQUNUO0FBS0EsYUFBUyxvQkFBb0IsU0FBUztBQUNwQyxVQUFJLE1BQU0sUUFBUSxRQUFRO0FBQzFCLFVBQUksaUJBQWlCLElBQUksV0FBVyxRQUFRO0FBQzVDLFVBQUksc0JBQXNCLElBQUkscUJBQXNCLElBQUksc0JBQXNCLEtBQUssT0FBTyxXQUFXLGVBQWUsSUFBSTtBQUN4SCxhQUFRLGVBQWUsOEJBQThCLFVBQVUsd0JBQXdCO0FBQUEsSUFDekY7QUFLQSxhQUFTLGlCQUFpQixvQkFBb0IsUUFBUSxPQUFPO0FBQzNELFdBQUssS0FBSyxNQUFNLFNBQVMsU0FBUyxNQUFNLFFBQVE7QUFDOUMsWUFBSSxPQUFPLGNBQWMsTUFBTTtBQUM3QixjQUFJLE9BQU8sT0FBTyxVQUFVLFlBQVksT0FBTyxVQUFVLElBQUk7QUFDM0Qsa0JBQU0sS0FBSyxNQUFNLElBQUksTUFBTSxHQUFHO0FBQUEsY0FDNUIsU0FBUyxlQUFlLE9BQU87QUFBQSxjQUMvQixNQUFNO0FBQUEsWUFDUixDQUFDO0FBQUEsVUFDSDtBQUNBLGNBQUksUUFBUSxJQUFJLE9BQU8sUUFBUSxPQUFPLE9BQU8sR0FBRztBQUNoRCwrQkFBcUIsbUJBQW1CLFFBQVEsT0FBTyxPQUFPLEtBQUs7QUFBQSxRQUNyRTtBQUFBLE1BQ0YsQ0FBQztBQUNELGFBQU87QUFBQSxJQUNUO0FBS0EsYUFBUyxzQkFBc0IsVUFBVSxRQUFRO0FBQy9DLFVBQUksU0FBUyxNQUFNO0FBQ2pCLGlCQUFTLE9BQU8sU0FBUyxTQUFTO0FBQUEsTUFDcEM7QUFDQSxVQUFJLFNBQVMsVUFBVTtBQUNyQixpQkFBUyxXQUFXLFNBQVMsU0FBUztBQUFBLE1BQ3hDO0FBQUEsSUFDRjtBQUtBLGFBQVMsaUJBQWlCLFVBQVU7QUFDbEMsVUFBSSxTQUFTLFNBQVMsTUFBTSxHQUFHO0FBRS9CLFVBQUksY0FBYztBQUNsQixXQUFLLFVBQVUsUUFBUSxTQUFTLE9BQU87QUFDckMsWUFBSSxDQUFDLE1BQU0sVUFBVSxNQUFNLFNBQVMsS0FBSyxNQUFNLFNBQVMsSUFBSTtBQUMxRCxnQkFBTSxLQUFLLE1BQU0sSUFBSSxNQUFNLEdBQUc7QUFBQSxZQUM1QixNQUFNO0FBQUEsWUFDTixTQUFTO0FBQUEsVUFDWCxDQUFDO0FBQUEsUUFDSDtBQUNBLFlBQUksQ0FBQyxZQUFZLEtBQUssS0FBSyxHQUFHO0FBQzVCLGdCQUFNQSxLQUFJLEtBQUs7QUFBQSxZQUFNLElBQUksTUFBTTtBQUFBLFlBQzdCLEVBQUMsTUFBTSxtQkFBbUIsU0FBUyxRQUFRLCtCQUE4QjtBQUFBLFVBQUM7QUFBQSxRQUM5RTtBQUFBLE1BQ0YsQ0FBQztBQUFBLElBQ0g7QUFFQSxJQUFBRCxRQUFPLFVBQVU7QUFBQSxNQUNmO0FBQUEsSUFDRjtBQUFBO0FBQUE7OztBQ3hGQTtBQUFBLDhDQUFBRSxVQUFBQyxTQUFBO0FBQUEsUUFBSSxPQUFPO0FBQ1gsUUFBSSxjQUFjO0FBQ2xCLFFBQUksYUFBYTtBQUNqQixRQUFJLHFCQUFxQixrQkFBcUI7QUFFOUMsYUFBUyxhQUFhLEtBQUs7QUFDekIsVUFBSSxjQUFjLElBQUk7QUFDdEIsVUFBSSxNQUFNLElBQUksUUFBUTtBQUN0QixVQUFJLFNBQVMsSUFBSSxlQUFlLE1BQU0sSUFBSSxXQUFXLElBQUksV0FBVztBQUNwRSxVQUFJLFVBQVUsSUFBSSxlQUFlO0FBQ2pDLFVBQUksUUFBUSxJQUFJLFdBQVcsSUFBSSxXQUFXO0FBQzFDLFVBQUksVUFBVSxJQUFJLFlBQVk7QUFFOUIsVUFBSSxZQUFZO0FBQUcsa0JBQVU7QUFDN0Isa0JBQVksT0FBTyxRQUFRLE1BQU0sSUFBSSxVQUFVLENBQUMsR0FBRyxLQUFLO0FBQ3hELGtCQUFZLFFBQVEsa0JBQWtCLDRCQUE0QjtBQUNsRSxrQkFBWSxRQUFRLGtCQUFrQjtBQUV0Qyx5QkFBbUIsR0FBRztBQUFBLElBQ3hCO0FBRUEsYUFBUyxhQUFhLE1BQU07QUFDMUIsVUFBSSxRQUFRLENBQUM7QUFDYixVQUFJLGVBQWUsS0FBSztBQUV4QixZQUFNLE9BQU8sYUFBYSxRQUFRLHVCQUF1QjtBQUN6RCxVQUFJLE9BQU8sTUFBTSxTQUFTLFVBQVU7QUFDbEMsY0FBTSxPQUFPLE1BQU0sS0FBSyxNQUFNLEdBQUcsRUFBRTtBQUFBLE1BQ3JDO0FBRUEsVUFBSSxhQUFhLEtBQUssU0FBUyxHQUFHO0FBQ2hDLFlBQUk7QUFDRixjQUFJLElBQUksS0FBSyxNQUFNLGFBQWEsS0FBSyxTQUFTLENBQUM7QUFDL0MsY0FBSSxPQUFPLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRTtBQUNuQyxjQUFJLE1BQU07QUFDUixrQkFBTSxPQUFPLEtBQUssTUFBTSxHQUFHLEVBQUUsSUFBSTtBQUFBLFVBQ25DO0FBQ0EsY0FBSSxNQUFNLFNBQVMseUJBQXlCO0FBQzFDLGtCQUFNLFVBQVU7QUFBQSxVQUNsQixPQUFPO0FBQ0wsa0JBQU0sVUFBVyxFQUFFLFdBQVcsRUFBRSxXQUFXO0FBQUEsVUFDN0M7QUFBQSxRQUNGLFNBQVNDLElBQVA7QUFDQSxnQkFBTSxhQUFhLGFBQWE7QUFDaEMsZ0JBQU0sVUFBVSxhQUFhO0FBQUEsUUFDL0I7QUFBQSxNQUNGLE9BQU87QUFDTCxjQUFNLGFBQWEsYUFBYTtBQUNoQyxjQUFNLFVBQVUsYUFBYSxXQUFXLFNBQVM7QUFBQSxNQUNuRDtBQUVBLFdBQUssUUFBUSxLQUFLLE1BQU0sSUFBSSxNQUFNLEdBQUcsS0FBSztBQUFBLElBQzVDO0FBRUEsYUFBUyxZQUFZLE1BQU07QUFDekIsVUFBSSxPQUFPLEtBQUssYUFBYSxLQUFLLFNBQVMsS0FBSztBQUNoRCxVQUFJLEtBQUssUUFBUSxRQUFRLE9BQU8seUJBQXlCLE9BQU87QUFDOUQsYUFBSyxPQUFPLEtBQUssTUFBTSxJQUFJO0FBQUEsTUFDN0IsT0FBTztBQUNMLFlBQUksWUFBWSxLQUFLLFFBQVEsUUFBUSxJQUFJLFdBQVcsS0FBSyxRQUFRO0FBQ2pFLFlBQUksUUFBUSxVQUFVLFVBQVUsQ0FBQztBQUNqQyxZQUFJLFNBQVMsSUFBSSxXQUFXO0FBQzVCLGFBQUssT0FBTyxPQUFPLE1BQU0sTUFBTSxLQUFLO0FBQUEsTUFDdEM7QUFBQSxJQUNGO0FBS0EsSUFBQUQsUUFBTyxVQUFVO0FBQUEsTUFDZjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBO0FBQUE7OztBQ3pFQTtBQUFBLDZEQUFBRSxVQUFBQyxTQUFBO0FBQUEsUUFBSSxPQUFPO0FBRVgsYUFBUyx1QkFBdUI7QUFBQSxJQUNoQztBQUVBLHlCQUFxQixVQUFVLFlBQVksU0FBUyxRQUFRLE9BQU8sSUFBSTtBQUNyRSx5QkFBbUIsSUFBSSxRQUFRLE9BQU8sRUFBRTtBQUFBLElBQzFDO0FBRUEsYUFBUyxRQUFRLE9BQU87QUFDdEIsVUFBSSxNQUFNLGVBQWUsTUFBTSxJQUFJLGFBQWEsT0FBTztBQUNyRCxlQUFPLE1BQU07QUFBQSxNQUNmLE9BQU87QUFDTCxlQUFPLE1BQU0sS0FBSyxHQUFHLFlBQVksSUFBSSxNQUFNLEtBQUssT0FBTyxDQUFDO0FBQUEsTUFDMUQ7QUFBQSxJQUNGO0FBRUEsYUFBUyxtQkFBbUIsUUFBUSxRQUFRLE9BQU8sSUFBSTtBQUNyRCxXQUFLLEtBQUssTUFBTSxTQUFTLFNBQVMsTUFBTSxRQUFRO0FBQzlDLFlBQUksUUFBUSxPQUFPO0FBQ25CLFlBQUksVUFBVSxRQUFRLFVBQVU7QUFBVztBQUUzQyxZQUFJLGFBQWEsUUFBUSxNQUFNO0FBQy9CLHFCQUFhLFNBQVMsU0FBUyxNQUFNLGFBQWE7QUFDbEQsd0JBQWdCLFlBQVksT0FBTyxRQUFRLEVBQUU7QUFBQSxNQUMvQyxDQUFDO0FBQUEsSUFDSDtBQUVBLGFBQVMsYUFBYSxNQUFNLEtBQUssT0FBTyxJQUFJO0FBQzFDLFVBQUksSUFBSTtBQUNSLFdBQUssS0FBSyxLQUFLLFNBQVUsS0FBSyxPQUFPO0FBQ25DLFlBQUksU0FBUyxNQUFNLFlBQVksTUFBTTtBQUNyQyxZQUFJLFdBQVcsU0FBVSxNQUFPO0FBQ2hDLFlBQUksVUFBVSxZQUFZLE1BQU0sSUFBSSxRQUFRO0FBQzVDLFlBQUksWUFBWSxZQUFZLE1BQU0sTUFBTSxRQUFRO0FBQ2hELHdCQUFnQixPQUFPLFNBQVMsS0FBSyxNQUFNLEtBQUssRUFBRTtBQUNsRCx3QkFBZ0IsT0FBTyxXQUFXLE9BQU8sTUFBTSxPQUFPLEVBQUU7QUFBQSxNQUMxRCxDQUFDO0FBQUEsSUFDSDtBQUVBLGFBQVMsY0FBYyxNQUFNLE1BQU0sT0FBTyxJQUFJO0FBQzVDLFVBQUksY0FBYyxNQUFNLFVBQVUsQ0FBQztBQUVuQyxVQUFJLEtBQUssV0FBVyxHQUFHO0FBQ3JCLFdBQUcsS0FBSyxNQUFNLE1BQU0sSUFBSTtBQUN4QjtBQUFBLE1BQ0Y7QUFFQSxXQUFLLFVBQVUsTUFBTSxTQUFVLEdBQUcsR0FBRztBQUNuQyxZQUFJLFNBQVMsT0FBTyxJQUFJO0FBQ3hCLFlBQUksTUFBTSxJQUFJLGFBQWEsT0FBTztBQUVoQyxtQkFBUyxTQUFTO0FBQUEsUUFDcEIsV0FBVyxNQUFNLFdBQVc7QUFDMUIsY0FBSSxZQUFZLE1BQU07QUFDcEIsZ0JBQUksUUFBUSxLQUFLLE1BQU0sR0FBRztBQUMxQixrQkFBTSxJQUFJO0FBQ1Ysa0JBQU0sS0FBSyxRQUFRLFdBQVcsQ0FBQztBQUMvQixtQkFBTyxNQUFNLEtBQUssR0FBRztBQUFBLFVBQ3ZCO0FBQUEsUUFDRixPQUFPO0FBQ0wsbUJBQVMsT0FBTyxZQUFZLE9BQU8sWUFBWSxPQUFPLFlBQVk7QUFBQSxRQUNwRTtBQUNBLHdCQUFnQixPQUFPLFFBQVEsR0FBRyxhQUFhLEVBQUU7QUFBQSxNQUNuRCxDQUFDO0FBQUEsSUFDSDtBQUVBLGFBQVMsZ0JBQWdCLE1BQU0sT0FBTyxPQUFPLElBQUk7QUFDL0MsVUFBSSxVQUFVLFFBQVEsVUFBVTtBQUFXO0FBQzNDLFVBQUksTUFBTSxTQUFTLGFBQWE7QUFDOUIsMkJBQW1CLE1BQU0sT0FBTyxPQUFPLEVBQUU7QUFBQSxNQUMzQyxXQUFXLE1BQU0sU0FBUyxRQUFRO0FBQ2hDLHNCQUFjLE1BQU0sT0FBTyxPQUFPLEVBQUU7QUFBQSxNQUN0QyxXQUFXLE1BQU0sU0FBUyxPQUFPO0FBQy9CLHFCQUFhLE1BQU0sT0FBTyxPQUFPLEVBQUU7QUFBQSxNQUNyQyxPQUFPO0FBQ0wsV0FBRyxNQUFNLE1BQU0sYUFBYSxLQUFLLEVBQUUsU0FBUyxDQUFDO0FBQUEsTUFDL0M7QUFBQSxJQUNGO0FBS0EsSUFBQUEsUUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDbkZqQjtBQUFBLGlEQUFBQyxVQUFBQyxTQUFBO0FBQUEsUUFBSSxtQkFBbUIsZUFBbUI7QUFFMUMsYUFBUyxRQUFRLE1BQU0sT0FBTyxTQUFTLFFBQVE7QUFDN0MsdUJBQWlCLE1BQU0sT0FBTyxJQUFJLEdBQUcsV0FBVztBQUM5QyxlQUFPLFFBQVEsTUFBTSxLQUFLO0FBQUEsTUFDNUIsQ0FBQztBQUFBLElBQ0g7QUFFQSxhQUFTLFdBQVcsVUFBVSxTQUFTLFNBQVMsUUFBUSxVQUFVO0FBQ2hFLGVBQVMsVUFBVTtBQUNuQixVQUFJLE9BQU87QUFFWCxlQUFTLE1BQU0sVUFBVTtBQUN2QixZQUFJLE9BQU8sVUFBVSxlQUFlLEtBQUssVUFBVSxFQUFFLEdBQUc7QUFDdEQsa0JBQVEsS0FBSyxNQUFNLElBQUksU0FBUyxLQUFLLFNBQVMsTUFBTTtBQUNwRCxjQUFJO0FBQVUscUJBQVMsSUFBSSxTQUFTLEdBQUc7QUFBQSxRQUN6QztBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBS0EsSUFBQUEsUUFBTyxVQUFVO0FBQUE7QUFBQTs7O0FDdkJqQjtBQUFBLDRDQUFBQyxVQUFBQyxTQUFBO0FBQUEsUUFBSSxhQUFhO0FBRWpCLFFBQUksT0FBTztBQUVYLGFBQVMsU0FBUyxLQUFLLE1BQU0sT0FBTztBQUNsQyxVQUFJLFVBQVUsUUFBUSxVQUFVLFFBQVc7QUFDekMsYUFBSyxTQUFTLE1BQU0sTUFBTSxTQUFTO0FBQUEsTUFDckM7QUFBQSxJQUNGO0FBRUEsYUFBUyxpQkFBaUIsS0FBSyxNQUFNO0FBQ25DLFVBQUksQ0FBQyxJQUFJLFlBQVksVUFBVSxPQUFPO0FBQ3BDLGFBQUssaUJBQWlCLE1BQU0sTUFBTSxTQUFTO0FBQUEsTUFDN0M7QUFBQSxJQUNGO0FBRUEsYUFBUyxNQUFNLE9BQU8sU0FBUyxZQUFZO0FBQ3pDLGdCQUFVLFdBQVcsQ0FBQztBQUV0QixlQUFTLE1BQU0sU0FBUyxNQUFNLEtBQUs7QUFDbkMsZUFBUyxNQUFNLE9BQU8sUUFBUSxLQUFLLEtBQUs7QUFDeEMsZUFBUyxNQUFNLFFBQVEsTUFBTSxJQUFJO0FBQ2pDLGVBQVMsTUFBTSxRQUFRLE1BQU0sSUFBSTtBQUNqQyxlQUFTLE1BQU0sT0FBTyxNQUFNLEdBQUc7QUFDL0IsZUFBUyxNQUFNLE9BQU8sTUFBTSxHQUFHO0FBQy9CLGVBQVMsTUFBTSxXQUFXLE1BQU0sT0FBTztBQUN2QyxlQUFTLE1BQU0sWUFBWSxNQUFNLFlBQVksS0FBSyxZQUFZLE1BQU07QUFDcEUsZUFBUyxNQUFNLFFBQVEsS0FBSyxRQUFRLE1BQU0sV0FBVyxNQUFNLGFBQ3pELE1BQU0sZ0JBQWdCLFVBQVU7QUFDbEMsZUFBUyxNQUFNLGVBQWUsTUFBTSxhQUFhLEtBQUssZUFBZSxLQUFLO0FBQzFFLGVBQVMsTUFBTSxrQkFBa0IsTUFBTSxnQkFBZ0IsS0FBSztBQUM1RCxlQUFTLE1BQU0sZUFBZSxNQUFNLGVBQWUsS0FBSztBQUN4RCxlQUFTLE1BQU0sV0FBVyxNQUFNLEtBQUs7QUFDckMsZUFBUyxNQUFNLGVBQWUsUUFBUSxNQUFNLFNBQVMsR0FBRyxLQUFLO0FBQzdELGVBQVMsTUFBTSxrQkFBa0IsUUFBUSxNQUFNLFlBQVksR0FBRyxLQUFLO0FBQ25FLGVBQVMsTUFBTSxnQkFBZ0IsTUFBTSxxQkFBcUIsSUFBSTtBQUM5RCxlQUFTLE1BQU0sZUFBZSxNQUFNLGNBQWMsSUFBSTtBQUN0RCxlQUFTLE1BQU0sZUFBZSxNQUFNLGNBQWMsUUFBUSxNQUFNLGFBQWEsTUFBTSxVQUFVLGNBQWMsSUFBSTtBQUMvRyxlQUFTLE1BQU0saUJBQWlCLFFBQVEsTUFBTSxXQUFXLEdBQUcsS0FBSztBQUNqRSxlQUFTLE1BQU0sV0FBVyxRQUFRLE1BQU0sS0FBSyxHQUFHLEtBQUs7QUFDckQsZUFBUyxNQUFNLGtCQUFrQixRQUFRLE1BQU0sWUFBWSxHQUFHLEtBQUs7QUFDbkUsZUFBUyxNQUFNLGlCQUFpQixRQUFRLE1BQU0sV0FBVyxHQUFHLEtBQUs7QUFDakUsZUFBUyxNQUFNLHdCQUF3QixRQUFRLE1BQU0sZUFBZSxLQUFLLE1BQU0sYUFBYSxNQUFNLFVBQVUseUJBQXlCLE1BQU0sS0FBSztBQUNoSixlQUFTLE1BQU0sdUJBQXVCLFFBQVEsTUFBTSxtQkFBbUIsR0FBRyxLQUFLO0FBQy9FLGVBQVMsTUFBTSxhQUFhLFFBQVEsTUFBTSxTQUFTLEdBQUcsS0FBSztBQUUzRCxVQUFJLFFBQVEsZUFBZTtBQUN6QixpQkFBUyxNQUFNLGlCQUFpQixNQUFNLGFBQWE7QUFDbkQsaUJBQVMsTUFBTSxvQkFBb0IsTUFBTSxnQkFBZ0I7QUFBQSxNQUMzRDtBQUVBLFVBQUksTUFBTSxjQUFjO0FBQ3RCLGlCQUFTLE1BQU0sa0JBQWtCLE1BQU0sZ0JBQWdCLEtBQUs7QUFBQSxNQUM5RDtBQUdBLGVBQVMsTUFBTSxnQkFBZ0IsSUFBSTtBQUNuQyxXQUFLLGVBQWUsU0FBUyxPQUFPO0FBQ2xDLFlBQUksVUFBVSxRQUFRLFVBQVU7QUFBVyxpQkFBTztBQUNsRCxlQUFPO0FBQUEsTUFDVDtBQUNBLFdBQUssU0FBUyxTQUFTLE9BQU87QUFBRSxlQUFPO0FBQUEsTUFBTztBQUFBLElBQ2hEO0FBS0EsVUFBTSxrQkFBa0I7QUFBQSxNQUN0QixXQUFXO0FBQUEsTUFDWCxRQUFRO0FBQUEsTUFDUixNQUFNO0FBQUEsTUFDTixPQUFPO0FBQUEsTUFDUCxZQUFZO0FBQUEsTUFDWixZQUFZO0FBQUEsTUFDWixNQUFNO0FBQUEsSUFDUjtBQUtBLFVBQU0sUUFBUTtBQUFBLE1BQ1osYUFBYTtBQUFBLE1BQ2IsUUFBUTtBQUFBLE1BQ1IsT0FBTztBQUFBLE1BQ1AsV0FBVztBQUFBLE1BQ1gsYUFBYTtBQUFBLE1BQ2IsU0FBUztBQUFBLE1BQ1QsV0FBVztBQUFBLE1BQ1gsVUFBVTtBQUFBLE1BQ1YsVUFBVTtBQUFBLE1BQ1YsVUFBVTtBQUFBLElBQ1o7QUFFQSxVQUFNLFVBQVUsU0FBUyxRQUFRLE9BQU8sU0FBUztBQUMvQyxVQUFJLE1BQU0sT0FBTztBQUNmLFlBQUksV0FBVyxRQUFRLElBQUksT0FBTyxNQUFNO0FBQ3hDLFlBQUksQ0FBQyxVQUFVO0FBQ2IsZ0JBQU0sSUFBSSxNQUFNLGtDQUFrQyxNQUFNLEtBQUs7QUFBQSxRQUMvRDtBQUVBLGVBQU87QUFBQSxNQUNULE9BQU87QUFDTCxlQUFPO0FBQUEsTUFDVDtBQUFBLElBQ0Y7QUFFQSxVQUFNLFNBQVMsU0FBUyxPQUFPLE9BQU8sU0FBUyxZQUFZO0FBQ3pELFVBQUksTUFBTTtBQUFTLGVBQU87QUFFMUIsVUFBSSxXQUFXLE1BQU0sUUFBUSxPQUFPLE9BQU87QUFDM0MsVUFBSSxVQUFVO0FBQ1osWUFBSSxlQUFlLE9BQU8sS0FBSyxLQUFLO0FBQ3BDLFlBQUksQ0FBQyxRQUFRLGVBQWU7QUFDMUIseUJBQWUsYUFBYSxPQUFPLFNBQVMsTUFBTTtBQUNoRCxtQkFBTyxDQUFDLEtBQUssTUFBTSxlQUFlO0FBQUEsVUFDcEMsQ0FBQztBQUFBLFFBQ0g7QUFHQSxZQUFJLGNBQWMsV0FBVztBQUMzQixtQkFBUyxZQUFZLEtBQUssTUFBTSxPQUFPLFNBQVMsVUFBVTtBQUFBLFFBQzVEO0FBQ0Esb0JBQVksWUFBWTtBQUN4QixlQUFPLElBQUksWUFBWTtBQUFBLE1BQ3pCLE9BQU87QUFFTCxZQUFJLENBQUMsTUFBTSxNQUFNO0FBQ2YsY0FBSSxNQUFNO0FBQVMsa0JBQU0sT0FBTztBQUFBLG1CQUN2QixNQUFNO0FBQVEsa0JBQU0sT0FBTztBQUFBLG1CQUMzQixNQUFNO0FBQUssa0JBQU0sT0FBTztBQUFBO0FBQzVCLGtCQUFNLE9BQU87QUFBQSxRQUNwQjtBQUdBLFlBQUksV0FBVyxNQUFNO0FBQ3JCLFlBQUksTUFBTSxnQkFBZ0IsTUFBTSxPQUFPO0FBQ3JDLGdCQUFNLE9BQU8sTUFBTSxnQkFBZ0IsTUFBTTtBQUFBLFFBQzNDO0FBRUEsWUFBSSxNQUFNLE1BQU0sTUFBTSxPQUFPO0FBQzNCLGlCQUFPLElBQUksTUFBTSxNQUFNLE1BQU0sTUFBTSxPQUFPLFNBQVMsVUFBVTtBQUFBLFFBQy9ELE9BQU87QUFDTCxnQkFBTSxJQUFJLE1BQU0sOEJBQThCLFFBQVE7QUFBQSxRQUN4RDtBQUFBLE1BQ0Y7QUFBQSxJQUNGO0FBRUEsYUFBUyxlQUFlLE9BQU87QUFDN0IsWUFBTSxNQUFNLE1BQU0sU0FBUztBQUMzQixlQUFTLE1BQU0sZUFBZSxJQUFJO0FBRWxDLFVBQUksTUFBTSxXQUFXO0FBQ25CLGlCQUFTLE1BQU0sYUFBYSxNQUFNLGFBQWEsS0FBSztBQUFBLE1BQ3REO0FBQUEsSUFDRjtBQUVBLGFBQVMsZUFBZSxPQUFPLFNBQVM7QUFDdEMsVUFBSSxPQUFPO0FBQ1gsVUFBSSxjQUFjLE1BQU0sWUFBWSxDQUFDLEtBQUs7QUFFMUMscUJBQWUsTUFBTSxNQUFNLFNBQVM7QUFFcEMsVUFBSSxXQUFXO0FBQ2IsaUJBQVMsTUFBTSxnQkFBZ0IsV0FBVztBQUFFLGlCQUFPLENBQUM7QUFBQSxRQUFHLENBQUM7QUFDeEQsaUJBQVMsTUFBTSxXQUFXLENBQUMsQ0FBQztBQUM1QixpQkFBUyxNQUFNLGVBQWUsQ0FBQyxDQUFDO0FBQ2hDLGlCQUFTLE1BQU0sWUFBWSxDQUFDLENBQUM7QUFDN0IsaUJBQVMsTUFBTSxjQUFjLFdBQVc7QUFBRSxpQkFBTztBQUFBLFFBQU8sQ0FBQztBQUN6RCxpQkFBUyxNQUFNLGNBQWMsUUFBUSxNQUFNLFFBQVEsQ0FBQztBQUFBLE1BQ3REO0FBRUEsVUFBSSxNQUFNLFNBQVM7QUFDakIsaUJBQVMsTUFBTSxXQUFXLElBQUksV0FBVyxNQUFNLFNBQVMsU0FBUyxTQUFTLE1BQU0sUUFBUTtBQUN0RixpQkFBTyxNQUFNLE9BQU8sUUFBUSxTQUFTLElBQUk7QUFBQSxRQUMzQyxDQUFDLENBQUM7QUFDRix5QkFBaUIsTUFBTSxlQUFlLFdBQVc7QUFDL0MsaUJBQU8sTUFBTSxZQUFZLE9BQU8sS0FBSyxNQUFNLE9BQU87QUFBQSxRQUNwRCxDQUFDO0FBRUQsWUFBSSxNQUFNLE9BQU87QUFDZiwyQkFBaUIsTUFBTSwwQkFBMEIsV0FBVztBQUMxRCxnQkFBSSxVQUFVLEtBQUs7QUFDbkIsZ0JBQUksY0FBYyxLQUFLO0FBRXZCLHFCQUFTLElBQUksR0FBRyxPQUFPLFlBQVksUUFBUSxJQUFJLE1BQU0sS0FBSztBQUN4RCxrQkFBSSxRQUFRLFlBQVksSUFBSSxnQkFBZ0I7QUFDMUMsdUJBQU8sWUFBWTtBQUFBLGNBQ3JCO0FBQUEsWUFDRjtBQUFBLFVBQ0YsQ0FBQztBQUVELDJCQUFpQixNQUFNLDBCQUEwQixXQUFXO0FBQzFELGdCQUFJLFVBQVUsS0FBSztBQUNuQixnQkFBSSxjQUFjLEtBQUs7QUFDdkIsZ0JBQUkseUJBQXlCLENBQUM7QUFFOUIscUJBQVMsSUFBSSxHQUFHLE9BQU8sWUFBWSxRQUFRLElBQUksTUFBTSxLQUFLO0FBQ3hELGtCQUFJLFFBQVEsWUFBWSxJQUFJLGVBQWU7QUFDekMsdUNBQXVCLEtBQUssWUFBWSxFQUFFO0FBQUEsY0FDNUM7QUFBQSxZQUNGO0FBQ0EsbUJBQU87QUFBQSxVQUNULENBQUM7QUFBQSxRQUNIO0FBQUEsTUFDRjtBQUVBLFVBQUksTUFBTSxVQUFVO0FBQ2xCLGlCQUFTLE1BQU0sWUFBWSxNQUFNLFFBQVE7QUFDekMsaUJBQVMsTUFBTSxjQUFjLFNBQVMsTUFBTTtBQUMxQyxjQUFJLENBQUMsYUFBYTtBQUNoQiwwQkFBYyxDQUFDO0FBQ2YscUJBQVMsSUFBSSxHQUFHLElBQUksTUFBTSxTQUFTLFFBQVEsS0FBSztBQUM5QywwQkFBWSxNQUFNLFNBQVMsTUFBTTtBQUFBLFlBQ25DO0FBQUEsVUFDRjtBQUVBLGlCQUFPLFlBQVk7QUFBQSxRQUNyQixHQUFHLE9BQU8sSUFBSTtBQUFBLE1BQ2hCO0FBRUEsZUFBUyxNQUFNLGlCQUFpQixNQUFNLGlCQUFpQixJQUFJO0FBRTNELFVBQUksTUFBTSxTQUFTO0FBQ2pCLGlCQUFTLE1BQU0sV0FBVyxNQUFNLE9BQU87QUFBQSxNQUN6QztBQUVBLFVBQUksT0FBTyxNQUFNLGlCQUFpQixVQUFVO0FBQzFDLGlCQUFTLE1BQU0sbUJBQW1CLE1BQU0sWUFBWTtBQUFBLE1BQ3RELFdBQVcsT0FBTyxNQUFNLGlCQUFpQixVQUFVO0FBQ2pELGlCQUFTLE1BQU0sc0JBQXNCLE1BQU0sYUFBYSxNQUFNO0FBQzlELGlCQUFTLE1BQU0sbUJBQW1CLE1BQU0sYUFBYSxHQUFHO0FBQUEsTUFDMUQ7QUFBQSxJQUNGO0FBRUEsYUFBUyxVQUFVLE9BQU8sU0FBUztBQUNqQyxVQUFJLE9BQU8sTUFBTSxZQUFZLENBQUMsS0FBSztBQUNuQyxxQkFBZSxNQUFNLE1BQU0sU0FBUztBQUVwQyxVQUFJLFdBQVc7QUFDYixpQkFBUyxNQUFNLGdCQUFnQixXQUFXO0FBQUUsaUJBQU8sQ0FBQztBQUFBLFFBQUcsQ0FBQztBQUFBLE1BQzFEO0FBRUEsVUFBSSxNQUFNLFFBQVE7QUFDaEIseUJBQWlCLE1BQU0sVUFBVSxXQUFXO0FBQzFDLGlCQUFPLE1BQU0sT0FBTyxNQUFNLFFBQVEsT0FBTztBQUFBLFFBQzNDLENBQUM7QUFBQSxNQUNIO0FBRUEsVUFBSSxLQUFLLFdBQVc7QUFDbEIsWUFBSSxVQUFVLEtBQUs7QUFDbkIseUJBQWlCLE1BQU0sUUFBUSxXQUFXO0FBQ3hDLGlCQUFPLEtBQUssT0FBTyxRQUFRO0FBQUEsUUFDN0IsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGO0FBRUEsYUFBUyxTQUFTLE9BQU8sU0FBUztBQUNoQyxVQUFJLFlBQVksQ0FBQyxLQUFLO0FBQ3RCLHFCQUFlLE1BQU0sTUFBTSxTQUFTO0FBRXBDLFVBQUksV0FBVztBQUNiLGlCQUFTLE1BQU0sZ0JBQWdCLFdBQVc7QUFBRSxpQkFBTyxDQUFDO0FBQUEsUUFBRyxDQUFDO0FBQ3hELGlCQUFTLE1BQU0sT0FBTyxNQUFNLE9BQU8sRUFBQyxNQUFNLFNBQVEsR0FBRyxPQUFPLENBQUM7QUFDN0QsaUJBQVMsTUFBTSxTQUFTLE1BQU0sT0FBTyxFQUFDLE1BQU0sU0FBUSxHQUFHLE9BQU8sQ0FBQztBQUFBLE1BQ2pFO0FBRUEsVUFBSSxNQUFNLEtBQUs7QUFDYix5QkFBaUIsTUFBTSxPQUFPLFdBQVc7QUFDdkMsaUJBQU8sTUFBTSxPQUFPLE1BQU0sS0FBSyxPQUFPO0FBQUEsUUFDeEMsQ0FBQztBQUFBLE1BQ0g7QUFDQSxVQUFJLE1BQU0sT0FBTztBQUNmLHlCQUFpQixNQUFNLFNBQVMsV0FBVztBQUN6QyxpQkFBTyxNQUFNLE9BQU8sTUFBTSxPQUFPLE9BQU87QUFBQSxRQUMxQyxDQUFDO0FBQUEsTUFDSDtBQUFBLElBQ0Y7QUFFQSxhQUFTLGVBQWUsT0FBTztBQUM3QixVQUFJLE9BQU87QUFDWCxZQUFNLE1BQU0sTUFBTSxTQUFTO0FBRTNCLFVBQUksTUFBTSxpQkFBaUI7QUFDekIsaUJBQVMsTUFBTSxtQkFBbUIsTUFBTSxlQUFlO0FBQUEsTUFDekQsV0FBVyxLQUFLLHdCQUF3QixLQUFLLGlCQUFpQjtBQUM1RCxpQkFBUyxNQUFNLG1CQUFtQixLQUFLLGVBQWU7QUFBQSxNQUN4RCxXQUFXLEtBQUssYUFBYSxVQUFVO0FBQ3JDLGlCQUFTLE1BQU0sbUJBQW1CLFFBQVE7QUFBQSxNQUM1QyxXQUFXLEtBQUssYUFBYSxlQUFlO0FBQzFDLGlCQUFTLE1BQU0sbUJBQW1CLFNBQVM7QUFBQSxNQUM3QyxXQUFXLEtBQUssS0FBSztBQUNuQixnQkFBUSxLQUFLLElBQUk7QUFBQSxlQUNWO0FBQUEsZUFDQTtBQUNILHFCQUFTLE1BQU0sbUJBQW1CLGVBQWU7QUFDakQ7QUFBQSxlQUNHO0FBQUEsZUFDQTtBQUFBLGVBQ0E7QUFDSCxxQkFBUyxNQUFNLG1CQUFtQixTQUFTO0FBQzNDO0FBQUE7QUFBQSxNQUVOO0FBRUEsV0FBSyxTQUFTLFNBQVMsT0FBTztBQUM1QixZQUFJLFVBQVUsUUFBUSxVQUFVO0FBQVcsaUJBQU87QUFDbEQsWUFBSSxPQUFPLE1BQU0sZ0JBQWdCO0FBQVksaUJBQU87QUFDcEQsZUFBTyxPQUFPLFVBQVUsWUFBWSxPQUFPLFVBQVUsV0FDOUMsS0FBSyxLQUFLLGVBQWUsS0FBSyxJQUFJO0FBQUEsTUFDM0M7QUFFQSxXQUFLLGVBQWUsU0FBUyxPQUFPO0FBQ2xDLGVBQU8sS0FBSyxLQUFLLE9BQU8sT0FBTyxLQUFLLGVBQWU7QUFBQSxNQUNyRDtBQUFBLElBQ0Y7QUFFQSxhQUFTLGNBQWM7QUFDckIsWUFBTSxNQUFNLE1BQU0sU0FBUztBQUUzQixVQUFJLG9CQUFvQixDQUFDLFlBQVksU0FBUyxLQUFLO0FBQ25ELFdBQUssU0FBUyxTQUFTLE9BQU87QUFDNUIsZ0JBQVEsS0FBSyxPQUFPLGtCQUFrQixRQUFRLEtBQUssSUFBSSxRQUFRLElBQUksS0FDakUsU0FBUyxLQUFLO0FBQ2hCLFlBQUksS0FBSyxhQUFhO0FBQ3BCLGlCQUFPLEtBQUssTUFBTSxLQUFLO0FBQUEsUUFDekI7QUFFQSxlQUFPLFNBQVMsT0FBTyxNQUFNLGFBQWEsYUFDeEMsTUFBTSxTQUFTLElBQUk7QUFBQSxNQUN2QjtBQUVBLFdBQUssZUFBZSxTQUFTLE9BQU87QUFDbEMsZUFBTyxLQUFLLGNBQWMsS0FBSyxVQUFVLEtBQUssSUFBSTtBQUFBLE1BQ3BEO0FBQUEsSUFDRjtBQUVBLGFBQVMsYUFBYTtBQUNwQixZQUFNLE1BQU0sTUFBTSxTQUFTO0FBRTNCLFdBQUssU0FBUyxTQUFTLE9BQU87QUFDNUIsWUFBSSxVQUFVLFFBQVEsVUFBVTtBQUFXLGlCQUFPO0FBQ2xELGVBQU8sV0FBVyxLQUFLO0FBQUEsTUFDekI7QUFDQSxXQUFLLGVBQWUsS0FBSztBQUFBLElBQzNCO0FBRUEsYUFBUyxlQUFlO0FBQ3RCLFlBQU0sTUFBTSxNQUFNLFNBQVM7QUFFM0IsV0FBSyxTQUFTLFNBQVMsT0FBTztBQUM1QixZQUFJLFVBQVUsUUFBUSxVQUFVO0FBQVcsaUJBQU87QUFDbEQsZUFBTyxTQUFTLE9BQU8sRUFBRTtBQUFBLE1BQzNCO0FBQ0EsV0FBSyxlQUFlLEtBQUs7QUFBQSxJQUMzQjtBQUVBLGFBQVMsY0FBYztBQUNyQixZQUFNLE1BQU0sTUFBTSxTQUFTO0FBQzNCLFdBQUssU0FBUyxTQUFTLE9BQU87QUFDNUIsWUFBSSxNQUFNLEtBQUssT0FBTyxPQUFPLEtBQUs7QUFDbEMsWUFBSSxLQUFLLGVBQWUsS0FBSyxPQUFPLEtBQUssT0FBTyxLQUFLLE9BQU8sVUFBVSxZQUFZO0FBUWhGLGNBQUksWUFBWSxLQUFLLE9BQU8sTUFBTSxJQUFJLFFBQVEsR0FBRztBQUNqRCxjQUFJLEtBQUssQ0FBQztBQUNWLGdCQUFNO0FBQUEsUUFDUjtBQUNBLGVBQU87QUFBQSxNQUNUO0FBQ0EsV0FBSyxlQUFlLEtBQUssT0FBTztBQUFBLElBQ2xDO0FBRUEsYUFBUyxjQUFjO0FBQ3JCLGtCQUFZLE1BQU0sTUFBTSxTQUFTO0FBQUEsSUFDbkM7QUFFQSxhQUFTLGVBQWU7QUFDdEIsWUFBTSxNQUFNLE1BQU0sU0FBUztBQUUzQixXQUFLLFNBQVMsU0FBUyxPQUFPO0FBQzVCLFlBQUksT0FBTyxVQUFVO0FBQVcsaUJBQU87QUFDdkMsWUFBSSxVQUFVLFFBQVEsVUFBVTtBQUFXLGlCQUFPO0FBQ2xELGVBQU8sVUFBVTtBQUFBLE1BQ25CO0FBQUEsSUFDRjtBQUtBLFVBQU0sU0FBUztBQUFBLE1BQ2I7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFLQSxJQUFBQSxRQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUN0WmpCO0FBQUEsK0NBQUFDLFVBQUFDLFNBQUE7QUFBQSxRQUFJQyxPQUFNO0FBQ1YsUUFBSSxPQUFPO0FBQ1gsUUFBSSx1QkFBdUI7QUFDM0IsUUFBSSxRQUFRO0FBQ1osUUFBSSxxQkFBcUIsa0JBQXFCO0FBRTlDLGFBQVMsYUFBYSxLQUFLO0FBQ3pCLFVBQUksWUFBWSxJQUFJLFFBQVEsSUFBSSxXQUFXLElBQUk7QUFDL0MsVUFBSSxjQUFjLElBQUk7QUFDdEIsa0JBQVksUUFBUSxrQkFDbEI7QUFDRixrQkFBWSxTQUFTO0FBQUEsUUFDbkIsU0FBUyxJQUFJLFFBQVEsSUFBSTtBQUFBLFFBQ3pCLFFBQVEsVUFBVTtBQUFBLE1BQ3BCO0FBSUEsVUFBSSxVQUFVLElBQUkscUJBQXFCO0FBQ3ZDLGNBQVEsVUFBVSxJQUFJLFFBQVEsVUFBVSxPQUFPLFNBQVMsTUFBTSxPQUFPO0FBQ25FLG9CQUFZLE9BQU8sUUFBUTtBQUFBLE1BQzdCLENBQUM7QUFDRCxrQkFBWSxPQUFPLEtBQUssb0JBQW9CLFlBQVksTUFBTTtBQUU5RCx5QkFBbUIsR0FBRztBQUFBLElBQ3hCO0FBRUEsYUFBUyxhQUFhLE1BQU07QUFDMUIsVUFBSSxNQUFNLE9BQU8sS0FBSyxhQUFhLEtBQUssU0FBUztBQUNqRCxVQUFJLEtBQUssTUFBTSw0QkFBNEIsR0FBRztBQUM1QyxlQUFPO0FBQUEsVUFDTCxNQUFNO0FBQUEsVUFDTixTQUFTLHVCQUF1QixLQUFLLFFBQVE7QUFBQSxRQUMvQztBQUFBLE1BQ0YsT0FBTztBQUNMLFlBQUk7QUFDRixpQkFBTyxJQUFJQSxLQUFJLElBQUksT0FBTyxFQUFFLE1BQU0sSUFBSTtBQUFBLFFBQ3hDLFNBQVMsR0FBUDtBQUNBLGlCQUFPO0FBQUEsWUFDTCxNQUFNLEtBQUssYUFBYTtBQUFBLFlBQ3hCLFNBQVMsS0FBSyxhQUFhO0FBQUEsVUFDN0I7QUFBQSxRQUNGO0FBQUEsTUFDRjtBQUVBLFVBQUksS0FBSyxhQUFhLENBQUMsS0FBSztBQUFXLGFBQUssWUFBWSxLQUFLO0FBQzdELFVBQUksS0FBSztBQUFRLGVBQU8sS0FBSztBQUM3QixVQUFJLEtBQUs7QUFBTyxlQUFPLEtBQUs7QUFDNUIsVUFBSSxLQUFLLE1BQU07QUFDYixhQUFLLFFBQVEsS0FBSyxNQUFNLElBQUksTUFBTSxHQUFHO0FBQUEsVUFDbkMsTUFBTSxLQUFLO0FBQUEsVUFDWCxTQUFTLEtBQUs7QUFBQSxRQUNoQixDQUFDO0FBQUEsTUFDSCxPQUFPO0FBQ0wsYUFBSyxRQUFRLEtBQUssTUFBTSxJQUFJLE1BQU0sR0FBRztBQUFBLFVBQ25DLE1BQU0sS0FBSyxhQUFhO0FBQUEsVUFDeEIsU0FBUztBQUFBLFFBQ1gsQ0FBQztBQUFBLE1BQ0g7QUFBQSxJQUNGO0FBRUEsYUFBUyxZQUFZLE1BQU07QUFDekIsVUFBSSxNQUFNLEtBQUs7QUFDZixVQUFJLFlBQVksSUFBSSxRQUFRLElBQUksV0FBVyxJQUFJO0FBQy9DLFVBQUksUUFBUSxVQUFVLFVBQVUsQ0FBQztBQUNqQyxVQUFJLFlBQVk7QUFFaEIsVUFBSSxVQUFVLGVBQWU7QUFDM0IsWUFBSSxNQUFNLE1BQU0sT0FBTyxFQUFDLE1BQU0sWUFBVyxDQUFDO0FBQzFDLFlBQUksUUFBUSxVQUFVLGlCQUFpQjtBQUN2QyxZQUFJLGNBQWMsQ0FBQyxVQUFVLGFBQWE7QUFDMUMsYUFBSyxTQUFTLE9BQU8sUUFBUSxNQUFNLGFBQWE7QUFDaEQsZ0JBQVE7QUFBQSxNQUNWO0FBRUEsVUFBSSxTQUFTLElBQUlBLEtBQUksSUFBSSxPQUFPO0FBR2hDLFVBQUksU0FBUyxNQUFNLFdBQVcsQ0FBQyxNQUFNLFFBQVEsZ0JBQWdCO0FBQzNELFlBQUksaUJBQWlCLE1BQU07QUFBQSxVQUN6QixFQUFFLE1BQU0sU0FBUztBQUFBLFVBQ2pCLEVBQUUsS0FBSyxFQUFFLFVBQVUsUUFBUSxFQUFFO0FBQUEsVUFDN0I7QUFBQSxRQUNGO0FBQ0EsY0FBTSxRQUFRLGlCQUFpQjtBQUFBLE1BQ2pDO0FBRUEsVUFBSSxPQUFPLE9BQU8sTUFBTSxLQUFLLGFBQWEsS0FBSyxTQUFTLEdBQUcsS0FBSztBQUNoRSxXQUFLLFlBQVksS0FBSyxrQkFBa0IsS0FBSztBQUU3QyxVQUFJLEtBQUs7QUFBZ0IsZUFBTyxLQUFLO0FBRXJDLFVBQUksVUFBVSxlQUFlO0FBQzNCLFlBQUksS0FBSyxVQUFVLGdCQUFnQjtBQUNqQyxlQUFLLE9BQU8sTUFBTSxLQUFLLFVBQVUsY0FBYztBQUMvQyxpQkFBTyxLQUFLLFVBQVU7QUFBQSxRQUN4QjtBQUFBLE1BQ0Y7QUFFQSxXQUFLLE9BQU87QUFBQSxJQUNkO0FBS0EsSUFBQUQsUUFBTyxVQUFVO0FBQUEsTUFDZjtBQUFBLE1BQ0E7QUFBQSxNQUNBO0FBQUEsSUFDRjtBQUFBO0FBQUE7OztBQzdHQTtBQUFBLDhDQUFBRSxVQUFBQyxTQUFBO0FBQUEsUUFBSSxPQUFPO0FBQ1gsUUFBSSxxQkFBcUIsa0JBQXFCO0FBRTlDLGFBQVMsZUFBZSxLQUFLO0FBQzNCLFVBQUksWUFBWSxTQUFTLElBQUksUUFBUSxJQUFJLFdBQVcsSUFBSSxXQUFXO0FBQUEsSUFDckU7QUFFQSxhQUFTLFlBQVksY0FBYyxlQUFlLE9BQU8sUUFBUTtBQUMvRCxVQUFJLE1BQU0sQ0FBQyxjQUFjLGFBQWEsRUFBRSxLQUFLLEdBQUc7QUFDaEQsWUFBTSxJQUFJLFFBQVEsUUFBUSxHQUFHO0FBRTdCLFVBQUksY0FBYyxDQUFDLEdBQUcsaUJBQWlCO0FBQ3ZDLFdBQUssS0FBSyxNQUFNLFNBQVMsU0FBVSxNQUFNLFFBQVE7QUFDL0MsWUFBSSxhQUFhLE9BQU87QUFDeEIsWUFBSSxlQUFlLFFBQVEsZUFBZTtBQUFXO0FBQ3JELFlBQUksT0FBTyxhQUFhLE9BQU87QUFDN0IsY0FBSSxRQUFRLElBQUksT0FBTyxRQUFRLE9BQU8sT0FBTyxXQUFXO0FBQ3hELGdCQUFNLElBQUksUUFBUSxPQUFPLFNBQVMsR0FBRyxNQUFNO0FBQ3pDLGdCQUFJLEtBQUssT0FBTyxLQUFLLGdCQUFnQixLQUFLO0FBQzFDLG1CQUFPLEdBQUcsT0FBTyxVQUFVLENBQUM7QUFBQSxVQUM5QixDQUFDO0FBQUEsUUFDSCxXQUFXLE9BQU8sYUFBYSxlQUFlO0FBQzVDLDJCQUFpQjtBQUVqQixjQUFJLE9BQU8sU0FBUyxRQUFRO0FBQzFCLHdCQUFZLE9BQU8sUUFBUSxXQUFXLElBQUksU0FBUyxLQUFLO0FBQ3RELHFCQUFPLEtBQUssVUFBVSxPQUFPLE9BQU8sYUFBYSxHQUFHLEVBQUUsU0FBUyxDQUFDO0FBQUEsWUFDbEUsQ0FBQztBQUFBLFVBQ0gsV0FBVyxPQUFPLFNBQVMsT0FBTztBQUNoQyxpQkFBSyxLQUFLLFlBQVksU0FBUyxLQUFLLE9BQU87QUFDekMsa0JBQUksTUFBTSxRQUFRLEtBQUssR0FBRztBQUN4Qiw0QkFBWSxPQUFPLE1BQU0sSUFBSSxTQUFTLEtBQUs7QUFDekMseUJBQU8sS0FBSyxVQUFVLE9BQU8sR0FBRyxDQUFDO0FBQUEsZ0JBQ25DLENBQUM7QUFBQSxjQUNILE9BQU87QUFDTCw0QkFBWSxPQUFPLEtBQUssVUFBVSxPQUFPLEtBQUssQ0FBQztBQUFBLGNBQ2pEO0FBQUEsWUFDRixDQUFDO0FBQUEsVUFDSCxPQUFPO0FBQ0wsd0JBQVksT0FBTyxRQUFRLEtBQUssVUFBVSxPQUFPLGFBQWEsVUFBVSxFQUFFLFNBQVMsQ0FBQztBQUFBLFVBQ3RGO0FBQUEsUUFDRjtBQUFBLE1BQ0YsQ0FBQztBQUVELFVBQUksZ0JBQWdCO0FBQ2xCLGVBQVEsSUFBSSxRQUFRLEdBQUcsS0FBSyxJQUFJLE1BQU07QUFDdEMsWUFBSSxRQUFRLENBQUM7QUFDYixhQUFLLFVBQVUsT0FBTyxLQUFLLFdBQVcsRUFBRSxLQUFLLEdBQUcsU0FBUyxLQUFLO0FBQzVELGNBQUksQ0FBQyxNQUFNLFFBQVEsWUFBWSxJQUFJLEdBQUc7QUFDcEMsd0JBQVksT0FBTyxDQUFDLFlBQVksSUFBSTtBQUFBLFVBQ3RDO0FBQ0EsbUJBQVMsSUFBSSxHQUFHLElBQUksWUFBWSxLQUFLLFFBQVEsS0FBSztBQUNoRCxrQkFBTSxLQUFLLEtBQUssVUFBVSxPQUFPLEdBQUcsQ0FBQyxJQUFJLE1BQU0sWUFBWSxLQUFLLEVBQUU7QUFBQSxVQUNwRTtBQUFBLFFBQ0YsQ0FBQztBQUNELGVBQU8sTUFBTSxLQUFLLEdBQUc7QUFBQSxNQUN2QjtBQUVBLGFBQU87QUFBQSxJQUNUO0FBRUEsYUFBUyxZQUFZLEtBQUs7QUFDeEIsVUFBSSxZQUFZLElBQUksUUFBUSxJQUFJLFdBQVcsSUFBSTtBQUMvQyxVQUFJLFFBQVEsVUFBVTtBQUV0QixVQUFJLE1BQU0sWUFBWSxJQUFJLFlBQVksU0FBUyxNQUFNLFVBQVUsVUFBVSxPQUFPLElBQUksTUFBTTtBQUMxRixVQUFJLFlBQVksT0FBTztBQUFBLElBQ3pCO0FBRUEsYUFBUyxnQkFBZ0IsS0FBSztBQUM1QixVQUFJLFlBQVksSUFBSSxRQUFRLElBQUksV0FBVyxJQUFJO0FBQy9DLFdBQUssS0FBSyxVQUFVLE1BQU0sU0FBUyxTQUFVLE1BQU0sUUFBUTtBQUN6RCxZQUFJLFFBQVEsSUFBSSxPQUFPO0FBQ3ZCLFlBQUksVUFBVSxRQUFRLFVBQVU7QUFBVztBQUUzQyxZQUFJLE9BQU8sYUFBYSxhQUFhLE9BQU8sU0FBUyxPQUFPO0FBQzFELGVBQUssS0FBSyxPQUFPLFNBQVMsS0FBSyxhQUFhO0FBQzFDLGdCQUFJLFlBQVksUUFBUSxPQUFPLE9BQU8sT0FBTztBQUFBLFVBQy9DLENBQUM7QUFBQSxRQUNILFdBQVcsT0FBTyxhQUFhLFVBQVU7QUFDdkMsa0JBQVEsT0FBTyxhQUFhLEtBQUssRUFBRSxTQUFTO0FBQzVDLGNBQUksT0FBTyxhQUFhO0FBQ3RCLG9CQUFRLEtBQUssT0FBTyxPQUFPLEtBQUs7QUFBQSxVQUNsQztBQUNBLGNBQUksWUFBWSxRQUFRLE9BQU8sUUFBUTtBQUFBLFFBQ3pDO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUVBLGFBQVMsYUFBYSxLQUFLO0FBQ3pCLHFCQUFlLEdBQUc7QUFDbEIsa0JBQVksR0FBRztBQUNmLHNCQUFnQixHQUFHO0FBQ25CLHlCQUFtQixHQUFHO0FBQUEsSUFDeEI7QUFFQSxhQUFTLGVBQWU7QUFBQSxJQUN4QjtBQUVBLGFBQVMsWUFBWSxNQUFNO0FBQ3pCLFVBQUksTUFBTSxLQUFLO0FBQ2YsVUFBSSxPQUFPLENBQUM7QUFDWixVQUFJLElBQUksS0FBSztBQUNiLFVBQUksWUFBWSxJQUFJLFFBQVEsSUFBSSxXQUFXLElBQUk7QUFDL0MsVUFBSSxTQUFTLFVBQVU7QUFHdkIsVUFBSSxVQUFVLENBQUM7QUFDZixXQUFLLEtBQUssRUFBRSxTQUFTLFNBQVUsR0FBRyxHQUFHO0FBQ25DLGdCQUFRLEVBQUUsWUFBWSxLQUFLO0FBQUEsTUFDN0IsQ0FBQztBQUVELFdBQUssS0FBSyxPQUFPLFNBQVMsU0FBUyxNQUFNLFFBQVE7QUFDL0MsWUFBSSxVQUFVLE9BQU8sUUFBUSxNQUFNLFlBQVk7QUFDL0MsWUFBSSxPQUFPLGFBQWEsYUFBYSxPQUFPLFNBQVMsT0FBTztBQUMxRCxlQUFLLFFBQVEsQ0FBQztBQUNkLGNBQUksV0FBVyxPQUFPLGlCQUFpQixPQUFPLE9BQU87QUFDckQsY0FBSSxVQUFVLElBQUksT0FBTyxNQUFNLFdBQVcsUUFBUSxHQUFHO0FBQ3JELGVBQUssS0FBSyxFQUFFLFNBQVMsU0FBVSxHQUFHLEdBQUc7QUFDbkMsZ0JBQUksU0FBUyxFQUFFLE1BQU0sT0FBTztBQUM1QixnQkFBSSxXQUFXLE1BQU07QUFDbkIsbUJBQUssTUFBTSxPQUFPLE1BQU07QUFBQSxZQUMxQjtBQUFBLFVBQ0YsQ0FBQztBQUFBLFFBQ0gsV0FBVyxPQUFPLGFBQWEsVUFBVTtBQUN2QyxjQUFJLFFBQVEsWUFBWSxRQUFXO0FBQ2pDLGdCQUFJLFFBQVEsT0FBTyxjQUNqQixLQUFLLE9BQU8sT0FBTyxRQUFRLE9BQU8sSUFDbEMsUUFBUTtBQUNWLGlCQUFLLFFBQVEsT0FBTyxPQUFPLEtBQUs7QUFBQSxVQUNsQztBQUFBLFFBQ0YsV0FBVyxPQUFPLGFBQWEsY0FBYztBQUMzQyxlQUFLLFFBQVEsU0FBUyxFQUFFLFlBQVksRUFBRTtBQUFBLFFBQ3hDO0FBQUEsTUFDRixDQUFDO0FBRUQsV0FBSyxPQUFPO0FBQUEsSUFDZDtBQUtBLElBQUFBLFFBQU8sVUFBVTtBQUFBLE1BQ2Y7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUE7QUFBQTs7O0FDbkpBO0FBQUEsbURBQUFDLFVBQUFDLFNBQUE7QUFBQSxRQUFJLE9BQU87QUFDWCxRQUFJLE9BQU87QUFDWCxRQUFJLE9BQU87QUFDWCxRQUFJLGNBQWM7QUFDbEIsUUFBSSxhQUFhO0FBRWpCLGFBQVMsYUFBYSxLQUFLO0FBQ3pCLFVBQUksVUFBVSxJQUFJLFlBQVk7QUFDOUIsVUFBSSxRQUFRLElBQUksUUFBUSxJQUFJLFdBQVcsSUFBSSxXQUFXO0FBRXRELFVBQUksTUFBTSxTQUFTO0FBQ2pCLFlBQUksU0FBUyxDQUFDO0FBQ2QsWUFBSSxlQUFlLE1BQU0sUUFBUSxNQUFNO0FBQ3ZDLGlCQUFTLElBQUksT0FBTyxNQUFNO0FBRTFCLFlBQUksYUFBYSxTQUFTLGFBQWE7QUFDckMsY0FBSSxZQUFZLE9BQU8sUUFBUSxNQUFNLFVBQVUsQ0FBQyxHQUFHLFlBQVk7QUFDL0QsaUNBQXVCLEdBQUc7QUFBQSxRQUM1QixXQUFXLFdBQVcsUUFBVztBQUUvQixjQUFJLFlBQVksT0FBTztBQUN2QixjQUFJLGFBQWEsU0FBUyxZQUFZLGFBQWEsYUFBYTtBQUM5RCxtQ0FBdUIsS0FBSyxJQUFJO0FBQUEsVUFDbEM7QUFBQSxRQUNGO0FBQUEsTUFDRixPQUFPO0FBQ0wsWUFBSSxZQUFZLE9BQU8sUUFBUSxNQUFNLElBQUksUUFBUSxLQUFLO0FBQ3RELCtCQUF1QixHQUFHO0FBQUEsTUFDNUI7QUFBQSxJQUNGO0FBRUEsYUFBUyx1QkFBdUIsS0FBSyxVQUFVO0FBQzdDLFVBQUksQ0FBQyxJQUFJLFlBQVksUUFBUSxpQkFBaUI7QUFDNUMsWUFBSSxPQUFPLFdBQVcsd0JBQXdCO0FBQzlDLFlBQUksWUFBWSxRQUFRLGtCQUFrQjtBQUFBLE1BQzVDO0FBQUEsSUFDRjtBQUVBLGFBQVMsYUFBYSxLQUFLO0FBQ3pCLFdBQUssYUFBYSxHQUFHO0FBR3JCLFVBQUksQ0FBQyxPQUFPLFFBQVEsUUFBUSxFQUFFLFFBQVEsSUFBSSxZQUFZLE1BQU0sSUFBSSxHQUFHO0FBQ2pFLHFCQUFhLEdBQUc7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFFQSxhQUFTLGFBQWEsTUFBTTtBQUMxQixXQUFLLGFBQWEsSUFBSTtBQUFBLElBQ3hCO0FBRUEsYUFBUyxZQUFZLE1BQU07QUFDekIsV0FBSyxZQUFZLElBQUk7QUFFckIsVUFBSSxNQUFNLEtBQUs7QUFDZixVQUFJLFlBQVksSUFBSSxRQUFRLElBQUksV0FBVyxJQUFJO0FBQy9DLFVBQUksUUFBUSxJQUFJLFFBQVEsSUFBSSxXQUFXLElBQUksV0FBVyxVQUFVLENBQUM7QUFDakUsVUFBSTtBQUNKLFVBQUksaUJBQWlCLFVBQVU7QUFFL0IsVUFBSSxNQUFNLFNBQVM7QUFDakIsWUFBSSxnQkFBZ0IsTUFBTSxRQUFRLE1BQU07QUFDeEMsWUFBSSxPQUFPLEtBQUssYUFBYTtBQUM3QixZQUFJLGNBQWMsZUFBZTtBQUMvQixtQkFBUyxJQUFJLFdBQVc7QUFDeEIsZUFBSyxLQUFLLFdBQVcsS0FBSztBQUFBLFlBQ3hCLElBQUksV0FBVyxzQkFBc0IsSUFBSSxLQUFLLGFBQWEsU0FBUztBQUFBLFlBQ3BFO0FBQUEsWUFDQTtBQUFBLFVBQ0Y7QUFBQSxRQUNGLFdBQVcsY0FBYyxTQUFTLGVBQWUsY0FBYyxTQUFTLFFBQVE7QUFDOUUsY0FBSSxTQUFTLElBQUksV0FBVztBQUM1QixlQUFLLEtBQUssTUFBTSxXQUFXLE9BQU8sTUFBTSxNQUFNLGFBQWE7QUFBQSxRQUM3RCxXQUFXLGNBQWMsU0FBUyxZQUFZLGNBQWMsYUFBYTtBQUN2RSxlQUFLLEtBQUssTUFBTSxXQUFXO0FBQUEsUUFDN0IsT0FBTztBQUNMLGVBQUssS0FBSyxNQUFNLFdBQVcsY0FBYyxPQUFPLElBQUk7QUFBQSxRQUN0RDtBQUFBLE1BQ0YsT0FBTztBQUNMLFlBQUksT0FBTyxLQUFLO0FBQ2hCLGFBQUssWUFBWSxJQUFJO0FBQ3JCLGFBQUssT0FBTyxLQUFLLE1BQU0sTUFBTSxLQUFLLElBQUk7QUFBQSxNQUN4QztBQUFBLElBQ0Y7QUFLQSxJQUFBQSxRQUFPLFVBQVU7QUFBQSxNQUNmO0FBQUEsTUFDQTtBQUFBLE1BQ0E7QUFBQSxJQUNGO0FBQUE7QUFBQTs7O0FDNUZBO0FBQUEsa0RBQUFDLFVBQUFDLFNBQUE7QUFBQSxRQUFJQyxPQUFNO0FBQ1YsUUFBSSxPQUFPO0FBQ1gsUUFBSSxPQUFPO0FBRVgsYUFBUyxhQUFhLEtBQUs7QUFDekIsVUFBSSxRQUFRLElBQUksUUFBUSxJQUFJLFdBQVcsSUFBSSxXQUFXO0FBQ3RELFVBQUksVUFBVSxJQUFJQSxLQUFJLElBQUksUUFBUTtBQUNsQyxVQUFJLFNBQVMsSUFBSTtBQUVqQixVQUFJQyxXQUFVLE1BQU07QUFDcEIsVUFBSUEsVUFBUztBQUNYLFlBQUksZ0JBQWdCLE1BQU0sUUFBUUE7QUFDbEMsaUJBQVMsT0FBT0E7QUFDaEIsWUFBSSxXQUFXO0FBQVc7QUFFMUIsWUFBSSxjQUFjLFNBQVMsYUFBYTtBQUN0QyxjQUFJLGNBQWMsY0FBYztBQUNoQyxjQUFJLFlBQVksT0FBTyxRQUFRLE1BQU0sUUFBUSxlQUFlLGFBQWEsSUFBSTtBQUFBLFFBQy9FLE9BQU87QUFDTCxjQUFJLFlBQVksT0FBTztBQUFBLFFBQ3pCO0FBQUEsTUFDRixPQUFPO0FBQ0wsWUFBSSxZQUFZLE9BQU8sUUFBUSxNQUFNLFFBQVEsT0FBTyxNQUFNLFFBQ3hELE1BQU0sU0FBUyxLQUFLLE9BQU8sV0FBVyxJQUFJLFNBQVMsSUFBSSxTQUFTO0FBQUEsTUFDcEU7QUFBQSxJQUNGO0FBRUEsYUFBUyxhQUFhLEtBQUs7QUFDekIsV0FBSyxhQUFhLEdBQUc7QUFHckIsVUFBSSxDQUFDLE9BQU8sTUFBTSxFQUFFLFFBQVEsSUFBSSxZQUFZLE1BQU0sSUFBSSxHQUFHO0FBQ3ZELHFCQUFhLEdBQUc7QUFBQSxNQUNsQjtBQUFBLElBQ0Y7QUFFQSxhQUFTLGFBQWEsTUFBTTtBQUMxQixXQUFLLGFBQWEsSUFBSTtBQUV0QixVQUFJO0FBQ0osVUFBSTtBQUNGLGVBQU8sSUFBSUQsS0FBSSxJQUFJLE9BQU8sRUFBRSxNQUFNLEtBQUssYUFBYSxLQUFLLFNBQVMsQ0FBQztBQUFBLE1BQ3JFLFNBQVMsR0FBUDtBQUNBLGVBQU87QUFBQSxVQUNMLE1BQU0sS0FBSyxhQUFhO0FBQUEsVUFDeEIsU0FBUyxLQUFLLGFBQWE7QUFBQSxRQUM3QjtBQUFBLE1BQ0Y7QUFFQSxVQUFJLEtBQUs7QUFBUSxlQUFPLEtBQUs7QUFDN0IsVUFBSSxLQUFLO0FBQU8sZUFBTyxLQUFLO0FBQzVCLFVBQUksS0FBSyxNQUFNO0FBQ2IsYUFBSyxRQUFRLEtBQUssTUFBTSxJQUFJLE1BQU0sR0FBRztBQUFBLFVBQ25DLE1BQU0sS0FBSztBQUFBLFVBQ1gsU0FBUyxLQUFLO0FBQUEsUUFDaEIsQ0FBQztBQUFBLE1BQ0gsT0FBTztBQUNMLGFBQUssUUFBUSxLQUFLLE1BQU0sSUFBSSxNQUFNLEdBQUc7QUFBQSxVQUNuQyxNQUFNLEtBQUssYUFBYTtBQUFBLFVBQ3hCLFNBQVM7QUFBQSxRQUNYLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRjtBQUVBLGFBQVMsWUFBWSxNQUFNO0FBQ3pCLFdBQUssWUFBWSxJQUFJO0FBRXJCLFVBQUk7QUFDSixVQUFJLE1BQU0sS0FBSztBQUNmLFVBQUksT0FBTyxLQUFLLGFBQWE7QUFDN0IsVUFBSSxZQUFZLElBQUksUUFBUSxJQUFJLFdBQVcsSUFBSTtBQUMvQyxVQUFJLFNBQVMsVUFBVTtBQUV2QixVQUFJLGlCQUFpQixVQUFVO0FBRS9CLFVBQUlDLFdBQVUsT0FBTztBQUNyQixVQUFJQSxVQUFTO0FBQ1gsWUFBSSxnQkFBZ0IsT0FBTyxRQUFRQTtBQUNuQyxZQUFJLGNBQWMsZUFBZTtBQUMvQixtQkFBUyxJQUFJRCxLQUFJLElBQUksT0FBTztBQUM1QixlQUFLLEtBQUtDLFlBQVcsS0FBSztBQUFBLFlBQ3hCRCxLQUFJLFdBQVcsc0JBQXNCLElBQUksS0FBSyxhQUFhLFNBQVMsS0FBSyxhQUFhO0FBQUEsWUFDdEY7QUFBQSxZQUNBO0FBQUEsVUFDRjtBQUFBLFFBQ0YsV0FBVyxjQUFjLFNBQVMsYUFBYTtBQUM3QyxtQkFBUyxJQUFJQSxLQUFJLElBQUksT0FBTztBQUM1QixlQUFLLEtBQUtDLFlBQVcsT0FBTyxNQUFNLEtBQUssU0FBUyxHQUFHLGFBQWE7QUFBQSxRQUNsRSxXQUFXLGNBQWMsU0FBUyxZQUFZLGNBQWMsYUFBYTtBQUN2RSxlQUFLLEtBQUtBLFlBQVc7QUFBQSxRQUN2QixPQUFPO0FBQ0wsZUFBSyxLQUFLQSxZQUFXLGNBQWMsT0FBTyxJQUFJO0FBQUEsUUFDaEQ7QUFBQSxNQUNGLFdBQVcsS0FBSyxTQUFTLEdBQUc7QUFDMUIsaUJBQVMsSUFBSUQsS0FBSSxJQUFJLE9BQU87QUFDNUIsWUFBSSxPQUFPLE9BQU8sTUFBTSxLQUFLLFNBQVMsR0FBRyxNQUFNO0FBQy9DLGFBQUssT0FBTyxLQUFLLE1BQU0sSUFBSTtBQUFBLE1BQzdCO0FBQUEsSUFDRjtBQUtBLElBQUFELFFBQU8sVUFBVTtBQUFBLE1BQ2Y7QUFBQSxNQUNBO0FBQUEsTUFDQTtBQUFBLElBQ0Y7QUFBQTtBQUFBOzs7QUMzR0E7QUFBQSxxREFBQUcsVUFBQUMsU0FBQTtBQUdBLGFBQVMsZ0JBQWdCLE9BQU87QUFDNUIsYUFBTyxNQUFNLFFBQVEsTUFBTSxPQUFPLEVBQUUsUUFBUSxNQUFNLFFBQVEsRUFBRSxRQUFRLE1BQU0sTUFBTSxFQUFFLFFBQVEsTUFBTSxNQUFNLEVBQUUsUUFBUSxNQUFNLFFBQVE7QUFBQSxJQUNsSTtBQUtBLElBQUFBLFFBQU8sVUFBVTtBQUFBLE1BQ2I7QUFBQSxJQUNKO0FBQUE7QUFBQTs7O0FDWkE7QUFBQSw2Q0FBQUMsVUFBQUMsU0FBQTtBQUFBLFFBQUksa0JBQWtCLDJCQUE4QjtBQU1wRCxhQUFTLFFBQVEsTUFBTSxVQUFVO0FBQzdCLFVBQUksYUFBYSxRQUFRO0FBQUUsbUJBQVcsQ0FBQztBQUFBLE1BQUc7QUFDMUMsV0FBSyxPQUFPO0FBQ1osV0FBSyxXQUFXO0FBQ2hCLFdBQUssYUFBYSxDQUFDO0FBQUEsSUFDdkI7QUFDQSxZQUFRLFVBQVUsZUFBZSxTQUFVLE1BQU0sT0FBTztBQUNwRCxXQUFLLFdBQVcsUUFBUTtBQUN4QixhQUFPO0FBQUEsSUFDWDtBQUNBLFlBQVEsVUFBVSxlQUFlLFNBQVUsT0FBTztBQUM5QyxXQUFLLFNBQVMsS0FBSyxLQUFLO0FBQ3hCLGFBQU87QUFBQSxJQUNYO0FBQ0EsWUFBUSxVQUFVLGtCQUFrQixTQUFVLE1BQU07QUFDaEQsYUFBTyxLQUFLLFdBQVc7QUFDdkIsYUFBTztBQUFBLElBQ1g7QUFDQSxZQUFRLFVBQVUsV0FBVyxXQUFZO0FBQ3JDLFVBQUksY0FBYyxRQUFRLEtBQUssU0FBUyxNQUFNO0FBQzlDLFVBQUksVUFBVSxNQUFNLEtBQUs7QUFFekIsVUFBSSxhQUFhLEtBQUs7QUFDdEIsZUFBUyxJQUFJLEdBQUcsaUJBQWlCLE9BQU8sS0FBSyxVQUFVLEdBQUcsSUFBSSxlQUFlLFFBQVEsS0FBSztBQUN0RixZQUFJLGdCQUFnQixlQUFlO0FBQ25DLFlBQUksWUFBWSxXQUFXO0FBQzNCLFlBQUksT0FBTyxjQUFjLGVBQWUsY0FBYyxNQUFNO0FBQ3hELHFCQUFXLE1BQU0sZ0JBQWdCLE9BQVEsZ0JBQWdCLEtBQUssU0FBUyxJQUFJO0FBQUEsUUFDL0U7QUFBQSxNQUNKO0FBQ0EsYUFBTyxXQUFXLENBQUMsY0FBYyxPQUFPLE1BQU0sS0FBSyxTQUFTLElBQUksU0FBVSxHQUFHO0FBQUUsZUFBTyxFQUFFLFNBQVM7QUFBQSxNQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsSUFBSSxPQUFPLEtBQUssT0FBTztBQUFBLElBQ3pJO0FBS0EsSUFBQUEsUUFBTyxVQUFVO0FBQUEsTUFDYjtBQUFBLElBQ0o7QUFBQTtBQUFBOzs7QUM1Q0E7QUFBQSxtREFBQUMsVUFBQUMsU0FBQTtBQUdBLGFBQVMsY0FBYyxPQUFPO0FBQzFCLGFBQU8sTUFBTSxRQUFRLE1BQU0sT0FBTyxFQUNyQixRQUFRLE1BQU0sTUFBTSxFQUNwQixRQUFRLE1BQU0sTUFBTSxFQUNwQixRQUFRLE9BQU8sUUFBUSxFQUN2QixRQUFRLE9BQU8sUUFBUSxFQUN2QixRQUFRLFdBQVcsUUFBUSxFQUMzQixRQUFRLFVBQVUsVUFBVTtBQUFBLElBQzdDO0FBS0EsSUFBQUEsUUFBTyxVQUFVO0FBQUEsTUFDYjtBQUFBLElBQ0o7QUFBQTtBQUFBOzs7QUNsQkE7QUFBQSw2Q0FBQUMsVUFBQUMsU0FBQTtBQUFBLFFBQUksZ0JBQWdCLHlCQUE0QjtBQU1oRCxhQUFTLFFBQVEsT0FBTztBQUNwQixXQUFLLFFBQVE7QUFBQSxJQUNqQjtBQUVBLFlBQVEsVUFBVSxXQUFXLFdBQVk7QUFDckMsYUFBTyxjQUFjLEtBQUssS0FBSyxLQUFLO0FBQUEsSUFDeEM7QUFLQSxJQUFBQSxRQUFPLFVBQVU7QUFBQSxNQUNiO0FBQUEsSUFDSjtBQUFBO0FBQUE7OztBQ25CQSxJQUFBQyxtQkFBQTtBQUFBLDRDQUFBQyxVQUFBQyxTQUFBO0FBQUEsUUFBSSxPQUFPO0FBQ1gsUUFBSSxVQUFVLG1CQUFzQjtBQUNwQyxRQUFJLFVBQVUsbUJBQXNCO0FBRXBDLGFBQVMsYUFBYTtBQUFBLElBQUU7QUFFeEIsZUFBVyxVQUFVLFFBQVEsU0FBUyxRQUFRLE9BQU8sYUFBYSxTQUFTO0FBQ3pFLFVBQUksTUFBTSxJQUFJLFFBQVEsV0FBVztBQUNqQyxzQkFBZ0IsS0FBSyxPQUFPLElBQUk7QUFDaEMsZ0JBQVUsS0FBSyxRQUFRLEtBQUs7QUFDNUIsYUFBTyxJQUFJLFNBQVMsU0FBUyxLQUFLLFVBQVUsSUFBSSxTQUFTLElBQUk7QUFBQSxJQUMvRDtBQUVBLGFBQVMsVUFBVSxLQUFLLE9BQU8sT0FBTztBQUNwQyxjQUFRLE1BQU07QUFBQSxhQUNQO0FBQWEsaUJBQU8sbUJBQW1CLEtBQUssT0FBTyxLQUFLO0FBQUEsYUFDeEQ7QUFBTyxpQkFBTyxhQUFhLEtBQUssT0FBTyxLQUFLO0FBQUEsYUFDNUM7QUFBUSxpQkFBTyxjQUFjLEtBQUssT0FBTyxLQUFLO0FBQUE7QUFDMUMsaUJBQU8sZ0JBQWdCLEtBQUssT0FBTyxLQUFLO0FBQUE7QUFBQSxJQUVyRDtBQUVBLGFBQVMsbUJBQW1CLEtBQUssUUFBUSxPQUFPO0FBQzlDLFdBQUssVUFBVSxNQUFNLGFBQWEsU0FBUyxZQUFZO0FBQ3JELFlBQUksY0FBYyxNQUFNLFFBQVE7QUFDaEMsWUFBSSxZQUFZLGFBQWE7QUFBUTtBQUVyQyxZQUFJLFFBQVEsT0FBTztBQUNuQixZQUFJLE9BQU8sWUFBWTtBQUN2QixZQUFJLFVBQVUsVUFBYSxVQUFVLE1BQU07QUFDekMsY0FBSSxZQUFZLGdCQUFnQjtBQUM5QixnQkFBSSxhQUFhLE1BQU0sS0FBSztBQUFBLFVBQzlCLFdBQVcsWUFBWSxXQUFXO0FBQ2hDLHNCQUFVLEtBQUssT0FBTyxXQUFXO0FBQUEsVUFDbkMsT0FBTztBQUNMLGdCQUFJLFVBQVUsSUFBSSxRQUFRLElBQUk7QUFDOUIsZ0JBQUksYUFBYSxPQUFPO0FBQ3hCLDRCQUFnQixTQUFTLFdBQVc7QUFDcEMsc0JBQVUsU0FBUyxPQUFPLFdBQVc7QUFBQSxVQUN2QztBQUFBLFFBQ0Y7QUFBQSxNQUNGLENBQUM7QUFBQSxJQUNIO0FBRUEsYUFBUyxhQUFhLEtBQUssS0FBSyxPQUFPO0FBQ3JDLFVBQUksU0FBUyxNQUFNLElBQUksUUFBUTtBQUMvQixVQUFJLFdBQVcsTUFBTSxNQUFNLFFBQVE7QUFFbkMsV0FBSyxLQUFLLEtBQUssU0FBUyxLQUFLLE9BQU87QUFDbEMsWUFBSSxRQUFRLElBQUksUUFBUSxNQUFNLFlBQVksTUFBTSxPQUFPLE9BQU87QUFDOUQsWUFBSSxhQUFhLEtBQUs7QUFFdEIsWUFBSSxXQUFXLElBQUksUUFBUSxNQUFNO0FBQ2pDLFlBQUksYUFBYSxJQUFJLFFBQVEsUUFBUTtBQUNyQyxjQUFNLGFBQWEsUUFBUTtBQUMzQixjQUFNLGFBQWEsVUFBVTtBQUU3QixrQkFBVSxVQUFVLEtBQUssTUFBTSxHQUFHO0FBQ2xDLGtCQUFVLFlBQVksT0FBTyxNQUFNLEtBQUs7QUFBQSxNQUMxQyxDQUFDO0FBQUEsSUFDSDtBQUVBLGFBQVMsY0FBYyxLQUFLLE1BQU0sT0FBTztBQUN2QyxVQUFJLE1BQU0sV0FBVztBQUNuQixhQUFLLFVBQVUsTUFBTSxTQUFTLE9BQU87QUFDbkMsY0FBSSxPQUFPLE1BQU0sT0FBTyxRQUFRLE1BQU07QUFDdEMsY0FBSSxVQUFVLElBQUksUUFBUSxJQUFJO0FBQzlCLGNBQUksYUFBYSxPQUFPO0FBQ3hCLG9CQUFVLFNBQVMsT0FBTyxNQUFNLE1BQU07QUFBQSxRQUN4QyxDQUFDO0FBQUEsTUFDSCxPQUFPO0FBQ0wsYUFBSyxVQUFVLE1BQU0sU0FBUyxPQUFPO0FBQ25DLGNBQUksT0FBTyxNQUFNLE9BQU8sUUFBUTtBQUNoQyxjQUFJLFVBQVUsSUFBSSxRQUFRLElBQUk7QUFDOUIsY0FBSSxhQUFhLE9BQU87QUFDeEIsb0JBQVUsU0FBUyxPQUFPLE1BQU0sTUFBTTtBQUFBLFFBQ3hDLENBQUM7QUFBQSxNQUNIO0FBQUEsSUFDRjtBQUVBLGFBQVMsZ0JBQWdCLEtBQUssT0FBTyxPQUFPO0FBQzFDLFVBQUk7QUFBQSxRQUNGLElBQUksUUFBUSxNQUFNLGFBQWEsS0FBSyxDQUFDO0FBQUEsTUFDdkM7QUFBQSxJQUNGO0FBRUEsYUFBUyxnQkFBZ0IsS0FBSyxPQUFPLFFBQVE7QUFDM0MsVUFBSSxLQUFLLFNBQVM7QUFDbEIsVUFBSSxNQUFNLGlCQUFpQjtBQUN6QixjQUFNLE1BQU07QUFDWixZQUFJLE1BQU07QUFBb0Isb0JBQVUsTUFBTSxNQUFNO0FBQUEsTUFDdEQsV0FBVyxVQUFVLE1BQU0sSUFBSSxpQkFBaUI7QUFDOUMsY0FBTSxNQUFNLElBQUk7QUFBQSxNQUNsQjtBQUVBLFVBQUk7QUFBSyxZQUFJLGFBQWEsUUFBUSxHQUFHO0FBQUEsSUFDdkM7QUFLQSxJQUFBQSxRQUFPLFVBQVU7QUFBQTtBQUFBOzs7QUNyR2pCO0FBQUEsZ0RBQUFDLFVBQUFDLFNBQUE7QUFBQSxRQUFJLFFBQVE7QUFFWixRQUFJLE9BQU87QUFDWCxRQUFJLFdBQVcsS0FBSztBQUNwQixRQUFJLG1CQUFtQixLQUFLO0FBRTVCLGFBQVMsVUFBVSxNQUFNLFdBQVcsU0FBUztBQUMzQyxVQUFJLE9BQU87QUFDWCxnQkFBVSxXQUFXLENBQUM7QUFFdEIsZUFBUyxNQUFNLFFBQVEsVUFBVSxRQUFRLElBQUk7QUFDN0MsZUFBUyxNQUFNLE9BQU8sUUFBUSxLQUFLLEtBQUs7QUFFeEMsZ0JBQVUsT0FBTyxVQUFVLFFBQVEsQ0FBQztBQUNwQyxlQUFTLE1BQU0sWUFBWSxVQUFVLFFBQVE7QUFDN0MsZUFBUyxNQUFNLGNBQWMsVUFBVSxLQUFLLFVBQVUsTUFBTTtBQUM1RCxlQUFTLE1BQU0sWUFBWSxVQUFVLEtBQUssY0FBYyxHQUFHO0FBQzNELGVBQVMsTUFBTSxZQUFZLFVBQVUsWUFBWSxFQUFFO0FBQ25EO0FBQUEsUUFDRTtBQUFBLFFBQ0E7QUFBQSxRQUNBLFVBQVUsb0JBQ1AsVUFBVSxrQkFBa0IsV0FBVyxhQUFhLGFBQ3ZEO0FBQUEsTUFDRjtBQUlBLFVBQUksdUJBQXVCLFVBQVUsd0JBQy9CLFVBQVUsZ0JBQWdCLFVBQVUsYUFBYTtBQUN2RCxlQUFTLE1BQU0sd0JBQXdCLHNCQUFzQixLQUFLO0FBRWxFLHVCQUFpQixNQUFNLFNBQVMsV0FBVztBQUN6QyxZQUFJLENBQUMsVUFBVSxPQUFPO0FBQ3BCLGlCQUFPLElBQUksTUFBTSxPQUFPLEVBQUMsTUFBTSxZQUFXLEdBQUcsT0FBTztBQUFBLFFBQ3REO0FBQ0EsZUFBTyxNQUFNLE9BQU8sVUFBVSxPQUFPLE9BQU87QUFBQSxNQUM5QyxDQUFDO0FBRUQsdUJBQWlCLE1BQU0sVUFBVSxXQUFXO0FBQzFDLFlBQUksQ0FBQyxVQUFVLFFBQVE7QUFDckIsaUJBQU8sSUFBSSxNQUFNLE9BQU8sRUFBQyxNQUFNLFlBQVcsR0FBRyxPQUFPO0FBQUEsUUFDdEQ7QUFDQSxlQUFPLE1BQU0sT0FBTyxVQUFVLFFBQVEsT0FBTztBQUFBLE1BQy9DLENBQUM7QUFFRCx1QkFBaUIsTUFBTSxVQUFVLFdBQVc7QUFDMUMsWUFBSSxPQUFPLENBQUM7QUFDWixZQUFJLENBQUMsVUFBVTtBQUFRLGlCQUFPO0FBRTlCLGlCQUFTLElBQUksR0FBRyxJQUFJLFVBQVUsT0FBTyxRQUFRLEtBQUs7QUFDaEQsZUFBSyxLQUFLLE1BQU0sT0FBTyxVQUFVLE9BQU8sSUFBSSxPQUFPLENBQUM7QUFBQSxRQUN0RDtBQUVBLGVBQU87QUFBQSxNQUNULENBQUM7QUFFRCx1QkFBaUIsTUFBTSxhQUFhLFdBQVc7QUFDN0MsZUFBTyxRQUFRLElBQUksV0FBVztBQUFBLE1BQ2hDLENBQUM7QUFFRCxVQUFJLFFBQVEsZUFBZTtBQUN6QixpQkFBUyxNQUFNLGlCQUFpQixVQUFVLGFBQWE7QUFDdkQsaUJBQVMsTUFBTSxvQkFBb0IsVUFBVSxnQkFBZ0I7QUFBQSxNQUMvRDtBQUdBLHVCQUFpQixNQUFNLHFCQUFxQixXQUFXO0FBQ3JELFlBQUksb0JBQW9CLENBQUM7QUFDekIsWUFBSSxRQUFRLEtBQUs7QUFDakIsWUFBSSxVQUFVLE1BQU07QUFDcEIsWUFBSSxDQUFDLE1BQU0sU0FBUztBQUNsQixpQkFBTztBQUFBLFFBQ1Q7QUFDQSxpQkFBU0MsU0FBUSxTQUFTO0FBQ3hCLGNBQUksQ0FBQyxRQUFRLGVBQWVBLEtBQUksR0FBRztBQUNqQztBQUFBLFVBQ0Y7QUFDQSxjQUFJLFFBQVFBLE9BQU0saUJBQWlCLE1BQU07QUFDdkMsOEJBQWtCLEtBQUtBLEtBQUk7QUFBQSxVQUM3QjtBQUFBLFFBQ0Y7QUFDQSxlQUFPO0FBQUEsTUFDVCxDQUFDO0FBRUQsdUJBQWlCLE1BQU0sa0JBQWtCLFdBQVc7QUFDbEQsWUFBSSxTQUFTLEtBQUs7QUFDbEIsZUFBTyxlQUFlLE1BQU07QUFBQSxNQUM5QixDQUFDO0FBQUEsSUFDSDtBQUVBLGFBQVMsZUFBZSxlQUFlO0FBQ3JDLFVBQUksVUFBVSxjQUFjO0FBQzVCLFVBQUlDLFdBQVUsY0FBYztBQUU1QixVQUFJLENBQUMsY0FBYyxTQUFTO0FBQzFCLGVBQU87QUFBQSxNQUNUO0FBRUEsVUFBSUEsVUFBUztBQUNYLFlBQUksZ0JBQWdCLFFBQVFBO0FBQzVCLGVBQU8sY0FBYztBQUFBLE1BQ3ZCO0FBR0EsZUFBUyxRQUFRLFNBQVM7QUFDeEIsWUFBSSxDQUFDLFFBQVEsZUFBZSxJQUFJLEdBQUc7QUFDakMsY0FBSSxRQUFRLE1BQU0sa0JBQWtCLE1BQU07QUFDeEMsbUJBQU87QUFBQSxVQUNUO0FBQUEsUUFDRjtBQUFBLE1BQ0Y7QUFDQSxhQUFPO0FBQUEsSUFDVDtBQUtBLElBQUFGLFFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ3RIakI7QUFBQSxnREFBQUcsVUFBQUMsU0FBQTtBQUFBLFFBQUksV0FBVyxlQUFtQjtBQUVsQyxhQUFTLFVBQVUsTUFBTSxXQUFXO0FBQ2xDLGVBQVMsTUFBTSxjQUFjLFVBQVUsV0FBVztBQUNsRCxlQUFTLE1BQU0sWUFBWSxVQUFVLFNBQVM7QUFDOUMsZUFBUyxNQUFNLGVBQWUsVUFBVSxZQUFZO0FBQ3BELGVBQVMsTUFBTSxlQUFlLFVBQVUsWUFBWTtBQUNwRCxlQUFTLE1BQU0sYUFBYSxVQUFVLFVBQVU7QUFBQSxJQUNsRDtBQUtBLElBQUFBLFFBQU8sVUFBVTtBQUFBO0FBQUE7OztBQ2JqQjtBQUFBLHNEQUFBQyxVQUFBQyxTQUFBO0FBQUEsUUFBSSxPQUFPO0FBQ1gsUUFBSSxXQUFXLEtBQUs7QUFFcEIsYUFBUyxlQUFlLE1BQU0sUUFBUSxTQUFTO0FBQzdDLGdCQUFVLFdBQVcsQ0FBQztBQUN0QixlQUFTLE1BQU0sUUFBUSxJQUFJO0FBQzNCLGVBQVMsTUFBTSxPQUFPLFFBQVEsS0FBSyxLQUFLO0FBRXhDLFVBQUksT0FBTyxXQUFXO0FBQ3BCLGlCQUFTLE1BQU0sYUFBYSxLQUFLLE9BQU8sV0FBVyxPQUFPLFNBQVMsQ0FBQztBQUFBLE1BQ3RFO0FBRUEsVUFBSSxPQUFPO0FBQ1gsVUFBSSxPQUFPO0FBQUEsUUFDVDtBQUFBLFFBQ0E7QUFBQSxRQUNBO0FBQUEsUUFDQTtBQUFBLFFBQ0E7QUFBQSxNQUNGO0FBRUEsV0FBSyxRQUFRLFNBQVMsS0FBSztBQUN6QixZQUFJLFFBQVEsT0FBTztBQUNuQixZQUFJLE9BQU87QUFDVCxtQkFBUyxNQUFNLEtBQUssS0FBSztBQUFBLFFBQzNCO0FBQUEsTUFDRixDQUFDO0FBQUEsSUFDSDtBQUtBLElBQUFBLFFBQU8sVUFBVTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztB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LFlBQVk7QUFBQSxVQUNYO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsVUFBWTtBQUFBLFVBQVk7QUFBQSxVQUFZO0FBQUEsVUFBWTtBQUFBLFVBQ2hEO0FBQUEsUUFBVTtBQUFBLFFBRVgsT0FBTyxTQUFTLE1BQU0sTUFBTTtBQUMxQixjQUFJLE1BQU0sS0FBSyxPQUFPO0FBQ3RCLGNBQUksTUFBTSxJ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QjtBQUFBLFFBQ3ZCLFdBQVc7QUFBQSxRQUNYLHFCQUFxQjtBQUFBLFFBQ3JCLFFBQVE7QUFBQSxRQUNSLGVBQWU7QUFBQSxNQUNqQjtBQUVBLFVBQUksZUFBZTtBQUFBLFFBQ2pCLE9BQU87QUFBQSxRQUNQLE1BQU07QUFBQSxRQUNOLE1BQU07QUFBQSxRQUNOLFFBQVE7QUFBQSxRQUNSLFFBQVE7QUFBQSxNQUNWO0FBRUEsVUFBSSxXQUFXO0FBQUEsUUFDYixPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixXQUFXO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxXQUFXO0FBQUEsUUFDWCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixNQUFNO0FBQUEsUUFDTixXQUFXO0FBQUEsUUFDWCxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxXQUFXO0FBQUEsUUFDWCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxZQUFZO0FBQUEsUUFDWixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxXQUFXO0FBQUEsUUFDWCxRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixRQUFRO0FBQUEsUUFDUixVQUFVO0FBQUEsUUFDVixRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxNQUFNO0FBQUEsUUFDTixRQUFRO0FBQUEsUUFDUixPQUFPO0FBQUEsUUFDUCxTQUFTO0FBQUEsUUFDVCxVQUFVO0FBQUEsUUFDVixTQUFTO0FBQUEsUUFDVCxRQUFRO0FBQUEsUUFDUixTQUFTO0FBQUEsUUFDVCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxNQUFNO0FBQUEsUUFDTixPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxPQUFPO0FBQUEsUUFDUCxVQUFVO0FBQUEsUUFDVixPQUFPO0FB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Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUN6REQsSUFBQUMsb0JBQUE7QUFBQSw2Q0FBQUMsVUFBQUMsU0FBQTtBQUFBO0FBQ0EsUUFBSUMsT0FBTTtBQUNWLFFBQUksVUFBVUEsS0FBSTtBQUNsQixRQUFJLFlBQVlBLEtBQUk7QUFFcEIsY0FBVSxTQUFTLGNBQWMsQ0FBQztBQUNsQyxJQUFBQSxLQUFJLFdBQVcsUUFBUSxjQUFjLFlBQVksQ0FBQyxjQUFjLFlBQVksQ0FBQztBQUM3RTtBQUNBLFdBQU8sZUFBZSxVQUFVLFNBQVMsYUFBYSxjQUFjO0FBQUEsTUFDbEUsS0FBSyxTQUFTLE1BQU07QUFDbEIsWUFBSSxRQUFRO0FBQ1osY0FBTSxhQUFhLHlDQUF1RDtBQUMxRSxjQUFNLFVBQVUsdUNBQXFEO0FBQ3JFLGVBQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxZQUFZO0FBQUEsTUFDWixjQUFjO0FBQUEsSUFDaEIsQ0FBQztBQUNELFdBQU8sZUFBZSxVQUFVLFNBQVMsYUFBYSxjQUFjO0FBQUEsTUFDbEUsS0FBSyxTQUFTLE1BQU07QUFDbEIsWUFBSSxRQUFRO0FBQ1osY0FBTSxhQUFhLHlDQUF1RDtBQUMxRSxjQUFNLFVBQVUsdUNBQXFEO0FBQ3JFLGVBQU87QUFBQSxNQUNUO0FBQUEsTUFDQSxZQUFZO0FBQUEsTUFDWixjQUFjO0FBQUEsSUFDaEIsQ0FBQztBQUVELElBQUFELFFBQU8sVUFBVUMsS0FBSTtBQUFBO0FBQUE7OztBQzNCckIsc0JBQTZCO0FBRTdCLElBQU0sS0FBSyxJQUFJO0FBQUEsRUFDWDtBQUFBLElBQ0ksVUFBVTtBQUFBLEVBQ2Q7QUFDSjtBQUVBLElBQU0sVUFBa0MsT0FBTyxPQUFPLFNBQVMsYUFBYTtBQUV6RSxNQUFHLENBQUMsTUFBTSxNQUFNO0FBQ2YsV0FBTyxFQUFDLFlBQVksS0FBSyxNQUFNLEtBQUssVUFBVSxFQUFDLE9BQU8sVUFBUyxDQUFDLEVBQUM7QUFBQSxFQUNyRTtBQUNBLFFBQU0sUUFBUSxLQUFLLE1BQU0sTUFBTSxJQUFJO0FBR25DLFFBQU0sU0FBUztBQUFBLElBQ2QsV0FBWTtBQUFBLElBQ1osS0FBSztBQUFBLE1BQ0YsU0FBUztBQUFBLElBQ1o7QUFBQSxFQUNEO0FBSUEsTUFBRztBQUNDLFVBQU0sR0FBRyxJQUFJLE1BQU0sRUFBRSxRQUFRO0FBQUEsRUFDakMsU0FBUSxHQUFQO0FBQ0csV0FBTyxFQUFDLFlBQVksS0FBSyxNQUFNLEtBQUssVUFBVSxFQUFDLE9BQU8sa0JBQWtCLFNBQVMsS0FBSyxVQUFVLENBQUMsRUFBQyxDQUFDLEVBQUM7QUFBQSxFQUN4RztBQUVBLFNBQU8sRUFBQyxZQUFZLEtBQUssTUFBTSxLQUFLLFVBQVUsRUFBQyxTQUFTLE1BQU0sTUFBTSxRQUFPLENBQUMsRUFBQztBQUU3RTtBQUVBLE9BQU8sUUFBUSxVQUFVOyIsCiAgIm5hbWVzIjogWyJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgInBheWxvYWQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAicmVxdWlyZV9idWlsZGVyIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIm5hbWUiLCAicGF5bG9hZCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIkxpbmtlZExpc3ROb2RlIiwgIkxSVUNhY2hlIiwgImV4cG9ydHMiLCAiRW5kcG9pbnRDYWNoZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgIkFXUyIsICJjYWxsYmFjayIsICJBV1MiLCAicmVzb2x2ZU5leHQiLCAiY2FsbGJhY2siLCAiQVdTIiwgIkFXUyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiQVdTIiwgImVyciIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIkFXUyIsICJjaGVja0NvbnRlbnRMZW5ndGhBbmRFbWl0IiwgIkFXUyIsICJyZXF1aXJlX3Jlc291cmNlX3dhaXRlciIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgIkFXUyIsICJBV1MiLCAiQVdTIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAiaSIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAiZXhwb3J0cyIsICJyZXF1aXJlX3YzIiwgImV4cG9ydHMiLCAicmVxdWlyZV92NCIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJlbmdpbmUiLCAiZXNjYXBlIiwgImkiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJJbmlMb2FkZXIiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgIkFXUyIsICJyZXF1aXJlX3N0cyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiQVdTIiwgIkFXUyIsICJlcnIiLCAiQVdTIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJBV1MiLCAiQVdTIiwgIkFXUyIsICJlcnIiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxBdHRyaWJ1dGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiWE1MRWxlbWVudCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxDRGF0YSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxDb21tZW50IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlhNTERlY2xhcmF0aW9uIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlhNTERUREF0dExpc3QiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiWE1MRFRERW50aXR5IiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlhNTERUREVsZW1lbnQiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiWE1MRFRETm90YXRpb24iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiWE1MRG9jVHlwZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxSYXciLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiWE1MVGV4dCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxQcm9jZXNzaW5nSW5zdHJ1Y3Rpb24iLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiWE1MTm9kZSIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxTdHJpbmdpZmllciIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxXcml0ZXJCYXNlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlhNTFN0cmluZ1dyaXRlciIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxEb2N1bWVudCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJYTUxEb2N1bWVudENCIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIlhNTFN0cmVhbVdyaXRlciIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJyZXF1aXJlX2J1aWxkZXIiLCAiZXhwb3J0cyIsICJleHBvcnRzIiwgImhhbmRsZXIiLCAicyIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAicmVxdWlyZV9wYXJzZXIiLCAiZXhwb3J0cyIsICJzZXRJbW1lZGlhdGUiLCAicHJvY2Vzc29ycyIsICJwcm9jZXNzIiwgImVyciIsICJleHBvcnRzIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJBV1MiLCAiQVdTIiwgInByb2ZpbGVOYW1lIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiQVdTIiwgIkFXUyIsICJBV1MiLCAiQVdTIiwgIkFXUyIsICJBV1MiLCAiQVdTIiwgIkFXUyIsICJjYWxsYmFjayIsICJBV1MiLCAicmVzb2x2ZU5leHQiLCAiY2FsbGJhY2siLCAiQVdTIiwgInZhbGlkYXRlVG9rZW5LZXkiLCAicmVmcmVzaFVuc3VjY2Vzc2Z1bCIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiZXhwb3J0cyIsICJtb2R1bGUiLCAiQVdTIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgImV4cG9ydHMiLCAibW9kdWxlIiwgIkFXUyIsICJEb2N1bWVudENsaWVudCIsICJyZXNwb25zZSIsICJBV1MiLCAicmVxdWlyZV9keW5hbW9kYiIsICJleHBvcnRzIiwgIm1vZHVsZSIsICJBV1MiXQp9Cg==
